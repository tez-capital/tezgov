import{s as Se,r as Ae,O as Ke,P as en,e as _,a as L,c as $,b as k,g as M,f as c,p as m,q as Ft,Q as Ce,i as y,h as d,R as tn,S as nn,T as rn,t as j,d as B,j as re,l as Oe,U as xn,V as un,N as ge,K as pe,L as _e,n as x,W as cn,X as fn,k as er}from"../chunks/scheduler.ByQKukMK.js";import{S as je,i as Be,f as Je,b as A,d as O,m as R,a as D,t as I,e as F,g as Pe,c as Ve}from"../chunks/index.Bt0gTvVl.js";import{ae as Wt,af as an,ag as Qn,ah as pt,ai as de,aj as Ct,ak as tr,al as nr,am as sn,an as rr,ao as dn,ap as mn,aq as _t,ar as Ge,as as $t,at as Ht,au as lr,av as Ln,aw as It,ax as Et,ay as ye,az as ar,aA as wt,aB as sr,aC as at}from"../chunks/Input.C8xbAt6l.js";function ir(r){var e=r==null?0:r.length;return e?r[e-1]:void 0}const or=r=>r&1,ur=r=>({}),Mn=r=>({...r[0]}),cr=r=>r&1,fr=r=>({}),Sn=r=>({...r[0]}),dr=r=>r&1,mr=r=>({}),jn=r=>({...r[0]});function gr(r){let e,t=r[0].title+"",n;return{c(){e=_("h3"),n=j(t),this.h()},l(l){e=$(l,"H3",{class:!0});var s=k(e);n=B(s,t),s.forEach(c),this.h()},h(){m(e,"class","title svelte-1igllg9")},m(l,s){y(l,e,s),d(e,n)},p(l,s){s&1&&t!==(t=l[0].title+"")&&re(n,t)},d(l){l&&c(e)}}}function Bn(r){let e,t=r[0].message+"",n;return{c(){e=_("p"),n=j(t),this.h()},l(l){e=$(l,"P",{class:!0});var s=k(e);n=B(s,t),s.forEach(c),this.h()},h(){m(e,"class","message svelte-1igllg9")},m(l,s){y(l,e,s),d(e,n)},p(l,s){s&1&&t!==(t=l[0].message+"")&&re(n,t)},d(l){l&&c(e)}}}function vr(r){let e,t=r[0].message&&Bn(r);return{c(){t&&t.c(),e=Oe()},l(n){t&&t.l(n),e=Oe()},m(n,l){t&&t.m(n,l),y(n,e,l)},p(n,l){n[0].message?t?t.p(n,l):(t=Bn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&c(e),t&&t.d(n)}}}function hr(r){let e,t,n;const l=[r[0],{noLabel:!0}];function s(o){r[6](o)}let a={};for(let o=0;o<l.length;o+=1)a=xn(a,l[o]);return r[0].value!==void 0&&(a.value=r[0].value),e=new Ct({props:a}),Ae.push(()=>Je(e,"value",s)),{c(){A(e.$$.fragment)},l(o){O(e.$$.fragment,o)},m(o,i){R(e,o,i),n=!0},p(o,i){const u=i&1?tr(l,[nr(o[0]),l[1]]):{};!t&&i&1&&(t=!0,u.value=o[0].value,Ke(()=>t=!1)),e.$set(u)},i(o){n||(D(e.$$.fragment,o),n=!0)},o(o){I(e.$$.fragment,o),n=!1},d(o){F(e,o)}}}function pr(r){let e,t,n,l,s,a,o,i,u,f,v;const w=r[5].title,C=en(w,r,r[10],jn),E=C||gr(r),S=r[5].message,p=en(S,r,r[10],Sn),g=p||vr(r),h=r[5].value,b=en(h,r,r[10],Mn),P=b||hr(r);return o=new de({props:{label:r[0].cancelText}}),o.$on("click",r[7]),f=new de({props:{label:r[0].confirmText}}),f.$on("click",r[8]),{c(){e=_("div"),E&&E.c(),t=L(),g&&g.c(),n=L(),P&&P.c(),l=L(),s=_("div"),a=_("div"),A(o.$$.fragment),i=L(),u=_("div"),A(f.$$.fragment),this.h()},l(q){e=$(q,"DIV",{class:!0});var T=k(e);E&&E.l(T),t=M(T),g&&g.l(T),n=M(T),P&&P.l(T),l=M(T),s=$(T,"DIV",{class:!0});var V=k(s);a=$(V,"DIV",{class:!0});var N=k(a);O(o.$$.fragment,N),N.forEach(c),i=M(V),u=$(V,"DIV",{class:!0});var U=k(u);O(f.$$.fragment,U),U.forEach(c),V.forEach(c),T.forEach(c),this.h()},h(){m(a,"class","control-button svelte-1igllg9"),Ft(a,"grid-column","1"),m(u,"class","control-button svelte-1igllg9"),Ce(u,"disabled",r[3]),Ft(u,"grid-column","3"),m(s,"class","controls padding-top svelte-1igllg9"),m(e,"class","prompt-wrap svelte-1igllg9")},m(q,T){y(q,e,T),E&&E.m(e,null),d(e,t),g&&g.m(e,null),d(e,n),P&&P.m(e,null),d(e,l),d(e,s),d(s,a),R(o,a,null),d(s,i),d(s,u),R(f,u,null),v=!0},p(q,T){C?C.p&&(!v||T&1025)&&tn(C,w,q,q[10],dr(T)||!v?nn(q[10]):rn(w,q[10],T,mr),jn):E&&E.p&&(!v||T&1)&&E.p(q,v?T:-1),p?p.p&&(!v||T&1025)&&tn(p,S,q,q[10],cr(T)||!v?nn(q[10]):rn(S,q[10],T,fr),Sn):g&&g.p&&(!v||T&1)&&g.p(q,v?T:-1),b?b.p&&(!v||T&1025)&&tn(b,h,q,q[10],or(T)||!v?nn(q[10]):rn(h,q[10],T,ur),Mn):P&&P.p&&(!v||T&1)&&P.p(q,v?T:-1);const V={};T&1&&(V.label=q[0].cancelText),o.$set(V);const N={};T&1&&(N.label=q[0].confirmText),f.$set(N),(!v||T&8)&&Ce(u,"disabled",q[3])},i(q){v||(D(E,q),D(g,q),D(P,q),D(o.$$.fragment,q),D(f.$$.fragment,q),v=!0)},o(q){I(E,q),I(g,q),I(P,q),I(o.$$.fragment,q),I(f.$$.fragment,q),v=!1},d(q){q&&c(e),E&&E.d(q),g&&g.d(q),P&&P.d(q),F(o),F(f)}}}function _r(r){let e,t;return e=new pt({props:{$$slots:{default:[pr]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p(n,l){const s={};l&1037&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function $r(r){let e,t,n;function l(a){r[9](a)}let s={persistent:!0,$$slots:{default:[_r]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.open=r[1]),e=new Wt({props:s}),Ae.push(()=>Je(e,"open",l)),{c(){A(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,o){R(e,a,o),n=!0},p(a,[o]){const i={};o&1037&&(i.$$scope={dirty:o,ctx:a}),!t&&o&2&&(t=!0,i.open=a[1],Ke(()=>t=!1)),e.$set(i)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){I(e.$$.fragment,a),n=!1},d(a){F(e,a)}}}function br(r,e,t){let n,{$$slots:l={},$$scope:s}=e;const a={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let{state:o=a}=e,{isOpen:i=!1}=e,u={resolve:()=>f(),reject:()=>f()};function f(){t(1,i=!1)}async function v(p){return t(1,i=!0),t(0,o={...a,...p}),new Promise((g,h)=>{t(2,u={resolve:b=>{f(),g(b)},reject:b=>{f(),h(b)}})})}function w(p){r.$$.not_equal(o.value,p)&&(o.value=p,t(0,o))}const C=()=>u.reject(Qn),E=()=>u.resolve(o.value);function S(p){i=p,t(1,i)}return r.$$set=p=>{"state"in p&&t(0,o=p.state),"isOpen"in p&&t(1,i=p.isOpen),"$$scope"in p&&t(10,s=p.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=an(o.value,o.rules)!==!0)},[o,i,u,n,v,l,w,C,E,S,s]}class kr extends je{constructor(e){super(),Be(this,e,br,$r,Se,{state:0,isOpen:1,prompt:4})}get prompt(){return this.$$.ctx[4]}}const on="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",wr=34,yr=51,Dr=r=>{let e=0n;for(const t of r)e*=58n,e+=BigInt(on.indexOf(t));return e},qn=r=>{const e=[];for(;r>0n;)e.push(Number(r%256n)),r=r/256n;return e.reverse()},Cr=r=>{const e=wr,t=Dr(r),n=rr.decode(r).length+1,l=BigInt(8*(e-n+4)),s=yr-r.length;let a=t*58n**BigInt(s);a=a>>l,a+=a===a>>l<<l?0n:1n;let o=(t+1n)*58n**BigInt(s)-(1n<<l)+1n;if(o=o>>l,o>=a){const i=Uint8Array.from(Array.from({...qn(a),length:e}).map(w=>w===void 0?0:w)),u=sn.encode(i);if(!u.startsWith(r)||u.length!==s+r.length)return null;const f=Uint8Array.from(Array.from({...qn(a),length:e}).map(w=>w===void 0?255:w)),v=sn.encode(f);return!v.startsWith(r)||v.length!==s+r.length?null:i}return null},Ir=r=>{let e="Pt1";for(const n of r){if(on.includes(n)){e+=n;continue}if(on.includes(n.toLowerCase())){e+=n.toLowerCase();continue}}const t=Cr(e);return t===null?[!1,"Can not generate protocol hash from provided message"]:[!0,sn.encode(new Uint8Array(t))]};function Er(r){let e,t,n="New Proposal",l,s,a,o,i=`If you want to make a statement, write it in the <b>statement</b> field; this will generate
					a proposal hash for you.`,u,f,v=`To inject a proper protocol upgrade proposal, write the hash in the <b>new proposal</b>
					field and leave <b>statement</b> blank.`,w,C,E="*<b>Please refrain from using this feature for spamming.</b>",S,p,g="**Remember that you can propose or vote for a proposal only <b>10 times per period</b>.",h,b,P,q,T,V,N,U,Y,W,Z,te,le,ce,he;function De(ne){r[6](ne)}let ve={label:"Statement"};r[1]!==void 0&&(ve.value=r[1]),q=new Ct({props:ve}),Ae.push(()=>Je(q,"value",De));function $e(ne){r[7](ne)}let ie={label:"New Proposal",hint:"You can provide proposal hash",rules:r[5]};return r[2]!==void 0&&(ie.value=r[2]),N=new Ct({props:ie}),Ae.push(()=>Je(N,"value",$e)),Z=new de({props:{label:"Cancel"}}),Z.$on("click",r[8]),ce=new de({props:{label:"Inject"}}),ce.$on("click",r[4]),{c(){e=_("div"),t=_("b"),t.textContent=n,l=L(),s=_("div"),a=L(),o=_("div"),o.innerHTML=i,u=L(),f=_("div"),f.innerHTML=v,w=L(),C=_("div"),C.innerHTML=E,S=L(),p=_("div"),p.innerHTML=g,h=L(),b=_("div"),P=L(),A(q.$$.fragment),V=L(),A(N.$$.fragment),Y=L(),W=_("div"),A(Z.$$.fragment),te=L(),le=_("div"),A(ce.$$.fragment),this.h()},l(ne){e=$(ne,"DIV",{class:!0});var G=k(e);t=$(G,"B",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1e5a96z"&&(t.textContent=n),l=M(G),s=$(G,"DIV",{}),k(s).forEach(c),a=M(G),o=$(G,"DIV",{class:!0,"data-svelte-h":!0}),ge(o)!=="svelte-1vty4mc"&&(o.innerHTML=i),u=M(G),f=$(G,"DIV",{class:!0,"data-svelte-h":!0}),ge(f)!=="svelte-acrdcg"&&(f.innerHTML=v),w=M(G),C=$(G,"DIV",{class:!0,"data-svelte-h":!0}),ge(C)!=="svelte-1c5d71w"&&(C.innerHTML=E),S=M(G),p=$(G,"DIV",{class:!0,"data-svelte-h":!0}),ge(p)!=="svelte-1e6wult"&&(p.innerHTML=g),h=M(G),b=$(G,"DIV",{}),k(b).forEach(c),P=M(G),O(q.$$.fragment,G),V=M(G),O(N.$$.fragment,G),Y=M(G),W=$(G,"DIV",{class:!0});var oe=k(W);O(Z.$$.fragment,oe),te=M(oe),le=$(oe,"DIV",{});var me=k(le);O(ce.$$.fragment,me),me.forEach(c),oe.forEach(c),G.forEach(c),this.h()},h(){m(t,"class","title svelte-sbi72s"),m(o,"class","text"),m(f,"class","text"),m(C,"class","text"),m(p,"class","text"),Ce(le,"disabled",!r[3]),m(W,"class","controls svelte-sbi72s"),m(e,"class","content svelte-sbi72s")},m(ne,G){y(ne,e,G),d(e,t),d(e,l),d(e,s),d(e,a),d(e,o),d(e,u),d(e,f),d(e,w),d(e,C),d(e,S),d(e,p),d(e,h),d(e,b),d(e,P),R(q,e,null),d(e,V),R(N,e,null),d(e,Y),d(e,W),R(Z,W,null),d(W,te),d(W,le),R(ce,le,null),he=!0},p(ne,G){const oe={};!T&&G&2&&(T=!0,oe.value=ne[1],Ke(()=>T=!1)),q.$set(oe);const me={};!U&&G&4&&(U=!0,me.value=ne[2],Ke(()=>U=!1)),N.$set(me),(!he||G&8)&&Ce(le,"disabled",!ne[3])},i(ne){he||(D(q.$$.fragment,ne),D(N.$$.fragment,ne),D(Z.$$.fragment,ne),D(ce.$$.fragment,ne),he=!0)},o(ne){I(q.$$.fragment,ne),I(N.$$.fragment,ne),I(Z.$$.fragment,ne),I(ce.$$.fragment,ne),he=!1},d(ne){ne&&c(e),F(q),F(N),F(Z),F(ce)}}}function Pr(r){let e,t,n;return t=new pt({props:{$$slots:{default:[Er]},$$scope:{ctx:r}}}),{c(){e=_("div"),A(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var s=k(e);O(t.$$.fragment,s),s.forEach(c),this.h()},h(){m(e,"class","center svelte-sbi72s")},m(l,s){y(l,e,s),R(t,e,null),n=!0},p(l,s){const a={};s&1039&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){l&&c(e),F(t)}}}function Vr(r){let e,t;return e=new Wt({props:{open:r[0],persistent:!0,$$slots:{default:[Pr]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.open=n[0]),l&1039&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Lr(r,e,t){let n,{open:l=!1}=e,s="",a="";const o=un();async function i(){o("upvote",{proposal:a}),t(0,l=!1)}const u=[C=>!!C||"proposal can not be empty",C=>C.startsWith("P")||"proposal has to start with P"];function f(C){s=C,t(1,s),t(0,l)}function v(C){a=C,t(2,a),t(0,l),t(1,s)}const w=()=>t(0,l=!1);return r.$$set=C=>{"open"in C&&t(0,l=C.open)},r.$$.update=()=>{if(r.$$.dirty&1&&l&&(t(1,s=""),t(2,a="")),r.$$.dirty&2&&s){const[C,E]=Ir(s);C&&t(2,a=E)}r.$$.dirty&4&&t(3,n=u.every(C=>C(a)===!0))},[l,s,a,n,i,u,f,v,w]}class Mr extends je{constructor(e){super(),Be(this,e,Lr,Vr,Se,{open:0})}}function Sr(r){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0});var l=k(e);t=_e(l,"path",{d:!0}),k(t).forEach(c),l.forEach(c),this.h()},h(){m(t,"d","M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 32 32")},m(n,l){y(n,e,l),d(e,t)},p:x,i:x,o:x,d(n){n&&c(e)}}}class Ut extends je{constructor(e){super(),Be(this,e,null,Sr,Se,{})}}function jr(r){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0});var l=k(e);t=_e(l,"path",{d:!0}),k(t).forEach(c),l.forEach(c),this.h()},h(){m(t,"d","M 3 6 L 3 25 L 13 25 C 14.101563 25 15 25.898438 15 27 L 17 27 C 17 25.898438 17.898438 25 19 25 L 29 25 L 29 6 L 19 6 C 17.808594 6 16.734375 6.527344 16 7.359375 C 15.265625 6.527344 14.191406 6 13 6 Z M 5 8 L 13 8 C 14.101563 8 15 8.898438 15 10 L 17 10 C 17 8.898438 17.898438 8 19 8 L 27 8 L 27 23 L 19 23 C 17.808594 23 16.734375 23.527344 16 24.359375 C 15.265625 23.527344 14.191406 23 13 23 L 5 23 Z M 15 12 L 15 14 L 17 14 L 17 12 Z M 15 16 L 15 18 L 17 18 L 17 16 Z M 15 20 L 15 22 L 17 22 L 17 20 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 32 32")},m(n,l){y(n,e,l),d(e,t)},p:x,i:x,o:x,d(n){n&&c(e)}}}class gn extends je{constructor(e){super(),Be(this,e,null,jr,Se,{})}}function Br(r){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0});var l=k(e);t=_e(l,"path",{d:!0}),k(t).forEach(c),l.forEach(c),this.h()},h(){m(t,"d","M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 32 32")},m(n,l){y(n,e,l),d(e,t)},p:x,i:x,o:x,d(n){n&&c(e)}}}class vn extends je{constructor(e){super(),Be(this,e,null,Br,Se,{})}}async function hn(r){await navigator.clipboard.writeText(r)}function Tn(r,e,t){const n=r.slice();return n[16]=e[t],n}function qr(r){let e,t,n,l,s=_t(r[2].proposals),a=[];for(let i=0;i<s.length;i+=1)a[i]=Nn(Tn(r,s,i));const o=i=>I(a[i],1,1,()=>{a[i]=null});return n=new Ge({}),{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=L(),t=_("div"),A(n.$$.fragment),this.h()},l(i){for(let f=0;f<a.length;f+=1)a[f].l(i);e=M(i),t=$(i,"DIV",{class:!0});var u=k(t);O(n.$$.fragment,u),u.forEach(c),this.h()},h(){m(t,"class","separator svelte-1yewxu8")},m(i,u){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,u);y(i,e,u),y(i,t,u),R(n,t,null),l=!0},p(i,u){if(u&119){s=_t(i[2].proposals);let f;for(f=0;f<s.length;f+=1){const v=Tn(i,s,f);a[f]?(a[f].p(v,u),D(a[f],1)):(a[f]=Nn(v),a[f].c(),D(a[f],1),a[f].m(e.parentNode,e))}for(Pe(),f=s.length;f<a.length;f+=1)o(f);Ve()}},i(i){if(!l){for(let u=0;u<s.length;u+=1)D(a[u]);D(n.$$.fragment,i),l=!0}},o(i){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)I(a[u]);I(n.$$.fragment,i),l=!1},d(i){i&&(c(e),c(t)),cn(a,i),F(n)}}}function Tr(r){let e;return{c(){e=j("no proposals")},l(t){e=B(t,"no proposals")},m(t,n){y(t,e,n)},p:x,i:x,o:x,d(t){t&&c(e)}}}function Nr(r){let e,t,n;return{c(){e=j("(needs "),t=j($t),n=j("%)")},l(l){e=B(l,"(needs "),t=B(l,$t),n=B(l,"%)")},m(l,s){y(l,e,s),y(l,t,s),y(l,n,s)},d(l){l&&(c(e),c(t),c(n))}}}function Ar(r){let e,t,n;return{c(){e=j("("),t=j($t),n=j("% reached)")},l(l){e=B(l,"("),t=B(l,$t),n=B(l,"% reached)")},m(l,s){y(l,e,s),y(l,t,s),y(l,n,s)},d(l){l&&(c(e),c(t),c(n))}}}function Or(r){let e,t,n="EXPLORER",l,s,a,o;return a=new vn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),A(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-323t9m"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=k(s);O(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){m(t,"class","label svelte-1yewxu8"),m(s,"class","icon svelte-1yewxu8"),m(e,"class","button-content svelte-1yewxu8")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),R(a,s,null),o=!0},p:x,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function Rr(r){let e,t,n="AGORA",l,s,a,o;return a=new gn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),A(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=k(s);O(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){m(t,"class","label svelte-1yewxu8"),m(s,"class","icon svelte-1yewxu8"),m(e,"class","button-content svelte-1yewxu8")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),R(a,s,null),o=!0},p:x,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function Fr(r){let e,t;function n(){return r[11](r[16])}return e=new de({props:{$$slots:{default:[Hr]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){A(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){r=l;const a={};s&524288&&(a.$$scope={dirty:s,ctx:r}),e.$set(a)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Wr(r){let e,t,n="UPVOTED",l,s,a,o;return a=new Ut({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),A(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-ctwuaa"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=k(s);O(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){m(t,"class","label svelte-1yewxu8"),m(s,"class","icon svelte-1yewxu8"),m(e,"class","button-content upvoted svelte-1yewxu8")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),R(a,s,null),o=!0},p:x,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function Hr(r){let e,t,n="UPVOTE",l,s,a,o;return a=new Ut({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),A(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-y6ircw"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=k(s);O(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){m(t,"class","label svelte-1yewxu8"),m(s,"class","icon svelte-1yewxu8"),m(e,"class","button-content svelte-1yewxu8")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),R(a,s,null),o=!0},p:x,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function Nn(r){let e,t,n,l=r[16].proposal+"",s,a,o,i=r[16].upvotes+"",u,f,v=r[16].percentage+"",w,C,E,S,p,g,h,b,P,q,T,V,N,U,Y,W,Z,te,le,ce,he;function De(){return r[8](r[16])}function ve(J,Q){return J[16].quorumReached?Ar:Nr}let $e=ve(r),ie=$e(r);function ne(){return r[9](r[16])}T=new de({props:{$$slots:{default:[Or]},$$scope:{ctx:r}}}),T.$on("click",ne);function G(){return r[10](r[16])}N=new de({props:{$$slots:{default:[Rr]},$$scope:{ctx:r}}}),N.$on("click",G);const oe=[Wr,Fr],me=[];function H(J,Q){return Q&5&&(W=null),W==null&&(W=!!(J[0]&&J[2].votes&&J[2].votes[J[16].proposal].includes(J[0]))),W?0:1}return Z=H(r,-1),te=me[Z]=oe[Z](r),{c(){e=_("div"),t=_("div"),n=_("button"),s=j(l),a=L(),o=_("div"),u=j(i),f=j(" upvotes ~ "),w=j(v),C=j(`%\r
						`),ie.c(),E=L(),S=_("div"),p=pe("svg"),g=pe("rect"),h=pe("rect"),P=pe("rect"),q=L(),A(T.$$.fragment),V=L(),A(N.$$.fragment),U=L(),Y=_("div"),te.c(),this.h()},l(J){e=$(J,"DIV",{class:!0});var Q=k(e);t=$(Q,"DIV",{class:!0});var fe=k(t);n=$(fe,"BUTTON",{class:!0});var se=k(n);s=B(se,l),se.forEach(c),fe.forEach(c),a=M(Q),o=$(Q,"DIV",{class:!0});var z=k(o);u=B(z,i),f=B(z," upvotes ~ "),w=B(z,v),C=B(z,`%\r
						`),ie.l(z),z.forEach(c),E=M(Q),S=$(Q,"DIV",{class:!0});var X=k(S);p=_e(X,"svg",{width:!0,height:!0});var ee=k(p);g=_e(ee,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),k(g).forEach(c),h=_e(ee,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),k(h).forEach(c),P=_e(ee,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),k(P).forEach(c),ee.forEach(c),X.forEach(c),q=M(Q),O(T.$$.fragment,Q),V=M(Q),O(N.$$.fragment,Q),U=M(Q),Y=$(Q,"DIV",{class:!0});var ae=k(Y);te.l(ae),ae.forEach(c),Q.forEach(c),this.h()},h(){m(n,"class","unstyle-button"),m(t,"class","title svelte-1yewxu8"),m(o,"class","upvotes svelte-1yewxu8"),m(g,"width","100%"),m(g,"y","5"),m(g,"height","5"),m(g,"fill","#e6e6e6"),m(g,"rx","2"),m(g,"ry","2"),m(h,"width",b=r[16].percentageString),m(h,"y","5"),m(h,"height","5"),m(h,"fill","var(--progress-color)"),m(h,"rx","2"),m(h,"ry","2"),m(P,"width","3"),m(P,"height","15"),m(P,"x",`${$t}%`),m(P,"fill","var(--progress-color)"),m(P,"rx","2"),m(P,"ry","2"),m(p,"width","100%"),m(p,"height","15"),m(S,"class","upvote-bar svelte-1yewxu8"),m(Y,"class","upvote-btn svelte-1yewxu8"),Ce(Y,"disabled",!r[0]||!r[1]),m(e,"class","proposal svelte-1yewxu8"),Ce(e,"success",r[16].quorumReached)},m(J,Q){y(J,e,Q),d(e,t),d(t,n),d(n,s),d(e,a),d(e,o),d(o,u),d(o,f),d(o,w),d(o,C),ie.m(o,null),d(e,E),d(e,S),d(S,p),d(p,g),d(p,h),d(p,P),d(e,q),R(T,e,null),d(e,V),R(N,e,null),d(e,U),d(e,Y),me[Z].m(Y,null),le=!0,ce||(he=fn(n,"click",De),ce=!0)},p(J,Q){r=J,(!le||Q&4)&&l!==(l=r[16].proposal+"")&&re(s,l),(!le||Q&4)&&i!==(i=r[16].upvotes+"")&&re(u,i),(!le||Q&4)&&v!==(v=r[16].percentage+"")&&re(w,v),$e!==($e=ve(r))&&(ie.d(1),ie=$e(r),ie&&(ie.c(),ie.m(o,null))),(!le||Q&4&&b!==(b=r[16].percentageString))&&m(h,"width",b);const fe={};Q&524288&&(fe.$$scope={dirty:Q,ctx:r}),T.$set(fe);const se={};Q&524288&&(se.$$scope={dirty:Q,ctx:r}),N.$set(se);let z=Z;Z=H(r,Q),Z===z?me[Z].p(r,Q):(Pe(),I(me[z],1,1,()=>{me[z]=null}),Ve(),te=me[Z],te?te.p(r,Q):(te=me[Z]=oe[Z](r),te.c()),D(te,1),te.m(Y,null)),(!le||Q&3)&&Ce(Y,"disabled",!r[0]||!r[1]),(!le||Q&4)&&Ce(e,"success",r[16].quorumReached)},i(J){le||(D(T.$$.fragment,J),D(N.$$.fragment,J),D(te),le=!0)},o(J){I(T.$$.fragment,J),I(N.$$.fragment,J),I(te),le=!1},d(J){J&&c(e),ie.d(),F(T),F(N),me[Z].d(),ce=!1,he()}}}function Ur(r){let e,t,n,l,s,a,o,i,u,f,v;const w=[Tr,qr],C=[];function E(g,h){return g[2].proposals.length===0?0:1}n=E(r),l=C[n]=w[n](r),o=new de({props:{label:"New Proposal"}}),o.$on("click",r[12]);function S(g){r[13](g)}let p={};return r[3]!==void 0&&(p.open=r[3]),u=new Mr({props:p}),Ae.push(()=>Je(u,"open",S)),u.$on("upvote",r[14]),{c(){e=_("div"),t=_("div"),l.c(),s=L(),a=_("div"),A(o.$$.fragment),i=L(),A(u.$$.fragment),this.h()},l(g){e=$(g,"DIV",{class:!0});var h=k(e);t=$(h,"DIV",{class:!0});var b=k(t);l.l(b),b.forEach(c),s=M(h),a=$(h,"DIV",{class:!0});var P=k(a);O(o.$$.fragment,P),P.forEach(c),h.forEach(c),i=M(g),O(u.$$.fragment,g),this.h()},h(){m(t,"class","proposal-period svelte-1yewxu8"),m(a,"class","new-proposal svelte-1yewxu8"),Ce(a,"disabled",!r[0]||!r[1]),m(e,"class","proposal-period-wrap svelte-1yewxu8")},m(g,h){y(g,e,h),d(e,t),C[n].m(t,null),d(e,s),d(e,a),R(o,a,null),y(g,i,h),R(u,g,h),v=!0},p(g,[h]){let b=n;n=E(g),n===b?C[n].p(g,h):(Pe(),I(C[b],1,1,()=>{C[b]=null}),Ve(),l=C[n],l?l.p(g,h):(l=C[n]=w[n](g),l.c()),D(l,1),l.m(t,null)),(!v||h&3)&&Ce(a,"disabled",!g[0]||!g[1]);const P={};!f&&h&8&&(f=!0,P.open=g[3],Ke(()=>f=!1)),u.$set(P)},i(g){v||(D(l),D(o.$$.fragment,g),D(u.$$.fragment,g),v=!0)},o(g){I(l),I(o.$$.fragment,g),I(u.$$.fragment,g),v=!1},d(g){g&&(c(e),c(i)),C[n].d(),F(o),F(u,g)}}}function zr(r,e,t){let{pkh:n}=e,{canVote:l}=e,{periodIndex:s}=e,{period:a}=e,o=!1;const i=un();function u(b){window.open(`${dn}/${b}`,"_blank")}function f(b){window.open(`${mn}/${b}/${s}`,"_blank")}async function v(b){i("upvote",{proposals:b,period:a.info.voting_period.index})}const w=b=>hn(b.proposal),C=b=>u(b.proposal),E=b=>f(b.proposal),S=b=>v([b.proposal]),p=()=>t(3,o=!0);function g(b){o=b,t(3,o)}const h=b=>v(b.detail.proposals);return r.$$set=b=>{"pkh"in b&&t(0,n=b.pkh),"canVote"in b&&t(1,l=b.canVote),"periodIndex"in b&&t(7,s=b.periodIndex),"period"in b&&t(2,a=b.period)},[n,l,a,o,u,f,v,s,w,C,E,S,p,g,h]}class Yr extends je{constructor(e){super(),Be(this,e,zr,Ur,Se,{pkh:0,canVote:1,periodIndex:7,period:2})}}function Xr(r){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0});var l=k(e);t=_e(l,"path",{d:!0}),k(t).forEach(c),l.forEach(c),this.h()},h(){m(t,"d","M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 32 32")},m(n,l){y(n,e,l),d(e,t)},p:x,i:x,o:x,d(n){n&&c(e)}}}class Kn extends je{constructor(e){super(),Be(this,e,null,Xr,Se,{})}}function Zr(r){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0});var l=k(e);t=_e(l,"path",{d:!0}),k(t).forEach(c),l.forEach(c),this.h()},h(){m(t,"d","M 16 6 C 14.9375 6 14.003906 6.5625 13.46875 7.40625 C 13.03125 7.15625 12.535156 7 12 7 C 10.355469 7 9 8.355469 9 10 L 9 13.65625 L 8.875 13.8125 C 8.800781 13.898438 8.730469 13.976563 8.65625 14.0625 C 8.144531 14.660156 7.65625 15.292969 7.21875 15.9375 L 6.90625 16.34375 C 6.480469 16.894531 6.21875 17.535156 6.09375 18.1875 C 6.078125 18.261719 6.042969 18.332031 6.03125 18.40625 C 5.855469 19.652344 6.226563 20.949219 7.09375 21.9375 L 9.46875 24.625 C 10.796875 26.136719 12.707031 27 14.71875 27 L 20 27 C 23.855469 27 27 23.855469 27 20 L 27 11 C 27 9.355469 25.644531 8 24 8 C 23.464844 8 22.96875 8.15625 22.53125 8.40625 C 21.996094 7.5625 21.0625 7 20 7 C 19.464844 7 18.96875 7.15625 18.53125 7.40625 C 17.996094 6.5625 17.0625 6 16 6 Z M 16 8 C 16.566406 8 17 8.433594 17 9 L 17 11.1875 C 16.683594 11.074219 16.351563 11 16 11 L 15 11 L 15 9 C 15 8.433594 15.433594 8 16 8 Z M 12 9 C 12.566406 9 13 9.433594 13 10 L 13 11 L 11.59375 11 L 11.3125 11.28125 C 11.3125 11.28125 11.085938 11.511719 11 11.59375 L 11 10 C 11 9.433594 11.433594 9 12 9 Z M 20 9 C 20.566406 9 21 9.433594 21 10 L 21 13 C 21 13.566406 20.566406 14 20 14 C 19.433594 14 19 13.566406 19 13 L 19 10 C 19 9.433594 19.433594 9 20 9 Z M 24 10 C 24.566406 10 25 10.433594 25 11 L 25 13 C 25 13.566406 24.566406 14 24 14 C 23.433594 14 23 13.566406 23 13 L 23 11 C 23 10.433594 23.433594 10 24 10 Z M 12.4375 13 L 16 13 C 16.5625 13 17 13.4375 17 14 C 17 14.5625 16.5625 15 16 15 L 12.875 15 L 12.59375 15.375 L 10.25 18.34375 L 11.8125 19.59375 L 13.65625 17.28125 C 14.015625 17.449219 14.425781 17.699219 14.875 18.0625 C 15.941406 18.929688 17 20.347656 17 23 L 19 23 C 19 20.132813 17.855469 18.15625 16.59375 16.9375 C 17.402344 16.769531 18.101563 16.273438 18.53125 15.59375 C 18.96875 15.84375 19.464844 16 20 16 C 20.765625 16 21.46875 15.699219 22 15.21875 C 22.53125 15.699219 23.234375 16 24 16 C 24.351563 16 24.683594 15.925781 25 15.8125 L 25 20 C 25 22.773438 22.773438 25 20 25 L 14.71875 25 C 13.28125 25 11.917969 24.394531 10.96875 23.3125 L 8.59375 20.59375 C 8.164063 20.105469 7.964844 19.507813 8 18.90625 C 8 18.898438 8.027344 18.832031 8.03125 18.8125 C 8.035156 18.78125 8.027344 18.75 8.03125 18.71875 C 8.078125 18.5 8.230469 18.078125 8.5625 17.53125 C 8.605469 17.460938 8.671875 17.382813 8.71875 17.3125 L 10.1875 15.375 C 11.292969 14.082031 12.214844 13.210938 12.4375 13 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 32 32")},m(n,l){y(n,e,l),d(e,t)},p:x,i:x,o:x,d(n){n&&c(e)}}}class Jn extends je{constructor(e){super(),Be(this,e,null,Zr,Se,{})}}function Qr(r){let e,t=r[2].requiredQuorumPercentage+"",n,l;return{c(){e=j("(needs "),n=j(t),l=j("%)")},l(s){e=B(s,"(needs "),n=B(s,t),l=B(s,"%)")},m(s,a){y(s,e,a),y(s,n,a),y(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredQuorumPercentage+"")&&re(n,t)},d(s){s&&(c(e),c(n),c(l))}}}function Kr(r){let e,t=r[2].requiredQuorumPercentage+"",n,l;return{c(){e=j("("),n=j(t),l=j("% reached)")},l(s){e=B(s,"("),n=B(s,t),l=B(s,"% reached)")},m(s,a){y(s,e,a),y(s,n,a),y(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredQuorumPercentage+"")&&re(n,t)},d(s){s&&(c(e),c(n),c(l))}}}function Jr(r){let e,t=r[2].requiredMajorityPercentage+"",n,l;return{c(){e=j("(required "),n=j(t),l=j("%)")},l(s){e=B(s,"(required "),n=B(s,t),l=B(s,"%)")},m(s,a){y(s,e,a),y(s,n,a),y(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredMajorityPercentage+"")&&re(n,t)},d(s){s&&(c(e),c(n),c(l))}}}function Gr(r){let e,t=r[2].requiredMajorityPercentage+"",n,l;return{c(){e=j("("),n=j(t),l=j("% reached)")},l(s){e=B(s,"("),n=B(s,t),l=B(s,"% reached)")},m(s,a){y(s,e,a),y(s,n,a),y(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredMajorityPercentage+"")&&re(n,t)},d(s){s&&(c(e),c(n),c(l))}}}function xr(r){let e,t,n="EXPLORER",l,s,a,o;return a=new vn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),A(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-323t9m"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=k(s);O(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){m(t,"class","label svelte-3bkjph"),m(s,"class","icon svelte-3bkjph"),m(e,"class","button-content svelte-3bkjph")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),R(a,s,null),o=!0},p:x,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function el(r){let e,t,n="AGORA",l,s,a,o;return a=new gn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),A(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=k(s);O(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){m(t,"class","label svelte-3bkjph"),m(s,"class","icon svelte-3bkjph"),m(e,"class","button-content svelte-3bkjph")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),R(a,s,null),o=!0},p:x,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function tl(r){let e,t,n,l,s,a,o,i,u;return t=new de({props:{$$slots:{default:[rl]},$$scope:{ctx:r}}}),t.$on("click",r[11]),s=new de({props:{$$slots:{default:[ll]},$$scope:{ctx:r}}}),s.$on("click",r[12]),i=new de({props:{$$slots:{default:[al]},$$scope:{ctx:r}}}),i.$on("click",r[13]),{c(){e=_("div"),A(t.$$.fragment),n=L(),l=_("div"),A(s.$$.fragment),a=L(),o=_("div"),A(i.$$.fragment),this.h()},l(f){e=$(f,"DIV",{class:!0});var v=k(e);O(t.$$.fragment,v),v.forEach(c),n=M(f),l=$(f,"DIV",{class:!0});var w=k(l);O(s.$$.fragment,w),w.forEach(c),a=M(f),o=$(f,"DIV",{class:!0});var C=k(o);O(i.$$.fragment,C),C.forEach(c),this.h()},h(){m(e,"class","nay svelte-3bkjph"),m(l,"class","pass svelte-3bkjph"),m(o,"class","yay svelte-3bkjph")},m(f,v){y(f,e,v),R(t,e,null),y(f,n,v),y(f,l,v),R(s,l,null),y(f,a,v),y(f,o,v),R(i,o,null),u=!0},p(f,v){const w={};v&32768&&(w.$$scope={dirty:v,ctx:f}),t.$set(w);const C={};v&32768&&(C.$$scope={dirty:v,ctx:f}),s.$set(C);const E={};v&32768&&(E.$$scope={dirty:v,ctx:f}),i.$set(E)},i(f){u||(D(t.$$.fragment,f),D(s.$$.fragment,f),D(i.$$.fragment,f),u=!0)},o(f){I(t.$$.fragment,f),I(s.$$.fragment,f),I(i.$$.fragment,f),u=!1},d(f){f&&(c(e),c(n),c(l),c(a),c(o)),F(t),F(s),F(i)}}}function nl(r){let e,t,n,l=r[3].ballot+"",s;return{c(){e=_("div"),t=j("You voted: "),n=_("div"),s=j(l),this.h()},l(a){e=$(a,"DIV",{class:!0});var o=k(e);t=B(o,"You voted: "),n=$(o,"DIV",{class:!0});var i=k(n);s=B(i,l),i.forEach(c),o.forEach(c),this.h()},h(){m(n,"class","ballot svelte-3bkjph"),m(e,"class","existing-vote svelte-3bkjph")},m(a,o){y(a,e,o),d(e,t),d(e,n),d(n,s)},p(a,o){o&8&&l!==(l=a[3].ballot+"")&&re(s,l)},i:x,o:x,d(a){a&&c(e)}}}function rl(r){let e,t,n="NAY",l,s,a,o;return a=new Kn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),A(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=k(s);O(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){m(t,"class","label svelte-3bkjph"),m(s,"class","icon svelte-3bkjph"),m(e,"class","button-content svelte-3bkjph")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),R(a,s,null),o=!0},p:x,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function ll(r){let e,t,n="NAY",l,s,a,o;return a=new Jn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),A(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=k(s);O(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){m(t,"class","label svelte-3bkjph"),m(s,"class","icon svelte-3bkjph"),m(e,"class","button-content svelte-3bkjph")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),R(a,s,null),o=!0},p:x,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function al(r){let e,t,n="NAY",l,s,a,o;return a=new Ut({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),A(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=k(s);O(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){m(t,"class","label svelte-3bkjph"),m(s,"class","icon svelte-3bkjph"),m(e,"class","button-content svelte-3bkjph")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),R(a,s,null),o=!0},p:x,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function sl(r){let e,t,n,l,s,a=r[2].proposal+"",o,i,u,f,v=r[2].summary.nay+"",w,C,E=r[2].summary.nayPercentage+"",S,p,g,h,b,P,q=r[2].summary.pass+"",T,V,N=r[2].summary.passPercentage+"",U,Y,W,Z,te,le,ce=r[2].summary.yayPercentage+"",he,De,ve=r[2].summary.nayPercentage+"",$e,ie,ne,G,oe,me,H,J,Q,fe,se="Quorum",z,X,ee=r[2].quorumPercentage+"",ae,Re,Me,ke,qe,Le,Fe,Ie,Pt,We,Vt,He,Lt,zt,Ze,st,pn="Supermajority",Yt,xe,bt=r[2].majorityPercentage+"",Mt,Xt,Zt,et,Qe,Ue,St,ze,jt,Qt,tt,Kt,nt,Jt,ot,it,Gt,rt,Te,Ne,be,xt,_n;h=new Kn({}),Z=new Jn({}),G=new Ut({}),H=new Ge({});function $n(K,ue){return K[2].quorumReached?Kr:Qr}let Bt=$n(r),Ye=Bt(r);function bn(K,ue){return K[2].majorityReached?Gr:Jr}let qt=bn(r),Xe=qt(r);tt=new de({props:{$$slots:{default:[xr]},$$scope:{ctx:r}}}),tt.$on("click",r[9]),nt=new de({props:{$$slots:{default:[el]},$$scope:{ctx:r}}}),nt.$on("click",r[10]),it=new Ge({});const kn=[nl,tl],lt=[];function wn(K,ue){return K[3]?0:1}return Te=wn(r),Ne=lt[Te]=kn[Te](r),{c(){e=_("div"),t=_("div"),n=_("div"),l=_("div"),s=_("button"),o=j(a),i=L(),u=_("div"),f=_("div"),w=j(v),C=j(" ("),S=j(E),p=j(` %)\r
					`),g=_("div"),A(h.$$.fragment),b=L(),P=_("div"),T=j(q),V=j(" ("),U=j(N),Y=j(` %)\r
					`),W=_("div"),A(Z.$$.fragment),te=L(),le=_("div"),he=j(ce),De=j(" ("),$e=j(ve),ie=j(` %)\r
					`),ne=_("div"),A(G.$$.fragment),oe=L(),me=_("div"),A(H.$$.fragment),J=L(),Q=_("div"),fe=_("div"),fe.textContent=se,z=L(),X=_("div"),ae=j(ee),Re=j(` %\r
					`),Ye.c(),Me=L(),ke=pe("svg"),qe=pe("rect"),Le=pe("rect"),Ie=pe("rect"),We=pe("rect"),He=pe("rect"),zt=L(),Ze=_("div"),st=_("div"),st.textContent=pn,Yt=L(),xe=_("div"),Mt=j(bt),Xt=L(),Xe.c(),Zt=L(),et=pe("svg"),Qe=pe("rect"),Ue=pe("rect"),ze=pe("rect"),Qt=L(),A(tt.$$.fragment),Kt=L(),A(nt.$$.fragment),Jt=L(),ot=_("div"),A(it.$$.fragment),Gt=L(),rt=_("div"),Ne.c(),this.h()},l(K){e=$(K,"DIV",{class:!0});var ue=k(e);t=$(ue,"DIV",{class:!0});var kt=k(t);n=$(kt,"DIV",{class:!0});var we=k(n);l=$(we,"DIV",{class:!0});var ut=k(l);s=$(ut,"BUTTON",{class:!0});var yn=k(s);o=B(yn,a),yn.forEach(c),ut.forEach(c),i=M(we),u=$(we,"DIV",{class:!0});var ct=k(u);f=$(ct,"DIV",{class:!0});var ft=k(f);w=B(ft,v),C=B(ft," ("),S=B(ft,E),p=B(ft,` %)\r
					`),g=$(ft,"DIV",{class:!0});var Dn=k(g);O(h.$$.fragment,Dn),Dn.forEach(c),ft.forEach(c),b=M(ct),P=$(ct,"DIV",{class:!0});var dt=k(P);T=B(dt,q),V=B(dt," ("),U=B(dt,N),Y=B(dt,` %)\r
					`),W=$(dt,"DIV",{class:!0});var Cn=k(W);O(Z.$$.fragment,Cn),Cn.forEach(c),dt.forEach(c),te=M(ct),le=$(ct,"DIV",{class:!0});var mt=k(le);he=B(mt,ce),De=B(mt," ("),$e=B(mt,ve),ie=B(mt,` %)\r
					`),ne=$(mt,"DIV",{class:!0});var In=k(ne);O(G.$$.fragment,In),In.forEach(c),mt.forEach(c),ct.forEach(c),oe=M(we),me=$(we,"DIV",{class:!0});var En=k(me);O(H.$$.fragment,En),En.forEach(c),J=M(we),Q=$(we,"DIV",{class:!0});var gt=k(Q);fe=$(gt,"DIV",{class:!0,"data-svelte-h":!0}),ge(fe)!=="svelte-j8l648"&&(fe.textContent=se),z=M(gt),X=$(gt,"DIV",{class:!0});var Tt=k(X);ae=B(Tt,ee),Re=B(Tt,` %\r
					`),Ye.l(Tt),Tt.forEach(c),Me=M(gt),ke=_e(gt,"svg",{width:!0,height:!0});var vt=k(ke);qe=_e(vt,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),k(qe).forEach(c),Le=_e(vt,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),k(Le).forEach(c),Ie=_e(vt,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),k(Ie).forEach(c),We=_e(vt,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),k(We).forEach(c),He=_e(vt,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),k(He).forEach(c),vt.forEach(c),gt.forEach(c),zt=M(we),Ze=$(we,"DIV",{class:!0});var ht=k(Ze);st=$(ht,"DIV",{class:!0,"data-svelte-h":!0}),ge(st)!=="svelte-5p5wbx"&&(st.textContent=pn),Yt=M(ht),xe=$(ht,"DIV",{class:!0});var Nt=k(xe);Mt=B(Nt,bt),Xt=M(Nt),Xe.l(Nt),Nt.forEach(c),Zt=M(ht),et=_e(ht,"svg",{width:!0,height:!0});var At=k(et);Qe=_e(At,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),k(Qe).forEach(c),Ue=_e(At,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),k(Ue).forEach(c),ze=_e(At,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),k(ze).forEach(c),At.forEach(c),ht.forEach(c),Qt=M(we),O(tt.$$.fragment,we),Kt=M(we),O(nt.$$.fragment,we),Jt=M(we),ot=$(we,"DIV",{class:!0});var Pn=k(ot);O(it.$$.fragment,Pn),Pn.forEach(c),Gt=M(we),rt=$(we,"DIV",{class:!0});var Vn=k(rt);Ne.l(Vn),Vn.forEach(c),we.forEach(c),kt.forEach(c),ue.forEach(c),this.h()},h(){m(s,"class","unstyle-button"),m(l,"class","title svelte-3bkjph"),m(g,"class","icon svelte-3bkjph"),m(f,"class","yay value svelte-3bkjph"),m(W,"class","icon svelte-3bkjph"),m(P,"class","pass value svelte-3bkjph"),m(ne,"class","icon svelte-3bkjph"),m(le,"class","nay value svelte-3bkjph"),m(u,"class","vote-summary svelte-3bkjph"),m(me,"class","separator svelte-3bkjph"),m(fe,"class","bar-title svelte-3bkjph"),m(X,"class","bar-description svelte-3bkjph"),m(qe,"width","100%"),m(qe,"height","5"),m(qe,"y","5"),m(qe,"fill","#e6e6e6"),m(qe,"rx","2"),m(qe,"ry","2"),m(Le,"width",Fe=`${r[2].summary.nayPercentage+r[2].summary.passPercentage+r[2].summary.yayPercentage}%`),m(Le,"y","5"),m(Le,"height","5"),m(Le,"fill","var(--yay-color)"),m(Le,"rx","2"),m(Le,"ry","2"),m(Ie,"width",Pt=`${r[2].summary.nayPercentage+r[2].summary.passPercentage}%`),m(Ie,"height","5"),m(Ie,"y","5"),m(Ie,"fill","var(--pass-color)"),m(Ie,"rx","2"),m(Ie,"ry","2"),m(We,"width",Vt=`${r[2].summary.nayPercentage}%`),m(We,"height","5"),m(We,"y","5"),m(We,"fill","var(--nay-color)"),m(We,"rx","2"),m(We,"ry","2"),m(He,"width","3"),m(He,"height","15"),m(He,"x",Lt=`${r[2].requiredQuorumPercentage}%`),m(He,"fill","var(--quorum-color)"),m(He,"rx","2"),m(He,"ry","2"),m(ke,"width","100%"),m(ke,"height","15"),m(Q,"class","bar svelte-3bkjph"),m(st,"class","bar-title svelte-3bkjph"),m(xe,"class","bar-description svelte-3bkjph"),m(Qe,"width","100%"),m(Qe,"height","5"),m(Qe,"y","5"),m(Qe,"fill","#e6e6e6"),m(Qe,"rx","2"),m(Qe,"ry","2"),m(Ue,"width",St=`${r[2].majorityPercentage}%`),m(Ue,"y","5"),m(Ue,"height","5"),m(Ue,"fill","var(--majority-color)"),m(Ue,"rx","2"),m(Ue,"ry","2"),m(ze,"width","3"),m(ze,"height","15"),m(ze,"x",jt=`${r[2].requiredMajorityPercentage}%`),m(ze,"fill","var(--majority-color)"),m(ze,"rx","2"),m(ze,"ry","2"),m(et,"width","100%"),m(et,"height","15"),m(Ze,"class","bar svelte-3bkjph"),m(ot,"class","separator svelte-3bkjph"),m(rt,"class","vote-section svelte-3bkjph"),Ce(rt,"disabled",!r[0]||!r[1]),m(n,"class","proposal svelte-3bkjph"),m(t,"class","period svelte-3bkjph"),m(e,"class","period-wrap svelte-3bkjph"),Ce(e,"quorum-reached",r[2].quorumReached),Ce(e,"majority-reached",r[2].majorityReached)},m(K,ue){y(K,e,ue),d(e,t),d(t,n),d(n,l),d(l,s),d(s,o),d(n,i),d(n,u),d(u,f),d(f,w),d(f,C),d(f,S),d(f,p),d(f,g),R(h,g,null),d(u,b),d(u,P),d(P,T),d(P,V),d(P,U),d(P,Y),d(P,W),R(Z,W,null),d(u,te),d(u,le),d(le,he),d(le,De),d(le,$e),d(le,ie),d(le,ne),R(G,ne,null),d(n,oe),d(n,me),R(H,me,null),d(n,J),d(n,Q),d(Q,fe),d(Q,z),d(Q,X),d(X,ae),d(X,Re),Ye.m(X,null),d(Q,Me),d(Q,ke),d(ke,qe),d(ke,Le),d(ke,Ie),d(ke,We),d(ke,He),d(n,zt),d(n,Ze),d(Ze,st),d(Ze,Yt),d(Ze,xe),d(xe,Mt),d(xe,Xt),Xe.m(xe,null),d(Ze,Zt),d(Ze,et),d(et,Qe),d(et,Ue),d(et,ze),d(n,Qt),R(tt,n,null),d(n,Kt),R(nt,n,null),d(n,Jt),d(n,ot),R(it,ot,null),d(n,Gt),d(n,rt),lt[Te].m(rt,null),be=!0,xt||(_n=fn(s,"click",r[8]),xt=!0)},p(K,[ue]){(!be||ue&4)&&a!==(a=K[2].proposal+"")&&re(o,a),(!be||ue&4)&&v!==(v=K[2].summary.nay+"")&&re(w,v),(!be||ue&4)&&E!==(E=K[2].summary.nayPercentage+"")&&re(S,E),(!be||ue&4)&&q!==(q=K[2].summary.pass+"")&&re(T,q),(!be||ue&4)&&N!==(N=K[2].summary.passPercentage+"")&&re(U,N),(!be||ue&4)&&ce!==(ce=K[2].summary.yayPercentage+"")&&re(he,ce),(!be||ue&4)&&ve!==(ve=K[2].summary.nayPercentage+"")&&re($e,ve),(!be||ue&4)&&ee!==(ee=K[2].quorumPercentage+"")&&re(ae,ee),Bt===(Bt=$n(K))&&Ye?Ye.p(K,ue):(Ye.d(1),Ye=Bt(K),Ye&&(Ye.c(),Ye.m(X,null))),(!be||ue&4&&Fe!==(Fe=`${K[2].summary.nayPercentage+K[2].summary.passPercentage+K[2].summary.yayPercentage}%`))&&m(Le,"width",Fe),(!be||ue&4&&Pt!==(Pt=`${K[2].summary.nayPercentage+K[2].summary.passPercentage}%`))&&m(Ie,"width",Pt),(!be||ue&4&&Vt!==(Vt=`${K[2].summary.nayPercentage}%`))&&m(We,"width",Vt),(!be||ue&4&&Lt!==(Lt=`${K[2].requiredQuorumPercentage}%`))&&m(He,"x",Lt),(!be||ue&4)&&bt!==(bt=K[2].majorityPercentage+"")&&re(Mt,bt),qt===(qt=bn(K))&&Xe?Xe.p(K,ue):(Xe.d(1),Xe=qt(K),Xe&&(Xe.c(),Xe.m(xe,null))),(!be||ue&4&&St!==(St=`${K[2].majorityPercentage}%`))&&m(Ue,"width",St),(!be||ue&4&&jt!==(jt=`${K[2].requiredMajorityPercentage}%`))&&m(ze,"x",jt);const kt={};ue&32768&&(kt.$$scope={dirty:ue,ctx:K}),tt.$set(kt);const we={};ue&32768&&(we.$$scope={dirty:ue,ctx:K}),nt.$set(we);let ut=Te;Te=wn(K),Te===ut?lt[Te].p(K,ue):(Pe(),I(lt[ut],1,1,()=>{lt[ut]=null}),Ve(),Ne=lt[Te],Ne?Ne.p(K,ue):(Ne=lt[Te]=kn[Te](K),Ne.c()),D(Ne,1),Ne.m(rt,null)),(!be||ue&3)&&Ce(rt,"disabled",!K[0]||!K[1]),(!be||ue&4)&&Ce(e,"quorum-reached",K[2].quorumReached),(!be||ue&4)&&Ce(e,"majority-reached",K[2].majorityReached)},i(K){be||(D(h.$$.fragment,K),D(Z.$$.fragment,K),D(G.$$.fragment,K),D(H.$$.fragment,K),D(tt.$$.fragment,K),D(nt.$$.fragment,K),D(it.$$.fragment,K),D(Ne),be=!0)},o(K){I(h.$$.fragment,K),I(Z.$$.fragment,K),I(G.$$.fragment,K),I(H.$$.fragment,K),I(tt.$$.fragment,K),I(nt.$$.fragment,K),I(it.$$.fragment,K),I(Ne),be=!1},d(K){K&&c(e),F(h),F(Z),F(G),F(H),Ye.d(),Xe.d(),F(tt),F(nt),F(it),lt[Te].d(),xt=!1,_n()}}}function il(r,e,t){let n,{pkh:l}=e,{canVote:s=!1}=e,{periodIndex:a}=e,{period:o}=e;const i=un();function u(){window.open(`${dn}/${o.proposal}`,"_blank")}function f(){window.open(`${mn}/${o.proposal}/${a}`,"_blank")}async function v(h){i("vote",{ballot:h,proposal:o.proposal,period:o.info.voting_period.index})}const w=()=>hn(o.proposal),C=()=>u(),E=()=>f(),S=()=>v("nay"),p=()=>v("pass"),g=()=>v("yay");return r.$$set=h=>{"pkh"in h&&t(0,l=h.pkh),"canVote"in h&&t(1,s=h.canVote),"periodIndex"in h&&t(7,a=h.periodIndex),"period"in h&&t(2,o=h.period)},r.$$.update=()=>{r.$$.dirty&5&&t(3,n=o.ballots.find(h=>h.pkh===l))},[l,s,o,n,u,f,v,a,w,C,E,S,p,g]}class ol extends je{constructor(e){super(),Be(this,e,il,sl,Se,{pkh:0,canVote:1,periodIndex:7,period:2})}}function ul(r){let e,t,n,l,s,a,o,i,u,f,v,w;s=new Ge({});const C=[ml,dl,fl],E=[];function S(p,g){return p[4]==="applied"?0:p[4]==="failed"?1:2}return o=S(r),i=E[o]=C[o](r),v=new de({props:{$$slots:{default:[gl]},$$scope:{ctx:r}}}),v.$on("click",r[6]),{c(){e=_("h5"),t=j("Transaction "),n=j(r[1]),l=L(),A(s.$$.fragment),a=L(),i.c(),u=L(),f=_("div"),A(v.$$.fragment),this.h()},l(p){e=$(p,"H5",{class:!0});var g=k(e);t=B(g,"Transaction "),n=B(g,r[1]),g.forEach(c),l=M(p),O(s.$$.fragment,p),a=M(p),i.l(p),u=M(p),f=$(p,"DIV",{class:!0});var h=k(f);O(v.$$.fragment,h),h.forEach(c),this.h()},h(){m(e,"class","title svelte-1kcf8tg"),m(f,"class","explore"),Ce(f,"disabled",r[4]==="building")},m(p,g){y(p,e,g),d(e,t),d(e,n),y(p,l,g),R(s,p,g),y(p,a,g),E[o].m(p,g),y(p,u,g),y(p,f,g),R(v,f,null),w=!0},p(p,g){(!w||g&2)&&re(n,p[1]);let h=o;o=S(p),o===h?E[o].p(p,g):(Pe(),I(E[h],1,1,()=>{E[h]=null}),Ve(),i=E[o],i?i.p(p,g):(i=E[o]=C[o](p),i.c()),D(i,1),i.m(u.parentNode,u));const b={};g&512&&(b.$$scope={dirty:g,ctx:p}),v.$set(b),(!w||g&16)&&Ce(f,"disabled",p[4]==="building")},i(p){w||(D(s.$$.fragment,p),D(i),D(v.$$.fragment,p),w=!0)},o(p){I(s.$$.fragment,p),I(i),I(v.$$.fragment,p),w=!1},d(p){p&&(c(e),c(l),c(a),c(u),c(f)),F(s,p),E[o].d(p),F(v)}}}function cl(r){let e,t;return{c(){e=_("div"),t=j(r[2]),this.h()},l(n){e=$(n,"DIV",{class:!0});var l=k(e);t=B(l,r[2]),l.forEach(c),this.h()},h(){m(e,"class","error-message svelte-1kcf8tg")},m(n,l){y(n,e,l),d(e,t)},p(n,l){l&4&&re(t,n[2])},i:x,o:x,d(n){n&&c(e)}}}function fl(r){let e,t,n,l,s;t=new Ht({props:{message:r[5],progress:"indeterminate"}});let a=r[4]==="building"&&An();return{c(){e=_("div"),A(t.$$.fragment),n=L(),a&&a.c(),l=Oe(),this.h()},l(o){e=$(o,"DIV",{class:!0});var i=k(e);O(t.$$.fragment,i),i.forEach(c),n=M(o),a&&a.l(o),l=Oe(),this.h()},h(){m(e,"class","progress svelte-1kcf8tg")},m(o,i){y(o,e,i),R(t,e,null),y(o,n,i),a&&a.m(o,i),y(o,l,i),s=!0},p(o,i){const u={};i&32&&(u.message=o[5]),t.$set(u),o[4]==="building"?a||(a=An(),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},i(o){s||(D(t.$$.fragment,o),s=!0)},o(o){I(t.$$.fragment,o),s=!1},d(o){o&&(c(e),c(n),c(l)),F(t),a&&a.d(o)}}}function dl(r){let e,t="FAILED";return{c(){e=_("div"),e.textContent=t,this.h()},l(n){e=$(n,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-5fqw5f"&&(e.textContent=t),this.h()},h(){m(e,"class","status failed svelte-1kcf8tg")},m(n,l){y(n,e,l)},p:x,i:x,o:x,d(n){n&&c(e)}}}function ml(r){let e,t="CONFIRMED";return{c(){e=_("div"),e.textContent=t,this.h()},l(n){e=$(n,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-vqtzt4"&&(e.textContent=t),this.h()},h(){m(e,"class","status svelte-1kcf8tg")},m(n,l){y(n,e,l)},p:x,i:x,o:x,d(n){n&&c(e)}}}function An(r){let e,t="NOTE: You may need to confirm the transaction with your signer.";return{c(){e=_("div"),e.textContent=t,this.h()},l(n){e=$(n,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-2towb7"&&(e.textContent=t),this.h()},h(){m(e,"class","note svelte-1kcf8tg")},m(n,l){y(n,e,l)},d(n){n&&c(e)}}}function gl(r){let e;return{c(){e=j("Open Explorer")},l(t){e=B(t,"Open Explorer")},m(t,n){y(t,e,n)},d(t){t&&c(e)}}}function On(r){let e,t;return e=new de({props:{label:"close"}}),e.$on("click",r[7]),{c(){A(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p:x,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function vl(r){let e,t,n,l,s;const a=[cl,ul],o=[];function i(f,v){return f[2]?0:1}t=i(r),n=o[t]=a[t](r);let u=(r[3]||r[4]==="applied"||r[2])&&On(r);return{c(){e=_("div"),n.c(),l=L(),u&&u.c(),this.h()},l(f){e=$(f,"DIV",{class:!0});var v=k(e);n.l(v),l=M(v),u&&u.l(v),v.forEach(c),this.h()},h(){m(e,"class","transaction-confirmation svelte-1kcf8tg")},m(f,v){y(f,e,v),o[t].m(e,null),d(e,l),u&&u.m(e,null),s=!0},p(f,v){let w=t;t=i(f),t===w?o[t].p(f,v):(Pe(),I(o[w],1,1,()=>{o[w]=null}),Ve(),n=o[t],n?n.p(f,v):(n=o[t]=a[t](f),n.c()),D(n,1),n.m(e,l)),f[3]||f[4]==="applied"||f[2]?u?(u.p(f,v),v&28&&D(u,1)):(u=On(f),u.c(),D(u,1),u.m(e,null)):u&&(Pe(),I(u,1,1,()=>{u=null}),Ve())},i(f){s||(D(n),D(u),s=!0)},o(f){I(n),I(u),s=!1},d(f){f&&c(e),o[t].d(),u&&u.d()}}}function hl(r){let e,t,n;return t=new pt({props:{$$slots:{default:[vl]},$$scope:{ctx:r}}}),{c(){e=_("div"),A(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var s=k(e);O(t.$$.fragment,s),s.forEach(c),this.h()},h(){m(e,"class","center svelte-1kcf8tg")},m(l,s){y(l,e,s),R(t,e,null),n=!0},p(l,s){const a={};s&575&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){l&&c(e),F(t)}}}function pl(r){let e,t,n;function l(a){r[8](a)}let s={persistent:r[4]==="building"||r[4]==="confirming",$$slots:{default:[hl]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.open=r[0]),e=new Wt({props:s}),Ae.push(()=>Je(e,"open",l)),{c(){A(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,o){R(e,a,o),n=!0},p(a,[o]){const i={};o&16&&(i.persistent=a[4]==="building"||a[4]==="confirming"),o&575&&(i.$$scope={dirty:o,ctx:a}),!t&&o&1&&(t=!0,i.open=a[0],Ke(()=>t=!1)),e.$set(i)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){I(e.$$.fragment,a),n=!1},d(a){F(e,a)}}}function _l(r){switch(r){case"building":return"Building transaction...";case"confirming":return"Waiting for confirmation...";case"applied":return"CONFIRMED";case"failed":return"FAILED"}}function $l(r,e,t){let n,{open:l}=e,{opHash:s}=e,{error:a}=e,{allowClose:o=!0}=e,{stage:i="building"}=e;const u=()=>window.open(`https://better-call.dev/${s}`,"_blank"),f=()=>t(0,l=!1);function v(w){l=w,t(0,l)}return r.$$set=w=>{"open"in w&&t(0,l=w.open),"opHash"in w&&t(1,s=w.opHash),"error"in w&&t(2,a=w.error),"allowClose"in w&&t(3,o=w.allowClose),"stage"in w&&t(4,i=w.stage)},r.$$.update=()=>{r.$$.dirty&16&&t(5,n=_l(i))},[l,s,a,o,i,n,u,f,v]}class bl extends je{constructor(e){super(),Be(this,e,$l,pl,Se,{open:0,opHash:1,error:2,allowClose:3,stage:4})}}function kl(r){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0});var l=k(e);t=_e(l,"path",{d:!0}),k(t).forEach(c),l.forEach(c),this.h()},h(){m(t,"d","M 16 3 C 8.832031 3 3 8.832031 3 16 C 3 23.167969 8.832031 29 16 29 C 23.167969 29 29 23.167969 29 16 L 27 16 C 27 22.085938 22.085938 27 16 27 C 9.914063 27 5 22.085938 5 16 C 5 9.914063 9.914063 5 16 5 C 19.875 5 23.261719 6.984375 25.21875 10 L 20 10 L 20 12 L 28 12 L 28 4 L 26 4 L 26 7.71875 C 23.617188 4.84375 20.019531 3 16 3 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 32 32")},m(n,l){y(n,e,l),d(e,t)},p:x,i:x,o:x,d(n){n&&c(e)}}}class Gn extends je{constructor(e){super(),Be(this,e,null,kl,Se,{})}}function wl(r){let e,t,n="Set Delegate Parameters",l,s,a="Set delegate staking parameters - edge and limit.",o,i,u,f,v,w,C,E,S,p,g,h,b,P;function q(U){r[7](U)}let T={rules:r[4],label:"Staking Fee in %",hint:"Edge of baking over staking"};r[0].value.edge!==void 0&&(T.value=r[0].value.edge),i=new Ct({props:T}),Ae.push(()=>Je(i,"value",q));function V(U){r[8](U)}let N={rules:r[5],label:"Staking capacity - multiplier of your stake",hint:"Limit of staking over baking"};return r[0].value.limit!==void 0&&(N.value=r[0].value.limit),v=new Ct({props:N}),Ae.push(()=>Je(v,"value",V)),p=new de({props:{label:"Cancel"}}),p.$on("click",r[9]),b=new de({props:{label:"Set"}}),b.$on("click",r[10]),{c(){e=_("div"),t=_("h3"),t.textContent=n,l=L(),s=_("p"),s.textContent=a,o=L(),A(i.$$.fragment),f=L(),A(v.$$.fragment),C=L(),E=_("div"),S=_("div"),A(p.$$.fragment),g=L(),h=_("div"),A(b.$$.fragment),this.h()},l(U){e=$(U,"DIV",{class:!0});var Y=k(e);t=$(Y,"H3",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1hc5680"&&(t.textContent=n),l=M(Y),s=$(Y,"P",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-2weqq6"&&(s.textContent=a),o=M(Y),O(i.$$.fragment,Y),f=M(Y),O(v.$$.fragment,Y),C=M(Y),E=$(Y,"DIV",{class:!0});var W=k(E);S=$(W,"DIV",{class:!0});var Z=k(S);O(p.$$.fragment,Z),Z.forEach(c),g=M(W),h=$(W,"DIV",{class:!0});var te=k(h);O(b.$$.fragment,te),te.forEach(c),W.forEach(c),Y.forEach(c),this.h()},h(){m(t,"class","title svelte-1igllg9"),m(s,"class","message svelte-1igllg9"),m(S,"class","control-button svelte-1igllg9"),Ft(S,"grid-column","1"),m(h,"class","control-button svelte-1igllg9"),Ce(h,"disabled",r[3]),Ft(h,"grid-column","3"),m(E,"class","controls padding-top svelte-1igllg9"),m(e,"class","prompt-wrap svelte-1igllg9")},m(U,Y){y(U,e,Y),d(e,t),d(e,l),d(e,s),d(e,o),R(i,e,null),d(e,f),R(v,e,null),d(e,C),d(e,E),d(E,S),R(p,S,null),d(E,g),d(E,h),R(b,h,null),P=!0},p(U,Y){const W={};!u&&Y&1&&(u=!0,W.value=U[0].value.edge,Ke(()=>u=!1)),i.$set(W);const Z={};!w&&Y&1&&(w=!0,Z.value=U[0].value.limit,Ke(()=>w=!1)),v.$set(Z),(!P||Y&8)&&Ce(h,"disabled",U[3])},i(U){P||(D(i.$$.fragment,U),D(v.$$.fragment,U),D(p.$$.fragment,U),D(b.$$.fragment,U),P=!0)},o(U){I(i.$$.fragment,U),I(v.$$.fragment,U),I(p.$$.fragment,U),I(b.$$.fragment,U),P=!1},d(U){U&&c(e),F(i),F(v),F(p),F(b)}}}function yl(r){let e,t;return e=new pt({props:{$$slots:{default:[wl]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p(n,l){const s={};l&16397&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Dl(r){let e,t,n;function l(a){r[11](a)}let s={persistent:!0,$$slots:{default:[yl]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.open=r[1]),e=new Wt({props:s}),Ae.push(()=>Je(e,"open",l)),{c(){A(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,o){R(e,a,o),n=!0},p(a,[o]){const i={};o&16397&&(i.$$scope={dirty:o,ctx:a}),!t&&o&2&&(t=!0,i.open=a[1],Ke(()=>t=!1)),e.$set(i)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){I(e.$$.fragment,a),n=!1},d(a){F(e,a)}}}function Cl(r,e,t){let n;const l={value:{edge:100,limit:1}};let{state:s=l}=e,{isOpen:a=!1}=e,o={resolve:()=>i(),reject:()=>i()};function i(){t(1,a=!1)}const u=[g=>!!g||g==="0"||"Edge is required",g=>!isNaN(Number(g))||"Edge must be a number",g=>Number(g)>=0&&Number(g)<=100||"Edge must be between 0 and 100"],f=[g=>!!g||g==="0"||"Limit is required",g=>!isNaN(Number(g))||"Limit must be a number",g=>Number(g)>=0&&Number(g)<=5||"Limit must be between 0 and 5"];async function v(g){return t(1,a=!0),t(0,s={...l,...g}),new Promise((h,b)=>{t(2,o={resolve:P=>{i(),h(P)},reject:P=>{i(),b(P)}})})}function w(g){r.$$.not_equal(s.value.edge,g)&&(s.value.edge=g,t(0,s))}function C(g){r.$$.not_equal(s.value.limit,g)&&(s.value.limit=g,t(0,s))}const E=()=>o.reject(Qn),S=()=>o.resolve(s.value);function p(g){a=g,t(1,a)}return r.$$set=g=>{"state"in g&&t(0,s=g.state),"isOpen"in g&&t(1,a=g.isOpen)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=an(s.value.limit,f)!==!0||an(s.value.edge,u)!==!0)},[s,a,o,n,u,f,v,w,C,E,S,p]}class Il extends je{constructor(e){super(),Be(this,e,Cl,Dl,Se,{state:0,isOpen:1,prompt:6})}get prompt(){return this.$$.ctx[6]}}function El(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function Pl(r){return El(r,Date.now())}function Ee(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function Rt(r,e){const t=Ee(r),n=Ee(e),l=t.getTime()-n.getTime();return l<0?-1:l>0?1:l}const Ot=43200,Rn=1440;function Vl(r,e){const t=Ee(r),n=Ee(e),l=t.getFullYear()-n.getFullYear(),s=t.getMonth()-n.getMonth();return l*12+s}function Ll(r){const e=Ee(r);return e.setHours(23,59,59,999),e}function Ml(r){const e=Ee(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Sl(r){const e=Ee(r);return+Ll(e)==+Ml(e)}function jl(r,e){const t=Ee(r),n=Ee(e),l=Rt(t,n),s=Math.abs(Vl(t,n));let a;if(s<1)a=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-l*s);let o=Rt(t,n)===-l;Sl(Ee(r))&&s===1&&Rt(r,n)===1&&(o=!1),a=l*(s-Number(o))}return a===0?0:a}function Bl(r){return e=>{const n=(r?Math[r]:Math.trunc)(e);return n===0?0:n}}function ql(r,e){return+Ee(r)-+Ee(e)}function Tl(r,e,t){const n=ql(r,e)/1e3;return Bl(t?.roundingMethod)(n)}const Nl={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Al=(r,e,t)=>{let n;const l=Nl[r];return typeof l=="string"?n=l:e===1?n=l.one:n=l.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function ln(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Ol={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rl={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Fl={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wl={date:ln({formats:Ol,defaultWidth:"full"}),time:ln({formats:Rl,defaultWidth:"full"}),dateTime:ln({formats:Fl,defaultWidth:"full"})},Hl={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ul=(r,e,t,n)=>Hl[r];function yt(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let l;if(n==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,o=t?.width?String(t.width):a;l=r.formattingValues[o]||r.formattingValues[a]}else{const a=r.defaultWidth,o=t?.width?String(t.width):r.defaultWidth;l=r.values[o]||r.values[a]}const s=r.argumentCallback?r.argumentCallback(e):e;return l[s]}}const zl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yl={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zl={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ql={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jl=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Gl={ordinalNumber:Jl,era:yt({values:zl,defaultWidth:"wide"}),quarter:yt({values:Yl,defaultWidth:"wide",argumentCallback:r=>r-1}),month:yt({values:Xl,defaultWidth:"wide"}),day:yt({values:Zl,defaultWidth:"wide"}),dayPeriod:yt({values:Ql,defaultWidth:"wide",formattingValues:Kl,defaultFormattingWidth:"wide"})};function Dt(r){return(e,t={})=>{const n=t.width,l=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(l);if(!s)return null;const a=s[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],i=Array.isArray(o)?ea(o,v=>v.test(a)):xl(o,v=>v.test(a));let u;u=r.valueCallback?r.valueCallback(i):i,u=t.valueCallback?t.valueCallback(u):u;const f=e.slice(a.length);return{value:u,rest:f}}}function xl(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function ea(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function ta(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const l=n[0],s=e.match(r.parsePattern);if(!s)return null;let a=r.valueCallback?r.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(l.length);return{value:a,rest:o}}}const na=/^(\d+)(th|st|nd|rd)?/i,ra=/\d+/i,la={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aa={any:[/^b/i,/^(a|c)/i]},sa={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ia={any:[/1/i,/2/i,/3/i,/4/i]},oa={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ua={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ca={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fa={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},da={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ma={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ga={ordinalNumber:ta({matchPattern:na,parsePattern:ra,valueCallback:r=>parseInt(r,10)}),era:Dt({matchPatterns:la,defaultMatchWidth:"wide",parsePatterns:aa,defaultParseWidth:"any"}),quarter:Dt({matchPatterns:sa,defaultMatchWidth:"wide",parsePatterns:ia,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Dt({matchPatterns:oa,defaultMatchWidth:"wide",parsePatterns:ua,defaultParseWidth:"any"}),day:Dt({matchPatterns:ca,defaultMatchWidth:"wide",parsePatterns:fa,defaultParseWidth:"any"}),dayPeriod:Dt({matchPatterns:da,defaultMatchWidth:"any",parsePatterns:ma,defaultParseWidth:"any"})},va={code:"en-US",formatDistance:Al,formatLong:Wl,formatRelative:Ul,localize:Gl,match:ga,options:{weekStartsOn:0,firstWeekContainsDate:1}};let ha={};function pa(){return ha}function Fn(r){const e=Ee(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function _a(r,e,t){const n=pa(),l=t?.locale??n.locale??va,s=2520,a=Rt(r,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:a});let i,u;a>0?(i=Ee(e),u=Ee(r)):(i=Ee(r),u=Ee(e));const f=Tl(u,i),v=(Fn(u)-Fn(i))/1e3,w=Math.round((f-v)/60);let C;if(w<2)return t?.includeSeconds?f<5?l.formatDistance("lessThanXSeconds",5,o):f<10?l.formatDistance("lessThanXSeconds",10,o):f<20?l.formatDistance("lessThanXSeconds",20,o):f<40?l.formatDistance("halfAMinute",0,o):f<60?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",1,o):w===0?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",w,o);if(w<45)return l.formatDistance("xMinutes",w,o);if(w<90)return l.formatDistance("aboutXHours",1,o);if(w<Rn){const E=Math.round(w/60);return l.formatDistance("aboutXHours",E,o)}else{if(w<s)return l.formatDistance("xDays",1,o);if(w<Ot){const E=Math.round(w/Rn);return l.formatDistance("xDays",E,o)}else if(w<Ot*2)return C=Math.round(w/Ot),l.formatDistance("aboutXMonths",C,o)}if(C=jl(u,i),C<12){const E=Math.round(w/Ot);return l.formatDistance("xMonths",E,o)}else{const E=C%12,S=Math.trunc(C/12);return E<3?l.formatDistance("aboutXYears",S,o):E<9?l.formatDistance("overXYears",S,o):l.formatDistance("almostXYears",S+1,o)}}function $a(r,e){return _a(r,Pl(r),e)}function ba(r,e){if(!r)return new Date(0);const n=((r.voting_period.start_position+r.position+r.remaining??-1)-(e??r?.position??1))*lr;return new Date(Date.now()+n)}function ka(r,e){return r?(r.voting_period.start_position+r.position+r.remaining??0)-(e??0):"N/A"}function wa(r){return(BigInt(r)/10n**6n).toLocaleString()}function ya(r){const{proposals:e,voters:t}=r,n=t.reduce((l,s)=>l+BigInt(s.voting_power),0n);return{...r,proposals:e.map(l=>{const s=Number(BigInt(l.upvotes)*100000n/n)/1e3;return{...l,upvotes:wa(l.upvotes),percentage:Math.round(s*100)/100,percentageString:`${s}%`,quorumReached:BigInt(l.upvotes)>n/100n*$t}}).sort((l,s)=>BigInt(s.upvotes)>BigInt(l.upvotes)?1:-1)}}function Da(r){const{voters:e}=r,t=e.reduce((s,a)=>s+BigInt(a.voting_power),0n),n=BigInt(r.summary.yay)+BigInt(r.summary.nay),l=n+BigInt(r.summary.pass);return{...r,summary:{...r.summary,yayPercentage:Math.round(Number(BigInt(r.summary.yay)*100000n/t)/10)/100,nayPercentage:Math.round(Number(BigInt(r.summary.nay)*100000n/t)/10)/100,passPercentage:Math.round(Number(BigInt(r.summary.pass)*100000n/t)/10)/100},quorumReached:l>t*BigInt(r.quorum)/10000n,quorumPercentage:Math.min(Number(BigInt(r.summary.yay+r.summary.nay+r.summary.pass)*100000n/t)/1e3,100),requiredQuorumPercentage:Number(r.quorum)/100,majorityReached:BigInt(r.summary.yay)>=n*Ln/100n,majorityPercentage:Math.round(Number(BigInt(r.summary.yay)*100000n/n)/10)/100,requiredMajorityPercentage:Number(Ln)}}function Ca(r){let e,t,n="EXPLORER",l,s,a,o;return a=new vn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),A(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-323t9m"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=k(s);O(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){m(t,"class","label svelte-2vy38g"),m(s,"class","icon svelte-2vy38g"),m(e,"class","button-content svelte-2vy38g")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),R(a,s,null),o=!0},p:x,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function Ia(r){let e,t,n="AGORA",l,s,a,o;return a=new gn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),A(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=k(s);O(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){m(t,"class","label svelte-2vy38g"),m(s,"class","icon svelte-2vy38g"),m(e,"class","button-content svelte-2vy38g")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),R(a,s,null),o=!0},p:x,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function Ea(r){let e,t,n,l,s,a=r[0].proposal+"",o,i,u,f,v,w,C,E;return u=new de({props:{$$slots:{default:[Ca]},$$scope:{ctx:r}}}),u.$on("click",r[5]),v=new de({props:{$$slots:{default:[Ia]},$$scope:{ctx:r}}}),v.$on("click",r[6]),{c(){e=_("div"),t=_("div"),n=_("div"),l=_("div"),s=_("button"),o=j(a),i=L(),A(u.$$.fragment),f=L(),A(v.$$.fragment),this.h()},l(S){e=$(S,"DIV",{class:!0});var p=k(e);t=$(p,"DIV",{class:!0});var g=k(t);n=$(g,"DIV",{class:!0});var h=k(n);l=$(h,"DIV",{class:!0});var b=k(l);s=$(b,"BUTTON",{class:!0});var P=k(s);o=B(P,a),P.forEach(c),b.forEach(c),i=M(h),O(u.$$.fragment,h),f=M(h),O(v.$$.fragment,h),h.forEach(c),g.forEach(c),p.forEach(c),this.h()},h(){m(s,"class","unstyle-button"),m(l,"class","title svelte-2vy38g"),m(n,"class","proposal svelte-2vy38g"),m(t,"class","period svelte-2vy38g"),m(e,"class","period-wrap svelte-2vy38g")},m(S,p){y(S,e,p),d(e,t),d(t,n),d(n,l),d(l,s),d(s,o),d(n,i),R(u,n,null),d(n,f),R(v,n,null),w=!0,C||(E=fn(s,"click",r[4]),C=!0)},p(S,[p]){(!w||p&1)&&a!==(a=S[0].proposal+"")&&re(o,a);const g={};p&128&&(g.$$scope={dirty:p,ctx:S}),u.$set(g);const h={};p&128&&(h.$$scope={dirty:p,ctx:S}),v.$set(h)},i(S){w||(D(u.$$.fragment,S),D(v.$$.fragment,S),w=!0)},o(S){I(u.$$.fragment,S),I(v.$$.fragment,S),w=!1},d(S){S&&c(e),F(u),F(v),C=!1,E()}}}function Pa(r,e,t){let{periodIndex:n}=e,{period:l}=e;function s(){window.open(`${dn}/${l.proposal}`,"_blank")}function a(){window.open(`${mn}/${l.proposal}/${n}`,"_blank")}const o=()=>hn(l.proposal),i=()=>s(),u=()=>a();return r.$$set=f=>{"periodIndex"in f&&t(3,n=f.periodIndex),"period"in f&&t(0,l=f.period)},[l,s,a,n,o,i,u]}class Va extends je{constructor(e){super(),Be(this,e,Pa,Ea,Se,{periodIndex:3,period:0})}}function Wn(r,e,t){const n=r.slice();return n[38]=e[t],n}function Hn(r,e,t){const n=r.slice();return n[38]=e[t],n}function La(r){let e,t,n,l,s,a;return t=new pt({props:{$$slots:{default:[Aa]},$$scope:{ctx:r}}}),s=new pt({props:{$$slots:{default:[Za]},$$scope:{ctx:r}}}),{c(){e=_("div"),A(t.$$.fragment),n=L(),l=_("div"),A(s.$$.fragment),this.h()},l(o){e=$(o,"DIV",{class:!0});var i=k(e);O(t.$$.fragment,i),i.forEach(c),n=M(o),l=$(o,"DIV",{class:!0});var u=k(l);O(s.$$.fragment,u),u.forEach(c),this.h()},h(){m(e,"class","tools-wrap svelte-1rq3784"),m(l,"class","governance svelte-1rq3784")},m(o,i){y(o,e,i),R(t,e,null),y(o,n,i),y(o,l,i),R(s,l,null),a=!0},p(o,i){const u={};i[0]&3588|i[1]&4096&&(u.$$scope={dirty:i,ctx:o}),t.$set(u);const f={};i[0]&258086|i[1]&4096&&(f.$$scope={dirty:i,ctx:o}),s.$set(f)},i(o){a||(D(t.$$.fragment,o),D(s.$$.fragment,o),a=!0)},o(o){I(t.$$.fragment,o),I(s.$$.fragment,o),a=!1},d(o){o&&(c(e),c(n),c(l)),F(t),F(s)}}}function Ma(r){let e,t,n;return t=new Ht({props:{progress:"indeterminate",message:"Loading account..."}}),{c(){e=_("div"),A(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var s=k(e);O(t.$$.fragment,s),s.forEach(c),this.h()},h(){m(e,"class","loader svelte-1rq3784")},m(l,s){y(l,e,s),R(t,e,null),n=!0},p:x,i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){l&&c(e),F(t)}}}function Sa(r){let e,t,n,l,s="Account Management",a,o,i,u,f,v,w,C;t=new de({props:{$$slots:{default:[Ba]},$$scope:{ctx:r}}}),t.$on("click",r[19]);const E=[Na,Ta,qa],S=[];function p(g,h){return g[2]&&g[2].governance.delegate&&g[2].governance.delegate?.pkh===g[2]?.account.id?0:g[2].governance.delegate?1:2}return o=p(r),i=S[o]=E[o](r),f=new Ge({}),w=new de({props:{label:"Donate to TzC"}}),w.$on("click",r[23]),{c(){e=_("div"),A(t.$$.fragment),n=L(),l=_("h5"),l.textContent=s,a=L(),i.c(),u=L(),A(f.$$.fragment),v=L(),A(w.$$.fragment),this.h()},l(g){e=$(g,"DIV",{class:!0});var h=k(e);O(t.$$.fragment,h),h.forEach(c),n=M(g),l=$(g,"H5",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-1v3b9it"&&(l.textContent=s),a=M(g),i.l(g),u=M(g),O(f.$$.fragment,g),v=M(g),O(w.$$.fragment,g),this.h()},h(){m(e,"class","redo svelte-1rq3784"),m(l,"class","tools-title svelte-1rq3784")},m(g,h){y(g,e,h),R(t,e,null),y(g,n,h),y(g,l,h),y(g,a,h),S[o].m(g,h),y(g,u,h),R(f,g,h),y(g,v,h),R(w,g,h),C=!0},p(g,h){const b={};h[1]&4096&&(b.$$scope={dirty:h,ctx:g}),t.$set(b);let P=o;o=p(g),o===P?S[o].p(g,h):(Pe(),I(S[P],1,1,()=>{S[P]=null}),Ve(),i=S[o],i?i.p(g,h):(i=S[o]=E[o](g),i.c()),D(i,1),i.m(u.parentNode,u))},i(g){C||(D(t.$$.fragment,g),D(i),D(f.$$.fragment,g),D(w.$$.fragment,g),C=!0)},o(g){I(t.$$.fragment,g),I(i),I(f.$$.fragment,g),I(w.$$.fragment,g),C=!1},d(g){g&&(c(e),c(n),c(l),c(a),c(u),c(v)),F(t),S[o].d(g),F(f,g),F(w,g)}}}function ja(r){let e,t;return e=new Ht({props:{progress:"indeterminate",message:"Loading staking state..."}}),{c(){A(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p:x,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ba(r){let e,t,n;return t=new Gn({}),{c(){e=_("div"),A(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var s=k(e);O(t.$$.fragment,s),s.forEach(c),this.h()},h(){m(e,"class","icon svelte-1rq3784")},m(l,s){y(l,e,s),R(t,e,null),n=!0},p:x,i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){l&&c(e),F(t)}}}function qa(r){let e,t="You are not delegating and not a delegate. You have to delegate to stake.",n,l,s;return l=new de({props:{label:"Delegate"}}),l.$on("click",r[20]),{c(){e=_("div"),e.textContent=t,n=L(),A(l.$$.fragment),this.h()},l(a){e=$(a,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-kq5dty"&&(e.textContent=t),n=M(a),O(l.$$.fragment,a),this.h()},h(){m(e,"class","note svelte-1rq3784")},m(a,o){y(a,e,o),y(a,n,o),R(l,a,o),s=!0},p:x,i(a){s||(D(l.$$.fragment,a),s=!0)},o(a){I(l.$$.fragment,a),s=!1},d(a){a&&(c(e),c(n)),F(l,a)}}}function Ta(r){let e,t,n="<b>Balances</b>",l,s,a,o=at(r[2].account.balance)+"",i,u,f,v,w=at(r[2].account.stakedBalance)+"",C,E,S,p,g,h,b="<b>Delegate</b>",P,q,T=r[2].governance.delegate.pkh+"",V,N,U,Y,W,Z,te,le,ce,he,De=BigInt(r[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"",ve,$e,ie,ne,G,oe,me,H,J,Q,fe,se,z;p=new Ge({});let X=r[9]&&Un(r);return oe=new de({props:{label:"Stake"}}),oe.$on("click",r[21]),H=new de({props:{label:"Unstake"}}),H.$on("click",r[22]),Q=new de({props:{label:"Finalize Unstake"}}),Q.$on("click",r[24]),se=new de({props:{label:"Change Delegate"}}),se.$on("click",r[20]),{c(){e=_("div"),t=_("div"),t.innerHTML=n,l=L(),s=_("div"),a=j("Delegating: "),i=j(o),u=L(),f=_("div"),v=j("Staking: "),C=j(w),E=L(),S=_("div"),A(p.$$.fragment),g=L(),h=_("div"),h.innerHTML=b,P=L(),q=_("div"),V=j(T),N=L(),U=_("div"),Y=j("Staking Fee: "),W=j(r[11]),Z=L(),te=_("div"),le=j("Total Stake Capacity: "),ce=j(r[10]),he=j(" (multiplier: "),ve=j(De),$e=j("x)"),ie=L(),X&&X.c(),ne=L(),G=_("div"),A(oe.$$.fragment),me=L(),A(H.$$.fragment),J=L(),A(Q.$$.fragment),fe=L(),A(se.$$.fragment),this.h()},l(ee){e=$(ee,"DIV",{class:!0});var ae=k(e);t=$(ae,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-tn9pn6"&&(t.innerHTML=n),l=M(ae),s=$(ae,"DIV",{});var Re=k(s);a=B(Re,"Delegating: "),i=B(Re,o),Re.forEach(c),u=M(ae),f=$(ae,"DIV",{});var Me=k(f);v=B(Me,"Staking: "),C=B(Me,w),Me.forEach(c),E=M(ae),S=$(ae,"DIV",{class:!0});var ke=k(S);O(p.$$.fragment,ke),ke.forEach(c),g=M(ae),h=$(ae,"DIV",{class:!0,"data-svelte-h":!0}),ge(h)!=="svelte-s38838"&&(h.innerHTML=b),P=M(ae),q=$(ae,"DIV",{class:!0});var qe=k(q);V=B(qe,T),qe.forEach(c),N=M(ae),U=$(ae,"DIV",{});var Le=k(U);Y=B(Le,"Staking Fee: "),W=B(Le,r[11]),Le.forEach(c),Z=M(ae),te=$(ae,"DIV",{});var Fe=k(te);le=B(Fe,"Total Stake Capacity: "),ce=B(Fe,r[10]),he=B(Fe," (multiplier: "),ve=B(Fe,De),$e=B(Fe,"x)"),Fe.forEach(c),ie=M(ae),X&&X.l(ae),ae.forEach(c),ne=M(ee),G=$(ee,"DIV",{class:!0});var Ie=k(G);O(oe.$$.fragment,Ie),me=M(Ie),O(H.$$.fragment,Ie),J=M(Ie),O(Q.$$.fragment,Ie),Ie.forEach(c),fe=M(ee),O(se.$$.fragment,ee),this.h()},h(){m(t,"class","center pv-1 svelte-1rq3784"),m(S,"class","pv-1"),m(h,"class","center pv-1 svelte-1rq3784"),m(q,"class","delegate-address center pb-1 svelte-1rq3784"),m(e,"class","delegate-info svelte-1rq3784"),m(G,"class","tools svelte-1rq3784")},m(ee,ae){y(ee,e,ae),d(e,t),d(e,l),d(e,s),d(s,a),d(s,i),d(e,u),d(e,f),d(f,v),d(f,C),d(e,E),d(e,S),R(p,S,null),d(e,g),d(e,h),d(e,P),d(e,q),d(q,V),d(e,N),d(e,U),d(U,Y),d(U,W),d(e,Z),d(e,te),d(te,le),d(te,ce),d(te,he),d(te,ve),d(te,$e),d(e,ie),X&&X.m(e,null),y(ee,ne,ae),y(ee,G,ae),R(oe,G,null),d(G,me),R(H,G,null),d(G,J),R(Q,G,null),y(ee,fe,ae),R(se,ee,ae),z=!0},p(ee,ae){(!z||ae[0]&4)&&o!==(o=at(ee[2].account.balance)+"")&&re(i,o),(!z||ae[0]&4)&&w!==(w=at(ee[2].account.stakedBalance)+"")&&re(C,w),(!z||ae[0]&4)&&T!==(T=ee[2].governance.delegate.pkh+"")&&re(V,T),(!z||ae[0]&2048)&&re(W,ee[11]),(!z||ae[0]&1024)&&re(ce,ee[10]),(!z||ae[0]&4)&&De!==(De=BigInt(ee[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"")&&re(ve,De),ee[9]?X?(X.p(ee,ae),ae[0]&512&&D(X,1)):(X=Un(ee),X.c(),D(X,1),X.m(e,null)):X&&(Pe(),I(X,1,1,()=>{X=null}),Ve())},i(ee){z||(D(p.$$.fragment,ee),D(X),D(oe.$$.fragment,ee),D(H.$$.fragment,ee),D(Q.$$.fragment,ee),D(se.$$.fragment,ee),z=!0)},o(ee){I(p.$$.fragment,ee),I(X),I(oe.$$.fragment,ee),I(H.$$.fragment,ee),I(Q.$$.fragment,ee),I(se.$$.fragment,ee),z=!1},d(ee){ee&&(c(e),c(ne),c(G),c(fe)),F(p),X&&X.d(),F(oe),F(H),F(Q),F(se,ee)}}}function Na(r){let e,t="<b>You are a baker.</b>",n,l,s,a="<b>Balances</b>",o,i,u,f=at(r[2].account.balance)+"",v,w,C,E,S=at(r[2].account.stakedBalance)+"",p,g,h,b="<b>Delegate Parameters</b>",P,q,T,V,N,U,Y,W,Z,te=BigInt(r[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"",le,ce,he,De,ve,$e,ie,ne,G,oe,me,H,J,Q,fe,se=r[9]&&Yn(r);return ve=new de({props:{label:"Set Delegate Parameters"}}),ve.$on("click",r[25]),ne=new de({props:{label:"Stake"}}),ne.$on("click",r[21]),oe=new de({props:{label:"Unstake"}}),oe.$on("click",r[22]),H=new de({props:{label:"Finalize Unstake"}}),H.$on("click",r[24]),Q=new de({props:{label:"Update Consensus Key"}}),Q.$on("click",r[28]),{c(){e=_("div"),e.innerHTML=t,n=L(),l=_("div"),s=_("div"),s.innerHTML=a,o=L(),i=_("div"),u=j("Delegating: "),v=j(f),w=L(),C=_("div"),E=j("Staking: "),p=j(S),g=L(),h=_("div"),h.innerHTML=b,P=L(),q=_("div"),T=j("Staking Fee: "),V=j(r[11]),N=L(),U=_("div"),Y=j("Total Stake Capacity: "),W=j(r[10]),Z=j(" (multiplier: "),le=j(te),ce=j("x)"),he=L(),se&&se.c(),De=L(),A(ve.$$.fragment),$e=L(),ie=_("div"),A(ne.$$.fragment),G=L(),A(oe.$$.fragment),me=L(),A(H.$$.fragment),J=L(),A(Q.$$.fragment),this.h()},l(z){e=$(z,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-3ovq6r"&&(e.innerHTML=t),n=M(z),l=$(z,"DIV",{class:!0});var X=k(l);s=$(X,"DIV",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-tn9pn6"&&(s.innerHTML=a),o=M(X),i=$(X,"DIV",{});var ee=k(i);u=B(ee,"Delegating: "),v=B(ee,f),ee.forEach(c),w=M(X),C=$(X,"DIV",{});var ae=k(C);E=B(ae,"Staking: "),p=B(ae,S),ae.forEach(c),g=M(X),h=$(X,"DIV",{class:!0,"data-svelte-h":!0}),ge(h)!=="svelte-1et9d10"&&(h.innerHTML=b),P=M(X),q=$(X,"DIV",{});var Re=k(q);T=B(Re,"Staking Fee: "),V=B(Re,r[11]),Re.forEach(c),N=M(X),U=$(X,"DIV",{});var Me=k(U);Y=B(Me,"Total Stake Capacity: "),W=B(Me,r[10]),Z=B(Me," (multiplier: "),le=B(Me,te),ce=B(Me,"x)"),Me.forEach(c),he=M(X),se&&se.l(X),X.forEach(c),De=M(z),O(ve.$$.fragment,z),$e=M(z),ie=$(z,"DIV",{class:!0});var ke=k(ie);O(ne.$$.fragment,ke),G=M(ke),O(oe.$$.fragment,ke),me=M(ke),O(H.$$.fragment,ke),ke.forEach(c),J=M(z),O(Q.$$.fragment,z),this.h()},h(){m(e,"class","center svelte-1rq3784"),m(s,"class","center pv-1 svelte-1rq3784"),m(h,"class","center pv-1 svelte-1rq3784"),m(l,"class","delegate-info svelte-1rq3784"),m(ie,"class","tools svelte-1rq3784")},m(z,X){y(z,e,X),y(z,n,X),y(z,l,X),d(l,s),d(l,o),d(l,i),d(i,u),d(i,v),d(l,w),d(l,C),d(C,E),d(C,p),d(l,g),d(l,h),d(l,P),d(l,q),d(q,T),d(q,V),d(l,N),d(l,U),d(U,Y),d(U,W),d(U,Z),d(U,le),d(U,ce),d(l,he),se&&se.m(l,null),y(z,De,X),R(ve,z,X),y(z,$e,X),y(z,ie,X),R(ne,ie,null),d(ie,G),R(oe,ie,null),d(ie,me),R(H,ie,null),y(z,J,X),R(Q,z,X),fe=!0},p(z,X){(!fe||X[0]&4)&&f!==(f=at(z[2].account.balance)+"")&&re(v,f),(!fe||X[0]&4)&&S!==(S=at(z[2].account.stakedBalance)+"")&&re(p,S),(!fe||X[0]&2048)&&re(V,z[11]),(!fe||X[0]&1024)&&re(W,z[10]),(!fe||X[0]&4)&&te!==(te=BigInt(z[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"")&&re(le,te),z[9]?se?(se.p(z,X),X[0]&512&&D(se,1)):(se=Yn(z),se.c(),D(se,1),se.m(l,null)):se&&(Pe(),I(se,1,1,()=>{se=null}),Ve())},i(z){fe||(D(se),D(ve.$$.fragment,z),D(ne.$$.fragment,z),D(oe.$$.fragment,z),D(H.$$.fragment,z),D(Q.$$.fragment,z),fe=!0)},o(z){I(se),I(ve.$$.fragment,z),I(ne.$$.fragment,z),I(oe.$$.fragment,z),I(H.$$.fragment,z),I(Q.$$.fragment,z),fe=!1},d(z){z&&(c(e),c(n),c(l),c(De),c($e),c(ie),c(J)),se&&se.d(),F(ve,z),F(ne),F(oe),F(H),F(Q,z)}}}function Un(r){let e,t,n=_t(r[9]),l=[];for(let a=0;a<n.length;a+=1)l[a]=zn(Wn(r,n,a));const s=a=>I(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=Oe()},l(a){for(let o=0;o<l.length;o+=1)l[o].l(a);e=Oe()},m(a,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(a,o);y(a,e,o),t=!0},p(a,o){if(o[0]&516){n=_t(a[9]);let i;for(i=0;i<n.length;i+=1){const u=Wn(a,n,i);l[i]?(l[i].p(u,o),D(l[i],1)):(l[i]=zn(u),l[i].c(),D(l[i],1),l[i].m(e.parentNode,e))}for(Pe(),i=n.length;i<l.length;i+=1)s(i);Ve()}},i(a){if(!t){for(let o=0;o<n.length;o+=1)D(l[o]);t=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)I(l[o]);t=!1},d(a){a&&c(e),cn(l,a)}}}function zn(r){let e,t,n,l,s=r[38].cycle+"",a,o,i,u,f,v=It(r[38].edge_of_baking_over_staking_billionth)+"",w,C,E,S,p=Et((r[2]?.governance.delegate?.stakedBalance??0n)*BigInt(r[38].limit_of_staking_over_baking_millionth))+"",g,h,b=BigInt(r[38].limit_of_staking_over_baking_millionth)/1000000n+"",P,q,T;return e=new Ge({}),{c(){A(e.$$.fragment),t=L(),n=_("b"),l=j("Pending cycle "),a=j(s),o=j(":"),i=L(),u=_("div"),f=j("Staking Fee: "),w=j(v),C=L(),E=_("div"),S=j("Total Stake Capacity: "),g=j(p),h=j(" (mutliplier: "),P=j(b),q=j(`x)\r
										`)},l(V){O(e.$$.fragment,V),t=M(V),n=$(V,"B",{});var N=k(n);l=B(N,"Pending cycle "),a=B(N,s),o=B(N,":"),N.forEach(c),i=M(V),u=$(V,"DIV",{});var U=k(u);f=B(U,"Staking Fee: "),w=B(U,v),U.forEach(c),C=M(V),E=$(V,"DIV",{});var Y=k(E);S=B(Y,"Total Stake Capacity: "),g=B(Y,p),h=B(Y," (mutliplier: "),P=B(Y,b),q=B(Y,`x)\r
										`),Y.forEach(c)},m(V,N){R(e,V,N),y(V,t,N),y(V,n,N),d(n,l),d(n,a),d(n,o),y(V,i,N),y(V,u,N),d(u,f),d(u,w),y(V,C,N),y(V,E,N),d(E,S),d(E,g),d(E,h),d(E,P),d(E,q),T=!0},p(V,N){(!T||N[0]&512)&&s!==(s=V[38].cycle+"")&&re(a,s),(!T||N[0]&512)&&v!==(v=It(V[38].edge_of_baking_over_staking_billionth)+"")&&re(w,v),(!T||N[0]&516)&&p!==(p=Et((V[2]?.governance.delegate?.stakedBalance??0n)*BigInt(V[38].limit_of_staking_over_baking_millionth))+"")&&re(g,p),(!T||N[0]&512)&&b!==(b=BigInt(V[38].limit_of_staking_over_baking_millionth)/1000000n+"")&&re(P,b)},i(V){T||(D(e.$$.fragment,V),T=!0)},o(V){I(e.$$.fragment,V),T=!1},d(V){V&&(c(t),c(n),c(i),c(u),c(C),c(E)),F(e,V)}}}function Yn(r){let e,t,n,l;e=new Ge({});let s=_t(r[9]),a=[];for(let i=0;i<s.length;i+=1)a[i]=Xn(Hn(r,s,i));const o=i=>I(a[i],1,1,()=>{a[i]=null});return{c(){A(e.$$.fragment),t=L();for(let i=0;i<a.length;i+=1)a[i].c();n=Oe()},l(i){O(e.$$.fragment,i),t=M(i);for(let u=0;u<a.length;u+=1)a[u].l(i);n=Oe()},m(i,u){R(e,i,u),y(i,t,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,u);y(i,n,u),l=!0},p(i,u){if(u[0]&516){s=_t(i[9]);let f;for(f=0;f<s.length;f+=1){const v=Hn(i,s,f);a[f]?(a[f].p(v,u),D(a[f],1)):(a[f]=Xn(v),a[f].c(),D(a[f],1),a[f].m(n.parentNode,n))}for(Pe(),f=s.length;f<a.length;f+=1)o(f);Ve()}},i(i){if(!l){D(e.$$.fragment,i);for(let u=0;u<s.length;u+=1)D(a[u]);l=!0}},o(i){I(e.$$.fragment,i),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)I(a[u]);l=!1},d(i){i&&(c(t),c(n)),F(e,i),cn(a,i)}}}function Xn(r){let e,t,n=r[38].cycle+"",l,s,a,o,i,u=It(r[38].edge_of_baking_over_staking_billionth)+"",f,v,w,C,E=Et((r[2]?.governance.delegate?.stakedBalance??0n)*BigInt(r[38].limit_of_staking_over_baking_millionth))+"",S,p,g=BigInt(r[38].limit_of_staking_over_baking_millionth)/1000000n+"",h,b,P,q,T;return q=new Ge({}),{c(){e=_("b"),t=j("Pending cycle "),l=j(n),s=j(":"),a=L(),o=_("div"),i=j("Staking Fee: "),f=j(u),v=L(),w=_("div"),C=j("Total Stake Capacity: "),S=j(E),p=j(" (mutliplier: "),h=j(g),b=j("x)"),P=L(),A(q.$$.fragment)},l(V){e=$(V,"B",{});var N=k(e);t=B(N,"Pending cycle "),l=B(N,n),s=B(N,":"),N.forEach(c),a=M(V),o=$(V,"DIV",{});var U=k(o);i=B(U,"Staking Fee: "),f=B(U,u),U.forEach(c),v=M(V),w=$(V,"DIV",{});var Y=k(w);C=B(Y,"Total Stake Capacity: "),S=B(Y,E),p=B(Y," (mutliplier: "),h=B(Y,g),b=B(Y,"x)"),Y.forEach(c),P=M(V),O(q.$$.fragment,V)},m(V,N){y(V,e,N),d(e,t),d(e,l),d(e,s),y(V,a,N),y(V,o,N),d(o,i),d(o,f),y(V,v,N),y(V,w,N),d(w,C),d(w,S),d(w,p),d(w,h),d(w,b),y(V,P,N),R(q,V,N),T=!0},p(V,N){(!T||N[0]&512)&&n!==(n=V[38].cycle+"")&&re(l,n),(!T||N[0]&512)&&u!==(u=It(V[38].edge_of_baking_over_staking_billionth)+"")&&re(f,u),(!T||N[0]&516)&&E!==(E=Et((V[2]?.governance.delegate?.stakedBalance??0n)*BigInt(V[38].limit_of_staking_over_baking_millionth))+"")&&re(S,E),(!T||N[0]&512)&&g!==(g=BigInt(V[38].limit_of_staking_over_baking_millionth)/1000000n+"")&&re(h,g)},i(V){T||(D(q.$$.fragment,V),T=!0)},o(V){I(q.$$.fragment,V),T=!1},d(V){V&&(c(e),c(a),c(o),c(v),c(w),c(P)),F(q,V)}}}function Aa(r){let e,t,n,l;const s=[ja,Sa],a=[];function o(i,u){return i[2].isLoadingDelegate?0:1}return t=o(r),n=a[t]=s[t](r),{c(){e=_("div"),n.c(),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);n.l(u),u.forEach(c),this.h()},h(){m(e,"class","staking svelte-1rq3784")},m(i,u){y(i,e,u),a[t].m(e,null),l=!0},p(i,u){let f=t;t=o(i),t===f?a[t].p(i,u):(Pe(),I(a[f],1,1,()=>{a[f]=null}),Ve(),n=a[t],n?n.p(i,u):(n=a[t]=s[t](i),n.c()),D(n,1),n.m(e,null))},i(i){l||(D(n),l=!0)},o(i){I(n),l=!1},d(i){i&&c(e),a[t].d()}}}function Oa(r){let e,t,n,l,s;t=new de({props:{$$slots:{default:[Fa]},$$scope:{ctx:r}}}),t.$on("click",r[18]);let a=r[1]!==void 0&&Zn(r);return{c(){e=_("div"),A(t.$$.fragment),n=L(),a&&a.c(),l=Oe(),this.h()},l(o){e=$(o,"DIV",{class:!0});var i=k(e);O(t.$$.fragment,i),i.forEach(c),n=M(o),a&&a.l(o),l=Oe(),this.h()},h(){m(e,"class","redo svelte-1rq3784")},m(o,i){y(o,e,i),R(t,e,null),y(o,n,i),a&&a.m(o,i),y(o,l,i),s=!0},p(o,i){const u={};i[1]&4096&&(u.$$scope={dirty:i,ctx:o}),t.$set(u),o[1]!==void 0?a?(a.p(o,i),i[0]&2&&D(a,1)):(a=Zn(o),a.c(),D(a,1),a.m(l.parentNode,l)):a&&(Pe(),I(a,1,1,()=>{a=null}),Ve())},i(o){s||(D(t.$$.fragment,o),D(a),s=!0)},o(o){I(t.$$.fragment,o),I(a),s=!1},d(o){o&&(c(e),c(n),c(l)),F(t),a&&a.d(o)}}}function Ra(r){let e,t;return e=new Ht({props:{progress:"indeterminate",message:"Loading governance state..."}}),{c(){A(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p:x,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Fa(r){let e,t,n;return t=new Gn({}),{c(){e=_("div"),A(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var s=k(e);O(t.$$.fragment,s),s.forEach(c),this.h()},h(){m(e,"class","icon svelte-1rq3784")},m(l,s){y(l,e,s),R(t,e,null),n=!0},p:x,i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){l&&c(e),F(t)}}}function Zn(r){let e,t,n=r[1]?.info.voting_period.kind+"",l,s,a,o,i,u,f=r[1].info.voting_period.index+"",v,w,C,E,S,p,g,h,b,P;function q(W,Z){return W[13]?Ha:Wa}let T=q(r),V=T(r);S=new Ge({});const N=[Xa,Ya,za,Ua],U=[];function Y(W,Z){return W[17]!==void 0?0:W[16]!==void 0?1:W[15]!==void 0?2:3}return g=Y(r),h=U[g]=N[g](r),{c(){e=_("div"),t=_("h5"),l=j(n),s=j(" Period"),a=L(),o=_("div"),i=_("div"),u=j("#"),v=j(f),w=L(),C=_("div"),V.c(),E=L(),A(S.$$.fragment),p=L(),h.c(),b=Oe(),this.h()},l(W){e=$(W,"DIV",{class:!0});var Z=k(e);t=$(Z,"H5",{class:!0});var te=k(t);l=B(te,n),s=B(te," Period"),te.forEach(c),Z.forEach(c),a=M(W),o=$(W,"DIV",{class:!0});var le=k(o);i=$(le,"DIV",{class:!0});var ce=k(i);u=B(ce,"#"),v=B(ce,f),ce.forEach(c),w=M(le),C=$(le,"DIV",{class:!0});var he=k(C);V.l(he),he.forEach(c),le.forEach(c),E=M(W),O(S.$$.fragment,W),p=M(W),h.l(W),b=Oe(),this.h()},h(){m(t,"class","svelte-1rq3784"),m(e,"class","title svelte-1rq3784"),m(i,"class","governance-period-number svelte-1rq3784"),m(C,"class","governance-period-remaining svelte-1rq3784"),m(o,"class","governance-period-header svelte-1rq3784")},m(W,Z){y(W,e,Z),d(e,t),d(t,l),d(t,s),y(W,a,Z),y(W,o,Z),d(o,i),d(i,u),d(i,v),d(o,w),d(o,C),V.m(C,null),y(W,E,Z),R(S,W,Z),y(W,p,Z),U[g].m(W,Z),y(W,b,Z),P=!0},p(W,Z){(!P||Z[0]&2)&&n!==(n=W[1]?.info.voting_period.kind+"")&&re(l,n),(!P||Z[0]&2)&&f!==(f=W[1].info.voting_period.index+"")&&re(v,f),T===(T=q(W))&&V?V.p(W,Z):(V.d(1),V=T(W),V&&(V.c(),V.m(C,null)));let te=g;g=Y(W),g===te?U[g].p(W,Z):(Pe(),I(U[te],1,1,()=>{U[te]=null}),Ve(),h=U[g],h?h.p(W,Z):(h=U[g]=N[g](W),h.c()),D(h,1),h.m(b.parentNode,b))},i(W){P||(D(S.$$.fragment,W),D(h),P=!0)},o(W){I(S.$$.fragment,W),I(h),P=!1},d(W){W&&(c(e),c(a),c(o),c(E),c(p),c(b)),V.d(),F(S,W),U[g].d(W)}}}function Wa(r){let e,t,n,l;return{c(){e=j("ends in "),t=j(r[12]),n=j(" blocks ~ "),l=j(r[14])},l(s){e=B(s,"ends in "),t=B(s,r[12]),n=B(s," blocks ~ "),l=B(s,r[14])},m(s,a){y(s,e,a),y(s,t,a),y(s,n,a),y(s,l,a)},p(s,a){a[0]&4096&&re(t,s[12]),a[0]&16384&&re(l,s[14])},d(s){s&&(c(e),c(t),c(n),c(l))}}}function Ha(r){let e;return{c(){e=j("ended")},l(t){e=B(t,"ended")},m(t,n){y(t,e,n)},p:x,d(t){t&&c(e)}}}function Ua(r){let e,t=r[1].info.voting_period.kind+"",n,l;return{c(){e=_("div"),n=j(t),l=j(" is not supported yet"),this.h()},l(s){e=$(s,"DIV",{class:!0});var a=k(e);n=B(a,t),l=B(a," is not supported yet"),a.forEach(c),this.h()},h(){m(e,"class","error-message svelte-1rq3784")},m(s,a){y(s,e,a),d(e,n),d(e,l)},p(s,a){a[0]&2&&t!==(t=s[1].info.voting_period.kind+"")&&re(n,t)},i:x,o:x,d(s){s&&c(e)}}}function za(r){let e,t;return e=new Va({props:{period:r[15],periodIndex:r[1].info.voting_period.index}}),{c(){A(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p(n,l){const s={};l[0]&32768&&(s.period=n[15]),l[0]&2&&(s.periodIndex=n[1].info.voting_period.index),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ya(r){let e,t;return e=new ol({props:{period:r[16],periodIndex:r[1].info.voting_period.index,pkh:r[2]?.account.id,canVote:r[5]}}),e.$on("vote",r[26]),e.$on("upvote",r[27]),{c(){A(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p(n,l){const s={};l[0]&65536&&(s.period=n[16]),l[0]&2&&(s.periodIndex=n[1].info.voting_period.index),l[0]&4&&(s.pkh=n[2]?.account.id),l[0]&32&&(s.canVote=n[5]),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Xa(r){let e,t;return e=new Yr({props:{period:r[17],periodIndex:r[1].info.voting_period.index,pkh:r[2]?.account.id,canVote:r[5]}}),e.$on("vote",r[26]),e.$on("upvote",r[27]),{c(){A(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p(n,l){const s={};l[0]&131072&&(s.period=n[17]),l[0]&2&&(s.periodIndex=n[1].info.voting_period.index),l[0]&4&&(s.pkh=n[2]?.account.id),l[0]&32&&(s.canVote=n[5]),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Za(r){let e,t,n,l;const s=[Ra,Oa],a=[];function o(i,u){return i[2]?.governance?.loadingPeriod?0:1}return t=o(r),n=a[t]=s[t](r),{c(){e=_("div"),n.c(),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=k(e);n.l(u),u.forEach(c),this.h()},h(){m(e,"class","governance-period svelte-1rq3784")},m(i,u){y(i,e,u),a[t].m(e,null),l=!0},p(i,u){let f=t;t=o(i),t===f?a[t].p(i,u):(Pe(),I(a[f],1,1,()=>{a[f]=null}),Ve(),n=a[t],n?n.p(i,u):(n=a[t]=s[t](i),n.c()),D(n,1),n.m(e,null))},i(i){l||(D(n),l=!0)},o(i){I(n),l=!1},d(i){i&&c(e),a[t].d()}}}function Qa(r){let e,t,n,l,s,a,o,i,u,f,v;const w=[Ma,La],C=[];function E(b,P){return b[2]&&b[2].isInitializing?0:b[2]?1:-1}~(t=E(r))&&(n=C[t]=w[t](r));let S={};s=new kr({props:S}),r[32](s);let p={};o=new Il({props:p}),r[33](o);function g(b){r[34](b)}let h={opHash:r[8],error:r[6],allowClose:!1,stage:r[7]};return r[0]!==void 0&&(h.open=r[0]),u=new bl({props:h}),Ae.push(()=>Je(u,"open",g)),{c(){e=_("div"),n&&n.c(),l=L(),A(s.$$.fragment),a=L(),A(o.$$.fragment),i=L(),A(u.$$.fragment),this.h()},l(b){e=$(b,"DIV",{class:!0});var P=k(e);n&&n.l(P),P.forEach(c),l=M(b),O(s.$$.fragment,b),a=M(b),O(o.$$.fragment,b),i=M(b),O(u.$$.fragment,b),this.h()},h(){m(e,"class","home-wrap svelte-1rq3784")},m(b,P){y(b,e,P),~t&&C[t].m(e,null),y(b,l,P),R(s,b,P),y(b,a,P),R(o,b,P),y(b,i,P),R(u,b,P),v=!0},p(b,P){let q=t;t=E(b),t===q?~t&&C[t].p(b,P):(n&&(Pe(),I(C[q],1,1,()=>{C[q]=null}),Ve()),~t?(n=C[t],n?n.p(b,P):(n=C[t]=w[t](b),n.c()),D(n,1),n.m(e,null)):n=null);const T={};s.$set(T);const V={};o.$set(V);const N={};P[0]&256&&(N.opHash=b[8]),P[0]&64&&(N.error=b[6]),P[0]&128&&(N.stage=b[7]),!f&&P[0]&1&&(f=!0,N.open=b[0],Ke(()=>f=!1)),u.$set(N)},i(b){v||(D(n),D(s.$$.fragment,b),D(o.$$.fragment,b),D(u.$$.fragment,b),v=!0)},o(b){I(n),I(s.$$.fragment,b),I(o.$$.fragment,b),I(u.$$.fragment,b),v=!1},d(b){b&&(c(e),c(l),c(a),c(i)),~t&&C[t].d(),r[32](null),F(s,b),r[33](null),F(o,b),F(u,b)}}}function Ka(r,e,t){let n,l,s,a,o,i,u,f,v,w,C,E,S,p;er(r,ye,H=>t(2,p=H));let g,h,b,P,q="building",T,V=!1;async function N(){await ye.refreshGovernanceState()}async function U(){await ye.refreshDelegate()}async function Y(H){try{t(0,V=!0),t(7,q="building");const J=await H(),Q=await J.send();t(8,T=Q.ophash),t(7,q="confirming"),await J.confirmation(),t(7,q="applied")}catch(J){t(7,q="failed"),t(6,P=J.message)}}async function W(){const H=await g.prompt({title:"Delegate",message:"Enter the address you want to delegate to",value:"",rules:[J=>!!J&&J!==""||"Address can not be empty",J=>ar(J)===3||"Invalid address"],confirmText:"Delegate"});await Y(async()=>await ye.delegate(H)),await ye.refreshDelegate()}const Z=[H=>!!H||"Amount can not be empty",H=>!isNaN(Number(H))||"Amount must be a number",H=>Number(H)>0||"Amount must be greater than 0",H=>BigInt(H)<Number(p?.account.balance??0n)/wt||"Amount must be less than your balance"];async function te(){const H=await g.prompt({title:"Stake",message:"Enter the amount you want to stake",value:"0",rules:Z,confirmText:"Stake"}),J=BigInt(Number(H)*wt);await Y(async()=>await ye.stake(J)),await Promise.allSettled([ye.refreshDelegate(),ye.refreshBalance()])}const le=[H=>!!H||"Amount can not be empty",H=>!isNaN(Number(H))||"Amount must be a number",H=>Number(H)>0||"Amount must be greater than 0",H=>BigInt(H)<Number(p?.account.stakedBalance??0n)/wt||"Amount must be less than your balance"];async function ce(){const H=await g.prompt({title:"Unstake",message:"Enter the amount you want to unstake",value:"0",rules:le,confirmText:"Unstake"}),J=BigInt(Number(H)*wt);await Y(async()=>await ye.unstake(J)),await Promise.allSettled([ye.refreshDelegate(),ye.refreshBalance()])}async function he(){const H=await g.prompt({title:"Donate",message:"Enter the amount you want to donate",value:"1",rules:Z,confirmText:"Donate"}),J=BigInt(Number(H)*wt);await Y(async()=>await ye.donate(J)),await ye.refreshBalance()}async function De(){await Y(async()=>await ye.finalizeUnstake()),await ye.refreshDelegate()}async function ve(){const H=p?.governance.delegate?.activeStakingParameters,J=p?.governance.delegate?.pendingStakingParameters;let Q=H?H.edge_of_baking_over_staking_billionth/1e7:0;const fe=ir(J);fe&&(Q=fe.edge_of_baking_over_staking_billionth/1e7);let se=H?H.limit_of_staking_over_baking_millionth/1e6:0;fe&&(se=fe.limit_of_staking_over_baking_millionth/1e6);const{edge:z,limit:X}=await h.prompt({value:{edge:Q,limit:se}});await Y(async()=>await ye.setDelegateParameters(z/100,X)),await ye.refreshDelegate()}async function $e(H){await Y(async()=>await ye.vote(H.detail.proposal,H.detail.ballot,H.detail.period))}async function ie(H){await Y(async()=>await ye.upvote(H.detail.proposals,H.detail.period))}async function ne(){const H=await g.prompt({title:"Update Consensus Key",message:"Enter the new consensus key",value:"",rules:[J=>!!J||"Key can not be empty",J=>sr(J)===3||"Invalid public key"],confirmText:"Update Consensus Key"});await Y(async()=>await ye.updateConesusKey(H)),await ye.refreshDelegate()}function G(H){Ae[H?"unshift":"push"](()=>{g=H,t(3,g)})}function oe(H){Ae[H?"unshift":"push"](()=>{h=H,t(4,h)})}function me(H){V=H,t(0,V)}return r.$$.update=()=>{r.$$.dirty[0]&4&&t(1,n=p?.governance?.period),r.$$.dirty[0]&2&&t(31,l=n?.voters??[]),r.$$.dirty[0]&4|r.$$.dirty[1]&1&&t(5,b=l.find(H=>H.pkh===p?.account.id)!==void 0),r.$$.dirty[0]&2&&t(17,s=n?.info.voting_period.kind==="proposal"?ya(n):void 0),r.$$.dirty[0]&2&&t(16,a=["exploration","promotion"].includes(n?.info.voting_period.kind??"unknown")?Da(n):void 0),r.$$.dirty[0]&2&&t(15,o=["testing","adoption"].includes(n?.info.voting_period.kind??"unknown")?n:void 0),r.$$.dirty[0]&2&&t(29,i=n?.block),r.$$.dirty[0]&536870914&&t(30,u=ba(n?.info,i)),r.$$.dirty[0]&1073741824&&t(14,f=$a(u,{addSuffix:!0})),r.$$.dirty[0]&1073741824&&t(13,v=u<new Date),r.$$.dirty[0]&536870914&&t(12,w=n?.info&&ka(n?.info,i)),r.$$.dirty[0]&1&&(V||(t(6,P=void 0),t(8,T=void 0),t(7,q="building"))),r.$$.dirty[0]&4&&t(11,C=It(p?.governance.delegate?.activeStakingParameters?.edge_of_baking_over_staking_billionth??0)),r.$$.dirty[0]&4&&t(10,E=Et((p?.governance.delegate?.stakedBalance??0n)*BigInt(p?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0))),r.$$.dirty[0]&4&&t(9,S=p?.governance.delegate?.pendingStakingParameters??[])},[V,n,p,g,h,b,P,q,T,S,E,C,w,v,f,o,a,s,N,U,W,te,ce,he,De,ve,$e,ie,ne,i,u,l,G,oe,me]}class es extends je{constructor(e){super(),Be(this,e,Ka,Qa,Se,{},null,[-1,-1])}}export{es as component};
