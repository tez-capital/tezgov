import{s as Ne,r as Fe,O as Je,P as en,e as _,a as L,c as $,b,g as M,f as c,p as g,q as Ft,Q as Pe,i as k,h as d,R as tn,S as nn,T as rn,t as T,d as B,j as ne,l as We,U as xn,V as un,N as me,K as be,L as ke,n as x,W as cn,X as fn,k as er}from"../chunks/scheduler.ByQKukMK.js";import{S as Ae,i as Oe,f as Ge,b as O,d as R,m as q,a as w,t as C,e as F,g as Se,c as je}from"../chunks/index.Bt0gTvVl.js";import{ae as Wt,af as an,ag as Qn,ah as $t,ai as ue,aj as Et,ak as tr,al as nr,am as sn,an as rr,ao as dn,ap as mn,aq as gn,ar as bt,as as He,at as kt,au as Ht,av as lr,aw as Ln,ax as Pt,ay as Vt,az as we,aA as ar,aB as Dt,aC as sr,aD as st}from"../chunks/Input.BvvNKFTd.js";function ir(r){var e=r==null?0:r.length;return e?r[e-1]:void 0}const or=r=>r&1,ur=r=>({}),Mn=r=>({...r[0]}),cr=r=>r&1,fr=r=>({}),Sn=r=>({...r[0]}),dr=r=>r&1,mr=r=>({}),jn=r=>({...r[0]});function gr(r){let e,t=r[0].title+"",n;return{c(){e=_("h3"),n=T(t),this.h()},l(l){e=$(l,"H3",{class:!0});var s=b(e);n=B(s,t),s.forEach(c),this.h()},h(){g(e,"class","title svelte-1igllg9")},m(l,s){k(l,e,s),d(e,n)},p(l,s){s&1&&t!==(t=l[0].title+"")&&ne(n,t)},d(l){l&&c(e)}}}function Tn(r){let e,t=r[0].message+"",n;return{c(){e=_("p"),n=T(t),this.h()},l(l){e=$(l,"P",{class:!0});var s=b(e);n=B(s,t),s.forEach(c),this.h()},h(){g(e,"class","message svelte-1igllg9")},m(l,s){k(l,e,s),d(e,n)},p(l,s){s&1&&t!==(t=l[0].message+"")&&ne(n,t)},d(l){l&&c(e)}}}function vr(r){let e,t=r[0].message&&Tn(r);return{c(){t&&t.c(),e=We()},l(n){t&&t.l(n),e=We()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,l){n[0].message?t?t.p(n,l):(t=Tn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&c(e),t&&t.d(n)}}}function hr(r){let e,t,n;const l=[r[0],{noLabel:!0}];function s(o){r[6](o)}let a={};for(let o=0;o<l.length;o+=1)a=xn(a,l[o]);return r[0].value!==void 0&&(a.value=r[0].value),e=new Et({props:a}),Fe.push(()=>Ge(e,"value",s)),{c(){O(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,i){q(e,o,i),n=!0},p(o,i){const u=i&1?tr(l,[nr(o[0]),l[1]]):{};!t&&i&1&&(t=!0,u.value=o[0].value,Je(()=>t=!1)),e.$set(u)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){F(e,o)}}}function pr(r){let e,t,n,l,s,a,o,i,u,f,h;const y=r[5].title,D=en(y,r,r[10],jn),I=D||gr(r),V=r[5].message,E=en(V,r,r[10],Sn),m=E||vr(r),v=r[5].value,p=en(v,r,r[10],Mn),P=p||hr(r);return o=new ue({props:{label:r[0].cancelText}}),o.$on("click",r[7]),f=new ue({props:{label:r[0].confirmText}}),f.$on("click",r[8]),{c(){e=_("div"),I&&I.c(),t=L(),m&&m.c(),n=L(),P&&P.c(),l=L(),s=_("div"),a=_("div"),O(o.$$.fragment),i=L(),u=_("div"),O(f.$$.fragment),this.h()},l(j){e=$(j,"DIV",{class:!0});var N=b(e);I&&I.l(N),t=M(N),m&&m.l(N),n=M(N),P&&P.l(N),l=M(N),s=$(N,"DIV",{class:!0});var S=b(s);a=$(S,"DIV",{class:!0});var A=b(a);R(o.$$.fragment,A),A.forEach(c),i=M(S),u=$(S,"DIV",{class:!0});var z=b(u);R(f.$$.fragment,z),z.forEach(c),S.forEach(c),N.forEach(c),this.h()},h(){g(a,"class","control-button svelte-1igllg9"),Ft(a,"grid-column","1"),g(u,"class","control-button svelte-1igllg9"),Pe(u,"disabled",r[3]),Ft(u,"grid-column","3"),g(s,"class","controls padding-top svelte-1igllg9"),g(e,"class","prompt-wrap svelte-1igllg9")},m(j,N){k(j,e,N),I&&I.m(e,null),d(e,t),m&&m.m(e,null),d(e,n),P&&P.m(e,null),d(e,l),d(e,s),d(s,a),q(o,a,null),d(s,i),d(s,u),q(f,u,null),h=!0},p(j,N){D?D.p&&(!h||N&1025)&&tn(D,y,j,j[10],dr(N)||!h?nn(j[10]):rn(y,j[10],N,mr),jn):I&&I.p&&(!h||N&1)&&I.p(j,h?N:-1),E?E.p&&(!h||N&1025)&&tn(E,V,j,j[10],cr(N)||!h?nn(j[10]):rn(V,j[10],N,fr),Sn):m&&m.p&&(!h||N&1)&&m.p(j,h?N:-1),p?p.p&&(!h||N&1025)&&tn(p,v,j,j[10],or(N)||!h?nn(j[10]):rn(v,j[10],N,ur),Mn):P&&P.p&&(!h||N&1)&&P.p(j,h?N:-1);const S={};N&1&&(S.label=j[0].cancelText),o.$set(S);const A={};N&1&&(A.label=j[0].confirmText),f.$set(A),(!h||N&8)&&Pe(u,"disabled",j[3])},i(j){h||(w(I,j),w(m,j),w(P,j),w(o.$$.fragment,j),w(f.$$.fragment,j),h=!0)},o(j){C(I,j),C(m,j),C(P,j),C(o.$$.fragment,j),C(f.$$.fragment,j),h=!1},d(j){j&&c(e),I&&I.d(j),m&&m.d(j),P&&P.d(j),F(o),F(f)}}}function _r(r){let e,t;return e=new $t({props:{$$slots:{default:[pr]},$$scope:{ctx:r}}}),{c(){O(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&1037&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function $r(r){let e,t,n;function l(a){r[9](a)}let s={persistent:!0,$$slots:{default:[_r]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.open=r[1]),e=new Wt({props:s}),Fe.push(()=>Ge(e,"open",l)),{c(){O(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,o){q(e,a,o),n=!0},p(a,[o]){const i={};o&1037&&(i.$$scope={dirty:o,ctx:a}),!t&&o&2&&(t=!0,i.open=a[1],Je(()=>t=!1)),e.$set(i)},i(a){n||(w(e.$$.fragment,a),n=!0)},o(a){C(e.$$.fragment,a),n=!1},d(a){F(e,a)}}}function br(r,e,t){let n,{$$slots:l={},$$scope:s}=e;const a={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let{state:o=a}=e,{isOpen:i=!1}=e,u={resolve:()=>f(),reject:()=>f()};function f(){t(1,i=!1)}async function h(E){return t(1,i=!0),t(0,o={...a,...E}),new Promise((m,v)=>{t(2,u={resolve:p=>{f(),m(p)},reject:p=>{f(),v(p)}})})}function y(E){r.$$.not_equal(o.value,E)&&(o.value=E,t(0,o))}const D=()=>u.reject(Qn),I=()=>u.resolve(o.value);function V(E){i=E,t(1,i)}return r.$$set=E=>{"state"in E&&t(0,o=E.state),"isOpen"in E&&t(1,i=E.isOpen),"$$scope"in E&&t(10,s=E.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=an(o.value,o.rules)!==!0)},[o,i,u,n,h,l,y,D,I,V,s]}class kr extends Ae{constructor(e){super(),Oe(this,e,br,$r,Ne,{state:0,isOpen:1,prompt:4})}get prompt(){return this.$$.ctx[4]}}const on="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",wr=34,yr=51,Dr=r=>{let e=0n;for(const t of r)e*=58n,e+=BigInt(on.indexOf(t));return e},Bn=r=>{const e=[];for(;r>0n;)e.push(Number(r%256n)),r=r/256n;return e.reverse()},Cr=r=>{const e=wr,t=Dr(r),n=rr.decode(r).length+1,l=BigInt(8*(e-n+4)),s=yr-r.length;let a=t*58n**BigInt(s);a=a>>l,a+=a===a>>l<<l?0n:1n;let o=(t+1n)*58n**BigInt(s)-(1n<<l)+1n;if(o=o>>l,o>=a){const i=Uint8Array.from(Array.from({...Bn(a),length:e}).map(y=>y===void 0?0:y)),u=sn.encode(i);if(!u.startsWith(r)||u.length!==s+r.length)return null;const f=Uint8Array.from(Array.from({...Bn(a),length:e}).map(y=>y===void 0?255:y)),h=sn.encode(f);return!h.startsWith(r)||h.length!==s+r.length?null:i}return null},Ir=r=>{let e="Pt1";for(const n of r){if(on.includes(n)){e+=n;continue}if(on.includes(n.toLowerCase())){e+=n.toLowerCase();continue}}const t=Cr(e);return t===null?[!1,"Can not generate protocol hash from provided message"]:[!0,sn.encode(new Uint8Array(t))]};function Er(r){let e,t,n="New Proposal",l,s,a,o,i=`If you want to make a statement, write it in the <b>statement</b> field; this will generate
					a proposal hash for you.`,u,f,h=`To inject a proper protocol upgrade proposal, write the hash in the <b>new proposal</b>
					field and leave <b>statement</b> blank.`,y,D,I="*<b>Please refrain from using this feature for spamming.</b>",V,E,m="**Remember that you can propose or vote for a proposal only <b>10 times per period</b>.",v,p,P,j,N,S,A,z,Y,H,Q,te,re,oe,_e;function Ee(le){r[6](le)}let $e={label:"Statement"};r[1]!==void 0&&($e.value=r[1]),j=new Et({props:$e}),Fe.push(()=>Ge(j,"value",Ee));function ye(le){r[7](le)}let fe={label:"New Proposal",hint:"You can provide proposal hash",rules:r[5]};return r[2]!==void 0&&(fe.value=r[2]),A=new Et({props:fe}),Fe.push(()=>Ge(A,"value",ye)),Q=new ue({props:{label:"Cancel"}}),Q.$on("click",r[8]),oe=new ue({props:{label:"Inject"}}),oe.$on("click",r[4]),{c(){e=_("div"),t=_("b"),t.textContent=n,l=L(),s=_("div"),a=L(),o=_("div"),o.innerHTML=i,u=L(),f=_("div"),f.innerHTML=h,y=L(),D=_("div"),D.innerHTML=I,V=L(),E=_("div"),E.innerHTML=m,v=L(),p=_("div"),P=L(),O(j.$$.fragment),S=L(),O(A.$$.fragment),Y=L(),H=_("div"),O(Q.$$.fragment),te=L(),re=_("div"),O(oe.$$.fragment),this.h()},l(le){e=$(le,"DIV",{class:!0});var J=b(e);t=$(J,"B",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-1e5a96z"&&(t.textContent=n),l=M(J),s=$(J,"DIV",{}),b(s).forEach(c),a=M(J),o=$(J,"DIV",{class:!0,"data-svelte-h":!0}),me(o)!=="svelte-1vty4mc"&&(o.innerHTML=i),u=M(J),f=$(J,"DIV",{class:!0,"data-svelte-h":!0}),me(f)!=="svelte-acrdcg"&&(f.innerHTML=h),y=M(J),D=$(J,"DIV",{class:!0,"data-svelte-h":!0}),me(D)!=="svelte-1c5d71w"&&(D.innerHTML=I),V=M(J),E=$(J,"DIV",{class:!0,"data-svelte-h":!0}),me(E)!=="svelte-1e6wult"&&(E.innerHTML=m),v=M(J),p=$(J,"DIV",{}),b(p).forEach(c),P=M(J),R(j.$$.fragment,J),S=M(J),R(A.$$.fragment,J),Y=M(J),H=$(J,"DIV",{class:!0});var ge=b(H);R(Q.$$.fragment,ge),te=M(ge),re=$(ge,"DIV",{});var se=b(re);R(oe.$$.fragment,se),se.forEach(c),ge.forEach(c),J.forEach(c),this.h()},h(){g(t,"class","title svelte-sbi72s"),g(o,"class","text"),g(f,"class","text"),g(D,"class","text"),g(E,"class","text"),Pe(re,"disabled",!r[3]),g(H,"class","controls svelte-sbi72s"),g(e,"class","content svelte-sbi72s")},m(le,J){k(le,e,J),d(e,t),d(e,l),d(e,s),d(e,a),d(e,o),d(e,u),d(e,f),d(e,y),d(e,D),d(e,V),d(e,E),d(e,v),d(e,p),d(e,P),q(j,e,null),d(e,S),q(A,e,null),d(e,Y),d(e,H),q(Q,H,null),d(H,te),d(H,re),q(oe,re,null),_e=!0},p(le,J){const ge={};!N&&J&2&&(N=!0,ge.value=le[1],Je(()=>N=!1)),j.$set(ge);const se={};!z&&J&4&&(z=!0,se.value=le[2],Je(()=>z=!1)),A.$set(se),(!_e||J&8)&&Pe(re,"disabled",!le[3])},i(le){_e||(w(j.$$.fragment,le),w(A.$$.fragment,le),w(Q.$$.fragment,le),w(oe.$$.fragment,le),_e=!0)},o(le){C(j.$$.fragment,le),C(A.$$.fragment,le),C(Q.$$.fragment,le),C(oe.$$.fragment,le),_e=!1},d(le){le&&c(e),F(j),F(A),F(Q),F(oe)}}}function Pr(r){let e,t,n;return t=new $t({props:{$$slots:{default:[Er]},$$scope:{ctx:r}}}),{c(){e=_("div"),O(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var s=b(e);R(t.$$.fragment,s),s.forEach(c),this.h()},h(){g(e,"class","center svelte-sbi72s")},m(l,s){k(l,e,s),q(t,e,null),n=!0},p(l,s){const a={};s&1039&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){n||(w(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),F(t)}}}function Vr(r){let e,t;return e=new Wt({props:{open:r[0],persistent:!0,$$slots:{default:[Pr]},$$scope:{ctx:r}}}),{c(){O(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.open=n[0]),l&1039&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Lr(r,e,t){let n,{open:l=!1}=e,s="",a="";const o=un();async function i(){o("upvote",{proposal:a}),t(0,l=!1)}const u=[D=>!!D||"proposal can not be empty",D=>D.startsWith("P")||"proposal has to start with P"];function f(D){s=D,t(1,s),t(0,l)}function h(D){a=D,t(2,a),t(0,l),t(1,s)}const y=()=>t(0,l=!1);return r.$$set=D=>{"open"in D&&t(0,l=D.open)},r.$$.update=()=>{if(r.$$.dirty&1&&l&&(t(1,s=""),t(2,a="")),r.$$.dirty&2&&s){const[D,I]=Ir(s);D&&t(2,a=I)}r.$$.dirty&4&&t(3,n=u.every(D=>D(a)===!0))},[l,s,a,n,i,u,f,h,y]}class Mr extends Ae{constructor(e){super(),Oe(this,e,Lr,Vr,Ne,{open:0})}}function Sr(r){let e,t;return{c(){e=be("svg"),t=be("path"),this.h()},l(n){e=ke(n,"svg",{xmlns:!0,viewBox:!0});var l=b(e);t=ke(l,"path",{d:!0}),b(t).forEach(c),l.forEach(c),this.h()},h(){g(t,"d","M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 32 32")},m(n,l){k(n,e,l),d(e,t)},p:x,i:x,o:x,d(n){n&&c(e)}}}class Ut extends Ae{constructor(e){super(),Oe(this,e,null,Sr,Ne,{})}}function jr(r){let e,t;return{c(){e=be("svg"),t=be("path"),this.h()},l(n){e=ke(n,"svg",{xmlns:!0,viewBox:!0});var l=b(e);t=ke(l,"path",{d:!0}),b(t).forEach(c),l.forEach(c),this.h()},h(){g(t,"d","M 3 6 L 3 25 L 13 25 C 14.101563 25 15 25.898438 15 27 L 17 27 C 17 25.898438 17.898438 25 19 25 L 29 25 L 29 6 L 19 6 C 17.808594 6 16.734375 6.527344 16 7.359375 C 15.265625 6.527344 14.191406 6 13 6 Z M 5 8 L 13 8 C 14.101563 8 15 8.898438 15 10 L 17 10 C 17 8.898438 17.898438 8 19 8 L 27 8 L 27 23 L 19 23 C 17.808594 23 16.734375 23.527344 16 24.359375 C 15.265625 23.527344 14.191406 23 13 23 L 5 23 Z M 15 12 L 15 14 L 17 14 L 17 12 Z M 15 16 L 15 18 L 17 18 L 17 16 Z M 15 20 L 15 22 L 17 22 L 17 20 Z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 32 32")},m(n,l){k(n,e,l),d(e,t)},p:x,i:x,o:x,d(n){n&&c(e)}}}class vn extends Ae{constructor(e){super(),Oe(this,e,null,jr,Ne,{})}}function Tr(r){let e,t;return{c(){e=be("svg"),t=be("path"),this.h()},l(n){e=ke(n,"svg",{xmlns:!0,viewBox:!0});var l=b(e);t=ke(l,"path",{d:!0}),b(t).forEach(c),l.forEach(c),this.h()},h(){g(t,"d","M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 32 32")},m(n,l){k(n,e,l),d(e,t)},p:x,i:x,o:x,d(n){n&&c(e)}}}class hn extends Ae{constructor(e){super(),Oe(this,e,null,Tr,Ne,{})}}function Nn(r,e,t){const n=r.slice();return n[16]=e[t],n}function Br(r){let e,t,n,l,s=bt(r[2].proposals),a=[];for(let i=0;i<s.length;i+=1)a[i]=An(Nn(r,s,i));const o=i=>C(a[i],1,1,()=>{a[i]=null});return n=new He({}),{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=L(),t=_("div"),O(n.$$.fragment),this.h()},l(i){for(let f=0;f<a.length;f+=1)a[f].l(i);e=M(i),t=$(i,"DIV",{class:!0});var u=b(t);R(n.$$.fragment,u),u.forEach(c),this.h()},h(){g(t,"class","separator svelte-1yewxu8")},m(i,u){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,u);k(i,e,u),k(i,t,u),q(n,t,null),l=!0},p(i,u){if(u&119){s=bt(i[2].proposals);let f;for(f=0;f<s.length;f+=1){const h=Nn(i,s,f);a[f]?(a[f].p(h,u),w(a[f],1)):(a[f]=An(h),a[f].c(),w(a[f],1),a[f].m(e.parentNode,e))}for(Se(),f=s.length;f<a.length;f+=1)o(f);je()}},i(i){if(!l){for(let u=0;u<s.length;u+=1)w(a[u]);w(n.$$.fragment,i),l=!0}},o(i){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)C(a[u]);C(n.$$.fragment,i),l=!1},d(i){i&&(c(e),c(t)),cn(a,i),F(n)}}}function Nr(r){let e;return{c(){e=T("no proposals")},l(t){e=B(t,"no proposals")},m(t,n){k(t,e,n)},p:x,i:x,o:x,d(t){t&&c(e)}}}function Ar(r){let e,t,n;return{c(){e=T("(needs "),t=T(kt),n=T("%)")},l(l){e=B(l,"(needs "),t=B(l,kt),n=B(l,"%)")},m(l,s){k(l,e,s),k(l,t,s),k(l,n,s)},d(l){l&&(c(e),c(t),c(n))}}}function Or(r){let e,t,n;return{c(){e=T("("),t=T(kt),n=T("% reached)")},l(l){e=B(l,"("),t=B(l,kt),n=B(l,"% reached)")},m(l,s){k(l,e,s),k(l,t,s),k(l,n,s)},d(l){l&&(c(e),c(t),c(n))}}}function Rr(r){let e,t,n="EXPLORER",l,s,a,o;return a=new hn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),O(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-323t9m"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=b(s);R(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){g(t,"class","label svelte-1yewxu8"),g(s,"class","icon svelte-1yewxu8"),g(e,"class","button-content svelte-1yewxu8")},m(i,u){k(i,e,u),d(e,t),d(e,l),d(e,s),q(a,s,null),o=!0},p:x,i(i){o||(w(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function qr(r){let e,t,n="AGORA",l,s,a,o;return a=new vn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),O(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=b(s);R(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){g(t,"class","label svelte-1yewxu8"),g(s,"class","icon svelte-1yewxu8"),g(e,"class","button-content svelte-1yewxu8")},m(i,u){k(i,e,u),d(e,t),d(e,l),d(e,s),q(a,s,null),o=!0},p:x,i(i){o||(w(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function Fr(r){let e,t;function n(){return r[11](r[16])}return e=new ue({props:{$$slots:{default:[Hr]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){O(e.$$.fragment)},l(l){R(e.$$.fragment,l)},m(l,s){q(e,l,s),t=!0},p(l,s){r=l;const a={};s&524288&&(a.$$scope={dirty:s,ctx:r}),e.$set(a)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Wr(r){let e,t,n="UPVOTED",l,s,a,o;return a=new Ut({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),O(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-ctwuaa"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=b(s);R(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){g(t,"class","label svelte-1yewxu8"),g(s,"class","icon svelte-1yewxu8"),g(e,"class","button-content upvoted svelte-1yewxu8")},m(i,u){k(i,e,u),d(e,t),d(e,l),d(e,s),q(a,s,null),o=!0},p:x,i(i){o||(w(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function Hr(r){let e,t,n="UPVOTE",l,s,a,o;return a=new Ut({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),O(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-y6ircw"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=b(s);R(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){g(t,"class","label svelte-1yewxu8"),g(s,"class","icon svelte-1yewxu8"),g(e,"class","button-content svelte-1yewxu8")},m(i,u){k(i,e,u),d(e,t),d(e,l),d(e,s),q(a,s,null),o=!0},p:x,i(i){o||(w(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function An(r){let e,t,n,l=r[16].proposal+"",s,a,o,i=r[16].upvotes+"",u,f,h=r[16].percentage+"",y,D,I,V,E,m,v,p,P,j,N,S,A,z,Y,H,Q,te,re,oe,_e;function Ee(){return r[8](r[16])}function $e(W,U){return W[16].quorumReached?Or:Ar}let ye=$e(r),fe=ye(r);function le(){return r[9](r[16])}N=new ue({props:{$$slots:{default:[Rr]},$$scope:{ctx:r}}}),N.$on("click",le);function J(){return r[10](r[16])}A=new ue({props:{$$slots:{default:[qr]},$$scope:{ctx:r}}}),A.$on("click",J);const ge=[Wr,Fr],se=[];function ve(W,U){return U&5&&(H=null),H==null&&(H=!!(W[0]&&W[2].votes&&W[2].votes[W[16].proposal].includes(W[0]))),H?0:1}return Q=ve(r,-1),te=se[Q]=ge[Q](r),{c(){e=_("div"),t=_("div"),n=_("button"),s=T(l),a=L(),o=_("div"),u=T(i),f=T(" upvotes ~ "),y=T(h),D=T(`%\r
						`),fe.c(),I=L(),V=_("div"),E=be("svg"),m=be("rect"),v=be("rect"),P=be("rect"),j=L(),O(N.$$.fragment),S=L(),O(A.$$.fragment),z=L(),Y=_("div"),te.c(),this.h()},l(W){e=$(W,"DIV",{class:!0});var U=b(e);t=$(U,"DIV",{class:!0});var pe=b(t);n=$(pe,"BUTTON",{class:!0});var de=b(n);s=B(de,l),de.forEach(c),pe.forEach(c),a=M(U),o=$(U,"DIV",{class:!0});var ce=b(o);u=B(ce,i),f=B(ce," upvotes ~ "),y=B(ce,h),D=B(ce,`%\r
						`),fe.l(ce),ce.forEach(c),I=M(U),V=$(U,"DIV",{class:!0});var ae=b(V);E=ke(ae,"svg",{width:!0,height:!0});var X=b(E);m=ke(X,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),b(m).forEach(c),v=ke(X,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),b(v).forEach(c),P=ke(X,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),b(P).forEach(c),X.forEach(c),ae.forEach(c),j=M(U),R(N.$$.fragment,U),S=M(U),R(A.$$.fragment,U),z=M(U),Y=$(U,"DIV",{class:!0});var ee=b(Y);te.l(ee),ee.forEach(c),U.forEach(c),this.h()},h(){g(n,"class","unstyle-button"),g(t,"class","title svelte-1yewxu8"),g(o,"class","upvotes svelte-1yewxu8"),g(m,"width","100%"),g(m,"y","5"),g(m,"height","5"),g(m,"fill","#e6e6e6"),g(m,"rx","2"),g(m,"ry","2"),g(v,"width",p=r[16].percentageString),g(v,"y","5"),g(v,"height","5"),g(v,"fill","var(--progress-color)"),g(v,"rx","2"),g(v,"ry","2"),g(P,"width","3"),g(P,"height","15"),g(P,"x",`${kt}%`),g(P,"fill","var(--progress-color)"),g(P,"rx","2"),g(P,"ry","2"),g(E,"width","100%"),g(E,"height","15"),g(V,"class","upvote-bar svelte-1yewxu8"),g(Y,"class","upvote-btn svelte-1yewxu8"),Pe(Y,"disabled",!r[0]||!r[1]),g(e,"class","proposal svelte-1yewxu8"),Pe(e,"success",r[16].quorumReached)},m(W,U){k(W,e,U),d(e,t),d(t,n),d(n,s),d(e,a),d(e,o),d(o,u),d(o,f),d(o,y),d(o,D),fe.m(o,null),d(e,I),d(e,V),d(V,E),d(E,m),d(E,v),d(E,P),d(e,j),q(N,e,null),d(e,S),q(A,e,null),d(e,z),d(e,Y),se[Q].m(Y,null),re=!0,oe||(_e=fn(n,"click",Ee),oe=!0)},p(W,U){r=W,(!re||U&4)&&l!==(l=r[16].proposal+"")&&ne(s,l),(!re||U&4)&&i!==(i=r[16].upvotes+"")&&ne(u,i),(!re||U&4)&&h!==(h=r[16].percentage+"")&&ne(y,h),ye!==(ye=$e(r))&&(fe.d(1),fe=ye(r),fe&&(fe.c(),fe.m(o,null))),(!re||U&4&&p!==(p=r[16].percentageString))&&g(v,"width",p);const pe={};U&524288&&(pe.$$scope={dirty:U,ctx:r}),N.$set(pe);const de={};U&524288&&(de.$$scope={dirty:U,ctx:r}),A.$set(de);let ce=Q;Q=ve(r,U),Q===ce?se[Q].p(r,U):(Se(),C(se[ce],1,1,()=>{se[ce]=null}),je(),te=se[Q],te?te.p(r,U):(te=se[Q]=ge[Q](r),te.c()),w(te,1),te.m(Y,null)),(!re||U&3)&&Pe(Y,"disabled",!r[0]||!r[1]),(!re||U&4)&&Pe(e,"success",r[16].quorumReached)},i(W){re||(w(N.$$.fragment,W),w(A.$$.fragment,W),w(te),re=!0)},o(W){C(N.$$.fragment,W),C(A.$$.fragment,W),C(te),re=!1},d(W){W&&c(e),fe.d(),F(N),F(A),se[Q].d(),oe=!1,_e()}}}function Ur(r){let e,t,n,l,s,a,o,i,u,f,h;const y=[Nr,Br],D=[];function I(m,v){return m[2].proposals.length===0?0:1}n=I(r),l=D[n]=y[n](r),o=new ue({props:{label:"New Proposal"}}),o.$on("click",r[12]);function V(m){r[13](m)}let E={};return r[3]!==void 0&&(E.open=r[3]),u=new Mr({props:E}),Fe.push(()=>Ge(u,"open",V)),u.$on("upvote",r[14]),{c(){e=_("div"),t=_("div"),l.c(),s=L(),a=_("div"),O(o.$$.fragment),i=L(),O(u.$$.fragment),this.h()},l(m){e=$(m,"DIV",{class:!0});var v=b(e);t=$(v,"DIV",{class:!0});var p=b(t);l.l(p),p.forEach(c),s=M(v),a=$(v,"DIV",{class:!0});var P=b(a);R(o.$$.fragment,P),P.forEach(c),v.forEach(c),i=M(m),R(u.$$.fragment,m),this.h()},h(){g(t,"class","proposal-period svelte-1yewxu8"),g(a,"class","new-proposal svelte-1yewxu8"),Pe(a,"disabled",!r[0]||!r[1]),g(e,"class","proposal-period-wrap svelte-1yewxu8")},m(m,v){k(m,e,v),d(e,t),D[n].m(t,null),d(e,s),d(e,a),q(o,a,null),k(m,i,v),q(u,m,v),h=!0},p(m,[v]){let p=n;n=I(m),n===p?D[n].p(m,v):(Se(),C(D[p],1,1,()=>{D[p]=null}),je(),l=D[n],l?l.p(m,v):(l=D[n]=y[n](m),l.c()),w(l,1),l.m(t,null)),(!h||v&3)&&Pe(a,"disabled",!m[0]||!m[1]);const P={};!f&&v&8&&(f=!0,P.open=m[3],Je(()=>f=!1)),u.$set(P)},i(m){h||(w(l),w(o.$$.fragment,m),w(u.$$.fragment,m),h=!0)},o(m){C(l),C(o.$$.fragment,m),C(u.$$.fragment,m),h=!1},d(m){m&&(c(e),c(i)),D[n].d(),F(o),F(u,m)}}}function zr(r,e,t){let{pkh:n}=e,{canVote:l}=e,{periodIndex:s}=e,{period:a}=e,o=!1;const i=un();function u(p){window.open(`${dn}/${p}`,"_blank")}function f(p){window.open(`${mn}/${p}/${s}`,"_blank")}async function h(p){i("upvote",{proposals:p,period:a.info.voting_period.index})}const y=p=>gn(p.proposal),D=p=>u(p.proposal),I=p=>f(p.proposal),V=p=>h([p.proposal]),E=()=>t(3,o=!0);function m(p){o=p,t(3,o)}const v=p=>h(p.detail.proposals);return r.$$set=p=>{"pkh"in p&&t(0,n=p.pkh),"canVote"in p&&t(1,l=p.canVote),"periodIndex"in p&&t(7,s=p.periodIndex),"period"in p&&t(2,a=p.period)},[n,l,a,o,u,f,h,s,y,D,I,V,E,m,v]}class Yr extends Ae{constructor(e){super(),Oe(this,e,zr,Ur,Ne,{pkh:0,canVote:1,periodIndex:7,period:2})}}function Xr(r){let e,t;return{c(){e=be("svg"),t=be("path"),this.h()},l(n){e=ke(n,"svg",{xmlns:!0,viewBox:!0});var l=b(e);t=ke(l,"path",{d:!0}),b(t).forEach(c),l.forEach(c),this.h()},h(){g(t,"d","M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 32 32")},m(n,l){k(n,e,l),d(e,t)},p:x,i:x,o:x,d(n){n&&c(e)}}}class Kn extends Ae{constructor(e){super(),Oe(this,e,null,Xr,Ne,{})}}function Zr(r){let e,t;return{c(){e=be("svg"),t=be("path"),this.h()},l(n){e=ke(n,"svg",{xmlns:!0,viewBox:!0});var l=b(e);t=ke(l,"path",{d:!0}),b(t).forEach(c),l.forEach(c),this.h()},h(){g(t,"d","M 16 6 C 14.9375 6 14.003906 6.5625 13.46875 7.40625 C 13.03125 7.15625 12.535156 7 12 7 C 10.355469 7 9 8.355469 9 10 L 9 13.65625 L 8.875 13.8125 C 8.800781 13.898438 8.730469 13.976563 8.65625 14.0625 C 8.144531 14.660156 7.65625 15.292969 7.21875 15.9375 L 6.90625 16.34375 C 6.480469 16.894531 6.21875 17.535156 6.09375 18.1875 C 6.078125 18.261719 6.042969 18.332031 6.03125 18.40625 C 5.855469 19.652344 6.226563 20.949219 7.09375 21.9375 L 9.46875 24.625 C 10.796875 26.136719 12.707031 27 14.71875 27 L 20 27 C 23.855469 27 27 23.855469 27 20 L 27 11 C 27 9.355469 25.644531 8 24 8 C 23.464844 8 22.96875 8.15625 22.53125 8.40625 C 21.996094 7.5625 21.0625 7 20 7 C 19.464844 7 18.96875 7.15625 18.53125 7.40625 C 17.996094 6.5625 17.0625 6 16 6 Z M 16 8 C 16.566406 8 17 8.433594 17 9 L 17 11.1875 C 16.683594 11.074219 16.351563 11 16 11 L 15 11 L 15 9 C 15 8.433594 15.433594 8 16 8 Z M 12 9 C 12.566406 9 13 9.433594 13 10 L 13 11 L 11.59375 11 L 11.3125 11.28125 C 11.3125 11.28125 11.085938 11.511719 11 11.59375 L 11 10 C 11 9.433594 11.433594 9 12 9 Z M 20 9 C 20.566406 9 21 9.433594 21 10 L 21 13 C 21 13.566406 20.566406 14 20 14 C 19.433594 14 19 13.566406 19 13 L 19 10 C 19 9.433594 19.433594 9 20 9 Z M 24 10 C 24.566406 10 25 10.433594 25 11 L 25 13 C 25 13.566406 24.566406 14 24 14 C 23.433594 14 23 13.566406 23 13 L 23 11 C 23 10.433594 23.433594 10 24 10 Z M 12.4375 13 L 16 13 C 16.5625 13 17 13.4375 17 14 C 17 14.5625 16.5625 15 16 15 L 12.875 15 L 12.59375 15.375 L 10.25 18.34375 L 11.8125 19.59375 L 13.65625 17.28125 C 14.015625 17.449219 14.425781 17.699219 14.875 18.0625 C 15.941406 18.929688 17 20.347656 17 23 L 19 23 C 19 20.132813 17.855469 18.15625 16.59375 16.9375 C 17.402344 16.769531 18.101563 16.273438 18.53125 15.59375 C 18.96875 15.84375 19.464844 16 20 16 C 20.765625 16 21.46875 15.699219 22 15.21875 C 22.53125 15.699219 23.234375 16 24 16 C 24.351563 16 24.683594 15.925781 25 15.8125 L 25 20 C 25 22.773438 22.773438 25 20 25 L 14.71875 25 C 13.28125 25 11.917969 24.394531 10.96875 23.3125 L 8.59375 20.59375 C 8.164063 20.105469 7.964844 19.507813 8 18.90625 C 8 18.898438 8.027344 18.832031 8.03125 18.8125 C 8.035156 18.78125 8.027344 18.75 8.03125 18.71875 C 8.078125 18.5 8.230469 18.078125 8.5625 17.53125 C 8.605469 17.460938 8.671875 17.382813 8.71875 17.3125 L 10.1875 15.375 C 11.292969 14.082031 12.214844 13.210938 12.4375 13 Z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 32 32")},m(n,l){k(n,e,l),d(e,t)},p:x,i:x,o:x,d(n){n&&c(e)}}}class Jn extends Ae{constructor(e){super(),Oe(this,e,null,Zr,Ne,{})}}function Qr(r){let e,t=r[2].requiredQuorumPercentage+"",n,l;return{c(){e=T("(needs "),n=T(t),l=T("%)")},l(s){e=B(s,"(needs "),n=B(s,t),l=B(s,"%)")},m(s,a){k(s,e,a),k(s,n,a),k(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredQuorumPercentage+"")&&ne(n,t)},d(s){s&&(c(e),c(n),c(l))}}}function Kr(r){let e,t=r[2].requiredQuorumPercentage+"",n,l;return{c(){e=T("("),n=T(t),l=T("% reached)")},l(s){e=B(s,"("),n=B(s,t),l=B(s,"% reached)")},m(s,a){k(s,e,a),k(s,n,a),k(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredQuorumPercentage+"")&&ne(n,t)},d(s){s&&(c(e),c(n),c(l))}}}function Jr(r){let e,t=r[2].requiredMajorityPercentage+"",n,l;return{c(){e=T("(required "),n=T(t),l=T("%)")},l(s){e=B(s,"(required "),n=B(s,t),l=B(s,"%)")},m(s,a){k(s,e,a),k(s,n,a),k(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredMajorityPercentage+"")&&ne(n,t)},d(s){s&&(c(e),c(n),c(l))}}}function Gr(r){let e,t=r[2].requiredMajorityPercentage+"",n,l;return{c(){e=T("("),n=T(t),l=T("% reached)")},l(s){e=B(s,"("),n=B(s,t),l=B(s,"% reached)")},m(s,a){k(s,e,a),k(s,n,a),k(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredMajorityPercentage+"")&&ne(n,t)},d(s){s&&(c(e),c(n),c(l))}}}function xr(r){let e,t,n="EXPLORER",l,s,a,o;return a=new hn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),O(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-323t9m"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=b(s);R(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){g(t,"class","label svelte-3bkjph"),g(s,"class","icon svelte-3bkjph"),g(e,"class","button-content svelte-3bkjph")},m(i,u){k(i,e,u),d(e,t),d(e,l),d(e,s),q(a,s,null),o=!0},p:x,i(i){o||(w(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function el(r){let e,t,n="AGORA",l,s,a,o;return a=new vn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),O(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=b(s);R(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){g(t,"class","label svelte-3bkjph"),g(s,"class","icon svelte-3bkjph"),g(e,"class","button-content svelte-3bkjph")},m(i,u){k(i,e,u),d(e,t),d(e,l),d(e,s),q(a,s,null),o=!0},p:x,i(i){o||(w(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function tl(r){let e,t,n,l,s,a,o,i,u;return t=new ue({props:{$$slots:{default:[rl]},$$scope:{ctx:r}}}),t.$on("click",r[11]),s=new ue({props:{$$slots:{default:[ll]},$$scope:{ctx:r}}}),s.$on("click",r[12]),i=new ue({props:{$$slots:{default:[al]},$$scope:{ctx:r}}}),i.$on("click",r[13]),{c(){e=_("div"),O(t.$$.fragment),n=L(),l=_("div"),O(s.$$.fragment),a=L(),o=_("div"),O(i.$$.fragment),this.h()},l(f){e=$(f,"DIV",{class:!0});var h=b(e);R(t.$$.fragment,h),h.forEach(c),n=M(f),l=$(f,"DIV",{class:!0});var y=b(l);R(s.$$.fragment,y),y.forEach(c),a=M(f),o=$(f,"DIV",{class:!0});var D=b(o);R(i.$$.fragment,D),D.forEach(c),this.h()},h(){g(e,"class","nay svelte-3bkjph"),g(l,"class","pass svelte-3bkjph"),g(o,"class","yay svelte-3bkjph")},m(f,h){k(f,e,h),q(t,e,null),k(f,n,h),k(f,l,h),q(s,l,null),k(f,a,h),k(f,o,h),q(i,o,null),u=!0},p(f,h){const y={};h&32768&&(y.$$scope={dirty:h,ctx:f}),t.$set(y);const D={};h&32768&&(D.$$scope={dirty:h,ctx:f}),s.$set(D);const I={};h&32768&&(I.$$scope={dirty:h,ctx:f}),i.$set(I)},i(f){u||(w(t.$$.fragment,f),w(s.$$.fragment,f),w(i.$$.fragment,f),u=!0)},o(f){C(t.$$.fragment,f),C(s.$$.fragment,f),C(i.$$.fragment,f),u=!1},d(f){f&&(c(e),c(n),c(l),c(a),c(o)),F(t),F(s),F(i)}}}function nl(r){let e,t,n,l=r[3].ballot+"",s;return{c(){e=_("div"),t=T("You voted: "),n=_("div"),s=T(l),this.h()},l(a){e=$(a,"DIV",{class:!0});var o=b(e);t=B(o,"You voted: "),n=$(o,"DIV",{class:!0});var i=b(n);s=B(i,l),i.forEach(c),o.forEach(c),this.h()},h(){g(n,"class","ballot svelte-3bkjph"),g(e,"class","existing-vote svelte-3bkjph")},m(a,o){k(a,e,o),d(e,t),d(e,n),d(n,s)},p(a,o){o&8&&l!==(l=a[3].ballot+"")&&ne(s,l)},i:x,o:x,d(a){a&&c(e)}}}function rl(r){let e,t,n="NAY",l,s,a,o;return a=new Kn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),O(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=b(s);R(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){g(t,"class","label svelte-3bkjph"),g(s,"class","icon svelte-3bkjph"),g(e,"class","button-content svelte-3bkjph")},m(i,u){k(i,e,u),d(e,t),d(e,l),d(e,s),q(a,s,null),o=!0},p:x,i(i){o||(w(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function ll(r){let e,t,n="NAY",l,s,a,o;return a=new Jn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),O(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=b(s);R(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){g(t,"class","label svelte-3bkjph"),g(s,"class","icon svelte-3bkjph"),g(e,"class","button-content svelte-3bkjph")},m(i,u){k(i,e,u),d(e,t),d(e,l),d(e,s),q(a,s,null),o=!0},p:x,i(i){o||(w(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function al(r){let e,t,n="NAY",l,s,a,o;return a=new Ut({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),O(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=b(s);R(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){g(t,"class","label svelte-3bkjph"),g(s,"class","icon svelte-3bkjph"),g(e,"class","button-content svelte-3bkjph")},m(i,u){k(i,e,u),d(e,t),d(e,l),d(e,s),q(a,s,null),o=!0},p:x,i(i){o||(w(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function sl(r){let e,t,n,l,s,a=r[2].proposal+"",o,i,u,f,h=r[2].summary.nay+"",y,D,I=r[2].summary.nayPercentage+"",V,E,m,v,p,P,j=r[2].summary.pass+"",N,S,A=r[2].summary.passPercentage+"",z,Y,H,Q,te,re,oe=r[2].summary.yayPercentage+"",_e,Ee,$e=r[2].summary.nayPercentage+"",ye,fe,le,J,ge,se,ve,W,U,pe,de="Quorum",ce,ae,X=r[2].quorumPercentage+"",ee,Ve,he,Z,G,De,lt,Be,it,Te,Ue,Le,Lt,zt,Qe,ot,pn="Supermajority",Yt,xe,wt=r[2].majorityPercentage+"",Mt,Xt,Zt,et,Ke,ze,St,Ye,jt,Qt,tt,Kt,nt,Jt,ct,ut,Gt,rt,Re,qe,Ce,xt,_n;v=new Kn({}),Q=new Jn({}),J=new Ut({}),ve=new He({});function $n(K,ie){return K[2].quorumReached?Kr:Qr}let Tt=$n(r),Xe=Tt(r);function bn(K,ie){return K[2].majorityReached?Gr:Jr}let Bt=bn(r),Ze=Bt(r);tt=new ue({props:{$$slots:{default:[xr]},$$scope:{ctx:r}}}),tt.$on("click",r[9]),nt=new ue({props:{$$slots:{default:[el]},$$scope:{ctx:r}}}),nt.$on("click",r[10]),ut=new He({});const kn=[nl,tl],at=[];function wn(K,ie){return K[3]?0:1}return Re=wn(r),qe=at[Re]=kn[Re](r),{c(){e=_("div"),t=_("div"),n=_("div"),l=_("div"),s=_("button"),o=T(a),i=L(),u=_("div"),f=_("div"),y=T(h),D=T(" ("),V=T(I),E=T(` %)\r
					`),m=_("div"),O(v.$$.fragment),p=L(),P=_("div"),N=T(j),S=T(" ("),z=T(A),Y=T(` %)\r
					`),H=_("div"),O(Q.$$.fragment),te=L(),re=_("div"),_e=T(oe),Ee=T(" ("),ye=T($e),fe=T(` %)\r
					`),le=_("div"),O(J.$$.fragment),ge=L(),se=_("div"),O(ve.$$.fragment),W=L(),U=_("div"),pe=_("div"),pe.textContent=de,ce=L(),ae=_("div"),ee=T(X),Ve=T(` %\r
					`),Xe.c(),he=L(),Z=be("svg"),G=be("rect"),De=be("rect"),Be=be("rect"),Te=be("rect"),Le=be("rect"),zt=L(),Qe=_("div"),ot=_("div"),ot.textContent=pn,Yt=L(),xe=_("div"),Mt=T(wt),Xt=L(),Ze.c(),Zt=L(),et=be("svg"),Ke=be("rect"),ze=be("rect"),Ye=be("rect"),Qt=L(),O(tt.$$.fragment),Kt=L(),O(nt.$$.fragment),Jt=L(),ct=_("div"),O(ut.$$.fragment),Gt=L(),rt=_("div"),qe.c(),this.h()},l(K){e=$(K,"DIV",{class:!0});var ie=b(e);t=$(ie,"DIV",{class:!0});var yt=b(t);n=$(yt,"DIV",{class:!0});var Ie=b(n);l=$(Ie,"DIV",{class:!0});var ft=b(l);s=$(ft,"BUTTON",{class:!0});var yn=b(s);o=B(yn,a),yn.forEach(c),ft.forEach(c),i=M(Ie),u=$(Ie,"DIV",{class:!0});var dt=b(u);f=$(dt,"DIV",{class:!0});var mt=b(f);y=B(mt,h),D=B(mt," ("),V=B(mt,I),E=B(mt,` %)\r
					`),m=$(mt,"DIV",{class:!0});var Dn=b(m);R(v.$$.fragment,Dn),Dn.forEach(c),mt.forEach(c),p=M(dt),P=$(dt,"DIV",{class:!0});var gt=b(P);N=B(gt,j),S=B(gt," ("),z=B(gt,A),Y=B(gt,` %)\r
					`),H=$(gt,"DIV",{class:!0});var Cn=b(H);R(Q.$$.fragment,Cn),Cn.forEach(c),gt.forEach(c),te=M(dt),re=$(dt,"DIV",{class:!0});var vt=b(re);_e=B(vt,oe),Ee=B(vt," ("),ye=B(vt,$e),fe=B(vt,` %)\r
					`),le=$(vt,"DIV",{class:!0});var In=b(le);R(J.$$.fragment,In),In.forEach(c),vt.forEach(c),dt.forEach(c),ge=M(Ie),se=$(Ie,"DIV",{class:!0});var En=b(se);R(ve.$$.fragment,En),En.forEach(c),W=M(Ie),U=$(Ie,"DIV",{class:!0});var ht=b(U);pe=$(ht,"DIV",{class:!0,"data-svelte-h":!0}),me(pe)!=="svelte-j8l648"&&(pe.textContent=de),ce=M(ht),ae=$(ht,"DIV",{class:!0});var Nt=b(ae);ee=B(Nt,X),Ve=B(Nt,` %\r
					`),Xe.l(Nt),Nt.forEach(c),he=M(ht),Z=ke(ht,"svg",{width:!0,height:!0});var pt=b(Z);G=ke(pt,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),b(G).forEach(c),De=ke(pt,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),b(De).forEach(c),Be=ke(pt,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),b(Be).forEach(c),Te=ke(pt,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),b(Te).forEach(c),Le=ke(pt,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),b(Le).forEach(c),pt.forEach(c),ht.forEach(c),zt=M(Ie),Qe=$(Ie,"DIV",{class:!0});var _t=b(Qe);ot=$(_t,"DIV",{class:!0,"data-svelte-h":!0}),me(ot)!=="svelte-5p5wbx"&&(ot.textContent=pn),Yt=M(_t),xe=$(_t,"DIV",{class:!0});var At=b(xe);Mt=B(At,wt),Xt=M(At),Ze.l(At),At.forEach(c),Zt=M(_t),et=ke(_t,"svg",{width:!0,height:!0});var Ot=b(et);Ke=ke(Ot,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),b(Ke).forEach(c),ze=ke(Ot,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),b(ze).forEach(c),Ye=ke(Ot,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),b(Ye).forEach(c),Ot.forEach(c),_t.forEach(c),Qt=M(Ie),R(tt.$$.fragment,Ie),Kt=M(Ie),R(nt.$$.fragment,Ie),Jt=M(Ie),ct=$(Ie,"DIV",{class:!0});var Pn=b(ct);R(ut.$$.fragment,Pn),Pn.forEach(c),Gt=M(Ie),rt=$(Ie,"DIV",{class:!0});var Vn=b(rt);qe.l(Vn),Vn.forEach(c),Ie.forEach(c),yt.forEach(c),ie.forEach(c),this.h()},h(){g(s,"class","unstyle-button"),g(l,"class","title svelte-3bkjph"),g(m,"class","icon svelte-3bkjph"),g(f,"class","yay value svelte-3bkjph"),g(H,"class","icon svelte-3bkjph"),g(P,"class","pass value svelte-3bkjph"),g(le,"class","icon svelte-3bkjph"),g(re,"class","nay value svelte-3bkjph"),g(u,"class","vote-summary svelte-3bkjph"),g(se,"class","separator svelte-3bkjph"),g(pe,"class","bar-title svelte-3bkjph"),g(ae,"class","bar-description svelte-3bkjph"),g(G,"width","100%"),g(G,"height","5"),g(G,"y","5"),g(G,"fill","#e6e6e6"),g(G,"rx","2"),g(G,"ry","2"),g(De,"width",lt=`${r[2].summary.nayPercentage+r[2].summary.passPercentage+r[2].summary.yayPercentage}%`),g(De,"y","5"),g(De,"height","5"),g(De,"fill","var(--yay-color)"),g(De,"rx","2"),g(De,"ry","2"),g(Be,"width",it=`${r[2].summary.nayPercentage+r[2].summary.passPercentage}%`),g(Be,"height","5"),g(Be,"y","5"),g(Be,"fill","var(--pass-color)"),g(Be,"rx","2"),g(Be,"ry","2"),g(Te,"width",Ue=`${r[2].summary.nayPercentage}%`),g(Te,"height","5"),g(Te,"y","5"),g(Te,"fill","var(--nay-color)"),g(Te,"rx","2"),g(Te,"ry","2"),g(Le,"width","3"),g(Le,"height","15"),g(Le,"x",Lt=`${r[2].requiredQuorumPercentage}%`),g(Le,"fill","var(--quorum-color)"),g(Le,"rx","2"),g(Le,"ry","2"),g(Z,"width","100%"),g(Z,"height","15"),g(U,"class","bar svelte-3bkjph"),g(ot,"class","bar-title svelte-3bkjph"),g(xe,"class","bar-description svelte-3bkjph"),g(Ke,"width","100%"),g(Ke,"height","5"),g(Ke,"y","5"),g(Ke,"fill","#e6e6e6"),g(Ke,"rx","2"),g(Ke,"ry","2"),g(ze,"width",St=`${r[2].majorityPercentage}%`),g(ze,"y","5"),g(ze,"height","5"),g(ze,"fill","var(--majority-color)"),g(ze,"rx","2"),g(ze,"ry","2"),g(Ye,"width","3"),g(Ye,"height","15"),g(Ye,"x",jt=`${r[2].requiredMajorityPercentage}%`),g(Ye,"fill","var(--majority-color)"),g(Ye,"rx","2"),g(Ye,"ry","2"),g(et,"width","100%"),g(et,"height","15"),g(Qe,"class","bar svelte-3bkjph"),g(ct,"class","separator svelte-3bkjph"),g(rt,"class","vote-section svelte-3bkjph"),Pe(rt,"disabled",!r[0]||!r[1]),g(n,"class","proposal svelte-3bkjph"),g(t,"class","period svelte-3bkjph"),g(e,"class","period-wrap svelte-3bkjph"),Pe(e,"quorum-reached",r[2].quorumReached),Pe(e,"majority-reached",r[2].majorityReached)},m(K,ie){k(K,e,ie),d(e,t),d(t,n),d(n,l),d(l,s),d(s,o),d(n,i),d(n,u),d(u,f),d(f,y),d(f,D),d(f,V),d(f,E),d(f,m),q(v,m,null),d(u,p),d(u,P),d(P,N),d(P,S),d(P,z),d(P,Y),d(P,H),q(Q,H,null),d(u,te),d(u,re),d(re,_e),d(re,Ee),d(re,ye),d(re,fe),d(re,le),q(J,le,null),d(n,ge),d(n,se),q(ve,se,null),d(n,W),d(n,U),d(U,pe),d(U,ce),d(U,ae),d(ae,ee),d(ae,Ve),Xe.m(ae,null),d(U,he),d(U,Z),d(Z,G),d(Z,De),d(Z,Be),d(Z,Te),d(Z,Le),d(n,zt),d(n,Qe),d(Qe,ot),d(Qe,Yt),d(Qe,xe),d(xe,Mt),d(xe,Xt),Ze.m(xe,null),d(Qe,Zt),d(Qe,et),d(et,Ke),d(et,ze),d(et,Ye),d(n,Qt),q(tt,n,null),d(n,Kt),q(nt,n,null),d(n,Jt),d(n,ct),q(ut,ct,null),d(n,Gt),d(n,rt),at[Re].m(rt,null),Ce=!0,xt||(_n=fn(s,"click",r[8]),xt=!0)},p(K,[ie]){(!Ce||ie&4)&&a!==(a=K[2].proposal+"")&&ne(o,a),(!Ce||ie&4)&&h!==(h=K[2].summary.nay+"")&&ne(y,h),(!Ce||ie&4)&&I!==(I=K[2].summary.nayPercentage+"")&&ne(V,I),(!Ce||ie&4)&&j!==(j=K[2].summary.pass+"")&&ne(N,j),(!Ce||ie&4)&&A!==(A=K[2].summary.passPercentage+"")&&ne(z,A),(!Ce||ie&4)&&oe!==(oe=K[2].summary.yayPercentage+"")&&ne(_e,oe),(!Ce||ie&4)&&$e!==($e=K[2].summary.nayPercentage+"")&&ne(ye,$e),(!Ce||ie&4)&&X!==(X=K[2].quorumPercentage+"")&&ne(ee,X),Tt===(Tt=$n(K))&&Xe?Xe.p(K,ie):(Xe.d(1),Xe=Tt(K),Xe&&(Xe.c(),Xe.m(ae,null))),(!Ce||ie&4&&lt!==(lt=`${K[2].summary.nayPercentage+K[2].summary.passPercentage+K[2].summary.yayPercentage}%`))&&g(De,"width",lt),(!Ce||ie&4&&it!==(it=`${K[2].summary.nayPercentage+K[2].summary.passPercentage}%`))&&g(Be,"width",it),(!Ce||ie&4&&Ue!==(Ue=`${K[2].summary.nayPercentage}%`))&&g(Te,"width",Ue),(!Ce||ie&4&&Lt!==(Lt=`${K[2].requiredQuorumPercentage}%`))&&g(Le,"x",Lt),(!Ce||ie&4)&&wt!==(wt=K[2].majorityPercentage+"")&&ne(Mt,wt),Bt===(Bt=bn(K))&&Ze?Ze.p(K,ie):(Ze.d(1),Ze=Bt(K),Ze&&(Ze.c(),Ze.m(xe,null))),(!Ce||ie&4&&St!==(St=`${K[2].majorityPercentage}%`))&&g(ze,"width",St),(!Ce||ie&4&&jt!==(jt=`${K[2].requiredMajorityPercentage}%`))&&g(Ye,"x",jt);const yt={};ie&32768&&(yt.$$scope={dirty:ie,ctx:K}),tt.$set(yt);const Ie={};ie&32768&&(Ie.$$scope={dirty:ie,ctx:K}),nt.$set(Ie);let ft=Re;Re=wn(K),Re===ft?at[Re].p(K,ie):(Se(),C(at[ft],1,1,()=>{at[ft]=null}),je(),qe=at[Re],qe?qe.p(K,ie):(qe=at[Re]=kn[Re](K),qe.c()),w(qe,1),qe.m(rt,null)),(!Ce||ie&3)&&Pe(rt,"disabled",!K[0]||!K[1]),(!Ce||ie&4)&&Pe(e,"quorum-reached",K[2].quorumReached),(!Ce||ie&4)&&Pe(e,"majority-reached",K[2].majorityReached)},i(K){Ce||(w(v.$$.fragment,K),w(Q.$$.fragment,K),w(J.$$.fragment,K),w(ve.$$.fragment,K),w(tt.$$.fragment,K),w(nt.$$.fragment,K),w(ut.$$.fragment,K),w(qe),Ce=!0)},o(K){C(v.$$.fragment,K),C(Q.$$.fragment,K),C(J.$$.fragment,K),C(ve.$$.fragment,K),C(tt.$$.fragment,K),C(nt.$$.fragment,K),C(ut.$$.fragment,K),C(qe),Ce=!1},d(K){K&&c(e),F(v),F(Q),F(J),F(ve),Xe.d(),Ze.d(),F(tt),F(nt),F(ut),at[Re].d(),xt=!1,_n()}}}function il(r,e,t){let n,{pkh:l}=e,{canVote:s=!1}=e,{periodIndex:a}=e,{period:o}=e;const i=un();function u(){window.open(`${dn}/${o.proposal}`,"_blank")}function f(){window.open(`${mn}/${o.proposal}/${a}`,"_blank")}async function h(v){i("vote",{ballot:v,proposal:o.proposal,period:o.info.voting_period.index})}const y=()=>gn(o.proposal),D=()=>u(),I=()=>f(),V=()=>h("nay"),E=()=>h("pass"),m=()=>h("yay");return r.$$set=v=>{"pkh"in v&&t(0,l=v.pkh),"canVote"in v&&t(1,s=v.canVote),"periodIndex"in v&&t(7,a=v.periodIndex),"period"in v&&t(2,o=v.period)},r.$$.update=()=>{r.$$.dirty&5&&t(3,n=o.ballots.find(v=>v.pkh===l))},[l,s,o,n,u,f,h,a,y,D,I,V,E,m]}class ol extends Ae{constructor(e){super(),Oe(this,e,il,sl,Ne,{pkh:0,canVote:1,periodIndex:7,period:2})}}function ul(r){let e,t,n=(r[1]??"~ TBD ~")+"",l,s,a,o,i,u,f,h,y,D;a=new He({});const I=[ml,dl,fl],V=[];function E(m,v){return m[4]==="applied"?0:m[4]==="failed"?1:2}return i=E(r),u=V[i]=I[i](r),y=new ue({props:{$$slots:{default:[gl]},$$scope:{ctx:r}}}),y.$on("click",r[8]),{c(){e=_("h5"),t=T("Transaction "),l=T(n),s=L(),O(a.$$.fragment),o=L(),u.c(),f=L(),h=_("div"),O(y.$$.fragment),this.h()},l(m){e=$(m,"H5",{class:!0});var v=b(e);t=B(v,"Transaction "),l=B(v,n),v.forEach(c),s=M(m),R(a.$$.fragment,m),o=M(m),u.l(m),f=M(m),h=$(m,"DIV",{class:!0});var p=b(h);R(y.$$.fragment,p),p.forEach(c),this.h()},h(){g(e,"class","title svelte-1kcf8tg"),g(h,"class","explore"),Pe(h,"disabled",r[4]==="building")},m(m,v){k(m,e,v),d(e,t),d(e,l),k(m,s,v),q(a,m,v),k(m,o,v),V[i].m(m,v),k(m,f,v),k(m,h,v),q(y,h,null),D=!0},p(m,v){(!D||v&2)&&n!==(n=(m[1]??"~ TBD ~")+"")&&ne(l,n);let p=i;i=E(m),i===p?V[i].p(m,v):(Se(),C(V[p],1,1,()=>{V[p]=null}),je(),u=V[i],u?u.p(m,v):(u=V[i]=I[i](m),u.c()),w(u,1),u.m(f.parentNode,f));const P={};v&2048&&(P.$$scope={dirty:v,ctx:m}),y.$set(P),(!D||v&16)&&Pe(h,"disabled",m[4]==="building")},i(m){D||(w(a.$$.fragment,m),w(u),w(y.$$.fragment,m),D=!0)},o(m){C(a.$$.fragment,m),C(u),C(y.$$.fragment,m),D=!1},d(m){m&&(c(e),c(s),c(o),c(f),c(h)),F(a,m),V[i].d(m),F(y)}}}function cl(r){let e,t;return{c(){e=_("div"),t=T(r[2]),this.h()},l(n){e=$(n,"DIV",{class:!0});var l=b(e);t=B(l,r[2]),l.forEach(c),this.h()},h(){g(e,"class","error-message svelte-1kcf8tg")},m(n,l){k(n,e,l),d(e,t)},p(n,l){l&4&&ne(t,n[2])},i:x,o:x,d(n){n&&c(e)}}}function fl(r){let e,t,n,l,s;t=new Ht({props:{message:r[5],progress:"indeterminate"}});let a=r[4]==="building"&&On();return{c(){e=_("div"),O(t.$$.fragment),n=L(),a&&a.c(),l=We(),this.h()},l(o){e=$(o,"DIV",{class:!0});var i=b(e);R(t.$$.fragment,i),i.forEach(c),n=M(o),a&&a.l(o),l=We(),this.h()},h(){g(e,"class","progress svelte-1kcf8tg")},m(o,i){k(o,e,i),q(t,e,null),k(o,n,i),a&&a.m(o,i),k(o,l,i),s=!0},p(o,i){const u={};i&32&&(u.message=o[5]),t.$set(u),o[4]==="building"?a||(a=On(),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},i(o){s||(w(t.$$.fragment,o),s=!0)},o(o){C(t.$$.fragment,o),s=!1},d(o){o&&(c(e),c(n),c(l)),F(t),a&&a.d(o)}}}function dl(r){let e,t="FAILED";return{c(){e=_("div"),e.textContent=t,this.h()},l(n){e=$(n,"DIV",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-5fqw5f"&&(e.textContent=t),this.h()},h(){g(e,"class","status failed svelte-1kcf8tg")},m(n,l){k(n,e,l)},p:x,i:x,o:x,d(n){n&&c(e)}}}function ml(r){let e,t="CONFIRMED";return{c(){e=_("div"),e.textContent=t,this.h()},l(n){e=$(n,"DIV",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-vqtzt4"&&(e.textContent=t),this.h()},h(){g(e,"class","status svelte-1kcf8tg")},m(n,l){k(n,e,l)},p:x,i:x,o:x,d(n){n&&c(e)}}}function On(r){let e,t="NOTE: You may need to confirm the transaction with your signer.";return{c(){e=_("div"),e.textContent=t,this.h()},l(n){e=$(n,"DIV",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-2towb7"&&(e.textContent=t),this.h()},h(){g(e,"class","note svelte-1kcf8tg")},m(n,l){k(n,e,l)},d(n){n&&c(e)}}}function gl(r){let e;return{c(){e=T("Open Explorer")},l(t){e=B(t,"Open Explorer")},m(t,n){k(t,e,n)},d(t){t&&c(e)}}}function Rn(r){let e,t;return e=new ue({props:{label:"close"}}),e.$on("click",r[9]),{c(){O(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p:x,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function vl(r){let e,t,n,l,s;const a=[cl,ul],o=[];function i(f,h){return f[2]?0:1}t=i(r),n=o[t]=a[t](r);let u=(r[3]||r[4]==="applied"||r[2])&&Rn(r);return{c(){e=_("div"),n.c(),l=L(),u&&u.c(),this.h()},l(f){e=$(f,"DIV",{class:!0});var h=b(e);n.l(h),l=M(h),u&&u.l(h),h.forEach(c),this.h()},h(){g(e,"class","transaction-confirmation svelte-1kcf8tg")},m(f,h){k(f,e,h),o[t].m(e,null),d(e,l),u&&u.m(e,null),s=!0},p(f,h){let y=t;t=i(f),t===y?o[t].p(f,h):(Se(),C(o[y],1,1,()=>{o[y]=null}),je(),n=o[t],n?n.p(f,h):(n=o[t]=a[t](f),n.c()),w(n,1),n.m(e,l)),f[3]||f[4]==="applied"||f[2]?u?(u.p(f,h),h&28&&w(u,1)):(u=Rn(f),u.c(),w(u,1),u.m(e,null)):u&&(Se(),C(u,1,1,()=>{u=null}),je())},i(f){s||(w(n),w(u),s=!0)},o(f){C(n),C(u),s=!1},d(f){f&&c(e),o[t].d(),u&&u.d()}}}function hl(r){let e,t,n;return t=new $t({props:{$$slots:{default:[vl]},$$scope:{ctx:r}}}),{c(){e=_("div"),O(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var s=b(e);R(t.$$.fragment,s),s.forEach(c),this.h()},h(){g(e,"class","center svelte-1kcf8tg")},m(l,s){k(l,e,s),q(t,e,null),n=!0},p(l,s){const a={};s&2175&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){n||(w(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),F(t)}}}function pl(r){let e,t,n;function l(a){r[10](a)}let s={persistent:r[4]==="building"||r[4]==="confirming",$$slots:{default:[hl]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.open=r[0]),e=new Wt({props:s}),Fe.push(()=>Ge(e,"open",l)),{c(){O(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,o){q(e,a,o),n=!0},p(a,[o]){const i={};o&16&&(i.persistent=a[4]==="building"||a[4]==="confirming"),o&2175&&(i.$$scope={dirty:o,ctx:a}),!t&&o&1&&(t=!0,i.open=a[0],Je(()=>t=!1)),e.$set(i)},i(a){n||(w(e.$$.fragment,a),n=!0)},o(a){C(e.$$.fragment,a),n=!1},d(a){F(e,a)}}}function _l(r){switch(r){case"building":return"Building transaction...";case"confirming":return"Waiting for confirmation...";case"applied":return"CONFIRMED";case"failed":return"FAILED"}}function $l(r,e,t){let n,l,{open:s}=e,{opHash:a}=e,{error:o}=e,{allowClose:i=!0}=e,{stage:u="building"}=e,{explorerTemplate:f}=e;const h=()=>window.open(n,"_blank"),y=()=>t(0,s=!1);function D(I){s=I,t(0,s)}return r.$$set=I=>{"open"in I&&t(0,s=I.open),"opHash"in I&&t(1,a=I.opHash),"error"in I&&t(2,o=I.error),"allowClose"in I&&t(3,i=I.allowClose),"stage"in I&&t(4,u=I.stage),"explorerTemplate"in I&&t(7,f=I.explorerTemplate)},r.$$.update=()=>{r.$$.dirty&130&&t(6,n=f?f.replace("%s",a??""):void 0),r.$$.dirty&16&&t(5,l=_l(u))},[s,a,o,i,u,l,n,f,h,y,D]}class bl extends Ae{constructor(e){super(),Oe(this,e,$l,pl,Ne,{open:0,opHash:1,error:2,allowClose:3,stage:4,explorerTemplate:7})}}function kl(r){let e,t;return{c(){e=be("svg"),t=be("path"),this.h()},l(n){e=ke(n,"svg",{xmlns:!0,viewBox:!0});var l=b(e);t=ke(l,"path",{d:!0}),b(t).forEach(c),l.forEach(c),this.h()},h(){g(t,"d","M 16 3 C 8.832031 3 3 8.832031 3 16 C 3 23.167969 8.832031 29 16 29 C 23.167969 29 29 23.167969 29 16 L 27 16 C 27 22.085938 22.085938 27 16 27 C 9.914063 27 5 22.085938 5 16 C 5 9.914063 9.914063 5 16 5 C 19.875 5 23.261719 6.984375 25.21875 10 L 20 10 L 20 12 L 28 12 L 28 4 L 26 4 L 26 7.71875 C 23.617188 4.84375 20.019531 3 16 3 Z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 32 32")},m(n,l){k(n,e,l),d(e,t)},p:x,i:x,o:x,d(n){n&&c(e)}}}class Gn extends Ae{constructor(e){super(),Oe(this,e,null,kl,Ne,{})}}function wl(r){let e,t,n="Set Delegate Parameters",l,s,a="Set delegate staking parameters - edge and limit.",o,i,u,f,h,y,D,I,V,E,m,v,p,P;function j(z){r[7](z)}let N={type:"number",rules:r[4],label:"Staking Fee in %",hint:"Edge of baking over staking"};r[0].value.edge!==void 0&&(N.value=r[0].value.edge),i=new Et({props:N}),Fe.push(()=>Ge(i,"value",j));function S(z){r[8](z)}let A={type:"number",rules:r[5],label:"Staking capacity - multiplier of your stake",hint:"Limit of staking over baking"};return r[0].value.limit!==void 0&&(A.value=r[0].value.limit),h=new Et({props:A}),Fe.push(()=>Ge(h,"value",S)),E=new ue({props:{label:"Cancel"}}),E.$on("click",r[9]),p=new ue({props:{label:"Set"}}),p.$on("click",r[10]),{c(){e=_("div"),t=_("h3"),t.textContent=n,l=L(),s=_("p"),s.textContent=a,o=L(),O(i.$$.fragment),f=L(),O(h.$$.fragment),D=L(),I=_("div"),V=_("div"),O(E.$$.fragment),m=L(),v=_("div"),O(p.$$.fragment),this.h()},l(z){e=$(z,"DIV",{class:!0});var Y=b(e);t=$(Y,"H3",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-1hc5680"&&(t.textContent=n),l=M(Y),s=$(Y,"P",{class:!0,"data-svelte-h":!0}),me(s)!=="svelte-2weqq6"&&(s.textContent=a),o=M(Y),R(i.$$.fragment,Y),f=M(Y),R(h.$$.fragment,Y),D=M(Y),I=$(Y,"DIV",{class:!0});var H=b(I);V=$(H,"DIV",{class:!0});var Q=b(V);R(E.$$.fragment,Q),Q.forEach(c),m=M(H),v=$(H,"DIV",{class:!0});var te=b(v);R(p.$$.fragment,te),te.forEach(c),H.forEach(c),Y.forEach(c),this.h()},h(){g(t,"class","title svelte-1igllg9"),g(s,"class","message svelte-1igllg9"),g(V,"class","control-button svelte-1igllg9"),Ft(V,"grid-column","1"),g(v,"class","control-button svelte-1igllg9"),Pe(v,"disabled",r[3]),Ft(v,"grid-column","3"),g(I,"class","controls padding-top svelte-1igllg9"),g(e,"class","prompt-wrap svelte-1igllg9")},m(z,Y){k(z,e,Y),d(e,t),d(e,l),d(e,s),d(e,o),q(i,e,null),d(e,f),q(h,e,null),d(e,D),d(e,I),d(I,V),q(E,V,null),d(I,m),d(I,v),q(p,v,null),P=!0},p(z,Y){const H={};!u&&Y&1&&(u=!0,H.value=z[0].value.edge,Je(()=>u=!1)),i.$set(H);const Q={};!y&&Y&1&&(y=!0,Q.value=z[0].value.limit,Je(()=>y=!1)),h.$set(Q),(!P||Y&8)&&Pe(v,"disabled",z[3])},i(z){P||(w(i.$$.fragment,z),w(h.$$.fragment,z),w(E.$$.fragment,z),w(p.$$.fragment,z),P=!0)},o(z){C(i.$$.fragment,z),C(h.$$.fragment,z),C(E.$$.fragment,z),C(p.$$.fragment,z),P=!1},d(z){z&&c(e),F(i),F(h),F(E),F(p)}}}function yl(r){let e,t;return e=new $t({props:{$$slots:{default:[wl]},$$scope:{ctx:r}}}),{c(){O(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&16397&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Dl(r){let e,t,n;function l(a){r[11](a)}let s={persistent:!0,$$slots:{default:[yl]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.open=r[1]),e=new Wt({props:s}),Fe.push(()=>Ge(e,"open",l)),{c(){O(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,o){q(e,a,o),n=!0},p(a,[o]){const i={};o&16397&&(i.$$scope={dirty:o,ctx:a}),!t&&o&2&&(t=!0,i.open=a[1],Je(()=>t=!1)),e.$set(i)},i(a){n||(w(e.$$.fragment,a),n=!0)},o(a){C(e.$$.fragment,a),n=!1},d(a){F(e,a)}}}function Cl(r,e,t){let n;const l={value:{edge:100,limit:1}};let{state:s=l}=e,{isOpen:a=!1}=e,o={resolve:()=>i(),reject:()=>i()};function i(){t(1,a=!1)}const u=[m=>!!m||m.toString()==="0"||"Edge is required",m=>!isNaN(Number(m))||"Edge must be a number",m=>Number(m)>=0&&Number(m)<=100||"Edge must be between 0 and 100"],f=[m=>!!m||m.toString()==="0"||"Limit is required",m=>!isNaN(Number(m))||"Limit must be a number",m=>Number(m)>=0&&Number(m)<=5||"Limit must be between 0 and 5"];async function h(m){return t(1,a=!0),t(0,s={...l,...m}),new Promise((v,p)=>{t(2,o={resolve:P=>{i(),v(P)},reject:P=>{i(),p(P)}})})}function y(m){r.$$.not_equal(s.value.edge,m)&&(s.value.edge=m,t(0,s))}function D(m){r.$$.not_equal(s.value.limit,m)&&(s.value.limit=m,t(0,s))}const I=()=>o.reject(Qn),V=()=>o.resolve(s.value);function E(m){a=m,t(1,a)}return r.$$set=m=>{"state"in m&&t(0,s=m.state),"isOpen"in m&&t(1,a=m.isOpen)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=an(s.value.limit,f)!==!0||an(s.value.edge,u)!==!0)},[s,a,o,n,u,f,h,y,D,I,V,E]}class Il extends Ae{constructor(e){super(),Oe(this,e,Cl,Dl,Ne,{state:0,isOpen:1,prompt:6})}get prompt(){return this.$$.ctx[6]}}function El(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function Pl(r){return El(r,Date.now())}function Me(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function qt(r,e){const t=Me(r),n=Me(e),l=t.getTime()-n.getTime();return l<0?-1:l>0?1:l}const Rt=43200,qn=1440;function Vl(r,e){const t=Me(r),n=Me(e),l=t.getFullYear()-n.getFullYear(),s=t.getMonth()-n.getMonth();return l*12+s}function Ll(r){const e=Me(r);return e.setHours(23,59,59,999),e}function Ml(r){const e=Me(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Sl(r){const e=Me(r);return+Ll(e)==+Ml(e)}function jl(r,e){const t=Me(r),n=Me(e),l=qt(t,n),s=Math.abs(Vl(t,n));let a;if(s<1)a=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-l*s);let o=qt(t,n)===-l;Sl(Me(r))&&s===1&&qt(r,n)===1&&(o=!1),a=l*(s-Number(o))}return a===0?0:a}function Tl(r){return e=>{const n=(r?Math[r]:Math.trunc)(e);return n===0?0:n}}function Bl(r,e){return+Me(r)-+Me(e)}function Nl(r,e,t){const n=Bl(r,e)/1e3;return Tl(t?.roundingMethod)(n)}const Al={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ol=(r,e,t)=>{let n;const l=Al[r];return typeof l=="string"?n=l:e===1?n=l.one:n=l.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function ln(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Rl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ql={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Fl={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wl={date:ln({formats:Rl,defaultWidth:"full"}),time:ln({formats:ql,defaultWidth:"full"}),dateTime:ln({formats:Fl,defaultWidth:"full"})},Hl={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ul=(r,e,t,n)=>Hl[r];function Ct(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let l;if(n==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,o=t?.width?String(t.width):a;l=r.formattingValues[o]||r.formattingValues[a]}else{const a=r.defaultWidth,o=t?.width?String(t.width):r.defaultWidth;l=r.values[o]||r.values[a]}const s=r.argumentCallback?r.argumentCallback(e):e;return l[s]}}const zl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yl={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zl={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ql={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jl=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Gl={ordinalNumber:Jl,era:Ct({values:zl,defaultWidth:"wide"}),quarter:Ct({values:Yl,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ct({values:Xl,defaultWidth:"wide"}),day:Ct({values:Zl,defaultWidth:"wide"}),dayPeriod:Ct({values:Ql,defaultWidth:"wide",formattingValues:Kl,defaultFormattingWidth:"wide"})};function It(r){return(e,t={})=>{const n=t.width,l=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(l);if(!s)return null;const a=s[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],i=Array.isArray(o)?ea(o,h=>h.test(a)):xl(o,h=>h.test(a));let u;u=r.valueCallback?r.valueCallback(i):i,u=t.valueCallback?t.valueCallback(u):u;const f=e.slice(a.length);return{value:u,rest:f}}}function xl(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function ea(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function ta(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const l=n[0],s=e.match(r.parsePattern);if(!s)return null;let a=r.valueCallback?r.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(l.length);return{value:a,rest:o}}}const na=/^(\d+)(th|st|nd|rd)?/i,ra=/\d+/i,la={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aa={any:[/^b/i,/^(a|c)/i]},sa={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ia={any:[/1/i,/2/i,/3/i,/4/i]},oa={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ua={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ca={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fa={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},da={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ma={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ga={ordinalNumber:ta({matchPattern:na,parsePattern:ra,valueCallback:r=>parseInt(r,10)}),era:It({matchPatterns:la,defaultMatchWidth:"wide",parsePatterns:aa,defaultParseWidth:"any"}),quarter:It({matchPatterns:sa,defaultMatchWidth:"wide",parsePatterns:ia,defaultParseWidth:"any",valueCallback:r=>r+1}),month:It({matchPatterns:oa,defaultMatchWidth:"wide",parsePatterns:ua,defaultParseWidth:"any"}),day:It({matchPatterns:ca,defaultMatchWidth:"wide",parsePatterns:fa,defaultParseWidth:"any"}),dayPeriod:It({matchPatterns:da,defaultMatchWidth:"any",parsePatterns:ma,defaultParseWidth:"any"})},va={code:"en-US",formatDistance:Ol,formatLong:Wl,formatRelative:Ul,localize:Gl,match:ga,options:{weekStartsOn:0,firstWeekContainsDate:1}};let ha={};function pa(){return ha}function Fn(r){const e=Me(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function _a(r,e,t){const n=pa(),l=t?.locale??n.locale??va,s=2520,a=qt(r,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:a});let i,u;a>0?(i=Me(e),u=Me(r)):(i=Me(r),u=Me(e));const f=Nl(u,i),h=(Fn(u)-Fn(i))/1e3,y=Math.round((f-h)/60);let D;if(y<2)return t?.includeSeconds?f<5?l.formatDistance("lessThanXSeconds",5,o):f<10?l.formatDistance("lessThanXSeconds",10,o):f<20?l.formatDistance("lessThanXSeconds",20,o):f<40?l.formatDistance("halfAMinute",0,o):f<60?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",1,o):y===0?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",y,o);if(y<45)return l.formatDistance("xMinutes",y,o);if(y<90)return l.formatDistance("aboutXHours",1,o);if(y<qn){const I=Math.round(y/60);return l.formatDistance("aboutXHours",I,o)}else{if(y<s)return l.formatDistance("xDays",1,o);if(y<Rt){const I=Math.round(y/qn);return l.formatDistance("xDays",I,o)}else if(y<Rt*2)return D=Math.round(y/Rt),l.formatDistance("aboutXMonths",D,o)}if(D=jl(u,i),D<12){const I=Math.round(y/Rt);return l.formatDistance("xMonths",I,o)}else{const I=D%12,V=Math.trunc(D/12);return I<3?l.formatDistance("aboutXYears",V,o):I<9?l.formatDistance("overXYears",V,o):l.formatDistance("almostXYears",V+1,o)}}function $a(r,e){return _a(r,Pl(r),e)}function ba(r,e){if(!r)return new Date(0);const n=((r.voting_period.start_position+r.position+r.remaining??-1)-(e??r?.position??1))*lr;return new Date(Date.now()+n)}function ka(r,e){return r?(r.voting_period.start_position+r.position+r.remaining??0)-(e??0):"N/A"}function wa(r){return(BigInt(r)/10n**6n).toLocaleString()}function ya(r){const{proposals:e,voters:t}=r,n=t.reduce((l,s)=>l+BigInt(s.voting_power),0n);return{...r,proposals:e.map(l=>{const s=Number(BigInt(l.upvotes)*100000n/n)/1e3;return{...l,upvotes:wa(l.upvotes),percentage:Math.round(s*100)/100,percentageString:`${s}%`,quorumReached:BigInt(l.upvotes)>n/100n*kt}}).sort((l,s)=>BigInt(s.upvotes)>BigInt(l.upvotes)?1:-1)}}function Da(r){const{voters:e}=r,t=e.reduce((s,a)=>s+BigInt(a.voting_power),0n),n=BigInt(r.summary.yay)+BigInt(r.summary.nay),l=n+BigInt(r.summary.pass);return{...r,summary:{...r.summary,yayPercentage:Math.round(Number(BigInt(r.summary.yay)*100000n/t)/10)/100,nayPercentage:Math.round(Number(BigInt(r.summary.nay)*100000n/t)/10)/100,passPercentage:Math.round(Number(BigInt(r.summary.pass)*100000n/t)/10)/100},quorumReached:l>t*BigInt(r.quorum)/10000n,quorumPercentage:Math.min(Number(BigInt(r.summary.yay+r.summary.nay+r.summary.pass)*100000n/t)/1e3,100),requiredQuorumPercentage:Number(r.quorum)/100,majorityReached:BigInt(r.summary.yay)>=n*Ln/100n,majorityPercentage:Math.round(Number(BigInt(r.summary.yay)*100000n/n)/10)/100,requiredMajorityPercentage:Number(Ln)}}function Ca(r){let e,t,n="EXPLORER",l,s,a,o;return a=new hn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),O(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-323t9m"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=b(s);R(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){g(t,"class","label svelte-2vy38g"),g(s,"class","icon svelte-2vy38g"),g(e,"class","button-content svelte-2vy38g")},m(i,u){k(i,e,u),d(e,t),d(e,l),d(e,s),q(a,s,null),o=!0},p:x,i(i){o||(w(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function Ia(r){let e,t,n="AGORA",l,s,a,o;return a=new vn({}),{c(){e=_("div"),t=_("div"),t.textContent=n,l=L(),s=_("div"),O(a.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);t=$(u,"DIV",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=M(u),s=$(u,"DIV",{class:!0});var f=b(s);R(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){g(t,"class","label svelte-2vy38g"),g(s,"class","icon svelte-2vy38g"),g(e,"class","button-content svelte-2vy38g")},m(i,u){k(i,e,u),d(e,t),d(e,l),d(e,s),q(a,s,null),o=!0},p:x,i(i){o||(w(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),F(a)}}}function Ea(r){let e,t,n,l,s,a=r[0].proposal+"",o,i,u,f,h,y,D,I;return u=new ue({props:{$$slots:{default:[Ca]},$$scope:{ctx:r}}}),u.$on("click",r[5]),h=new ue({props:{$$slots:{default:[Ia]},$$scope:{ctx:r}}}),h.$on("click",r[6]),{c(){e=_("div"),t=_("div"),n=_("div"),l=_("div"),s=_("button"),o=T(a),i=L(),O(u.$$.fragment),f=L(),O(h.$$.fragment),this.h()},l(V){e=$(V,"DIV",{class:!0});var E=b(e);t=$(E,"DIV",{class:!0});var m=b(t);n=$(m,"DIV",{class:!0});var v=b(n);l=$(v,"DIV",{class:!0});var p=b(l);s=$(p,"BUTTON",{class:!0});var P=b(s);o=B(P,a),P.forEach(c),p.forEach(c),i=M(v),R(u.$$.fragment,v),f=M(v),R(h.$$.fragment,v),v.forEach(c),m.forEach(c),E.forEach(c),this.h()},h(){g(s,"class","unstyle-button"),g(l,"class","title svelte-2vy38g"),g(n,"class","proposal svelte-2vy38g"),g(t,"class","period svelte-2vy38g"),g(e,"class","period-wrap svelte-2vy38g")},m(V,E){k(V,e,E),d(e,t),d(t,n),d(n,l),d(l,s),d(s,o),d(n,i),q(u,n,null),d(n,f),q(h,n,null),y=!0,D||(I=fn(s,"click",r[4]),D=!0)},p(V,[E]){(!y||E&1)&&a!==(a=V[0].proposal+"")&&ne(o,a);const m={};E&128&&(m.$$scope={dirty:E,ctx:V}),u.$set(m);const v={};E&128&&(v.$$scope={dirty:E,ctx:V}),h.$set(v)},i(V){y||(w(u.$$.fragment,V),w(h.$$.fragment,V),y=!0)},o(V){C(u.$$.fragment,V),C(h.$$.fragment,V),y=!1},d(V){V&&c(e),F(u),F(h),D=!1,I()}}}function Pa(r,e,t){let{periodIndex:n}=e,{period:l}=e;function s(){window.open(`${dn}/${l.proposal}`,"_blank")}function a(){window.open(`${mn}/${l.proposal}/${n}`,"_blank")}const o=()=>gn(l.proposal),i=()=>s(),u=()=>a();return r.$$set=f=>{"periodIndex"in f&&t(3,n=f.periodIndex),"period"in f&&t(0,l=f.period)},[l,s,a,n,o,i,u]}class Va extends Ae{constructor(e){super(),Oe(this,e,Pa,Ea,Ne,{periodIndex:3,period:0})}}function Wn(r,e,t){const n=r.slice();return n[39]=e[t],n}function Hn(r,e,t){const n=r.slice();return n[39]=e[t],n}function La(r){let e,t,n,l,s,a;return t=new $t({props:{$$slots:{default:[Ra]},$$scope:{ctx:r}}}),s=new $t({props:{$$slots:{default:[Qa]},$$scope:{ctx:r}}}),{c(){e=_("div"),O(t.$$.fragment),n=L(),l=_("div"),O(s.$$.fragment),this.h()},l(o){e=$(o,"DIV",{class:!0});var i=b(e);R(t.$$.fragment,i),i.forEach(c),n=M(o),l=$(o,"DIV",{class:!0});var u=b(l);R(s.$$.fragment,u),u.forEach(c),this.h()},h(){g(e,"class","tools-wrap svelte-7t4len"),g(l,"class","governance svelte-7t4len")},m(o,i){k(o,e,i),q(t,e,null),k(o,n,i),k(o,l,i),q(s,l,null),a=!0},p(o,i){const u={};i[0]&3588|i[1]&8192&&(u.$$scope={dirty:i,ctx:o}),t.$set(u);const f={};i[0]&258086|i[1]&8192&&(f.$$scope={dirty:i,ctx:o}),s.$set(f)},i(o){a||(w(t.$$.fragment,o),w(s.$$.fragment,o),a=!0)},o(o){C(t.$$.fragment,o),C(s.$$.fragment,o),a=!1},d(o){o&&(c(e),c(n),c(l)),F(t),F(s)}}}function Ma(r){let e,t,n;return t=new Ht({props:{progress:"indeterminate",message:"Loading account..."}}),{c(){e=_("div"),O(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var s=b(e);R(t.$$.fragment,s),s.forEach(c),this.h()},h(){g(e,"class","loader svelte-7t4len")},m(l,s){k(l,e,s),q(t,e,null),n=!0},p:x,i(l){n||(w(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),F(t)}}}function Sa(r){let e,t,n,l,s="Account Management",a,o,i,u,f,h,y,D;t=new ue({props:{$$slots:{default:[Ta]},$$scope:{ctx:r}}}),t.$on("click",r[19]);const I=[Aa,Na,Ba],V=[];function E(m,v){return m[2]&&m[2].governance.delegate&&m[2].governance.delegate?.pkh===m[2]?.account.id?0:m[2].governance.delegate?1:2}return o=E(r),i=V[o]=I[o](r),f=new He({}),y=new ue({props:{$$slots:{default:[Oa]},$$scope:{ctx:r}}}),y.$on("click",r[24]),{c(){e=_("div"),O(t.$$.fragment),n=L(),l=_("h5"),l.textContent=s,a=L(),i.c(),u=L(),O(f.$$.fragment),h=L(),O(y.$$.fragment),this.h()},l(m){e=$(m,"DIV",{class:!0});var v=b(e);R(t.$$.fragment,v),v.forEach(c),n=M(m),l=$(m,"H5",{class:!0,"data-svelte-h":!0}),me(l)!=="svelte-1v3b9it"&&(l.textContent=s),a=M(m),i.l(m),u=M(m),R(f.$$.fragment,m),h=M(m),R(y.$$.fragment,m),this.h()},h(){g(e,"class","redo svelte-7t4len"),g(l,"class","tools-title svelte-7t4len")},m(m,v){k(m,e,v),q(t,e,null),k(m,n,v),k(m,l,v),k(m,a,v),V[o].m(m,v),k(m,u,v),q(f,m,v),k(m,h,v),q(y,m,v),D=!0},p(m,v){const p={};v[1]&8192&&(p.$$scope={dirty:v,ctx:m}),t.$set(p);let P=o;o=E(m),o===P?V[o].p(m,v):(Se(),C(V[P],1,1,()=>{V[P]=null}),je(),i=V[o],i?i.p(m,v):(i=V[o]=I[o](m),i.c()),w(i,1),i.m(u.parentNode,u));const j={};v[1]&8192&&(j.$$scope={dirty:v,ctx:m}),y.$set(j)},i(m){D||(w(t.$$.fragment,m),w(i),w(f.$$.fragment,m),w(y.$$.fragment,m),D=!0)},o(m){C(t.$$.fragment,m),C(i),C(f.$$.fragment,m),C(y.$$.fragment,m),D=!1},d(m){m&&(c(e),c(n),c(l),c(a),c(u),c(h)),F(t),V[o].d(m),F(f,m),F(y,m)}}}function ja(r){let e,t;return e=new Ht({props:{progress:"indeterminate",message:"Loading staking state..."}}),{c(){O(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p:x,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ta(r){let e,t,n;return t=new Gn({}),{c(){e=_("div"),O(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var s=b(e);R(t.$$.fragment,s),s.forEach(c),this.h()},h(){g(e,"class","icon svelte-7t4len")},m(l,s){k(l,e,s),q(t,e,null),n=!0},p:x,i(l){n||(w(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),F(t)}}}function Ba(r){let e,t="You are not delegating and not a delegate. You have to delegate to stake.",n,l,s;return l=new ue({props:{label:"Delegate"}}),l.$on("click",r[20]),{c(){e=_("div"),e.textContent=t,n=L(),O(l.$$.fragment),this.h()},l(a){e=$(a,"DIV",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-kq5dty"&&(e.textContent=t),n=M(a),R(l.$$.fragment,a),this.h()},h(){g(e,"class","note svelte-7t4len")},m(a,o){k(a,e,o),k(a,n,o),q(l,a,o),s=!0},p:x,i(a){s||(w(l.$$.fragment,a),s=!0)},o(a){C(l.$$.fragment,a),s=!1},d(a){a&&(c(e),c(n)),F(l,a)}}}function Na(r){let e,t,n="<b>Balances</b>",l,s,a,o=st(r[2].account.balance)+"",i,u,f,h,y=st(r[2].account.stakedBalance)+"",D,I,V,E,m,v,p="<b>Delegate</b>",P,j,N=r[2].governance.delegate.pkh+"",S,A,z,Y,H,Q,te,re,oe,_e,Ee=BigInt(r[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"",$e,ye,fe,le,J,ge,se,ve,W,U,pe,de,ce,ae,X,ee,Ve;E=new He({});let he=r[9]&&Un(r);return J=new He({}),ve=new ue({props:{label:"Stake"}}),ve.$on("click",r[22]),U=new ue({props:{label:"Unstake"}}),U.$on("click",r[23]),de=new ue({props:{label:"Finalize Unstake"}}),de.$on("click",r[25]),ae=new ue({props:{label:"Change Delegate"}}),ae.$on("click",r[20]),ee=new ue({props:{label:"Cancel Delegation"}}),ee.$on("click",r[21]),{c(){e=_("div"),t=_("div"),t.innerHTML=n,l=L(),s=_("div"),a=T("Delegating: "),i=T(o),u=L(),f=_("div"),h=T("Staking: "),D=T(y),I=L(),V=_("div"),O(E.$$.fragment),m=L(),v=_("div"),v.innerHTML=p,P=L(),j=_("div"),S=T(N),A=L(),z=_("div"),Y=T("Staking Fee: "),H=T(r[11]),Q=L(),te=_("div"),re=T("Total Stake Capacity: "),oe=T(r[10]),_e=T(" (multiplier: "),$e=T(Ee),ye=T("x)"),fe=L(),he&&he.c(),le=L(),O(J.$$.fragment),ge=L(),se=_("div"),O(ve.$$.fragment),W=L(),O(U.$$.fragment),pe=L(),O(de.$$.fragment),ce=L(),O(ae.$$.fragment),X=L(),O(ee.$$.fragment),this.h()},l(Z){e=$(Z,"DIV",{class:!0});var G=b(e);t=$(G,"DIV",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-tn9pn6"&&(t.innerHTML=n),l=M(G),s=$(G,"DIV",{});var De=b(s);a=B(De,"Delegating: "),i=B(De,o),De.forEach(c),u=M(G),f=$(G,"DIV",{});var lt=b(f);h=B(lt,"Staking: "),D=B(lt,y),lt.forEach(c),I=M(G),V=$(G,"DIV",{class:!0});var Be=b(V);R(E.$$.fragment,Be),Be.forEach(c),m=M(G),v=$(G,"DIV",{class:!0,"data-svelte-h":!0}),me(v)!=="svelte-s38838"&&(v.innerHTML=p),P=M(G),j=$(G,"DIV",{class:!0});var it=b(j);S=B(it,N),it.forEach(c),A=M(G),z=$(G,"DIV",{});var Te=b(z);Y=B(Te,"Staking Fee: "),H=B(Te,r[11]),Te.forEach(c),Q=M(G),te=$(G,"DIV",{});var Ue=b(te);re=B(Ue,"Total Stake Capacity: "),oe=B(Ue,r[10]),_e=B(Ue," (multiplier: "),$e=B(Ue,Ee),ye=B(Ue,"x)"),Ue.forEach(c),fe=M(G),he&&he.l(G),G.forEach(c),le=M(Z),R(J.$$.fragment,Z),ge=M(Z),se=$(Z,"DIV",{class:!0});var Le=b(se);R(ve.$$.fragment,Le),W=M(Le),R(U.$$.fragment,Le),pe=M(Le),R(de.$$.fragment,Le),Le.forEach(c),ce=M(Z),R(ae.$$.fragment,Z),X=M(Z),R(ee.$$.fragment,Z),this.h()},h(){g(t,"class","center pv-1 svelte-7t4len"),g(V,"class","pv-1"),g(v,"class","center pv-1 svelte-7t4len"),g(j,"class","delegate-address center pb-1 svelte-7t4len"),g(e,"class","delegate-info svelte-7t4len"),g(se,"class","tools svelte-7t4len")},m(Z,G){k(Z,e,G),d(e,t),d(e,l),d(e,s),d(s,a),d(s,i),d(e,u),d(e,f),d(f,h),d(f,D),d(e,I),d(e,V),q(E,V,null),d(e,m),d(e,v),d(e,P),d(e,j),d(j,S),d(e,A),d(e,z),d(z,Y),d(z,H),d(e,Q),d(e,te),d(te,re),d(te,oe),d(te,_e),d(te,$e),d(te,ye),d(e,fe),he&&he.m(e,null),k(Z,le,G),q(J,Z,G),k(Z,ge,G),k(Z,se,G),q(ve,se,null),d(se,W),q(U,se,null),d(se,pe),q(de,se,null),k(Z,ce,G),q(ae,Z,G),k(Z,X,G),q(ee,Z,G),Ve=!0},p(Z,G){(!Ve||G[0]&4)&&o!==(o=st(Z[2].account.balance)+"")&&ne(i,o),(!Ve||G[0]&4)&&y!==(y=st(Z[2].account.stakedBalance)+"")&&ne(D,y),(!Ve||G[0]&4)&&N!==(N=Z[2].governance.delegate.pkh+"")&&ne(S,N),(!Ve||G[0]&2048)&&ne(H,Z[11]),(!Ve||G[0]&1024)&&ne(oe,Z[10]),(!Ve||G[0]&4)&&Ee!==(Ee=BigInt(Z[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"")&&ne($e,Ee),Z[9]?he?(he.p(Z,G),G[0]&512&&w(he,1)):(he=Un(Z),he.c(),w(he,1),he.m(e,null)):he&&(Se(),C(he,1,1,()=>{he=null}),je())},i(Z){Ve||(w(E.$$.fragment,Z),w(he),w(J.$$.fragment,Z),w(ve.$$.fragment,Z),w(U.$$.fragment,Z),w(de.$$.fragment,Z),w(ae.$$.fragment,Z),w(ee.$$.fragment,Z),Ve=!0)},o(Z){C(E.$$.fragment,Z),C(he),C(J.$$.fragment,Z),C(ve.$$.fragment,Z),C(U.$$.fragment,Z),C(de.$$.fragment,Z),C(ae.$$.fragment,Z),C(ee.$$.fragment,Z),Ve=!1},d(Z){Z&&(c(e),c(le),c(ge),c(se),c(ce),c(X)),F(E),he&&he.d(),F(J,Z),F(ve),F(U),F(de),F(ae,Z),F(ee,Z)}}}function Aa(r){let e,t="<b>You are a baker.🧑‍🍳</b>",n,l,s,a="<b>Balances</b>",o,i,u,f=st(r[2].account.balance)+"",h,y,D,I,V=st(r[2].account.stakedBalance)+"",E,m,v,p="<b>Delegate Parameters</b>",P,j,N,S,A,z,Y,H,Q,te=BigInt(r[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"",re,oe,_e,Ee,$e,ye,fe,le,J,ge,se,ve,W,U,pe,de,ce,ae=r[9]&&Yn(r);return $e=new He({}),fe=new ue({props:{label:"Set Delegate Parameters"}}),fe.$on("click",r[26]),ge=new ue({props:{label:"Stake"}}),ge.$on("click",r[22]),ve=new ue({props:{label:"Unstake"}}),ve.$on("click",r[23]),U=new ue({props:{label:"Finalize Unstake"}}),U.$on("click",r[25]),de=new ue({props:{label:"Update Consensus Key"}}),de.$on("click",r[29]),{c(){e=_("div"),e.innerHTML=t,n=L(),l=_("div"),s=_("div"),s.innerHTML=a,o=L(),i=_("div"),u=T("Delegating: "),h=T(f),y=L(),D=_("div"),I=T("Staking: "),E=T(V),m=L(),v=_("div"),v.innerHTML=p,P=L(),j=_("div"),N=T("Staking Fee: "),S=T(r[11]),A=L(),z=_("div"),Y=T("Total Stake Capacity: "),H=T(r[10]),Q=T(" (multiplier: "),re=T(te),oe=T("x)"),_e=L(),ae&&ae.c(),Ee=L(),O($e.$$.fragment),ye=L(),O(fe.$$.fragment),le=L(),J=_("div"),O(ge.$$.fragment),se=L(),O(ve.$$.fragment),W=L(),O(U.$$.fragment),pe=L(),O(de.$$.fragment),this.h()},l(X){e=$(X,"DIV",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-3ovq6r"&&(e.innerHTML=t),n=M(X),l=$(X,"DIV",{class:!0});var ee=b(l);s=$(ee,"DIV",{class:!0,"data-svelte-h":!0}),me(s)!=="svelte-tn9pn6"&&(s.innerHTML=a),o=M(ee),i=$(ee,"DIV",{});var Ve=b(i);u=B(Ve,"Delegating: "),h=B(Ve,f),Ve.forEach(c),y=M(ee),D=$(ee,"DIV",{});var he=b(D);I=B(he,"Staking: "),E=B(he,V),he.forEach(c),m=M(ee),v=$(ee,"DIV",{class:!0,"data-svelte-h":!0}),me(v)!=="svelte-1et9d10"&&(v.innerHTML=p),P=M(ee),j=$(ee,"DIV",{});var Z=b(j);N=B(Z,"Staking Fee: "),S=B(Z,r[11]),Z.forEach(c),A=M(ee),z=$(ee,"DIV",{});var G=b(z);Y=B(G,"Total Stake Capacity: "),H=B(G,r[10]),Q=B(G," (multiplier: "),re=B(G,te),oe=B(G,"x)"),G.forEach(c),_e=M(ee),ae&&ae.l(ee),ee.forEach(c),Ee=M(X),R($e.$$.fragment,X),ye=M(X),R(fe.$$.fragment,X),le=M(X),J=$(X,"DIV",{class:!0});var De=b(J);R(ge.$$.fragment,De),se=M(De),R(ve.$$.fragment,De),W=M(De),R(U.$$.fragment,De),De.forEach(c),pe=M(X),R(de.$$.fragment,X),this.h()},h(){g(e,"class","center svelte-7t4len"),g(s,"class","center pv-1 svelte-7t4len"),g(v,"class","center pv-1 svelte-7t4len"),g(l,"class","delegate-info svelte-7t4len"),g(J,"class","tools svelte-7t4len")},m(X,ee){k(X,e,ee),k(X,n,ee),k(X,l,ee),d(l,s),d(l,o),d(l,i),d(i,u),d(i,h),d(l,y),d(l,D),d(D,I),d(D,E),d(l,m),d(l,v),d(l,P),d(l,j),d(j,N),d(j,S),d(l,A),d(l,z),d(z,Y),d(z,H),d(z,Q),d(z,re),d(z,oe),d(l,_e),ae&&ae.m(l,null),k(X,Ee,ee),q($e,X,ee),k(X,ye,ee),q(fe,X,ee),k(X,le,ee),k(X,J,ee),q(ge,J,null),d(J,se),q(ve,J,null),d(J,W),q(U,J,null),k(X,pe,ee),q(de,X,ee),ce=!0},p(X,ee){(!ce||ee[0]&4)&&f!==(f=st(X[2].account.balance)+"")&&ne(h,f),(!ce||ee[0]&4)&&V!==(V=st(X[2].account.stakedBalance)+"")&&ne(E,V),(!ce||ee[0]&2048)&&ne(S,X[11]),(!ce||ee[0]&1024)&&ne(H,X[10]),(!ce||ee[0]&4)&&te!==(te=BigInt(X[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"")&&ne(re,te),X[9]?ae?(ae.p(X,ee),ee[0]&512&&w(ae,1)):(ae=Yn(X),ae.c(),w(ae,1),ae.m(l,null)):ae&&(Se(),C(ae,1,1,()=>{ae=null}),je())},i(X){ce||(w(ae),w($e.$$.fragment,X),w(fe.$$.fragment,X),w(ge.$$.fragment,X),w(ve.$$.fragment,X),w(U.$$.fragment,X),w(de.$$.fragment,X),ce=!0)},o(X){C(ae),C($e.$$.fragment,X),C(fe.$$.fragment,X),C(ge.$$.fragment,X),C(ve.$$.fragment,X),C(U.$$.fragment,X),C(de.$$.fragment,X),ce=!1},d(X){X&&(c(e),c(n),c(l),c(Ee),c(ye),c(le),c(J),c(pe)),ae&&ae.d(),F($e,X),F(fe,X),F(ge),F(ve),F(U),F(de,X)}}}function Un(r){let e,t,n=bt(r[9]),l=[];for(let a=0;a<n.length;a+=1)l[a]=zn(Wn(r,n,a));const s=a=>C(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=We()},l(a){for(let o=0;o<l.length;o+=1)l[o].l(a);e=We()},m(a,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(a,o);k(a,e,o),t=!0},p(a,o){if(o[0]&516){n=bt(a[9]);let i;for(i=0;i<n.length;i+=1){const u=Wn(a,n,i);l[i]?(l[i].p(u,o),w(l[i],1)):(l[i]=zn(u),l[i].c(),w(l[i],1),l[i].m(e.parentNode,e))}for(Se(),i=n.length;i<l.length;i+=1)s(i);je()}},i(a){if(!t){for(let o=0;o<n.length;o+=1)w(l[o]);t=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)C(l[o]);t=!1},d(a){a&&c(e),cn(l,a)}}}function zn(r){let e,t,n,l,s=r[39].cycle+"",a,o,i,u,f,h=Pt(r[39].edge_of_baking_over_staking_billionth)+"",y,D,I,V,E=Vt((r[2]?.governance.delegate?.stakedBalance??0n)*BigInt(r[39].limit_of_staking_over_baking_millionth))+"",m,v,p=BigInt(r[39].limit_of_staking_over_baking_millionth)/1000000n+"",P,j,N;return e=new He({}),{c(){O(e.$$.fragment),t=L(),n=_("b"),l=T("Pending cycle "),a=T(s),o=T(":"),i=L(),u=_("div"),f=T("Staking Fee: "),y=T(h),D=L(),I=_("div"),V=T("Total Stake Capacity: "),m=T(E),v=T(" (mutliplier: "),P=T(p),j=T(`x)\r
										`)},l(S){R(e.$$.fragment,S),t=M(S),n=$(S,"B",{});var A=b(n);l=B(A,"Pending cycle "),a=B(A,s),o=B(A,":"),A.forEach(c),i=M(S),u=$(S,"DIV",{});var z=b(u);f=B(z,"Staking Fee: "),y=B(z,h),z.forEach(c),D=M(S),I=$(S,"DIV",{});var Y=b(I);V=B(Y,"Total Stake Capacity: "),m=B(Y,E),v=B(Y," (mutliplier: "),P=B(Y,p),j=B(Y,`x)\r
										`),Y.forEach(c)},m(S,A){q(e,S,A),k(S,t,A),k(S,n,A),d(n,l),d(n,a),d(n,o),k(S,i,A),k(S,u,A),d(u,f),d(u,y),k(S,D,A),k(S,I,A),d(I,V),d(I,m),d(I,v),d(I,P),d(I,j),N=!0},p(S,A){(!N||A[0]&512)&&s!==(s=S[39].cycle+"")&&ne(a,s),(!N||A[0]&512)&&h!==(h=Pt(S[39].edge_of_baking_over_staking_billionth)+"")&&ne(y,h),(!N||A[0]&516)&&E!==(E=Vt((S[2]?.governance.delegate?.stakedBalance??0n)*BigInt(S[39].limit_of_staking_over_baking_millionth))+"")&&ne(m,E),(!N||A[0]&512)&&p!==(p=BigInt(S[39].limit_of_staking_over_baking_millionth)/1000000n+"")&&ne(P,p)},i(S){N||(w(e.$$.fragment,S),N=!0)},o(S){C(e.$$.fragment,S),N=!1},d(S){S&&(c(t),c(n),c(i),c(u),c(D),c(I)),F(e,S)}}}function Yn(r){let e,t,n,l;e=new He({});let s=bt(r[9]),a=[];for(let i=0;i<s.length;i+=1)a[i]=Xn(Hn(r,s,i));const o=i=>C(a[i],1,1,()=>{a[i]=null});return{c(){O(e.$$.fragment),t=L();for(let i=0;i<a.length;i+=1)a[i].c();n=We()},l(i){R(e.$$.fragment,i),t=M(i);for(let u=0;u<a.length;u+=1)a[u].l(i);n=We()},m(i,u){q(e,i,u),k(i,t,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,u);k(i,n,u),l=!0},p(i,u){if(u[0]&516){s=bt(i[9]);let f;for(f=0;f<s.length;f+=1){const h=Hn(i,s,f);a[f]?(a[f].p(h,u),w(a[f],1)):(a[f]=Xn(h),a[f].c(),w(a[f],1),a[f].m(n.parentNode,n))}for(Se(),f=s.length;f<a.length;f+=1)o(f);je()}},i(i){if(!l){w(e.$$.fragment,i);for(let u=0;u<s.length;u+=1)w(a[u]);l=!0}},o(i){C(e.$$.fragment,i),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)C(a[u]);l=!1},d(i){i&&(c(t),c(n)),F(e,i),cn(a,i)}}}function Xn(r){let e,t,n=r[39].cycle+"",l,s,a,o,i,u=Pt(r[39].edge_of_baking_over_staking_billionth)+"",f,h,y,D,I=Vt((r[2]?.governance.delegate?.stakedBalance??0n)*BigInt(r[39].limit_of_staking_over_baking_millionth))+"",V,E,m=BigInt(r[39].limit_of_staking_over_baking_millionth)/1000000n+"",v,p,P,j,N;return j=new He({}),{c(){e=_("b"),t=T("Pending cycle "),l=T(n),s=T(":"),a=L(),o=_("div"),i=T("Staking Fee: "),f=T(u),h=L(),y=_("div"),D=T("Total Stake Capacity: "),V=T(I),E=T(" (mutliplier: "),v=T(m),p=T("x)"),P=L(),O(j.$$.fragment)},l(S){e=$(S,"B",{});var A=b(e);t=B(A,"Pending cycle "),l=B(A,n),s=B(A,":"),A.forEach(c),a=M(S),o=$(S,"DIV",{});var z=b(o);i=B(z,"Staking Fee: "),f=B(z,u),z.forEach(c),h=M(S),y=$(S,"DIV",{});var Y=b(y);D=B(Y,"Total Stake Capacity: "),V=B(Y,I),E=B(Y," (mutliplier: "),v=B(Y,m),p=B(Y,"x)"),Y.forEach(c),P=M(S),R(j.$$.fragment,S)},m(S,A){k(S,e,A),d(e,t),d(e,l),d(e,s),k(S,a,A),k(S,o,A),d(o,i),d(o,f),k(S,h,A),k(S,y,A),d(y,D),d(y,V),d(y,E),d(y,v),d(y,p),k(S,P,A),q(j,S,A),N=!0},p(S,A){(!N||A[0]&512)&&n!==(n=S[39].cycle+"")&&ne(l,n),(!N||A[0]&512)&&u!==(u=Pt(S[39].edge_of_baking_over_staking_billionth)+"")&&ne(f,u),(!N||A[0]&516)&&I!==(I=Vt((S[2]?.governance.delegate?.stakedBalance??0n)*BigInt(S[39].limit_of_staking_over_baking_millionth))+"")&&ne(V,I),(!N||A[0]&512)&&m!==(m=BigInt(S[39].limit_of_staking_over_baking_millionth)/1000000n+"")&&ne(v,m)},i(S){N||(w(j.$$.fragment,S),N=!0)},o(S){C(j.$$.fragment,S),N=!1},d(S){S&&(c(e),c(a),c(o),c(h),c(y),c(P)),F(j,S)}}}function Oa(r){let e,t="<div></div> <div>🌱</div> <div>Donate to TzC</div> <div>🌱</div>";return{c(){e=_("div"),e.innerHTML=t,this.h()},l(n){e=$(n,"DIV",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-bsbnwv"&&(e.innerHTML=t),this.h()},h(){g(e,"class","donate-btn svelte-7t4len")},m(n,l){k(n,e,l)},p:x,d(n){n&&c(e)}}}function Ra(r){let e,t,n,l;const s=[ja,Sa],a=[];function o(i,u){return i[2].isLoadingDelegate?0:1}return t=o(r),n=a[t]=s[t](r),{c(){e=_("div"),n.c(),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);n.l(u),u.forEach(c),this.h()},h(){g(e,"class","staking svelte-7t4len")},m(i,u){k(i,e,u),a[t].m(e,null),l=!0},p(i,u){let f=t;t=o(i),t===f?a[t].p(i,u):(Se(),C(a[f],1,1,()=>{a[f]=null}),je(),n=a[t],n?n.p(i,u):(n=a[t]=s[t](i),n.c()),w(n,1),n.m(e,null))},i(i){l||(w(n),l=!0)},o(i){C(n),l=!1},d(i){i&&c(e),a[t].d()}}}function qa(r){let e,t,n,l,s;t=new ue({props:{$$slots:{default:[Wa]},$$scope:{ctx:r}}}),t.$on("click",r[18]);let a=r[1]!==void 0&&Zn(r);return{c(){e=_("div"),O(t.$$.fragment),n=L(),a&&a.c(),l=We(),this.h()},l(o){e=$(o,"DIV",{class:!0});var i=b(e);R(t.$$.fragment,i),i.forEach(c),n=M(o),a&&a.l(o),l=We(),this.h()},h(){g(e,"class","redo svelte-7t4len")},m(o,i){k(o,e,i),q(t,e,null),k(o,n,i),a&&a.m(o,i),k(o,l,i),s=!0},p(o,i){const u={};i[1]&8192&&(u.$$scope={dirty:i,ctx:o}),t.$set(u),o[1]!==void 0?a?(a.p(o,i),i[0]&2&&w(a,1)):(a=Zn(o),a.c(),w(a,1),a.m(l.parentNode,l)):a&&(Se(),C(a,1,1,()=>{a=null}),je())},i(o){s||(w(t.$$.fragment,o),w(a),s=!0)},o(o){C(t.$$.fragment,o),C(a),s=!1},d(o){o&&(c(e),c(n),c(l)),F(t),a&&a.d(o)}}}function Fa(r){let e,t;return e=new Ht({props:{progress:"indeterminate",message:"Loading governance state..."}}),{c(){O(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p:x,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Wa(r){let e,t,n;return t=new Gn({}),{c(){e=_("div"),O(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var s=b(e);R(t.$$.fragment,s),s.forEach(c),this.h()},h(){g(e,"class","icon svelte-7t4len")},m(l,s){k(l,e,s),q(t,e,null),n=!0},p:x,i(l){n||(w(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),F(t)}}}function Zn(r){let e,t,n=r[1]?.info.voting_period.kind+"",l,s,a,o,i,u,f=r[1].info.voting_period.index+"",h,y,D,I,V,E,m,v,p,P;function j(H,Q){return H[13]?Ua:Ha}let N=j(r),S=N(r);V=new He({});const A=[Za,Xa,Ya,za],z=[];function Y(H,Q){return H[17]!==void 0?0:H[16]!==void 0?1:H[15]!==void 0?2:3}return m=Y(r),v=z[m]=A[m](r),{c(){e=_("div"),t=_("h5"),l=T(n),s=T(" Period"),a=L(),o=_("div"),i=_("div"),u=T("#"),h=T(f),y=L(),D=_("div"),S.c(),I=L(),O(V.$$.fragment),E=L(),v.c(),p=We(),this.h()},l(H){e=$(H,"DIV",{class:!0});var Q=b(e);t=$(Q,"H5",{class:!0});var te=b(t);l=B(te,n),s=B(te," Period"),te.forEach(c),Q.forEach(c),a=M(H),o=$(H,"DIV",{class:!0});var re=b(o);i=$(re,"DIV",{class:!0});var oe=b(i);u=B(oe,"#"),h=B(oe,f),oe.forEach(c),y=M(re),D=$(re,"DIV",{class:!0});var _e=b(D);S.l(_e),_e.forEach(c),re.forEach(c),I=M(H),R(V.$$.fragment,H),E=M(H),v.l(H),p=We(),this.h()},h(){g(t,"class","svelte-7t4len"),g(e,"class","title svelte-7t4len"),g(i,"class","governance-period-number svelte-7t4len"),g(D,"class","governance-period-remaining svelte-7t4len"),g(o,"class","governance-period-header svelte-7t4len")},m(H,Q){k(H,e,Q),d(e,t),d(t,l),d(t,s),k(H,a,Q),k(H,o,Q),d(o,i),d(i,u),d(i,h),d(o,y),d(o,D),S.m(D,null),k(H,I,Q),q(V,H,Q),k(H,E,Q),z[m].m(H,Q),k(H,p,Q),P=!0},p(H,Q){(!P||Q[0]&2)&&n!==(n=H[1]?.info.voting_period.kind+"")&&ne(l,n),(!P||Q[0]&2)&&f!==(f=H[1].info.voting_period.index+"")&&ne(h,f),N===(N=j(H))&&S?S.p(H,Q):(S.d(1),S=N(H),S&&(S.c(),S.m(D,null)));let te=m;m=Y(H),m===te?z[m].p(H,Q):(Se(),C(z[te],1,1,()=>{z[te]=null}),je(),v=z[m],v?v.p(H,Q):(v=z[m]=A[m](H),v.c()),w(v,1),v.m(p.parentNode,p))},i(H){P||(w(V.$$.fragment,H),w(v),P=!0)},o(H){C(V.$$.fragment,H),C(v),P=!1},d(H){H&&(c(e),c(a),c(o),c(I),c(E),c(p)),S.d(),F(V,H),z[m].d(H)}}}function Ha(r){let e,t,n,l;return{c(){e=T("ends in "),t=T(r[12]),n=T(" blocks ~ "),l=T(r[14])},l(s){e=B(s,"ends in "),t=B(s,r[12]),n=B(s," blocks ~ "),l=B(s,r[14])},m(s,a){k(s,e,a),k(s,t,a),k(s,n,a),k(s,l,a)},p(s,a){a[0]&4096&&ne(t,s[12]),a[0]&16384&&ne(l,s[14])},d(s){s&&(c(e),c(t),c(n),c(l))}}}function Ua(r){let e;return{c(){e=T("ended")},l(t){e=B(t,"ended")},m(t,n){k(t,e,n)},p:x,d(t){t&&c(e)}}}function za(r){let e,t=r[1].info.voting_period.kind+"",n,l;return{c(){e=_("div"),n=T(t),l=T(" is not supported yet"),this.h()},l(s){e=$(s,"DIV",{class:!0});var a=b(e);n=B(a,t),l=B(a," is not supported yet"),a.forEach(c),this.h()},h(){g(e,"class","error-message svelte-7t4len")},m(s,a){k(s,e,a),d(e,n),d(e,l)},p(s,a){a[0]&2&&t!==(t=s[1].info.voting_period.kind+"")&&ne(n,t)},i:x,o:x,d(s){s&&c(e)}}}function Ya(r){let e,t;return e=new Va({props:{period:r[15],periodIndex:r[1].info.voting_period.index}}),{c(){O(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l[0]&32768&&(s.period=n[15]),l[0]&2&&(s.periodIndex=n[1].info.voting_period.index),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Xa(r){let e,t;return e=new ol({props:{period:r[16],periodIndex:r[1].info.voting_period.index,pkh:r[2]?.account.id,canVote:r[5]}}),e.$on("vote",r[27]),e.$on("upvote",r[28]),{c(){O(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l[0]&65536&&(s.period=n[16]),l[0]&2&&(s.periodIndex=n[1].info.voting_period.index),l[0]&4&&(s.pkh=n[2]?.account.id),l[0]&32&&(s.canVote=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Za(r){let e,t;return e=new Yr({props:{period:r[17],periodIndex:r[1].info.voting_period.index,pkh:r[2]?.account.id,canVote:r[5]}}),e.$on("vote",r[27]),e.$on("upvote",r[28]),{c(){O(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l[0]&131072&&(s.period=n[17]),l[0]&2&&(s.periodIndex=n[1].info.voting_period.index),l[0]&4&&(s.pkh=n[2]?.account.id),l[0]&32&&(s.canVote=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Qa(r){let e,t,n,l;const s=[Fa,qa],a=[];function o(i,u){return i[2]?.governance?.loadingPeriod?0:1}return t=o(r),n=a[t]=s[t](r),{c(){e=_("div"),n.c(),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=b(e);n.l(u),u.forEach(c),this.h()},h(){g(e,"class","governance-period svelte-7t4len")},m(i,u){k(i,e,u),a[t].m(e,null),l=!0},p(i,u){let f=t;t=o(i),t===f?a[t].p(i,u):(Se(),C(a[f],1,1,()=>{a[f]=null}),je(),n=a[t],n?n.p(i,u):(n=a[t]=s[t](i),n.c()),w(n,1),n.m(e,null))},i(i){l||(w(n),l=!0)},o(i){C(n),l=!1},d(i){i&&c(e),a[t].d()}}}function Ka(r){let e,t,n,l,s,a,o,i,u,f,h;const y=[Ma,La],D=[];function I(p,P){return p[2]&&p[2].isInitializing?0:p[2]?1:-1}~(t=I(r))&&(n=D[t]=y[t](r));let V={};s=new kr({props:V}),r[33](s);let E={};o=new Il({props:E}),r[34](o);function m(p){r[35](p)}let v={opHash:r[8],explorerTemplate:r[2]?.account.explorer??"",error:r[6],allowClose:!1,stage:r[7]};return r[0]!==void 0&&(v.open=r[0]),u=new bl({props:v}),Fe.push(()=>Ge(u,"open",m)),{c(){e=_("div"),n&&n.c(),l=L(),O(s.$$.fragment),a=L(),O(o.$$.fragment),i=L(),O(u.$$.fragment),this.h()},l(p){e=$(p,"DIV",{class:!0});var P=b(e);n&&n.l(P),P.forEach(c),l=M(p),R(s.$$.fragment,p),a=M(p),R(o.$$.fragment,p),i=M(p),R(u.$$.fragment,p),this.h()},h(){g(e,"class","home-wrap svelte-7t4len")},m(p,P){k(p,e,P),~t&&D[t].m(e,null),k(p,l,P),q(s,p,P),k(p,a,P),q(o,p,P),k(p,i,P),q(u,p,P),h=!0},p(p,P){let j=t;t=I(p),t===j?~t&&D[t].p(p,P):(n&&(Se(),C(D[j],1,1,()=>{D[j]=null}),je()),~t?(n=D[t],n?n.p(p,P):(n=D[t]=y[t](p),n.c()),w(n,1),n.m(e,null)):n=null);const N={};s.$set(N);const S={};o.$set(S);const A={};P[0]&256&&(A.opHash=p[8]),P[0]&4&&(A.explorerTemplate=p[2]?.account.explorer??""),P[0]&64&&(A.error=p[6]),P[0]&128&&(A.stage=p[7]),!f&&P[0]&1&&(f=!0,A.open=p[0],Je(()=>f=!1)),u.$set(A)},i(p){h||(w(n),w(s.$$.fragment,p),w(o.$$.fragment,p),w(u.$$.fragment,p),h=!0)},o(p){C(n),C(s.$$.fragment,p),C(o.$$.fragment,p),C(u.$$.fragment,p),h=!1},d(p){p&&(c(e),c(l),c(a),c(i)),~t&&D[t].d(),r[33](null),F(s,p),r[34](null),F(o,p),F(u,p)}}}function Ja(r,e,t){let n,l,s,a,o,i,u,f,h,y,D,I,V,E;er(r,we,W=>t(2,E=W));let m,v,p,P,j="building",N,S=!1;async function A(){await we.refreshGovernanceState()}async function z(){await we.refreshDelegate()}async function Y(W){try{t(0,S=!0),t(7,j="building");const U=await W(),pe=await U.send();t(8,N=pe.ophash),t(7,j="confirming"),await U.confirmation(),t(7,j="applied")}catch(U){t(7,j="failed"),t(6,P=U.message)}}async function H(){const W=await m.prompt({title:"Delegate",message:"Enter the address you want to delegate to",value:"",rules:[U=>U===""||ar(U)===3||"Invalid address"],confirmText:"Delegate"});await Y(async()=>await we.delegate(W)),await we.refreshDelegate()}async function Q(){await Y(async()=>await we.delegate()),await we.refreshDelegate()}const te=[W=>!!W||"Amount can not be empty",W=>!isNaN(Number(W))||"Amount must be a number",W=>Number(W)>0||"Amount must be greater than 0",W=>Number(W)<Number(E?.account.balance??0n)/Dt||"Amount must be less than your balance"];async function re(){const W=await m.prompt({title:"Stake",message:"Enter the amount you want to stake",value:"0",rules:te,confirmText:"Stake"}),U=BigInt(Math.floor(Number(W)*Dt));await Y(async()=>await we.stake(U)),await Promise.allSettled([we.refreshDelegate(),we.refreshBalance()])}const oe=[W=>!!W||"Amount can not be empty",W=>!isNaN(Number(W))||"Amount must be a number",W=>Number(W)>0||"Amount must be greater than 0",W=>Number(W)<Number(E?.account.stakedBalance??0n)/Dt||"Amount must be less than your balance"];async function _e(){const W=await m.prompt({title:"Unstake",message:"Enter the amount you want to unstake",value:"0",rules:oe,confirmText:"Unstake"}),U=BigInt(Math.floor(Number(W)*Dt));await Y(async()=>await we.unstake(U)),await Promise.allSettled([we.refreshDelegate(),we.refreshBalance()])}async function Ee(){const W=await m.prompt({title:"Donate",message:"Enter the amount TEZ you want to donate",value:"1",rules:te,confirmText:"Donate"}),U=BigInt(Number(W)*Dt);await Y(async()=>await we.donate(U)),await we.refreshBalance()}async function $e(){await Y(async()=>await we.finalizeUnstake()),await we.refreshDelegate()}async function ye(){const W=E?.governance.delegate?.activeStakingParameters,U=E?.governance.delegate?.pendingStakingParameters;let pe=W?W.edge_of_baking_over_staking_billionth/1e7:0;const de=ir(U);de&&(pe=de.edge_of_baking_over_staking_billionth/1e7);let ce=W?W.limit_of_staking_over_baking_millionth/1e6:0;de&&(ce=de.limit_of_staking_over_baking_millionth/1e6);const{edge:ae,limit:X}=await v.prompt({value:{edge:pe,limit:ce}});await Y(async()=>await we.setDelegateParameters(ae/100,X)),await we.refreshDelegate()}async function fe(W){await Y(async()=>await we.vote(W.detail.proposal,W.detail.ballot,W.detail.period))}async function le(W){await Y(async()=>await we.upvote(W.detail.proposals,W.detail.period))}async function J(){const W=await m.prompt({title:"Update Consensus Key",message:"Enter the new consensus key",value:"",rules:[U=>!!U||"Key can not be empty",U=>sr(U)===3||"Invalid public key"],confirmText:"Update Consensus Key"});await Y(async()=>await we.updateConesusKey(W)),await we.refreshDelegate()}function ge(W){Fe[W?"unshift":"push"](()=>{m=W,t(3,m)})}function se(W){Fe[W?"unshift":"push"](()=>{v=W,t(4,v)})}function ve(W){S=W,t(0,S)}return r.$$.update=()=>{r.$$.dirty[0]&4&&t(1,n=E?.governance?.period),r.$$.dirty[0]&2&&t(32,l=n?.voters??[]),r.$$.dirty[0]&4|r.$$.dirty[1]&2&&t(5,p=l.find(W=>W.pkh===E?.account.id)!==void 0),r.$$.dirty[0]&2&&t(17,s=n?.info.voting_period.kind==="proposal"?ya(n):void 0),r.$$.dirty[0]&2&&t(16,a=["exploration","promotion"].includes(n?.info.voting_period.kind??"unknown")?Da(n):void 0),r.$$.dirty[0]&2&&t(15,o=["testing","adoption"].includes(n?.info.voting_period.kind??"unknown")?n:void 0),r.$$.dirty[0]&2&&t(30,i=n?.block),r.$$.dirty[0]&1073741826&&t(31,u=ba(n?.info,i)),r.$$.dirty[1]&1&&t(14,f=$a(u,{addSuffix:!0})),r.$$.dirty[1]&1&&t(13,h=u<new Date),r.$$.dirty[0]&1073741826&&t(12,y=n?.info&&ka(n?.info,i)),r.$$.dirty[0]&1&&(S||(t(6,P=void 0),t(8,N=void 0),t(7,j="building"))),r.$$.dirty[0]&4&&t(11,D=Pt(E?.governance.delegate?.activeStakingParameters?.edge_of_baking_over_staking_billionth??0)),r.$$.dirty[0]&4&&t(10,I=Vt((E?.governance.delegate?.stakedBalance??0n)*BigInt(E?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0))),r.$$.dirty[0]&4&&t(9,V=E?.governance.delegate?.pendingStakingParameters??[])},[S,n,E,m,v,p,P,j,N,V,I,D,y,h,f,o,a,s,A,z,H,Q,re,_e,Ee,$e,ye,fe,le,J,i,u,l,ge,se,ve]}class ts extends Ae{constructor(e){super(),Oe(this,e,Ja,Ka,Ne,{},null,[-1,-1])}}export{ts as component};
