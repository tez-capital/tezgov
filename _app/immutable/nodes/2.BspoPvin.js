import{s as ye,r as Le,O as Ye,P as Gt,e as k,a as B,c as w,b,g as T,f,p as m,q as Ot,Q as me,i as y,h as d,R as xt,S as en,T as tn,t as N,d as O,j as x,l as Me,U as Gn,V as on,N as oe,K as se,L as ie,n as K,W as un,X as cn,k as xn}from"../chunks/scheduler.ByQKukMK.js";import{S as De,i as Ce,f as Xe,b as F,d as W,m as U,a as D,t as I,e as H,g as pe,c as _e}from"../chunks/index.Bt0gTvVl.js";import{ae as Rt,af as ln,ag as Zn,ah as mt,ai as le,aj as bt,ak as er,al as tr,am as an,an as nr,ao as fn,ap as dn,aq as gt,ar as Ze,as as ht,at as At,au as rr,av as Vn,aw as kt,ax as wt,ay as ge,az as lr,aA as nn,aB as ar}from"../chunks/Input.BeIkUCII.js";function sr(r){var e=r==null?0:r.length;return e?r[e-1]:void 0}const ir=r=>r&1,or=r=>({}),Ln=r=>({...r[0]}),ur=r=>r&1,cr=r=>({}),Mn=r=>({...r[0]}),fr=r=>r&1,dr=r=>({}),Sn=r=>({...r[0]});function mr(r){let e,t=r[0].title+"",n;return{c(){e=k("h3"),n=N(t),this.h()},l(l){e=w(l,"H3",{class:!0});var s=b(e);n=O(s,t),s.forEach(f),this.h()},h(){m(e,"class","title svelte-1igllg9")},m(l,s){y(l,e,s),d(e,n)},p(l,s){s&1&&t!==(t=l[0].title+"")&&x(n,t)},d(l){l&&f(e)}}}function jn(r){let e,t=r[0].message+"",n;return{c(){e=k("p"),n=N(t),this.h()},l(l){e=w(l,"P",{class:!0});var s=b(e);n=O(s,t),s.forEach(f),this.h()},h(){m(e,"class","message svelte-1igllg9")},m(l,s){y(l,e,s),d(e,n)},p(l,s){s&1&&t!==(t=l[0].message+"")&&x(n,t)},d(l){l&&f(e)}}}function gr(r){let e,t=r[0].message&&jn(r);return{c(){t&&t.c(),e=Me()},l(n){t&&t.l(n),e=Me()},m(n,l){t&&t.m(n,l),y(n,e,l)},p(n,l){n[0].message?t?t.p(n,l):(t=jn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&f(e),t&&t.d(n)}}}function hr(r){let e,t,n;const l=[r[0],{noLabel:!0}];function s(o){r[6](o)}let a={};for(let o=0;o<l.length;o+=1)a=Gn(a,l[o]);return r[0].value!==void 0&&(a.value=r[0].value),e=new bt({props:a}),Le.push(()=>Xe(e,"value",s)),{c(){F(e.$$.fragment)},l(o){W(e.$$.fragment,o)},m(o,i){U(e,o,i),n=!0},p(o,i){const u=i&1?er(l,[tr(o[0]),l[1]]):{};!t&&i&1&&(t=!0,u.value=o[0].value,Ye(()=>t=!1)),e.$set(u)},i(o){n||(D(e.$$.fragment,o),n=!0)},o(o){I(e.$$.fragment,o),n=!1},d(o){H(e,o)}}}function vr(r){let e,t,n,l,s,a,o,i,u,c,h;const $=r[5].title,E=Gt($,r,r[10],Sn),V=E||mr(r),L=r[5].message,p=Gt(L,r,r[10],Mn),g=p||gr(r),v=r[5].value,_=Gt(v,r,r[10],Ln),C=_||hr(r);return o=new le({props:{label:r[0].cancelText}}),o.$on("click",r[7]),c=new le({props:{label:r[0].confirmText}}),c.$on("click",r[8]),{c(){e=k("div"),V&&V.c(),t=B(),g&&g.c(),n=B(),C&&C.c(),l=B(),s=k("div"),a=k("div"),F(o.$$.fragment),i=B(),u=k("div"),F(c.$$.fragment),this.h()},l(S){e=w(S,"DIV",{class:!0});var R=b(e);V&&V.l(R),t=T(R),g&&g.l(R),n=T(R),C&&C.l(R),l=T(R),s=w(R,"DIV",{class:!0});var P=b(s);a=w(P,"DIV",{class:!0});var M=b(a);W(o.$$.fragment,M),M.forEach(f),i=T(P),u=w(P,"DIV",{class:!0});var j=b(u);W(c.$$.fragment,j),j.forEach(f),P.forEach(f),R.forEach(f),this.h()},h(){m(a,"class","control-button svelte-1igllg9"),Ot(a,"grid-column","1"),m(u,"class","control-button svelte-1igllg9"),me(u,"disabled",r[3]),Ot(u,"grid-column","3"),m(s,"class","controls padding-top svelte-1igllg9"),m(e,"class","prompt-wrap svelte-1igllg9")},m(S,R){y(S,e,R),V&&V.m(e,null),d(e,t),g&&g.m(e,null),d(e,n),C&&C.m(e,null),d(e,l),d(e,s),d(s,a),U(o,a,null),d(s,i),d(s,u),U(c,u,null),h=!0},p(S,R){E?E.p&&(!h||R&1025)&&xt(E,$,S,S[10],fr(R)||!h?en(S[10]):tn($,S[10],R,dr),Sn):V&&V.p&&(!h||R&1)&&V.p(S,h?R:-1),p?p.p&&(!h||R&1025)&&xt(p,L,S,S[10],ur(R)||!h?en(S[10]):tn(L,S[10],R,cr),Mn):g&&g.p&&(!h||R&1)&&g.p(S,h?R:-1),_?_.p&&(!h||R&1025)&&xt(_,v,S,S[10],ir(R)||!h?en(S[10]):tn(v,S[10],R,or),Ln):C&&C.p&&(!h||R&1)&&C.p(S,h?R:-1);const P={};R&1&&(P.label=S[0].cancelText),o.$set(P);const M={};R&1&&(M.label=S[0].confirmText),c.$set(M),(!h||R&8)&&me(u,"disabled",S[3])},i(S){h||(D(V,S),D(g,S),D(C,S),D(o.$$.fragment,S),D(c.$$.fragment,S),h=!0)},o(S){I(V,S),I(g,S),I(C,S),I(o.$$.fragment,S),I(c.$$.fragment,S),h=!1},d(S){S&&f(e),V&&V.d(S),g&&g.d(S),C&&C.d(S),H(o),H(c)}}}function pr(r){let e,t;return e=new mt({props:{$$slots:{default:[vr]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,l){U(e,n,l),t=!0},p(n,l){const s={};l&1037&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function _r(r){let e,t,n;function l(a){r[9](a)}let s={persistent:!0,$$slots:{default:[pr]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.open=r[1]),e=new Rt({props:s}),Le.push(()=>Xe(e,"open",l)),{c(){F(e.$$.fragment)},l(a){W(e.$$.fragment,a)},m(a,o){U(e,a,o),n=!0},p(a,[o]){const i={};o&1037&&(i.$$scope={dirty:o,ctx:a}),!t&&o&2&&(t=!0,i.open=a[1],Ye(()=>t=!1)),e.$set(i)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){I(e.$$.fragment,a),n=!1},d(a){H(e,a)}}}function $r(r,e,t){let n,{$$slots:l={},$$scope:s}=e;const a={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let{state:o=a}=e,{isOpen:i=!1}=e,u={resolve:()=>c(),reject:()=>c()};function c(){t(1,i=!1)}async function h(p){return t(1,i=!0),t(0,o={...a,...p}),new Promise((g,v)=>{t(2,u={resolve:_=>{c(),g(_)},reject:_=>{c(),v(_)}})})}function $(p){r.$$.not_equal(o.value,p)&&(o.value=p,t(0,o))}const E=()=>u.reject(Zn),V=()=>u.resolve(o.value);function L(p){i=p,t(1,i)}return r.$$set=p=>{"state"in p&&t(0,o=p.state),"isOpen"in p&&t(1,i=p.isOpen),"$$scope"in p&&t(10,s=p.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=ln(o.value,o.rules)!==!0)},[o,i,u,n,h,l,$,E,V,L,s]}class br extends De{constructor(e){super(),Ce(this,e,$r,_r,ye,{state:0,isOpen:1,prompt:4})}get prompt(){return this.$$.ctx[4]}}const sn="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",kr=34,wr=51,yr=r=>{let e=0n;for(const t of r)e*=58n,e+=BigInt(sn.indexOf(t));return e},Bn=r=>{const e=[];for(;r>0n;)e.push(Number(r%256n)),r=r/256n;return e.reverse()},Dr=r=>{const e=kr,t=yr(r),n=nr.decode(r).length+1,l=BigInt(8*(e-n+4)),s=wr-r.length;let a=t*58n**BigInt(s);a=a>>l,a+=a===a>>l<<l?0n:1n;let o=(t+1n)*58n**BigInt(s)-(1n<<l)+1n;if(o=o>>l,o>=a){const i=Uint8Array.from(Array.from({...Bn(a),length:e}).map($=>$===void 0?0:$)),u=an.encode(i);if(!u.startsWith(r)||u.length!==s+r.length)return null;const c=Uint8Array.from(Array.from({...Bn(a),length:e}).map($=>$===void 0?255:$)),h=an.encode(c);return!h.startsWith(r)||h.length!==s+r.length?null:i}return null},Cr=r=>{let e="Pt1";for(const n of r){if(sn.includes(n)){e+=n;continue}if(sn.includes(n.toLowerCase())){e+=n.toLowerCase();continue}}const t=Dr(e);return t===null?[!1,"Can not generate protocol hash from provided message"]:[!0,an.encode(new Uint8Array(t))]};function Ir(r){let e,t,n="New Proposal",l,s,a,o,i=`If you want to make a statement, write it in the <b>statement</b> field; this will generate
					a proposal hash for you.`,u,c,h=`To inject a proper protocol upgrade proposal, write the hash in the <b>new proposal</b>
					field and leave <b>statement</b> blank.`,$,E,V="*<b>Please refrain from using this feature for spamming.</b>",L,p,g="**Remember that you can propose or vote for a proposal only <b>10 times per period</b>.",v,_,C,S,R,P,M,j,A,q,Y,Q,z,J,ue;function $e(te){r[6](te)}let de={label:"Statement"};r[1]!==void 0&&(de.value=r[1]),S=new bt({props:de}),Le.push(()=>Xe(S,"value",$e));function Ie(te){r[7](te)}let he={label:"New Proposal",hint:"You can provide proposal hash",rules:r[5]};return r[2]!==void 0&&(he.value=r[2]),M=new bt({props:he}),Le.push(()=>Xe(M,"value",Ie)),Y=new le({props:{label:"Cancel"}}),Y.$on("click",r[8]),J=new le({props:{label:"Inject"}}),J.$on("click",r[4]),{c(){e=k("div"),t=k("b"),t.textContent=n,l=B(),s=k("div"),a=B(),o=k("div"),o.innerHTML=i,u=B(),c=k("div"),c.innerHTML=h,$=B(),E=k("div"),E.innerHTML=V,L=B(),p=k("div"),p.innerHTML=g,v=B(),_=k("div"),C=B(),F(S.$$.fragment),P=B(),F(M.$$.fragment),A=B(),q=k("div"),F(Y.$$.fragment),Q=B(),z=k("div"),F(J.$$.fragment),this.h()},l(te){e=w(te,"DIV",{class:!0});var ee=b(e);t=w(ee,"B",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-1e5a96z"&&(t.textContent=n),l=T(ee),s=w(ee,"DIV",{}),b(s).forEach(f),a=T(ee),o=w(ee,"DIV",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-1vty4mc"&&(o.innerHTML=i),u=T(ee),c=w(ee,"DIV",{class:!0,"data-svelte-h":!0}),oe(c)!=="svelte-acrdcg"&&(c.innerHTML=h),$=T(ee),E=w(ee,"DIV",{class:!0,"data-svelte-h":!0}),oe(E)!=="svelte-1c5d71w"&&(E.innerHTML=V),L=T(ee),p=w(ee,"DIV",{class:!0,"data-svelte-h":!0}),oe(p)!=="svelte-1e6wult"&&(p.innerHTML=g),v=T(ee),_=w(ee,"DIV",{}),b(_).forEach(f),C=T(ee),W(S.$$.fragment,ee),P=T(ee),W(M.$$.fragment,ee),A=T(ee),q=w(ee,"DIV",{class:!0});var be=b(q);W(Y.$$.fragment,be),Q=T(be),z=w(be,"DIV",{});var X=b(z);W(J.$$.fragment,X),X.forEach(f),be.forEach(f),ee.forEach(f),this.h()},h(){m(t,"class","title svelte-sbi72s"),m(o,"class","text"),m(c,"class","text"),m(E,"class","text"),m(p,"class","text"),me(z,"disabled",!r[3]),m(q,"class","controls svelte-sbi72s"),m(e,"class","content svelte-sbi72s")},m(te,ee){y(te,e,ee),d(e,t),d(e,l),d(e,s),d(e,a),d(e,o),d(e,u),d(e,c),d(e,$),d(e,E),d(e,L),d(e,p),d(e,v),d(e,_),d(e,C),U(S,e,null),d(e,P),U(M,e,null),d(e,A),d(e,q),U(Y,q,null),d(q,Q),d(q,z),U(J,z,null),ue=!0},p(te,ee){const be={};!R&&ee&2&&(R=!0,be.value=te[1],Ye(()=>R=!1)),S.$set(be);const X={};!j&&ee&4&&(j=!0,X.value=te[2],Ye(()=>j=!1)),M.$set(X),(!ue||ee&8)&&me(z,"disabled",!te[3])},i(te){ue||(D(S.$$.fragment,te),D(M.$$.fragment,te),D(Y.$$.fragment,te),D(J.$$.fragment,te),ue=!0)},o(te){I(S.$$.fragment,te),I(M.$$.fragment,te),I(Y.$$.fragment,te),I(J.$$.fragment,te),ue=!1},d(te){te&&f(e),H(S),H(M),H(Y),H(J)}}}function Er(r){let e,t,n;return t=new mt({props:{$$slots:{default:[Ir]},$$scope:{ctx:r}}}),{c(){e=k("div"),F(t.$$.fragment),this.h()},l(l){e=w(l,"DIV",{class:!0});var s=b(e);W(t.$$.fragment,s),s.forEach(f),this.h()},h(){m(e,"class","center svelte-sbi72s")},m(l,s){y(l,e,s),U(t,e,null),n=!0},p(l,s){const a={};s&1039&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){l&&f(e),H(t)}}}function Pr(r){let e,t;return e=new Rt({props:{open:r[0],persistent:!0,$$slots:{default:[Er]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.open=n[0]),l&1039&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function Vr(r,e,t){let n,{open:l=!1}=e,s="",a="";const o=on();async function i(){o("upvote",{proposal:a}),t(0,l=!1)}const u=[E=>!!E||"proposal can not be empty",E=>E.startsWith("P")||"proposal has to start with P"];function c(E){s=E,t(1,s),t(0,l)}function h(E){a=E,t(2,a),t(0,l),t(1,s)}const $=()=>t(0,l=!1);return r.$$set=E=>{"open"in E&&t(0,l=E.open)},r.$$.update=()=>{if(r.$$.dirty&1&&l&&(t(1,s=""),t(2,a="")),r.$$.dirty&2&&s){const[E,V]=Cr(s);E&&t(2,a=V)}r.$$.dirty&4&&t(3,n=u.every(E=>E(a)===!0))},[l,s,a,n,i,u,c,h,$]}class Lr extends De{constructor(e){super(),Ce(this,e,Vr,Pr,ye,{open:0})}}function Mr(r){let e,t;return{c(){e=se("svg"),t=se("path"),this.h()},l(n){e=ie(n,"svg",{xmlns:!0,viewBox:!0});var l=b(e);t=ie(l,"path",{d:!0}),b(t).forEach(f),l.forEach(f),this.h()},h(){m(t,"d","M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 32 32")},m(n,l){y(n,e,l),d(e,t)},p:K,i:K,o:K,d(n){n&&f(e)}}}class qt extends De{constructor(e){super(),Ce(this,e,null,Mr,ye,{})}}function Sr(r){let e,t;return{c(){e=se("svg"),t=se("path"),this.h()},l(n){e=ie(n,"svg",{xmlns:!0,viewBox:!0});var l=b(e);t=ie(l,"path",{d:!0}),b(t).forEach(f),l.forEach(f),this.h()},h(){m(t,"d","M 3 6 L 3 25 L 13 25 C 14.101563 25 15 25.898438 15 27 L 17 27 C 17 25.898438 17.898438 25 19 25 L 29 25 L 29 6 L 19 6 C 17.808594 6 16.734375 6.527344 16 7.359375 C 15.265625 6.527344 14.191406 6 13 6 Z M 5 8 L 13 8 C 14.101563 8 15 8.898438 15 10 L 17 10 C 17 8.898438 17.898438 8 19 8 L 27 8 L 27 23 L 19 23 C 17.808594 23 16.734375 23.527344 16 24.359375 C 15.265625 23.527344 14.191406 23 13 23 L 5 23 Z M 15 12 L 15 14 L 17 14 L 17 12 Z M 15 16 L 15 18 L 17 18 L 17 16 Z M 15 20 L 15 22 L 17 22 L 17 20 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 32 32")},m(n,l){y(n,e,l),d(e,t)},p:K,i:K,o:K,d(n){n&&f(e)}}}class mn extends De{constructor(e){super(),Ce(this,e,null,Sr,ye,{})}}function jr(r){let e,t;return{c(){e=se("svg"),t=se("path"),this.h()},l(n){e=ie(n,"svg",{xmlns:!0,viewBox:!0});var l=b(e);t=ie(l,"path",{d:!0}),b(t).forEach(f),l.forEach(f),this.h()},h(){m(t,"d","M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 32 32")},m(n,l){y(n,e,l),d(e,t)},p:K,i:K,o:K,d(n){n&&f(e)}}}class gn extends De{constructor(e){super(),Ce(this,e,null,jr,ye,{})}}async function hn(r){await navigator.clipboard.writeText(r)}function Tn(r,e,t){const n=r.slice();return n[16]=e[t],n}function Br(r){let e,t,n,l,s=gt(r[2].proposals),a=[];for(let i=0;i<s.length;i+=1)a[i]=Nn(Tn(r,s,i));const o=i=>I(a[i],1,1,()=>{a[i]=null});return n=new Ze({}),{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=B(),t=k("div"),F(n.$$.fragment),this.h()},l(i){for(let c=0;c<a.length;c+=1)a[c].l(i);e=T(i),t=w(i,"DIV",{class:!0});var u=b(t);W(n.$$.fragment,u),u.forEach(f),this.h()},h(){m(t,"class","separator svelte-1yewxu8")},m(i,u){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(i,u);y(i,e,u),y(i,t,u),U(n,t,null),l=!0},p(i,u){if(u&119){s=gt(i[2].proposals);let c;for(c=0;c<s.length;c+=1){const h=Tn(i,s,c);a[c]?(a[c].p(h,u),D(a[c],1)):(a[c]=Nn(h),a[c].c(),D(a[c],1),a[c].m(e.parentNode,e))}for(pe(),c=s.length;c<a.length;c+=1)o(c);_e()}},i(i){if(!l){for(let u=0;u<s.length;u+=1)D(a[u]);D(n.$$.fragment,i),l=!0}},o(i){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)I(a[u]);I(n.$$.fragment,i),l=!1},d(i){i&&(f(e),f(t)),un(a,i),H(n)}}}function Tr(r){let e;return{c(){e=N("no proposals")},l(t){e=O(t,"no proposals")},m(t,n){y(t,e,n)},p:K,i:K,o:K,d(t){t&&f(e)}}}function Nr(r){let e,t,n;return{c(){e=N("(needs "),t=N(ht),n=N("%)")},l(l){e=O(l,"(needs "),t=O(l,ht),n=O(l,"%)")},m(l,s){y(l,e,s),y(l,t,s),y(l,n,s)},d(l){l&&(f(e),f(t),f(n))}}}function Or(r){let e,t,n;return{c(){e=N("("),t=N(ht),n=N("% reached)")},l(l){e=O(l,"("),t=O(l,ht),n=O(l,"% reached)")},m(l,s){y(l,e,s),y(l,t,s),y(l,n,s)},d(l){l&&(f(e),f(t),f(n))}}}function Rr(r){let e,t,n="EXPLORER",l,s,a,o;return a=new gn({}),{c(){e=k("div"),t=k("div"),t.textContent=n,l=B(),s=k("div"),F(a.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);t=w(u,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-323t9m"&&(t.textContent=n),l=T(u),s=w(u,"DIV",{class:!0});var c=b(s);W(a.$$.fragment,c),c.forEach(f),u.forEach(f),this.h()},h(){m(t,"class","label svelte-1yewxu8"),m(s,"class","icon svelte-1yewxu8"),m(e,"class","button-content svelte-1yewxu8")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),U(a,s,null),o=!0},p:K,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&f(e),H(a)}}}function Ar(r){let e,t,n="AGORA",l,s,a,o;return a=new mn({}),{c(){e=k("div"),t=k("div"),t.textContent=n,l=B(),s=k("div"),F(a.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);t=w(u,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=T(u),s=w(u,"DIV",{class:!0});var c=b(s);W(a.$$.fragment,c),c.forEach(f),u.forEach(f),this.h()},h(){m(t,"class","label svelte-1yewxu8"),m(s,"class","icon svelte-1yewxu8"),m(e,"class","button-content svelte-1yewxu8")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),U(a,s,null),o=!0},p:K,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&f(e),H(a)}}}function qr(r){let e,t;function n(){return r[11](r[16])}return e=new le({props:{$$slots:{default:[Wr]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){U(e,l,s),t=!0},p(l,s){r=l;const a={};s&524288&&(a.$$scope={dirty:s,ctx:r}),e.$set(a)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){H(e,l)}}}function Fr(r){let e,t,n="UPVOTED",l,s,a,o;return a=new qt({}),{c(){e=k("div"),t=k("div"),t.textContent=n,l=B(),s=k("div"),F(a.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);t=w(u,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-ctwuaa"&&(t.textContent=n),l=T(u),s=w(u,"DIV",{class:!0});var c=b(s);W(a.$$.fragment,c),c.forEach(f),u.forEach(f),this.h()},h(){m(t,"class","label svelte-1yewxu8"),m(s,"class","icon svelte-1yewxu8"),m(e,"class","button-content upvoted svelte-1yewxu8")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),U(a,s,null),o=!0},p:K,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&f(e),H(a)}}}function Wr(r){let e,t,n="UPVOTE",l,s,a,o;return a=new qt({}),{c(){e=k("div"),t=k("div"),t.textContent=n,l=B(),s=k("div"),F(a.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);t=w(u,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-y6ircw"&&(t.textContent=n),l=T(u),s=w(u,"DIV",{class:!0});var c=b(s);W(a.$$.fragment,c),c.forEach(f),u.forEach(f),this.h()},h(){m(t,"class","label svelte-1yewxu8"),m(s,"class","icon svelte-1yewxu8"),m(e,"class","button-content svelte-1yewxu8")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),U(a,s,null),o=!0},p:K,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&f(e),H(a)}}}function Nn(r){let e,t,n,l=r[16].proposal+"",s,a,o,i=r[16].upvotes+"",u,c,h=r[16].percentage+"",$,E,V,L,p,g,v,_,C,S,R,P,M,j,A,q,Y,Q,z,J,ue;function $e(){return r[8](r[16])}function de(ae,G){return ae[16].quorumReached?Or:Nr}let Ie=de(r),he=Ie(r);function te(){return r[9](r[16])}R=new le({props:{$$slots:{default:[Rr]},$$scope:{ctx:r}}}),R.$on("click",te);function ee(){return r[10](r[16])}M=new le({props:{$$slots:{default:[Ar]},$$scope:{ctx:r}}}),M.$on("click",ee);const be=[Fr,qr],X=[];function re(ae,G){return G&5&&(q=null),q==null&&(q=!!(ae[0]&&ae[2].votes&&ae[2].votes[ae[16].proposal].includes(ae[0]))),q?0:1}return Y=re(r,-1),Q=X[Y]=be[Y](r),{c(){e=k("div"),t=k("div"),n=k("button"),s=N(l),a=B(),o=k("div"),u=N(i),c=N(" upvotes ~ "),$=N(h),E=N(`%\r
						`),he.c(),V=B(),L=k("div"),p=se("svg"),g=se("rect"),v=se("rect"),C=se("rect"),S=B(),F(R.$$.fragment),P=B(),F(M.$$.fragment),j=B(),A=k("div"),Q.c(),this.h()},l(ae){e=w(ae,"DIV",{class:!0});var G=b(e);t=w(G,"DIV",{class:!0});var ke=b(t);n=w(ke,"BUTTON",{class:!0});var Fe=b(n);s=O(Fe,l),Fe.forEach(f),ke.forEach(f),a=T(G),o=w(G,"DIV",{class:!0});var we=b(o);u=O(we,i),c=O(we," upvotes ~ "),$=O(we,h),E=O(we,`%\r
						`),he.l(we),we.forEach(f),V=T(G),L=w(G,"DIV",{class:!0});var Ee=b(L);p=ie(Ee,"svg",{width:!0,height:!0});var We=b(p);g=ie(We,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),b(g).forEach(f),v=ie(We,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),b(v).forEach(f),C=ie(We,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),b(C).forEach(f),We.forEach(f),Ee.forEach(f),S=T(G),W(R.$$.fragment,G),P=T(G),W(M.$$.fragment,G),j=T(G),A=w(G,"DIV",{class:!0});var tt=b(A);Q.l(tt),tt.forEach(f),G.forEach(f),this.h()},h(){m(n,"class","unstyle-button"),m(t,"class","title svelte-1yewxu8"),m(o,"class","upvotes svelte-1yewxu8"),m(g,"width","100%"),m(g,"y","5"),m(g,"height","5"),m(g,"fill","#e6e6e6"),m(g,"rx","2"),m(g,"ry","2"),m(v,"width",_=r[16].percentageString),m(v,"y","5"),m(v,"height","5"),m(v,"fill","var(--progress-color)"),m(v,"rx","2"),m(v,"ry","2"),m(C,"width","3"),m(C,"height","15"),m(C,"x",`${ht}%`),m(C,"fill","var(--progress-color)"),m(C,"rx","2"),m(C,"ry","2"),m(p,"width","100%"),m(p,"height","15"),m(L,"class","upvote-bar svelte-1yewxu8"),m(A,"class","upvote-btn svelte-1yewxu8"),me(A,"disabled",!r[0]||!r[1]),m(e,"class","proposal svelte-1yewxu8"),me(e,"success",r[16].quorumReached)},m(ae,G){y(ae,e,G),d(e,t),d(t,n),d(n,s),d(e,a),d(e,o),d(o,u),d(o,c),d(o,$),d(o,E),he.m(o,null),d(e,V),d(e,L),d(L,p),d(p,g),d(p,v),d(p,C),d(e,S),U(R,e,null),d(e,P),U(M,e,null),d(e,j),d(e,A),X[Y].m(A,null),z=!0,J||(ue=cn(n,"click",$e),J=!0)},p(ae,G){r=ae,(!z||G&4)&&l!==(l=r[16].proposal+"")&&x(s,l),(!z||G&4)&&i!==(i=r[16].upvotes+"")&&x(u,i),(!z||G&4)&&h!==(h=r[16].percentage+"")&&x($,h),Ie!==(Ie=de(r))&&(he.d(1),he=Ie(r),he&&(he.c(),he.m(o,null))),(!z||G&4&&_!==(_=r[16].percentageString))&&m(v,"width",_);const ke={};G&524288&&(ke.$$scope={dirty:G,ctx:r}),R.$set(ke);const Fe={};G&524288&&(Fe.$$scope={dirty:G,ctx:r}),M.$set(Fe);let we=Y;Y=re(r,G),Y===we?X[Y].p(r,G):(pe(),I(X[we],1,1,()=>{X[we]=null}),_e(),Q=X[Y],Q?Q.p(r,G):(Q=X[Y]=be[Y](r),Q.c()),D(Q,1),Q.m(A,null)),(!z||G&3)&&me(A,"disabled",!r[0]||!r[1]),(!z||G&4)&&me(e,"success",r[16].quorumReached)},i(ae){z||(D(R.$$.fragment,ae),D(M.$$.fragment,ae),D(Q),z=!0)},o(ae){I(R.$$.fragment,ae),I(M.$$.fragment,ae),I(Q),z=!1},d(ae){ae&&f(e),he.d(),H(R),H(M),X[Y].d(),J=!1,ue()}}}function Ur(r){let e,t,n,l,s,a,o,i,u,c,h;const $=[Tr,Br],E=[];function V(g,v){return g[2].proposals.length===0?0:1}n=V(r),l=E[n]=$[n](r),o=new le({props:{label:"New Proposal"}}),o.$on("click",r[12]);function L(g){r[13](g)}let p={};return r[3]!==void 0&&(p.open=r[3]),u=new Lr({props:p}),Le.push(()=>Xe(u,"open",L)),u.$on("upvote",r[14]),{c(){e=k("div"),t=k("div"),l.c(),s=B(),a=k("div"),F(o.$$.fragment),i=B(),F(u.$$.fragment),this.h()},l(g){e=w(g,"DIV",{class:!0});var v=b(e);t=w(v,"DIV",{class:!0});var _=b(t);l.l(_),_.forEach(f),s=T(v),a=w(v,"DIV",{class:!0});var C=b(a);W(o.$$.fragment,C),C.forEach(f),v.forEach(f),i=T(g),W(u.$$.fragment,g),this.h()},h(){m(t,"class","proposal-period svelte-1yewxu8"),m(a,"class","new-proposal svelte-1yewxu8"),me(a,"disabled",!r[0]||!r[1]),m(e,"class","proposal-period-wrap svelte-1yewxu8")},m(g,v){y(g,e,v),d(e,t),E[n].m(t,null),d(e,s),d(e,a),U(o,a,null),y(g,i,v),U(u,g,v),h=!0},p(g,[v]){let _=n;n=V(g),n===_?E[n].p(g,v):(pe(),I(E[_],1,1,()=>{E[_]=null}),_e(),l=E[n],l?l.p(g,v):(l=E[n]=$[n](g),l.c()),D(l,1),l.m(t,null)),(!h||v&3)&&me(a,"disabled",!g[0]||!g[1]);const C={};!c&&v&8&&(c=!0,C.open=g[3],Ye(()=>c=!1)),u.$set(C)},i(g){h||(D(l),D(o.$$.fragment,g),D(u.$$.fragment,g),h=!0)},o(g){I(l),I(o.$$.fragment,g),I(u.$$.fragment,g),h=!1},d(g){g&&(f(e),f(i)),E[n].d(),H(o),H(u,g)}}}function Hr(r,e,t){let{pkh:n}=e,{canVote:l}=e,{periodIndex:s}=e,{period:a}=e,o=!1;const i=on();function u(_){window.open(`${fn}/${_}`,"_blank")}function c(_){window.open(`${dn}/${_}/${s}`,"_blank")}async function h(_){i("upvote",{proposals:_,period:a.info.voting_period.index})}const $=_=>hn(_.proposal),E=_=>u(_.proposal),V=_=>c(_.proposal),L=_=>h([_.proposal]),p=()=>t(3,o=!0);function g(_){o=_,t(3,o)}const v=_=>h(_.detail.proposals);return r.$$set=_=>{"pkh"in _&&t(0,n=_.pkh),"canVote"in _&&t(1,l=_.canVote),"periodIndex"in _&&t(7,s=_.periodIndex),"period"in _&&t(2,a=_.period)},[n,l,a,o,u,c,h,s,$,E,V,L,p,g,v]}class zr extends De{constructor(e){super(),Ce(this,e,Hr,Ur,ye,{pkh:0,canVote:1,periodIndex:7,period:2})}}function Yr(r){let e,t;return{c(){e=se("svg"),t=se("path"),this.h()},l(n){e=ie(n,"svg",{xmlns:!0,viewBox:!0});var l=b(e);t=ie(l,"path",{d:!0}),b(t).forEach(f),l.forEach(f),this.h()},h(){m(t,"d","M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 32 32")},m(n,l){y(n,e,l),d(e,t)},p:K,i:K,o:K,d(n){n&&f(e)}}}class Qn extends De{constructor(e){super(),Ce(this,e,null,Yr,ye,{})}}function Xr(r){let e,t;return{c(){e=se("svg"),t=se("path"),this.h()},l(n){e=ie(n,"svg",{xmlns:!0,viewBox:!0});var l=b(e);t=ie(l,"path",{d:!0}),b(t).forEach(f),l.forEach(f),this.h()},h(){m(t,"d","M 16 6 C 14.9375 6 14.003906 6.5625 13.46875 7.40625 C 13.03125 7.15625 12.535156 7 12 7 C 10.355469 7 9 8.355469 9 10 L 9 13.65625 L 8.875 13.8125 C 8.800781 13.898438 8.730469 13.976563 8.65625 14.0625 C 8.144531 14.660156 7.65625 15.292969 7.21875 15.9375 L 6.90625 16.34375 C 6.480469 16.894531 6.21875 17.535156 6.09375 18.1875 C 6.078125 18.261719 6.042969 18.332031 6.03125 18.40625 C 5.855469 19.652344 6.226563 20.949219 7.09375 21.9375 L 9.46875 24.625 C 10.796875 26.136719 12.707031 27 14.71875 27 L 20 27 C 23.855469 27 27 23.855469 27 20 L 27 11 C 27 9.355469 25.644531 8 24 8 C 23.464844 8 22.96875 8.15625 22.53125 8.40625 C 21.996094 7.5625 21.0625 7 20 7 C 19.464844 7 18.96875 7.15625 18.53125 7.40625 C 17.996094 6.5625 17.0625 6 16 6 Z M 16 8 C 16.566406 8 17 8.433594 17 9 L 17 11.1875 C 16.683594 11.074219 16.351563 11 16 11 L 15 11 L 15 9 C 15 8.433594 15.433594 8 16 8 Z M 12 9 C 12.566406 9 13 9.433594 13 10 L 13 11 L 11.59375 11 L 11.3125 11.28125 C 11.3125 11.28125 11.085938 11.511719 11 11.59375 L 11 10 C 11 9.433594 11.433594 9 12 9 Z M 20 9 C 20.566406 9 21 9.433594 21 10 L 21 13 C 21 13.566406 20.566406 14 20 14 C 19.433594 14 19 13.566406 19 13 L 19 10 C 19 9.433594 19.433594 9 20 9 Z M 24 10 C 24.566406 10 25 10.433594 25 11 L 25 13 C 25 13.566406 24.566406 14 24 14 C 23.433594 14 23 13.566406 23 13 L 23 11 C 23 10.433594 23.433594 10 24 10 Z M 12.4375 13 L 16 13 C 16.5625 13 17 13.4375 17 14 C 17 14.5625 16.5625 15 16 15 L 12.875 15 L 12.59375 15.375 L 10.25 18.34375 L 11.8125 19.59375 L 13.65625 17.28125 C 14.015625 17.449219 14.425781 17.699219 14.875 18.0625 C 15.941406 18.929688 17 20.347656 17 23 L 19 23 C 19 20.132813 17.855469 18.15625 16.59375 16.9375 C 17.402344 16.769531 18.101563 16.273438 18.53125 15.59375 C 18.96875 15.84375 19.464844 16 20 16 C 20.765625 16 21.46875 15.699219 22 15.21875 C 22.53125 15.699219 23.234375 16 24 16 C 24.351563 16 24.683594 15.925781 25 15.8125 L 25 20 C 25 22.773438 22.773438 25 20 25 L 14.71875 25 C 13.28125 25 11.917969 24.394531 10.96875 23.3125 L 8.59375 20.59375 C 8.164063 20.105469 7.964844 19.507813 8 18.90625 C 8 18.898438 8.027344 18.832031 8.03125 18.8125 C 8.035156 18.78125 8.027344 18.75 8.03125 18.71875 C 8.078125 18.5 8.230469 18.078125 8.5625 17.53125 C 8.605469 17.460938 8.671875 17.382813 8.71875 17.3125 L 10.1875 15.375 C 11.292969 14.082031 12.214844 13.210938 12.4375 13 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 32 32")},m(n,l){y(n,e,l),d(e,t)},p:K,i:K,o:K,d(n){n&&f(e)}}}class Kn extends De{constructor(e){super(),Ce(this,e,null,Xr,ye,{})}}function Zr(r){let e,t=r[2].requiredQuorumPercentage+"",n,l;return{c(){e=N("(needs "),n=N(t),l=N("%)")},l(s){e=O(s,"(needs "),n=O(s,t),l=O(s,"%)")},m(s,a){y(s,e,a),y(s,n,a),y(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredQuorumPercentage+"")&&x(n,t)},d(s){s&&(f(e),f(n),f(l))}}}function Qr(r){let e,t=r[2].requiredQuorumPercentage+"",n,l;return{c(){e=N("("),n=N(t),l=N("% reached)")},l(s){e=O(s,"("),n=O(s,t),l=O(s,"% reached)")},m(s,a){y(s,e,a),y(s,n,a),y(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredQuorumPercentage+"")&&x(n,t)},d(s){s&&(f(e),f(n),f(l))}}}function Kr(r){let e,t=r[2].requiredMajorityPercentage+"",n,l;return{c(){e=N("(required "),n=N(t),l=N("%)")},l(s){e=O(s,"(required "),n=O(s,t),l=O(s,"%)")},m(s,a){y(s,e,a),y(s,n,a),y(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredMajorityPercentage+"")&&x(n,t)},d(s){s&&(f(e),f(n),f(l))}}}function Jr(r){let e,t=r[2].requiredMajorityPercentage+"",n,l;return{c(){e=N("("),n=N(t),l=N("% reached)")},l(s){e=O(s,"("),n=O(s,t),l=O(s,"% reached)")},m(s,a){y(s,e,a),y(s,n,a),y(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredMajorityPercentage+"")&&x(n,t)},d(s){s&&(f(e),f(n),f(l))}}}function Gr(r){let e,t,n="EXPLORER",l,s,a,o;return a=new gn({}),{c(){e=k("div"),t=k("div"),t.textContent=n,l=B(),s=k("div"),F(a.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);t=w(u,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-323t9m"&&(t.textContent=n),l=T(u),s=w(u,"DIV",{class:!0});var c=b(s);W(a.$$.fragment,c),c.forEach(f),u.forEach(f),this.h()},h(){m(t,"class","label svelte-3bkjph"),m(s,"class","icon svelte-3bkjph"),m(e,"class","button-content svelte-3bkjph")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),U(a,s,null),o=!0},p:K,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&f(e),H(a)}}}function xr(r){let e,t,n="AGORA",l,s,a,o;return a=new mn({}),{c(){e=k("div"),t=k("div"),t.textContent=n,l=B(),s=k("div"),F(a.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);t=w(u,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=T(u),s=w(u,"DIV",{class:!0});var c=b(s);W(a.$$.fragment,c),c.forEach(f),u.forEach(f),this.h()},h(){m(t,"class","label svelte-3bkjph"),m(s,"class","icon svelte-3bkjph"),m(e,"class","button-content svelte-3bkjph")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),U(a,s,null),o=!0},p:K,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&f(e),H(a)}}}function el(r){let e,t,n,l,s,a,o,i,u;return t=new le({props:{$$slots:{default:[nl]},$$scope:{ctx:r}}}),t.$on("click",r[11]),s=new le({props:{$$slots:{default:[rl]},$$scope:{ctx:r}}}),s.$on("click",r[12]),i=new le({props:{$$slots:{default:[ll]},$$scope:{ctx:r}}}),i.$on("click",r[13]),{c(){e=k("div"),F(t.$$.fragment),n=B(),l=k("div"),F(s.$$.fragment),a=B(),o=k("div"),F(i.$$.fragment),this.h()},l(c){e=w(c,"DIV",{class:!0});var h=b(e);W(t.$$.fragment,h),h.forEach(f),n=T(c),l=w(c,"DIV",{class:!0});var $=b(l);W(s.$$.fragment,$),$.forEach(f),a=T(c),o=w(c,"DIV",{class:!0});var E=b(o);W(i.$$.fragment,E),E.forEach(f),this.h()},h(){m(e,"class","nay svelte-3bkjph"),m(l,"class","pass svelte-3bkjph"),m(o,"class","yay svelte-3bkjph")},m(c,h){y(c,e,h),U(t,e,null),y(c,n,h),y(c,l,h),U(s,l,null),y(c,a,h),y(c,o,h),U(i,o,null),u=!0},p(c,h){const $={};h&32768&&($.$$scope={dirty:h,ctx:c}),t.$set($);const E={};h&32768&&(E.$$scope={dirty:h,ctx:c}),s.$set(E);const V={};h&32768&&(V.$$scope={dirty:h,ctx:c}),i.$set(V)},i(c){u||(D(t.$$.fragment,c),D(s.$$.fragment,c),D(i.$$.fragment,c),u=!0)},o(c){I(t.$$.fragment,c),I(s.$$.fragment,c),I(i.$$.fragment,c),u=!1},d(c){c&&(f(e),f(n),f(l),f(a),f(o)),H(t),H(s),H(i)}}}function tl(r){let e,t,n,l=r[3].ballot+"",s;return{c(){e=k("div"),t=N("You voted: "),n=k("div"),s=N(l),this.h()},l(a){e=w(a,"DIV",{class:!0});var o=b(e);t=O(o,"You voted: "),n=w(o,"DIV",{class:!0});var i=b(n);s=O(i,l),i.forEach(f),o.forEach(f),this.h()},h(){m(n,"class","ballot svelte-3bkjph"),m(e,"class","existing-vote svelte-3bkjph")},m(a,o){y(a,e,o),d(e,t),d(e,n),d(n,s)},p(a,o){o&8&&l!==(l=a[3].ballot+"")&&x(s,l)},i:K,o:K,d(a){a&&f(e)}}}function nl(r){let e,t,n="NAY",l,s,a,o;return a=new Qn({}),{c(){e=k("div"),t=k("div"),t.textContent=n,l=B(),s=k("div"),F(a.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);t=w(u,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=T(u),s=w(u,"DIV",{class:!0});var c=b(s);W(a.$$.fragment,c),c.forEach(f),u.forEach(f),this.h()},h(){m(t,"class","label svelte-3bkjph"),m(s,"class","icon svelte-3bkjph"),m(e,"class","button-content svelte-3bkjph")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),U(a,s,null),o=!0},p:K,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&f(e),H(a)}}}function rl(r){let e,t,n="NAY",l,s,a,o;return a=new Kn({}),{c(){e=k("div"),t=k("div"),t.textContent=n,l=B(),s=k("div"),F(a.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);t=w(u,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=T(u),s=w(u,"DIV",{class:!0});var c=b(s);W(a.$$.fragment,c),c.forEach(f),u.forEach(f),this.h()},h(){m(t,"class","label svelte-3bkjph"),m(s,"class","icon svelte-3bkjph"),m(e,"class","button-content svelte-3bkjph")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),U(a,s,null),o=!0},p:K,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&f(e),H(a)}}}function ll(r){let e,t,n="NAY",l,s,a,o;return a=new qt({}),{c(){e=k("div"),t=k("div"),t.textContent=n,l=B(),s=k("div"),F(a.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);t=w(u,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=T(u),s=w(u,"DIV",{class:!0});var c=b(s);W(a.$$.fragment,c),c.forEach(f),u.forEach(f),this.h()},h(){m(t,"class","label svelte-3bkjph"),m(s,"class","icon svelte-3bkjph"),m(e,"class","button-content svelte-3bkjph")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),U(a,s,null),o=!0},p:K,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&f(e),H(a)}}}function al(r){let e,t,n,l,s,a=r[2].proposal+"",o,i,u,c,h=r[2].summary.nay+"",$,E,V=r[2].summary.nayPercentage+"",L,p,g,v,_,C,S=r[2].summary.pass+"",R,P,M=r[2].summary.passPercentage+"",j,A,q,Y,Q,z,J=r[2].summary.yayPercentage+"",ue,$e,de=r[2].summary.nayPercentage+"",Ie,he,te,ee,be,X,re,ae,G,ke,Fe="Quorum",we,Ee,We=r[2].quorumPercentage+"",tt,Ft,Wt,Se,Ue,je,yt,Be,Dt,Te,Ct,Ne,It,Ut,He,nt,vn="Supermajority",Ht,Qe,vt=r[2].majorityPercentage+"",Et,zt,Yt,Ke,ze,Oe,Pt,Re,Vt,Xt,Je,Zt,Ge,Qt,lt,rt,Kt,xe,Pe,Ve,ce,Jt,pn;v=new Qn({}),Y=new Kn({}),ee=new qt({}),re=new Ze({});function _n(Z,ne){return Z[2].quorumReached?Qr:Zr}let Lt=_n(r),Ae=Lt(r);function $n(Z,ne){return Z[2].majorityReached?Jr:Kr}let Mt=$n(r),qe=Mt(r);Je=new le({props:{$$slots:{default:[Gr]},$$scope:{ctx:r}}}),Je.$on("click",r[9]),Ge=new le({props:{$$slots:{default:[xr]},$$scope:{ctx:r}}}),Ge.$on("click",r[10]),rt=new Ze({});const bn=[tl,el],et=[];function kn(Z,ne){return Z[3]?0:1}return Pe=kn(r),Ve=et[Pe]=bn[Pe](r),{c(){e=k("div"),t=k("div"),n=k("div"),l=k("div"),s=k("button"),o=N(a),i=B(),u=k("div"),c=k("div"),$=N(h),E=N(" ("),L=N(V),p=N(` %)\r
					`),g=k("div"),F(v.$$.fragment),_=B(),C=k("div"),R=N(S),P=N(" ("),j=N(M),A=N(` %)\r
					`),q=k("div"),F(Y.$$.fragment),Q=B(),z=k("div"),ue=N(J),$e=N(" ("),Ie=N(de),he=N(` %)\r
					`),te=k("div"),F(ee.$$.fragment),be=B(),X=k("div"),F(re.$$.fragment),ae=B(),G=k("div"),ke=k("div"),ke.textContent=Fe,we=B(),Ee=k("div"),tt=N(We),Ft=N(` %\r
					`),Ae.c(),Wt=B(),Se=se("svg"),Ue=se("rect"),je=se("rect"),Be=se("rect"),Te=se("rect"),Ne=se("rect"),Ut=B(),He=k("div"),nt=k("div"),nt.textContent=vn,Ht=B(),Qe=k("div"),Et=N(vt),zt=B(),qe.c(),Yt=B(),Ke=se("svg"),ze=se("rect"),Oe=se("rect"),Re=se("rect"),Xt=B(),F(Je.$$.fragment),Zt=B(),F(Ge.$$.fragment),Qt=B(),lt=k("div"),F(rt.$$.fragment),Kt=B(),xe=k("div"),Ve.c(),this.h()},l(Z){e=w(Z,"DIV",{class:!0});var ne=b(e);t=w(ne,"DIV",{class:!0});var pt=b(t);n=w(pt,"DIV",{class:!0});var fe=b(n);l=w(fe,"DIV",{class:!0});var at=b(l);s=w(at,"BUTTON",{class:!0});var wn=b(s);o=O(wn,a),wn.forEach(f),at.forEach(f),i=T(fe),u=w(fe,"DIV",{class:!0});var st=b(u);c=w(st,"DIV",{class:!0});var it=b(c);$=O(it,h),E=O(it," ("),L=O(it,V),p=O(it,` %)\r
					`),g=w(it,"DIV",{class:!0});var yn=b(g);W(v.$$.fragment,yn),yn.forEach(f),it.forEach(f),_=T(st),C=w(st,"DIV",{class:!0});var ot=b(C);R=O(ot,S),P=O(ot," ("),j=O(ot,M),A=O(ot,` %)\r
					`),q=w(ot,"DIV",{class:!0});var Dn=b(q);W(Y.$$.fragment,Dn),Dn.forEach(f),ot.forEach(f),Q=T(st),z=w(st,"DIV",{class:!0});var ut=b(z);ue=O(ut,J),$e=O(ut," ("),Ie=O(ut,de),he=O(ut,` %)\r
					`),te=w(ut,"DIV",{class:!0});var Cn=b(te);W(ee.$$.fragment,Cn),Cn.forEach(f),ut.forEach(f),st.forEach(f),be=T(fe),X=w(fe,"DIV",{class:!0});var In=b(X);W(re.$$.fragment,In),In.forEach(f),ae=T(fe),G=w(fe,"DIV",{class:!0});var ct=b(G);ke=w(ct,"DIV",{class:!0,"data-svelte-h":!0}),oe(ke)!=="svelte-j8l648"&&(ke.textContent=Fe),we=T(ct),Ee=w(ct,"DIV",{class:!0});var St=b(Ee);tt=O(St,We),Ft=O(St,` %\r
					`),Ae.l(St),St.forEach(f),Wt=T(ct),Se=ie(ct,"svg",{width:!0,height:!0});var ft=b(Se);Ue=ie(ft,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),b(Ue).forEach(f),je=ie(ft,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),b(je).forEach(f),Be=ie(ft,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),b(Be).forEach(f),Te=ie(ft,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),b(Te).forEach(f),Ne=ie(ft,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),b(Ne).forEach(f),ft.forEach(f),ct.forEach(f),Ut=T(fe),He=w(fe,"DIV",{class:!0});var dt=b(He);nt=w(dt,"DIV",{class:!0,"data-svelte-h":!0}),oe(nt)!=="svelte-5p5wbx"&&(nt.textContent=vn),Ht=T(dt),Qe=w(dt,"DIV",{class:!0});var jt=b(Qe);Et=O(jt,vt),zt=T(jt),qe.l(jt),jt.forEach(f),Yt=T(dt),Ke=ie(dt,"svg",{width:!0,height:!0});var Bt=b(Ke);ze=ie(Bt,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),b(ze).forEach(f),Oe=ie(Bt,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),b(Oe).forEach(f),Re=ie(Bt,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),b(Re).forEach(f),Bt.forEach(f),dt.forEach(f),Xt=T(fe),W(Je.$$.fragment,fe),Zt=T(fe),W(Ge.$$.fragment,fe),Qt=T(fe),lt=w(fe,"DIV",{class:!0});var En=b(lt);W(rt.$$.fragment,En),En.forEach(f),Kt=T(fe),xe=w(fe,"DIV",{class:!0});var Pn=b(xe);Ve.l(Pn),Pn.forEach(f),fe.forEach(f),pt.forEach(f),ne.forEach(f),this.h()},h(){m(s,"class","unstyle-button"),m(l,"class","title svelte-3bkjph"),m(g,"class","icon svelte-3bkjph"),m(c,"class","yay value svelte-3bkjph"),m(q,"class","icon svelte-3bkjph"),m(C,"class","pass value svelte-3bkjph"),m(te,"class","icon svelte-3bkjph"),m(z,"class","nay value svelte-3bkjph"),m(u,"class","vote-summary svelte-3bkjph"),m(X,"class","separator svelte-3bkjph"),m(ke,"class","bar-title svelte-3bkjph"),m(Ee,"class","bar-description svelte-3bkjph"),m(Ue,"width","100%"),m(Ue,"height","5"),m(Ue,"y","5"),m(Ue,"fill","#e6e6e6"),m(Ue,"rx","2"),m(Ue,"ry","2"),m(je,"width",yt=`${r[2].summary.nayPercentage+r[2].summary.passPercentage+r[2].summary.yayPercentage}%`),m(je,"y","5"),m(je,"height","5"),m(je,"fill","var(--yay-color)"),m(je,"rx","2"),m(je,"ry","2"),m(Be,"width",Dt=`${r[2].summary.nayPercentage+r[2].summary.passPercentage}%`),m(Be,"height","5"),m(Be,"y","5"),m(Be,"fill","var(--pass-color)"),m(Be,"rx","2"),m(Be,"ry","2"),m(Te,"width",Ct=`${r[2].summary.nayPercentage}%`),m(Te,"height","5"),m(Te,"y","5"),m(Te,"fill","var(--nay-color)"),m(Te,"rx","2"),m(Te,"ry","2"),m(Ne,"width","3"),m(Ne,"height","15"),m(Ne,"x",It=`${r[2].requiredQuorumPercentage}%`),m(Ne,"fill","var(--quorum-color)"),m(Ne,"rx","2"),m(Ne,"ry","2"),m(Se,"width","100%"),m(Se,"height","15"),m(G,"class","bar svelte-3bkjph"),m(nt,"class","bar-title svelte-3bkjph"),m(Qe,"class","bar-description svelte-3bkjph"),m(ze,"width","100%"),m(ze,"height","5"),m(ze,"y","5"),m(ze,"fill","#e6e6e6"),m(ze,"rx","2"),m(ze,"ry","2"),m(Oe,"width",Pt=`${r[2].majorityPercentage}%`),m(Oe,"y","5"),m(Oe,"height","5"),m(Oe,"fill","var(--majority-color)"),m(Oe,"rx","2"),m(Oe,"ry","2"),m(Re,"width","3"),m(Re,"height","15"),m(Re,"x",Vt=`${r[2].requiredMajorityPercentage}%`),m(Re,"fill","var(--majority-color)"),m(Re,"rx","2"),m(Re,"ry","2"),m(Ke,"width","100%"),m(Ke,"height","15"),m(He,"class","bar svelte-3bkjph"),m(lt,"class","separator svelte-3bkjph"),m(xe,"class","vote-section svelte-3bkjph"),me(xe,"disabled",!r[0]||!r[1]),m(n,"class","proposal svelte-3bkjph"),m(t,"class","period svelte-3bkjph"),m(e,"class","period-wrap svelte-3bkjph"),me(e,"quorum-reached",r[2].quorumReached),me(e,"majority-reached",r[2].majorityReached)},m(Z,ne){y(Z,e,ne),d(e,t),d(t,n),d(n,l),d(l,s),d(s,o),d(n,i),d(n,u),d(u,c),d(c,$),d(c,E),d(c,L),d(c,p),d(c,g),U(v,g,null),d(u,_),d(u,C),d(C,R),d(C,P),d(C,j),d(C,A),d(C,q),U(Y,q,null),d(u,Q),d(u,z),d(z,ue),d(z,$e),d(z,Ie),d(z,he),d(z,te),U(ee,te,null),d(n,be),d(n,X),U(re,X,null),d(n,ae),d(n,G),d(G,ke),d(G,we),d(G,Ee),d(Ee,tt),d(Ee,Ft),Ae.m(Ee,null),d(G,Wt),d(G,Se),d(Se,Ue),d(Se,je),d(Se,Be),d(Se,Te),d(Se,Ne),d(n,Ut),d(n,He),d(He,nt),d(He,Ht),d(He,Qe),d(Qe,Et),d(Qe,zt),qe.m(Qe,null),d(He,Yt),d(He,Ke),d(Ke,ze),d(Ke,Oe),d(Ke,Re),d(n,Xt),U(Je,n,null),d(n,Zt),U(Ge,n,null),d(n,Qt),d(n,lt),U(rt,lt,null),d(n,Kt),d(n,xe),et[Pe].m(xe,null),ce=!0,Jt||(pn=cn(s,"click",r[8]),Jt=!0)},p(Z,[ne]){(!ce||ne&4)&&a!==(a=Z[2].proposal+"")&&x(o,a),(!ce||ne&4)&&h!==(h=Z[2].summary.nay+"")&&x($,h),(!ce||ne&4)&&V!==(V=Z[2].summary.nayPercentage+"")&&x(L,V),(!ce||ne&4)&&S!==(S=Z[2].summary.pass+"")&&x(R,S),(!ce||ne&4)&&M!==(M=Z[2].summary.passPercentage+"")&&x(j,M),(!ce||ne&4)&&J!==(J=Z[2].summary.yayPercentage+"")&&x(ue,J),(!ce||ne&4)&&de!==(de=Z[2].summary.nayPercentage+"")&&x(Ie,de),(!ce||ne&4)&&We!==(We=Z[2].quorumPercentage+"")&&x(tt,We),Lt===(Lt=_n(Z))&&Ae?Ae.p(Z,ne):(Ae.d(1),Ae=Lt(Z),Ae&&(Ae.c(),Ae.m(Ee,null))),(!ce||ne&4&&yt!==(yt=`${Z[2].summary.nayPercentage+Z[2].summary.passPercentage+Z[2].summary.yayPercentage}%`))&&m(je,"width",yt),(!ce||ne&4&&Dt!==(Dt=`${Z[2].summary.nayPercentage+Z[2].summary.passPercentage}%`))&&m(Be,"width",Dt),(!ce||ne&4&&Ct!==(Ct=`${Z[2].summary.nayPercentage}%`))&&m(Te,"width",Ct),(!ce||ne&4&&It!==(It=`${Z[2].requiredQuorumPercentage}%`))&&m(Ne,"x",It),(!ce||ne&4)&&vt!==(vt=Z[2].majorityPercentage+"")&&x(Et,vt),Mt===(Mt=$n(Z))&&qe?qe.p(Z,ne):(qe.d(1),qe=Mt(Z),qe&&(qe.c(),qe.m(Qe,null))),(!ce||ne&4&&Pt!==(Pt=`${Z[2].majorityPercentage}%`))&&m(Oe,"width",Pt),(!ce||ne&4&&Vt!==(Vt=`${Z[2].requiredMajorityPercentage}%`))&&m(Re,"x",Vt);const pt={};ne&32768&&(pt.$$scope={dirty:ne,ctx:Z}),Je.$set(pt);const fe={};ne&32768&&(fe.$$scope={dirty:ne,ctx:Z}),Ge.$set(fe);let at=Pe;Pe=kn(Z),Pe===at?et[Pe].p(Z,ne):(pe(),I(et[at],1,1,()=>{et[at]=null}),_e(),Ve=et[Pe],Ve?Ve.p(Z,ne):(Ve=et[Pe]=bn[Pe](Z),Ve.c()),D(Ve,1),Ve.m(xe,null)),(!ce||ne&3)&&me(xe,"disabled",!Z[0]||!Z[1]),(!ce||ne&4)&&me(e,"quorum-reached",Z[2].quorumReached),(!ce||ne&4)&&me(e,"majority-reached",Z[2].majorityReached)},i(Z){ce||(D(v.$$.fragment,Z),D(Y.$$.fragment,Z),D(ee.$$.fragment,Z),D(re.$$.fragment,Z),D(Je.$$.fragment,Z),D(Ge.$$.fragment,Z),D(rt.$$.fragment,Z),D(Ve),ce=!0)},o(Z){I(v.$$.fragment,Z),I(Y.$$.fragment,Z),I(ee.$$.fragment,Z),I(re.$$.fragment,Z),I(Je.$$.fragment,Z),I(Ge.$$.fragment,Z),I(rt.$$.fragment,Z),I(Ve),ce=!1},d(Z){Z&&f(e),H(v),H(Y),H(ee),H(re),Ae.d(),qe.d(),H(Je),H(Ge),H(rt),et[Pe].d(),Jt=!1,pn()}}}function sl(r,e,t){let n,{pkh:l}=e,{canVote:s=!1}=e,{periodIndex:a}=e,{period:o}=e;const i=on();function u(){window.open(`${fn}/${o.proposal}`,"_blank")}function c(){window.open(`${dn}/${o.proposal}/${a}`,"_blank")}async function h(v){i("vote",{ballot:v,proposal:o.proposal,period:o.info.voting_period.index})}const $=()=>hn(o.proposal),E=()=>u(),V=()=>c(),L=()=>h("nay"),p=()=>h("pass"),g=()=>h("yay");return r.$$set=v=>{"pkh"in v&&t(0,l=v.pkh),"canVote"in v&&t(1,s=v.canVote),"periodIndex"in v&&t(7,a=v.periodIndex),"period"in v&&t(2,o=v.period)},r.$$.update=()=>{r.$$.dirty&5&&t(3,n=o.ballots.find(v=>v.pkh===l))},[l,s,o,n,u,c,h,a,$,E,V,L,p,g]}class il extends De{constructor(e){super(),Ce(this,e,sl,al,ye,{pkh:0,canVote:1,periodIndex:7,period:2})}}function ol(r){let e,t,n,l,s,a,o,i,u,c,h,$;s=new Ze({});const E=[dl,fl,cl],V=[];function L(p,g){return p[4]==="applied"?0:p[4]==="failed"?1:2}return o=L(r),i=V[o]=E[o](r),h=new le({props:{$$slots:{default:[ml]},$$scope:{ctx:r}}}),h.$on("click",r[6]),{c(){e=k("h5"),t=N("Transaction "),n=N(r[1]),l=B(),F(s.$$.fragment),a=B(),i.c(),u=B(),c=k("div"),F(h.$$.fragment),this.h()},l(p){e=w(p,"H5",{class:!0});var g=b(e);t=O(g,"Transaction "),n=O(g,r[1]),g.forEach(f),l=T(p),W(s.$$.fragment,p),a=T(p),i.l(p),u=T(p),c=w(p,"DIV",{class:!0});var v=b(c);W(h.$$.fragment,v),v.forEach(f),this.h()},h(){m(e,"class","title svelte-1kcf8tg"),m(c,"class","explore"),me(c,"disabled",r[4]==="building")},m(p,g){y(p,e,g),d(e,t),d(e,n),y(p,l,g),U(s,p,g),y(p,a,g),V[o].m(p,g),y(p,u,g),y(p,c,g),U(h,c,null),$=!0},p(p,g){(!$||g&2)&&x(n,p[1]);let v=o;o=L(p),o===v?V[o].p(p,g):(pe(),I(V[v],1,1,()=>{V[v]=null}),_e(),i=V[o],i?i.p(p,g):(i=V[o]=E[o](p),i.c()),D(i,1),i.m(u.parentNode,u));const _={};g&512&&(_.$$scope={dirty:g,ctx:p}),h.$set(_),(!$||g&16)&&me(c,"disabled",p[4]==="building")},i(p){$||(D(s.$$.fragment,p),D(i),D(h.$$.fragment,p),$=!0)},o(p){I(s.$$.fragment,p),I(i),I(h.$$.fragment,p),$=!1},d(p){p&&(f(e),f(l),f(a),f(u),f(c)),H(s,p),V[o].d(p),H(h)}}}function ul(r){let e,t;return{c(){e=k("div"),t=N(r[2]),this.h()},l(n){e=w(n,"DIV",{class:!0});var l=b(e);t=O(l,r[2]),l.forEach(f),this.h()},h(){m(e,"class","error-message svelte-1kcf8tg")},m(n,l){y(n,e,l),d(e,t)},p(n,l){l&4&&x(t,n[2])},i:K,o:K,d(n){n&&f(e)}}}function cl(r){let e,t,n,l,s;t=new At({props:{message:r[5],progress:"indeterminate"}});let a=r[4]==="building"&&On();return{c(){e=k("div"),F(t.$$.fragment),n=B(),a&&a.c(),l=Me(),this.h()},l(o){e=w(o,"DIV",{class:!0});var i=b(e);W(t.$$.fragment,i),i.forEach(f),n=T(o),a&&a.l(o),l=Me(),this.h()},h(){m(e,"class","progress svelte-1kcf8tg")},m(o,i){y(o,e,i),U(t,e,null),y(o,n,i),a&&a.m(o,i),y(o,l,i),s=!0},p(o,i){const u={};i&32&&(u.message=o[5]),t.$set(u),o[4]==="building"?a||(a=On(),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},i(o){s||(D(t.$$.fragment,o),s=!0)},o(o){I(t.$$.fragment,o),s=!1},d(o){o&&(f(e),f(n),f(l)),H(t),a&&a.d(o)}}}function fl(r){let e,t="FAILED";return{c(){e=k("div"),e.textContent=t,this.h()},l(n){e=w(n,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-5fqw5f"&&(e.textContent=t),this.h()},h(){m(e,"class","status failed svelte-1kcf8tg")},m(n,l){y(n,e,l)},p:K,i:K,o:K,d(n){n&&f(e)}}}function dl(r){let e,t="CONFIRMED";return{c(){e=k("div"),e.textContent=t,this.h()},l(n){e=w(n,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-vqtzt4"&&(e.textContent=t),this.h()},h(){m(e,"class","status svelte-1kcf8tg")},m(n,l){y(n,e,l)},p:K,i:K,o:K,d(n){n&&f(e)}}}function On(r){let e,t="NOTE: You may need to confirm the transaction with your signer.";return{c(){e=k("div"),e.textContent=t,this.h()},l(n){e=w(n,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-2towb7"&&(e.textContent=t),this.h()},h(){m(e,"class","note svelte-1kcf8tg")},m(n,l){y(n,e,l)},d(n){n&&f(e)}}}function ml(r){let e;return{c(){e=N("Open Explorer")},l(t){e=O(t,"Open Explorer")},m(t,n){y(t,e,n)},d(t){t&&f(e)}}}function Rn(r){let e,t;return e=new le({props:{label:"close"}}),e.$on("click",r[7]),{c(){F(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,l){U(e,n,l),t=!0},p:K,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function gl(r){let e,t,n,l,s;const a=[ul,ol],o=[];function i(c,h){return c[2]?0:1}t=i(r),n=o[t]=a[t](r);let u=(r[3]||r[4]==="applied"||r[2])&&Rn(r);return{c(){e=k("div"),n.c(),l=B(),u&&u.c(),this.h()},l(c){e=w(c,"DIV",{class:!0});var h=b(e);n.l(h),l=T(h),u&&u.l(h),h.forEach(f),this.h()},h(){m(e,"class","transaction-confirmation svelte-1kcf8tg")},m(c,h){y(c,e,h),o[t].m(e,null),d(e,l),u&&u.m(e,null),s=!0},p(c,h){let $=t;t=i(c),t===$?o[t].p(c,h):(pe(),I(o[$],1,1,()=>{o[$]=null}),_e(),n=o[t],n?n.p(c,h):(n=o[t]=a[t](c),n.c()),D(n,1),n.m(e,l)),c[3]||c[4]==="applied"||c[2]?u?(u.p(c,h),h&28&&D(u,1)):(u=Rn(c),u.c(),D(u,1),u.m(e,null)):u&&(pe(),I(u,1,1,()=>{u=null}),_e())},i(c){s||(D(n),D(u),s=!0)},o(c){I(n),I(u),s=!1},d(c){c&&f(e),o[t].d(),u&&u.d()}}}function hl(r){let e,t,n;return t=new mt({props:{$$slots:{default:[gl]},$$scope:{ctx:r}}}),{c(){e=k("div"),F(t.$$.fragment),this.h()},l(l){e=w(l,"DIV",{class:!0});var s=b(e);W(t.$$.fragment,s),s.forEach(f),this.h()},h(){m(e,"class","center svelte-1kcf8tg")},m(l,s){y(l,e,s),U(t,e,null),n=!0},p(l,s){const a={};s&575&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){l&&f(e),H(t)}}}function vl(r){let e,t,n;function l(a){r[8](a)}let s={persistent:r[4]==="building"||r[4]==="confirming",$$slots:{default:[hl]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.open=r[0]),e=new Rt({props:s}),Le.push(()=>Xe(e,"open",l)),{c(){F(e.$$.fragment)},l(a){W(e.$$.fragment,a)},m(a,o){U(e,a,o),n=!0},p(a,[o]){const i={};o&16&&(i.persistent=a[4]==="building"||a[4]==="confirming"),o&575&&(i.$$scope={dirty:o,ctx:a}),!t&&o&1&&(t=!0,i.open=a[0],Ye(()=>t=!1)),e.$set(i)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){I(e.$$.fragment,a),n=!1},d(a){H(e,a)}}}function pl(r){switch(r){case"building":return"Building transaction...";case"confirming":return"Waiting for confirmation...";case"applied":return"CONFIRMED";case"failed":return"FAILED"}}function _l(r,e,t){let n,{open:l}=e,{opHash:s}=e,{error:a}=e,{allowClose:o=!0}=e,{stage:i="building"}=e;const u=()=>window.open(`https://better-call.dev/${s}`,"_blank"),c=()=>t(0,l=!1);function h($){l=$,t(0,l)}return r.$$set=$=>{"open"in $&&t(0,l=$.open),"opHash"in $&&t(1,s=$.opHash),"error"in $&&t(2,a=$.error),"allowClose"in $&&t(3,o=$.allowClose),"stage"in $&&t(4,i=$.stage)},r.$$.update=()=>{r.$$.dirty&16&&t(5,n=pl(i))},[l,s,a,o,i,n,u,c,h]}class $l extends De{constructor(e){super(),Ce(this,e,_l,vl,ye,{open:0,opHash:1,error:2,allowClose:3,stage:4})}}function bl(r){let e,t;return{c(){e=se("svg"),t=se("path"),this.h()},l(n){e=ie(n,"svg",{xmlns:!0,viewBox:!0});var l=b(e);t=ie(l,"path",{d:!0}),b(t).forEach(f),l.forEach(f),this.h()},h(){m(t,"d","M 16 3 C 8.832031 3 3 8.832031 3 16 C 3 23.167969 8.832031 29 16 29 C 23.167969 29 29 23.167969 29 16 L 27 16 C 27 22.085938 22.085938 27 16 27 C 9.914063 27 5 22.085938 5 16 C 5 9.914063 9.914063 5 16 5 C 19.875 5 23.261719 6.984375 25.21875 10 L 20 10 L 20 12 L 28 12 L 28 4 L 26 4 L 26 7.71875 C 23.617188 4.84375 20.019531 3 16 3 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 32 32")},m(n,l){y(n,e,l),d(e,t)},p:K,i:K,o:K,d(n){n&&f(e)}}}class Jn extends De{constructor(e){super(),Ce(this,e,null,bl,ye,{})}}function kl(r){let e,t,n="Set Delegate Parameters",l,s,a="Set delegate staking parameters - edge and limit.",o,i,u,c,h,$,E,V,L,p,g,v,_,C;function S(j){r[7](j)}let R={rules:r[4],label:"Staking Fee in %",hint:"Edge of baking over staking"};r[0].value.edge!==void 0&&(R.value=r[0].value.edge),i=new bt({props:R}),Le.push(()=>Xe(i,"value",S));function P(j){r[8](j)}let M={rules:r[5],label:"Staking capacity - multiplier of your stake",hint:"Limit of staking over baking"};return r[0].value.limit!==void 0&&(M.value=r[0].value.limit),h=new bt({props:M}),Le.push(()=>Xe(h,"value",P)),p=new le({props:{label:"Cancel"}}),p.$on("click",r[9]),_=new le({props:{label:"Set"}}),_.$on("click",r[10]),{c(){e=k("div"),t=k("h3"),t.textContent=n,l=B(),s=k("p"),s.textContent=a,o=B(),F(i.$$.fragment),c=B(),F(h.$$.fragment),E=B(),V=k("div"),L=k("div"),F(p.$$.fragment),g=B(),v=k("div"),F(_.$$.fragment),this.h()},l(j){e=w(j,"DIV",{class:!0});var A=b(e);t=w(A,"H3",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-1hc5680"&&(t.textContent=n),l=T(A),s=w(A,"P",{class:!0,"data-svelte-h":!0}),oe(s)!=="svelte-2weqq6"&&(s.textContent=a),o=T(A),W(i.$$.fragment,A),c=T(A),W(h.$$.fragment,A),E=T(A),V=w(A,"DIV",{class:!0});var q=b(V);L=w(q,"DIV",{class:!0});var Y=b(L);W(p.$$.fragment,Y),Y.forEach(f),g=T(q),v=w(q,"DIV",{class:!0});var Q=b(v);W(_.$$.fragment,Q),Q.forEach(f),q.forEach(f),A.forEach(f),this.h()},h(){m(t,"class","title svelte-1igllg9"),m(s,"class","message svelte-1igllg9"),m(L,"class","control-button svelte-1igllg9"),Ot(L,"grid-column","1"),m(v,"class","control-button svelte-1igllg9"),me(v,"disabled",r[3]),Ot(v,"grid-column","3"),m(V,"class","controls padding-top svelte-1igllg9"),m(e,"class","prompt-wrap svelte-1igllg9")},m(j,A){y(j,e,A),d(e,t),d(e,l),d(e,s),d(e,o),U(i,e,null),d(e,c),U(h,e,null),d(e,E),d(e,V),d(V,L),U(p,L,null),d(V,g),d(V,v),U(_,v,null),C=!0},p(j,A){const q={};!u&&A&1&&(u=!0,q.value=j[0].value.edge,Ye(()=>u=!1)),i.$set(q);const Y={};!$&&A&1&&($=!0,Y.value=j[0].value.limit,Ye(()=>$=!1)),h.$set(Y),(!C||A&8)&&me(v,"disabled",j[3])},i(j){C||(D(i.$$.fragment,j),D(h.$$.fragment,j),D(p.$$.fragment,j),D(_.$$.fragment,j),C=!0)},o(j){I(i.$$.fragment,j),I(h.$$.fragment,j),I(p.$$.fragment,j),I(_.$$.fragment,j),C=!1},d(j){j&&f(e),H(i),H(h),H(p),H(_)}}}function wl(r){let e,t;return e=new mt({props:{$$slots:{default:[kl]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,l){U(e,n,l),t=!0},p(n,l){const s={};l&16397&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function yl(r){let e,t,n;function l(a){r[11](a)}let s={persistent:!0,$$slots:{default:[wl]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.open=r[1]),e=new Rt({props:s}),Le.push(()=>Xe(e,"open",l)),{c(){F(e.$$.fragment)},l(a){W(e.$$.fragment,a)},m(a,o){U(e,a,o),n=!0},p(a,[o]){const i={};o&16397&&(i.$$scope={dirty:o,ctx:a}),!t&&o&2&&(t=!0,i.open=a[1],Ye(()=>t=!1)),e.$set(i)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){I(e.$$.fragment,a),n=!1},d(a){H(e,a)}}}function Dl(r,e,t){let n;const l={value:{edge:100,limit:1}};let{state:s=l}=e,{isOpen:a=!1}=e,o={resolve:()=>i(),reject:()=>i()};function i(){t(1,a=!1)}const u=[g=>!!g||g==="0"||"Edge is required",g=>!isNaN(Number(g))||"Edge must be a number",g=>Number(g)>=0&&Number(g)<=100||"Edge must be between 0 and 100"],c=[g=>!!g||g==="0"||"Limit is required",g=>!isNaN(Number(g))||"Limit must be a number",g=>Number(g)>=0&&Number(g)<=5||"Limit must be between 0 and 5"];async function h(g){return t(1,a=!0),t(0,s={...l,...g}),new Promise((v,_)=>{t(2,o={resolve:C=>{i(),v(C)},reject:C=>{i(),_(C)}})})}function $(g){r.$$.not_equal(s.value.edge,g)&&(s.value.edge=g,t(0,s))}function E(g){r.$$.not_equal(s.value.limit,g)&&(s.value.limit=g,t(0,s))}const V=()=>o.reject(Zn),L=()=>o.resolve(s.value);function p(g){a=g,t(1,a)}return r.$$set=g=>{"state"in g&&t(0,s=g.state),"isOpen"in g&&t(1,a=g.isOpen)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=ln(s.value.limit,c)!==!0||ln(s.value.edge,u)!==!0)},[s,a,o,n,u,c,h,$,E,V,L,p]}class Cl extends De{constructor(e){super(),Ce(this,e,Dl,yl,ye,{state:0,isOpen:1,prompt:6})}get prompt(){return this.$$.ctx[6]}}function Il(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function El(r){return Il(r,Date.now())}function ve(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function Nt(r,e){const t=ve(r),n=ve(e),l=t.getTime()-n.getTime();return l<0?-1:l>0?1:l}const Tt=43200,An=1440;function Pl(r,e){const t=ve(r),n=ve(e),l=t.getFullYear()-n.getFullYear(),s=t.getMonth()-n.getMonth();return l*12+s}function Vl(r){const e=ve(r);return e.setHours(23,59,59,999),e}function Ll(r){const e=ve(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Ml(r){const e=ve(r);return+Vl(e)==+Ll(e)}function Sl(r,e){const t=ve(r),n=ve(e),l=Nt(t,n),s=Math.abs(Pl(t,n));let a;if(s<1)a=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-l*s);let o=Nt(t,n)===-l;Ml(ve(r))&&s===1&&Nt(r,n)===1&&(o=!1),a=l*(s-Number(o))}return a===0?0:a}function jl(r){return e=>{const n=(r?Math[r]:Math.trunc)(e);return n===0?0:n}}function Bl(r,e){return+ve(r)-+ve(e)}function Tl(r,e,t){const n=Bl(r,e)/1e3;return jl(t?.roundingMethod)(n)}const Nl={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ol=(r,e,t)=>{let n;const l=Nl[r];return typeof l=="string"?n=l:e===1?n=l.one:n=l.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function rn(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Rl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Al={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ql={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fl={date:rn({formats:Rl,defaultWidth:"full"}),time:rn({formats:Al,defaultWidth:"full"}),dateTime:rn({formats:ql,defaultWidth:"full"})},Wl={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ul=(r,e,t,n)=>Wl[r];function _t(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let l;if(n==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,o=t?.width?String(t.width):a;l=r.formattingValues[o]||r.formattingValues[a]}else{const a=r.defaultWidth,o=t?.width?String(t.width):r.defaultWidth;l=r.values[o]||r.values[a]}const s=r.argumentCallback?r.argumentCallback(e):e;return l[s]}}const Hl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zl={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xl={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ql={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kl=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Jl={ordinalNumber:Kl,era:_t({values:Hl,defaultWidth:"wide"}),quarter:_t({values:zl,defaultWidth:"wide",argumentCallback:r=>r-1}),month:_t({values:Yl,defaultWidth:"wide"}),day:_t({values:Xl,defaultWidth:"wide"}),dayPeriod:_t({values:Zl,defaultWidth:"wide",formattingValues:Ql,defaultFormattingWidth:"wide"})};function $t(r){return(e,t={})=>{const n=t.width,l=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(l);if(!s)return null;const a=s[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],i=Array.isArray(o)?xl(o,h=>h.test(a)):Gl(o,h=>h.test(a));let u;u=r.valueCallback?r.valueCallback(i):i,u=t.valueCallback?t.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function Gl(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function xl(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function ea(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const l=n[0],s=e.match(r.parsePattern);if(!s)return null;let a=r.valueCallback?r.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(l.length);return{value:a,rest:o}}}const ta=/^(\d+)(th|st|nd|rd)?/i,na=/\d+/i,ra={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},la={any:[/^b/i,/^(a|c)/i]},aa={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sa={any:[/1/i,/2/i,/3/i,/4/i]},ia={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oa={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ua={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ca={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fa={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},da={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ma={ordinalNumber:ea({matchPattern:ta,parsePattern:na,valueCallback:r=>parseInt(r,10)}),era:$t({matchPatterns:ra,defaultMatchWidth:"wide",parsePatterns:la,defaultParseWidth:"any"}),quarter:$t({matchPatterns:aa,defaultMatchWidth:"wide",parsePatterns:sa,defaultParseWidth:"any",valueCallback:r=>r+1}),month:$t({matchPatterns:ia,defaultMatchWidth:"wide",parsePatterns:oa,defaultParseWidth:"any"}),day:$t({matchPatterns:ua,defaultMatchWidth:"wide",parsePatterns:ca,defaultParseWidth:"any"}),dayPeriod:$t({matchPatterns:fa,defaultMatchWidth:"any",parsePatterns:da,defaultParseWidth:"any"})},ga={code:"en-US",formatDistance:Ol,formatLong:Fl,formatRelative:Ul,localize:Jl,match:ma,options:{weekStartsOn:0,firstWeekContainsDate:1}};let ha={};function va(){return ha}function qn(r){const e=ve(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function pa(r,e,t){const n=va(),l=t?.locale??n.locale??ga,s=2520,a=Nt(r,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:a});let i,u;a>0?(i=ve(e),u=ve(r)):(i=ve(r),u=ve(e));const c=Tl(u,i),h=(qn(u)-qn(i))/1e3,$=Math.round((c-h)/60);let E;if($<2)return t?.includeSeconds?c<5?l.formatDistance("lessThanXSeconds",5,o):c<10?l.formatDistance("lessThanXSeconds",10,o):c<20?l.formatDistance("lessThanXSeconds",20,o):c<40?l.formatDistance("halfAMinute",0,o):c<60?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",1,o):$===0?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",$,o);if($<45)return l.formatDistance("xMinutes",$,o);if($<90)return l.formatDistance("aboutXHours",1,o);if($<An){const V=Math.round($/60);return l.formatDistance("aboutXHours",V,o)}else{if($<s)return l.formatDistance("xDays",1,o);if($<Tt){const V=Math.round($/An);return l.formatDistance("xDays",V,o)}else if($<Tt*2)return E=Math.round($/Tt),l.formatDistance("aboutXMonths",E,o)}if(E=Sl(u,i),E<12){const V=Math.round($/Tt);return l.formatDistance("xMonths",V,o)}else{const V=E%12,L=Math.trunc(E/12);return V<3?l.formatDistance("aboutXYears",L,o):V<9?l.formatDistance("overXYears",L,o):l.formatDistance("almostXYears",L+1,o)}}function _a(r,e){return pa(r,El(r),e)}function $a(r,e){if(!r)return new Date(0);const n=((r.voting_period.start_position+r.position+r.remaining??-1)-(e??r?.position??1))*rr;return new Date(Date.now()+n)}function ba(r,e){return r?(r.voting_period.start_position+r.position+r.remaining??0)-(e??0):"N/A"}function ka(r){return(BigInt(r)/10n**6n).toLocaleString()}function wa(r){const{proposals:e,voters:t}=r,n=t.reduce((l,s)=>l+BigInt(s.voting_power),0n);return{...r,proposals:e.map(l=>{const s=Number(BigInt(l.upvotes)*100000n/n)/1e3;return{...l,upvotes:ka(l.upvotes),percentage:Math.round(s*100)/100,percentageString:`${s}%`,quorumReached:BigInt(l.upvotes)>n/100n*ht}}).sort((l,s)=>BigInt(s.upvotes)>BigInt(l.upvotes)?1:-1)}}function ya(r){const{voters:e}=r,t=e.reduce((s,a)=>s+BigInt(a.voting_power),0n),n=BigInt(r.summary.yay)+BigInt(r.summary.nay),l=n+BigInt(r.summary.pass);return{...r,summary:{...r.summary,yayPercentage:Math.round(Number(BigInt(r.summary.yay)*100000n/t)/10)/100,nayPercentage:Math.round(Number(BigInt(r.summary.nay)*100000n/t)/10)/100,passPercentage:Math.round(Number(BigInt(r.summary.pass)*100000n/t)/10)/100},quorumReached:l>t*BigInt(r.quorum)/10000n,quorumPercentage:Math.min(Number(BigInt(r.summary.yay+r.summary.nay+r.summary.pass)*100000n/t)/1e3,100),requiredQuorumPercentage:Number(r.quorum)/100,majorityReached:BigInt(r.summary.yay)>=n*Vn/100n,majorityPercentage:Math.round(Number(BigInt(r.summary.yay)*100000n/n)/10)/100,requiredMajorityPercentage:Number(Vn)}}function Da(r){let e,t,n="EXPLORER",l,s,a,o;return a=new gn({}),{c(){e=k("div"),t=k("div"),t.textContent=n,l=B(),s=k("div"),F(a.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);t=w(u,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-323t9m"&&(t.textContent=n),l=T(u),s=w(u,"DIV",{class:!0});var c=b(s);W(a.$$.fragment,c),c.forEach(f),u.forEach(f),this.h()},h(){m(t,"class","label svelte-2vy38g"),m(s,"class","icon svelte-2vy38g"),m(e,"class","button-content svelte-2vy38g")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),U(a,s,null),o=!0},p:K,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&f(e),H(a)}}}function Ca(r){let e,t,n="AGORA",l,s,a,o;return a=new mn({}),{c(){e=k("div"),t=k("div"),t.textContent=n,l=B(),s=k("div"),F(a.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);t=w(u,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=T(u),s=w(u,"DIV",{class:!0});var c=b(s);W(a.$$.fragment,c),c.forEach(f),u.forEach(f),this.h()},h(){m(t,"class","label svelte-2vy38g"),m(s,"class","icon svelte-2vy38g"),m(e,"class","button-content svelte-2vy38g")},m(i,u){y(i,e,u),d(e,t),d(e,l),d(e,s),U(a,s,null),o=!0},p:K,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){I(a.$$.fragment,i),o=!1},d(i){i&&f(e),H(a)}}}function Ia(r){let e,t,n,l,s,a=r[0].proposal+"",o,i,u,c,h,$,E,V;return u=new le({props:{$$slots:{default:[Da]},$$scope:{ctx:r}}}),u.$on("click",r[5]),h=new le({props:{$$slots:{default:[Ca]},$$scope:{ctx:r}}}),h.$on("click",r[6]),{c(){e=k("div"),t=k("div"),n=k("div"),l=k("div"),s=k("button"),o=N(a),i=B(),F(u.$$.fragment),c=B(),F(h.$$.fragment),this.h()},l(L){e=w(L,"DIV",{class:!0});var p=b(e);t=w(p,"DIV",{class:!0});var g=b(t);n=w(g,"DIV",{class:!0});var v=b(n);l=w(v,"DIV",{class:!0});var _=b(l);s=w(_,"BUTTON",{class:!0});var C=b(s);o=O(C,a),C.forEach(f),_.forEach(f),i=T(v),W(u.$$.fragment,v),c=T(v),W(h.$$.fragment,v),v.forEach(f),g.forEach(f),p.forEach(f),this.h()},h(){m(s,"class","unstyle-button"),m(l,"class","title svelte-2vy38g"),m(n,"class","proposal svelte-2vy38g"),m(t,"class","period svelte-2vy38g"),m(e,"class","period-wrap svelte-2vy38g")},m(L,p){y(L,e,p),d(e,t),d(t,n),d(n,l),d(l,s),d(s,o),d(n,i),U(u,n,null),d(n,c),U(h,n,null),$=!0,E||(V=cn(s,"click",r[4]),E=!0)},p(L,[p]){(!$||p&1)&&a!==(a=L[0].proposal+"")&&x(o,a);const g={};p&128&&(g.$$scope={dirty:p,ctx:L}),u.$set(g);const v={};p&128&&(v.$$scope={dirty:p,ctx:L}),h.$set(v)},i(L){$||(D(u.$$.fragment,L),D(h.$$.fragment,L),$=!0)},o(L){I(u.$$.fragment,L),I(h.$$.fragment,L),$=!1},d(L){L&&f(e),H(u),H(h),E=!1,V()}}}function Ea(r,e,t){let{periodIndex:n}=e,{period:l}=e;function s(){window.open(`${fn}/${l.proposal}`,"_blank")}function a(){window.open(`${dn}/${l.proposal}/${n}`,"_blank")}const o=()=>hn(l.proposal),i=()=>s(),u=()=>a();return r.$$set=c=>{"periodIndex"in c&&t(3,n=c.periodIndex),"period"in c&&t(0,l=c.period)},[l,s,a,n,o,i,u]}class Pa extends De{constructor(e){super(),Ce(this,e,Ea,Ia,ye,{periodIndex:3,period:0})}}function Fn(r,e,t){const n=r.slice();return n[37]=e[t],n}function Wn(r,e,t){const n=r.slice();return n[37]=e[t],n}function Va(r){let e,t,n,l,s,a;return t=new mt({props:{$$slots:{default:[Oa]},$$scope:{ctx:r}}}),s=new mt({props:{$$slots:{default:[Xa]},$$scope:{ctx:r}}}),{c(){e=k("div"),F(t.$$.fragment),n=B(),l=k("div"),F(s.$$.fragment),this.h()},l(o){e=w(o,"DIV",{class:!0});var i=b(e);W(t.$$.fragment,i),i.forEach(f),n=T(o),l=w(o,"DIV",{class:!0});var u=b(l);W(s.$$.fragment,u),u.forEach(f),this.h()},h(){m(e,"class","tools-wrap svelte-ln7895"),m(l,"class","governance svelte-ln7895")},m(o,i){y(o,e,i),U(t,e,null),y(o,n,i),y(o,l,i),U(s,l,null),a=!0},p(o,i){const u={};i[0]&3588|i[1]&2048&&(u.$$scope={dirty:i,ctx:o}),t.$set(u);const c={};i[0]&258086|i[1]&2048&&(c.$$scope={dirty:i,ctx:o}),s.$set(c)},i(o){a||(D(t.$$.fragment,o),D(s.$$.fragment,o),a=!0)},o(o){I(t.$$.fragment,o),I(s.$$.fragment,o),a=!1},d(o){o&&(f(e),f(n),f(l)),H(t),H(s)}}}function La(r){let e,t,n;return t=new At({props:{progress:"indeterminate",message:"Loading account..."}}),{c(){e=k("div"),F(t.$$.fragment),this.h()},l(l){e=w(l,"DIV",{class:!0});var s=b(e);W(t.$$.fragment,s),s.forEach(f),this.h()},h(){m(e,"class","loader svelte-ln7895")},m(l,s){y(l,e,s),U(t,e,null),n=!0},p:K,i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){l&&f(e),H(t)}}}function Ma(r){let e,t,n,l,s="Account Management",a,o,i,u,c,h,$,E;t=new le({props:{$$slots:{default:[ja]},$$scope:{ctx:r}}}),t.$on("click",r[19]);const V=[Na,Ta,Ba],L=[];function p(g,v){return g[2]&&g[2].governance.delegate&&g[2].governance.delegate?.pkh===g[2]?.account.id?0:g[2].governance.delegate?1:2}return o=p(r),i=L[o]=V[o](r),c=new Ze({}),$=new le({props:{label:"Donate to TzC"}}),$.$on("click",r[23]),{c(){e=k("div"),F(t.$$.fragment),n=B(),l=k("h5"),l.textContent=s,a=B(),i.c(),u=B(),F(c.$$.fragment),h=B(),F($.$$.fragment),this.h()},l(g){e=w(g,"DIV",{class:!0});var v=b(e);W(t.$$.fragment,v),v.forEach(f),n=T(g),l=w(g,"H5",{class:!0,"data-svelte-h":!0}),oe(l)!=="svelte-1v3b9it"&&(l.textContent=s),a=T(g),i.l(g),u=T(g),W(c.$$.fragment,g),h=T(g),W($.$$.fragment,g),this.h()},h(){m(e,"class","redo svelte-ln7895"),m(l,"class","tools-title svelte-ln7895")},m(g,v){y(g,e,v),U(t,e,null),y(g,n,v),y(g,l,v),y(g,a,v),L[o].m(g,v),y(g,u,v),U(c,g,v),y(g,h,v),U($,g,v),E=!0},p(g,v){const _={};v[1]&2048&&(_.$$scope={dirty:v,ctx:g}),t.$set(_);let C=o;o=p(g),o===C?L[o].p(g,v):(pe(),I(L[C],1,1,()=>{L[C]=null}),_e(),i=L[o],i?i.p(g,v):(i=L[o]=V[o](g),i.c()),D(i,1),i.m(u.parentNode,u))},i(g){E||(D(t.$$.fragment,g),D(i),D(c.$$.fragment,g),D($.$$.fragment,g),E=!0)},o(g){I(t.$$.fragment,g),I(i),I(c.$$.fragment,g),I($.$$.fragment,g),E=!1},d(g){g&&(f(e),f(n),f(l),f(a),f(u),f(h)),H(t),L[o].d(g),H(c,g),H($,g)}}}function Sa(r){let e,t;return e=new At({props:{progress:"indeterminate",message:"Loading staking state..."}}),{c(){F(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,l){U(e,n,l),t=!0},p:K,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function ja(r){let e,t,n;return t=new Jn({}),{c(){e=k("div"),F(t.$$.fragment),this.h()},l(l){e=w(l,"DIV",{class:!0});var s=b(e);W(t.$$.fragment,s),s.forEach(f),this.h()},h(){m(e,"class","icon svelte-ln7895")},m(l,s){y(l,e,s),U(t,e,null),n=!0},p:K,i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){l&&f(e),H(t)}}}function Ba(r){let e,t="You are not delegating and not a delegate. You have to delegate to stake.",n,l,s;return l=new le({props:{label:"Delegate"}}),l.$on("click",r[20]),{c(){e=k("div"),e.textContent=t,n=B(),F(l.$$.fragment),this.h()},l(a){e=w(a,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-kq5dty"&&(e.textContent=t),n=T(a),W(l.$$.fragment,a),this.h()},h(){m(e,"class","note svelte-ln7895")},m(a,o){y(a,e,o),y(a,n,o),U(l,a,o),s=!0},p:K,i(a){s||(D(l.$$.fragment,a),s=!0)},o(a){I(l.$$.fragment,a),s=!1},d(a){a&&(f(e),f(n)),H(l,a)}}}function Ta(r){let e,t,n,l,s,a,o,i,u,c=BigInt(r[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"",h,$,E,V,L,p,g,v,_,C,S,R,P,M=r[9]&&Un(r);return p=new le({props:{label:"Stake"}}),p.$on("click",r[21]),v=new le({props:{label:"Unstake"}}),v.$on("click",r[22]),C=new le({props:{label:"Finalize Unstake"}}),C.$on("click",r[24]),R=new le({props:{label:"Change Delegate"}}),R.$on("click",r[20]),{c(){e=k("div"),t=k("div"),n=N("Staking Fee: "),l=N(r[11]),s=B(),a=k("div"),o=N("Total Stake Capacity: "),i=N(r[10]),u=N(" (multiplier: "),h=N(c),$=N("x)"),E=B(),M&&M.c(),V=B(),L=k("div"),F(p.$$.fragment),g=B(),F(v.$$.fragment),_=B(),F(C.$$.fragment),S=B(),F(R.$$.fragment),this.h()},l(j){e=w(j,"DIV",{class:!0});var A=b(e);t=w(A,"DIV",{});var q=b(t);n=O(q,"Staking Fee: "),l=O(q,r[11]),q.forEach(f),s=T(A),a=w(A,"DIV",{});var Y=b(a);o=O(Y,"Total Stake Capacity: "),i=O(Y,r[10]),u=O(Y," (multiplier: "),h=O(Y,c),$=O(Y,"x)"),Y.forEach(f),E=T(A),M&&M.l(A),A.forEach(f),V=T(j),L=w(j,"DIV",{class:!0});var Q=b(L);W(p.$$.fragment,Q),g=T(Q),W(v.$$.fragment,Q),_=T(Q),W(C.$$.fragment,Q),Q.forEach(f),S=T(j),W(R.$$.fragment,j),this.h()},h(){m(e,"class","delegate-info svelte-ln7895"),m(L,"class","tools svelte-ln7895")},m(j,A){y(j,e,A),d(e,t),d(t,n),d(t,l),d(e,s),d(e,a),d(a,o),d(a,i),d(a,u),d(a,h),d(a,$),d(e,E),M&&M.m(e,null),y(j,V,A),y(j,L,A),U(p,L,null),d(L,g),U(v,L,null),d(L,_),U(C,L,null),y(j,S,A),U(R,j,A),P=!0},p(j,A){(!P||A[0]&2048)&&x(l,j[11]),(!P||A[0]&1024)&&x(i,j[10]),(!P||A[0]&4)&&c!==(c=BigInt(j[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"")&&x(h,c),j[9]?M?(M.p(j,A),A[0]&512&&D(M,1)):(M=Un(j),M.c(),D(M,1),M.m(e,null)):M&&(pe(),I(M,1,1,()=>{M=null}),_e())},i(j){P||(D(M),D(p.$$.fragment,j),D(v.$$.fragment,j),D(C.$$.fragment,j),D(R.$$.fragment,j),P=!0)},o(j){I(M),I(p.$$.fragment,j),I(v.$$.fragment,j),I(C.$$.fragment,j),I(R.$$.fragment,j),P=!1},d(j){j&&(f(e),f(V),f(L),f(S)),M&&M.d(),H(p),H(v),H(C),H(R,j)}}}function Na(r){let e,t="<b>You are a baker.</b>",n,l,s,a,o,i,u,c,h,$,E=BigInt(r[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"",V,L,p,g,v,_,C,S,R,P,M,j,A,q,Y,Q=r[9]&&zn(r);return v=new le({props:{label:"Set Delegate Parameters"}}),v.$on("click",r[25]),S=new le({props:{label:"Stake"}}),S.$on("click",r[21]),P=new le({props:{label:"Unstake"}}),P.$on("click",r[22]),j=new le({props:{label:"Finalize Unstake"}}),j.$on("click",r[24]),q=new le({props:{label:"Update Consensus Key"}}),q.$on("click",r[28]),{c(){e=k("div"),e.innerHTML=t,n=B(),l=k("div"),s=k("div"),a=N("Staking Fee: "),o=N(r[11]),i=B(),u=k("div"),c=N("Total Stake Capacity: "),h=N(r[10]),$=N(" (multiplier: "),V=N(E),L=N("x)"),p=B(),Q&&Q.c(),g=B(),F(v.$$.fragment),_=B(),C=k("div"),F(S.$$.fragment),R=B(),F(P.$$.fragment),M=B(),F(j.$$.fragment),A=B(),F(q.$$.fragment),this.h()},l(z){e=w(z,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-3ovq6r"&&(e.innerHTML=t),n=T(z),l=w(z,"DIV",{class:!0});var J=b(l);s=w(J,"DIV",{});var ue=b(s);a=O(ue,"Staking Fee: "),o=O(ue,r[11]),ue.forEach(f),i=T(J),u=w(J,"DIV",{});var $e=b(u);c=O($e,"Total Stake Capacity: "),h=O($e,r[10]),$=O($e," (multiplier: "),V=O($e,E),L=O($e,"x)"),$e.forEach(f),p=T(J),Q&&Q.l(J),J.forEach(f),g=T(z),W(v.$$.fragment,z),_=T(z),C=w(z,"DIV",{class:!0});var de=b(C);W(S.$$.fragment,de),R=T(de),W(P.$$.fragment,de),M=T(de),W(j.$$.fragment,de),de.forEach(f),A=T(z),W(q.$$.fragment,z),this.h()},h(){m(e,"class","center svelte-ln7895"),m(l,"class","delegate-info svelte-ln7895"),m(C,"class","tools svelte-ln7895")},m(z,J){y(z,e,J),y(z,n,J),y(z,l,J),d(l,s),d(s,a),d(s,o),d(l,i),d(l,u),d(u,c),d(u,h),d(u,$),d(u,V),d(u,L),d(l,p),Q&&Q.m(l,null),y(z,g,J),U(v,z,J),y(z,_,J),y(z,C,J),U(S,C,null),d(C,R),U(P,C,null),d(C,M),U(j,C,null),y(z,A,J),U(q,z,J),Y=!0},p(z,J){(!Y||J[0]&2048)&&x(o,z[11]),(!Y||J[0]&1024)&&x(h,z[10]),(!Y||J[0]&4)&&E!==(E=BigInt(z[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"")&&x(V,E),z[9]?Q?(Q.p(z,J),J[0]&512&&D(Q,1)):(Q=zn(z),Q.c(),D(Q,1),Q.m(l,null)):Q&&(pe(),I(Q,1,1,()=>{Q=null}),_e())},i(z){Y||(D(Q),D(v.$$.fragment,z),D(S.$$.fragment,z),D(P.$$.fragment,z),D(j.$$.fragment,z),D(q.$$.fragment,z),Y=!0)},o(z){I(Q),I(v.$$.fragment,z),I(S.$$.fragment,z),I(P.$$.fragment,z),I(j.$$.fragment,z),I(q.$$.fragment,z),Y=!1},d(z){z&&(f(e),f(n),f(l),f(g),f(_),f(C),f(A)),Q&&Q.d(),H(v,z),H(S),H(P),H(j),H(q,z)}}}function Un(r){let e,t,n,l;e=new Ze({});let s=gt(r[9]),a=[];for(let i=0;i<s.length;i+=1)a[i]=Hn(Fn(r,s,i));const o=i=>I(a[i],1,1,()=>{a[i]=null});return{c(){F(e.$$.fragment),t=B();for(let i=0;i<a.length;i+=1)a[i].c();n=Me()},l(i){W(e.$$.fragment,i),t=T(i);for(let u=0;u<a.length;u+=1)a[u].l(i);n=Me()},m(i,u){U(e,i,u),y(i,t,u);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(i,u);y(i,n,u),l=!0},p(i,u){if(u[0]&516){s=gt(i[9]);let c;for(c=0;c<s.length;c+=1){const h=Fn(i,s,c);a[c]?(a[c].p(h,u),D(a[c],1)):(a[c]=Hn(h),a[c].c(),D(a[c],1),a[c].m(n.parentNode,n))}for(pe(),c=s.length;c<a.length;c+=1)o(c);_e()}},i(i){if(!l){D(e.$$.fragment,i);for(let u=0;u<s.length;u+=1)D(a[u]);l=!0}},o(i){I(e.$$.fragment,i),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)I(a[u]);l=!1},d(i){i&&(f(t),f(n)),H(e,i),un(a,i)}}}function Hn(r){let e,t,n=r[37].cycle+"",l,s,a,o,i,u=kt(r[37].edge_of_baking_over_staking_billionth)+"",c,h,$,E,V=wt((r[2]?.governance.delegate?.stakedBalance??0n)*BigInt(r[37].limit_of_staking_over_baking_millionth))+"",L,p,g=BigInt(r[37].limit_of_staking_over_baking_millionth)/1000000n+"",v,_,C,S,R;return S=new Ze({}),{c(){e=k("b"),t=N("Pending cycle "),l=N(n),s=N(":"),a=B(),o=k("div"),i=N("Staking Fee: "),c=N(u),h=B(),$=k("div"),E=N("Total Stake Capacity: "),L=N(V),p=N(" (mutliplier: "),v=N(g),_=N("x)"),C=B(),F(S.$$.fragment)},l(P){e=w(P,"B",{});var M=b(e);t=O(M,"Pending cycle "),l=O(M,n),s=O(M,":"),M.forEach(f),a=T(P),o=w(P,"DIV",{});var j=b(o);i=O(j,"Staking Fee: "),c=O(j,u),j.forEach(f),h=T(P),$=w(P,"DIV",{});var A=b($);E=O(A,"Total Stake Capacity: "),L=O(A,V),p=O(A," (mutliplier: "),v=O(A,g),_=O(A,"x)"),A.forEach(f),C=T(P),W(S.$$.fragment,P)},m(P,M){y(P,e,M),d(e,t),d(e,l),d(e,s),y(P,a,M),y(P,o,M),d(o,i),d(o,c),y(P,h,M),y(P,$,M),d($,E),d($,L),d($,p),d($,v),d($,_),y(P,C,M),U(S,P,M),R=!0},p(P,M){(!R||M[0]&512)&&n!==(n=P[37].cycle+"")&&x(l,n),(!R||M[0]&512)&&u!==(u=kt(P[37].edge_of_baking_over_staking_billionth)+"")&&x(c,u),(!R||M[0]&516)&&V!==(V=wt((P[2]?.governance.delegate?.stakedBalance??0n)*BigInt(P[37].limit_of_staking_over_baking_millionth))+"")&&x(L,V),(!R||M[0]&512)&&g!==(g=BigInt(P[37].limit_of_staking_over_baking_millionth)/1000000n+"")&&x(v,g)},i(P){R||(D(S.$$.fragment,P),R=!0)},o(P){I(S.$$.fragment,P),R=!1},d(P){P&&(f(e),f(a),f(o),f(h),f($),f(C)),H(S,P)}}}function zn(r){let e,t,n,l;e=new Ze({});let s=gt(r[9]),a=[];for(let i=0;i<s.length;i+=1)a[i]=Yn(Wn(r,s,i));const o=i=>I(a[i],1,1,()=>{a[i]=null});return{c(){F(e.$$.fragment),t=B();for(let i=0;i<a.length;i+=1)a[i].c();n=Me()},l(i){W(e.$$.fragment,i),t=T(i);for(let u=0;u<a.length;u+=1)a[u].l(i);n=Me()},m(i,u){U(e,i,u),y(i,t,u);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(i,u);y(i,n,u),l=!0},p(i,u){if(u[0]&516){s=gt(i[9]);let c;for(c=0;c<s.length;c+=1){const h=Wn(i,s,c);a[c]?(a[c].p(h,u),D(a[c],1)):(a[c]=Yn(h),a[c].c(),D(a[c],1),a[c].m(n.parentNode,n))}for(pe(),c=s.length;c<a.length;c+=1)o(c);_e()}},i(i){if(!l){D(e.$$.fragment,i);for(let u=0;u<s.length;u+=1)D(a[u]);l=!0}},o(i){I(e.$$.fragment,i),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)I(a[u]);l=!1},d(i){i&&(f(t),f(n)),H(e,i),un(a,i)}}}function Yn(r){let e,t,n=r[37].cycle+"",l,s,a,o,i,u=kt(r[37].edge_of_baking_over_staking_billionth)+"",c,h,$,E,V=wt((r[2]?.governance.delegate?.stakedBalance??0n)*BigInt(r[37].limit_of_staking_over_baking_millionth))+"",L,p,g=BigInt(r[37].limit_of_staking_over_baking_millionth)/1000000n+"",v,_,C,S,R;return S=new Ze({}),{c(){e=k("b"),t=N("Pending cycle "),l=N(n),s=N(":"),a=B(),o=k("div"),i=N("Staking Fee: "),c=N(u),h=B(),$=k("div"),E=N("Total Stake Capacity: "),L=N(V),p=N(" (mutliplier: "),v=N(g),_=N("x)"),C=B(),F(S.$$.fragment)},l(P){e=w(P,"B",{});var M=b(e);t=O(M,"Pending cycle "),l=O(M,n),s=O(M,":"),M.forEach(f),a=T(P),o=w(P,"DIV",{});var j=b(o);i=O(j,"Staking Fee: "),c=O(j,u),j.forEach(f),h=T(P),$=w(P,"DIV",{});var A=b($);E=O(A,"Total Stake Capacity: "),L=O(A,V),p=O(A," (mutliplier: "),v=O(A,g),_=O(A,"x)"),A.forEach(f),C=T(P),W(S.$$.fragment,P)},m(P,M){y(P,e,M),d(e,t),d(e,l),d(e,s),y(P,a,M),y(P,o,M),d(o,i),d(o,c),y(P,h,M),y(P,$,M),d($,E),d($,L),d($,p),d($,v),d($,_),y(P,C,M),U(S,P,M),R=!0},p(P,M){(!R||M[0]&512)&&n!==(n=P[37].cycle+"")&&x(l,n),(!R||M[0]&512)&&u!==(u=kt(P[37].edge_of_baking_over_staking_billionth)+"")&&x(c,u),(!R||M[0]&516)&&V!==(V=wt((P[2]?.governance.delegate?.stakedBalance??0n)*BigInt(P[37].limit_of_staking_over_baking_millionth))+"")&&x(L,V),(!R||M[0]&512)&&g!==(g=BigInt(P[37].limit_of_staking_over_baking_millionth)/1000000n+"")&&x(v,g)},i(P){R||(D(S.$$.fragment,P),R=!0)},o(P){I(S.$$.fragment,P),R=!1},d(P){P&&(f(e),f(a),f(o),f(h),f($),f(C)),H(S,P)}}}function Oa(r){let e,t,n,l;const s=[Sa,Ma],a=[];function o(i,u){return i[2].isLoadingDelegate?0:1}return t=o(r),n=a[t]=s[t](r),{c(){e=k("div"),n.c(),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);n.l(u),u.forEach(f),this.h()},h(){m(e,"class","staking svelte-ln7895")},m(i,u){y(i,e,u),a[t].m(e,null),l=!0},p(i,u){let c=t;t=o(i),t===c?a[t].p(i,u):(pe(),I(a[c],1,1,()=>{a[c]=null}),_e(),n=a[t],n?n.p(i,u):(n=a[t]=s[t](i),n.c()),D(n,1),n.m(e,null))},i(i){l||(D(n),l=!0)},o(i){I(n),l=!1},d(i){i&&f(e),a[t].d()}}}function Ra(r){let e,t,n,l,s;t=new le({props:{$$slots:{default:[qa]},$$scope:{ctx:r}}}),t.$on("click",r[18]);let a=r[1]!==void 0&&Xn(r);return{c(){e=k("div"),F(t.$$.fragment),n=B(),a&&a.c(),l=Me(),this.h()},l(o){e=w(o,"DIV",{class:!0});var i=b(e);W(t.$$.fragment,i),i.forEach(f),n=T(o),a&&a.l(o),l=Me(),this.h()},h(){m(e,"class","redo svelte-ln7895")},m(o,i){y(o,e,i),U(t,e,null),y(o,n,i),a&&a.m(o,i),y(o,l,i),s=!0},p(o,i){const u={};i[1]&2048&&(u.$$scope={dirty:i,ctx:o}),t.$set(u),o[1]!==void 0?a?(a.p(o,i),i[0]&2&&D(a,1)):(a=Xn(o),a.c(),D(a,1),a.m(l.parentNode,l)):a&&(pe(),I(a,1,1,()=>{a=null}),_e())},i(o){s||(D(t.$$.fragment,o),D(a),s=!0)},o(o){I(t.$$.fragment,o),I(a),s=!1},d(o){o&&(f(e),f(n),f(l)),H(t),a&&a.d(o)}}}function Aa(r){let e,t;return e=new At({props:{progress:"indeterminate",message:"Loading governance state..."}}),{c(){F(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,l){U(e,n,l),t=!0},p:K,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function qa(r){let e,t,n;return t=new Jn({}),{c(){e=k("div"),F(t.$$.fragment),this.h()},l(l){e=w(l,"DIV",{class:!0});var s=b(e);W(t.$$.fragment,s),s.forEach(f),this.h()},h(){m(e,"class","icon svelte-ln7895")},m(l,s){y(l,e,s),U(t,e,null),n=!0},p:K,i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){l&&f(e),H(t)}}}function Xn(r){let e,t,n=r[1]?.info.voting_period.kind+"",l,s,a,o,i,u,c=r[1].info.voting_period.index+"",h,$,E,V,L,p,g,v,_,C;function S(q,Y){return q[13]?Wa:Fa}let R=S(r),P=R(r);L=new Ze({});const M=[Ya,za,Ha,Ua],j=[];function A(q,Y){return q[17]!==void 0?0:q[16]!==void 0?1:q[15]!==void 0?2:3}return g=A(r),v=j[g]=M[g](r),{c(){e=k("div"),t=k("h5"),l=N(n),s=N(" Period"),a=B(),o=k("div"),i=k("div"),u=N("#"),h=N(c),$=B(),E=k("div"),P.c(),V=B(),F(L.$$.fragment),p=B(),v.c(),_=Me(),this.h()},l(q){e=w(q,"DIV",{class:!0});var Y=b(e);t=w(Y,"H5",{class:!0});var Q=b(t);l=O(Q,n),s=O(Q," Period"),Q.forEach(f),Y.forEach(f),a=T(q),o=w(q,"DIV",{class:!0});var z=b(o);i=w(z,"DIV",{class:!0});var J=b(i);u=O(J,"#"),h=O(J,c),J.forEach(f),$=T(z),E=w(z,"DIV",{class:!0});var ue=b(E);P.l(ue),ue.forEach(f),z.forEach(f),V=T(q),W(L.$$.fragment,q),p=T(q),v.l(q),_=Me(),this.h()},h(){m(t,"class","svelte-ln7895"),m(e,"class","title svelte-ln7895"),m(i,"class","governance-period-number svelte-ln7895"),m(E,"class","governance-period-remaining svelte-ln7895"),m(o,"class","governance-period-header svelte-ln7895")},m(q,Y){y(q,e,Y),d(e,t),d(t,l),d(t,s),y(q,a,Y),y(q,o,Y),d(o,i),d(i,u),d(i,h),d(o,$),d(o,E),P.m(E,null),y(q,V,Y),U(L,q,Y),y(q,p,Y),j[g].m(q,Y),y(q,_,Y),C=!0},p(q,Y){(!C||Y[0]&2)&&n!==(n=q[1]?.info.voting_period.kind+"")&&x(l,n),(!C||Y[0]&2)&&c!==(c=q[1].info.voting_period.index+"")&&x(h,c),R===(R=S(q))&&P?P.p(q,Y):(P.d(1),P=R(q),P&&(P.c(),P.m(E,null)));let Q=g;g=A(q),g===Q?j[g].p(q,Y):(pe(),I(j[Q],1,1,()=>{j[Q]=null}),_e(),v=j[g],v?v.p(q,Y):(v=j[g]=M[g](q),v.c()),D(v,1),v.m(_.parentNode,_))},i(q){C||(D(L.$$.fragment,q),D(v),C=!0)},o(q){I(L.$$.fragment,q),I(v),C=!1},d(q){q&&(f(e),f(a),f(o),f(V),f(p),f(_)),P.d(),H(L,q),j[g].d(q)}}}function Fa(r){let e,t,n,l;return{c(){e=N("ends in "),t=N(r[12]),n=N(" blocks ~ "),l=N(r[14])},l(s){e=O(s,"ends in "),t=O(s,r[12]),n=O(s," blocks ~ "),l=O(s,r[14])},m(s,a){y(s,e,a),y(s,t,a),y(s,n,a),y(s,l,a)},p(s,a){a[0]&4096&&x(t,s[12]),a[0]&16384&&x(l,s[14])},d(s){s&&(f(e),f(t),f(n),f(l))}}}function Wa(r){let e;return{c(){e=N("ended")},l(t){e=O(t,"ended")},m(t,n){y(t,e,n)},p:K,d(t){t&&f(e)}}}function Ua(r){let e,t=r[1].info.voting_period.kind+"",n,l;return{c(){e=k("div"),n=N(t),l=N(" is not supported yet"),this.h()},l(s){e=w(s,"DIV",{class:!0});var a=b(e);n=O(a,t),l=O(a," is not supported yet"),a.forEach(f),this.h()},h(){m(e,"class","error-message svelte-ln7895")},m(s,a){y(s,e,a),d(e,n),d(e,l)},p(s,a){a[0]&2&&t!==(t=s[1].info.voting_period.kind+"")&&x(n,t)},i:K,o:K,d(s){s&&f(e)}}}function Ha(r){let e,t;return e=new Pa({props:{period:r[15],periodIndex:r[1].info.voting_period.index}}),{c(){F(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,l){U(e,n,l),t=!0},p(n,l){const s={};l[0]&32768&&(s.period=n[15]),l[0]&2&&(s.periodIndex=n[1].info.voting_period.index),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function za(r){let e,t;return e=new il({props:{period:r[16],periodIndex:r[1].info.voting_period.index,pkh:r[2]?.account.id,canVote:r[5]}}),e.$on("vote",r[26]),e.$on("upvote",r[27]),{c(){F(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,l){U(e,n,l),t=!0},p(n,l){const s={};l[0]&65536&&(s.period=n[16]),l[0]&2&&(s.periodIndex=n[1].info.voting_period.index),l[0]&4&&(s.pkh=n[2]?.account.id),l[0]&32&&(s.canVote=n[5]),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function Ya(r){let e,t;return e=new zr({props:{period:r[17],periodIndex:r[1].info.voting_period.index,pkh:r[2]?.account.id,canVote:r[5]}}),e.$on("vote",r[26]),e.$on("upvote",r[27]),{c(){F(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,l){U(e,n,l),t=!0},p(n,l){const s={};l[0]&131072&&(s.period=n[17]),l[0]&2&&(s.periodIndex=n[1].info.voting_period.index),l[0]&4&&(s.pkh=n[2]?.account.id),l[0]&32&&(s.canVote=n[5]),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function Xa(r){let e,t,n,l;const s=[Aa,Ra],a=[];function o(i,u){return i[2]?.governance?.loadingPeriod?0:1}return t=o(r),n=a[t]=s[t](r),{c(){e=k("div"),n.c(),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=b(e);n.l(u),u.forEach(f),this.h()},h(){m(e,"class","governance-period svelte-ln7895")},m(i,u){y(i,e,u),a[t].m(e,null),l=!0},p(i,u){let c=t;t=o(i),t===c?a[t].p(i,u):(pe(),I(a[c],1,1,()=>{a[c]=null}),_e(),n=a[t],n?n.p(i,u):(n=a[t]=s[t](i),n.c()),D(n,1),n.m(e,null))},i(i){l||(D(n),l=!0)},o(i){I(n),l=!1},d(i){i&&f(e),a[t].d()}}}function Za(r){let e,t,n,l,s,a,o,i,u,c,h;const $=[La,Va],E=[];function V(_,C){return _[2]&&_[2].isInitializing?0:_[2]?1:-1}~(t=V(r))&&(n=E[t]=$[t](r));let L={};s=new br({props:L}),r[32](s);let p={};o=new Cl({props:p}),r[33](o);function g(_){r[34](_)}let v={opHash:r[8],error:r[6],allowClose:!1,stage:r[7]};return r[0]!==void 0&&(v.open=r[0]),u=new $l({props:v}),Le.push(()=>Xe(u,"open",g)),{c(){e=k("div"),n&&n.c(),l=B(),F(s.$$.fragment),a=B(),F(o.$$.fragment),i=B(),F(u.$$.fragment),this.h()},l(_){e=w(_,"DIV",{class:!0});var C=b(e);n&&n.l(C),C.forEach(f),l=T(_),W(s.$$.fragment,_),a=T(_),W(o.$$.fragment,_),i=T(_),W(u.$$.fragment,_),this.h()},h(){m(e,"class","home-wrap svelte-ln7895")},m(_,C){y(_,e,C),~t&&E[t].m(e,null),y(_,l,C),U(s,_,C),y(_,a,C),U(o,_,C),y(_,i,C),U(u,_,C),h=!0},p(_,C){let S=t;t=V(_),t===S?~t&&E[t].p(_,C):(n&&(pe(),I(E[S],1,1,()=>{E[S]=null}),_e()),~t?(n=E[t],n?n.p(_,C):(n=E[t]=$[t](_),n.c()),D(n,1),n.m(e,null)):n=null);const R={};s.$set(R);const P={};o.$set(P);const M={};C[0]&256&&(M.opHash=_[8]),C[0]&64&&(M.error=_[6]),C[0]&128&&(M.stage=_[7]),!c&&C[0]&1&&(c=!0,M.open=_[0],Ye(()=>c=!1)),u.$set(M)},i(_){h||(D(n),D(s.$$.fragment,_),D(o.$$.fragment,_),D(u.$$.fragment,_),h=!0)},o(_){I(n),I(s.$$.fragment,_),I(o.$$.fragment,_),I(u.$$.fragment,_),h=!1},d(_){_&&(f(e),f(l),f(a),f(i)),~t&&E[t].d(),r[32](null),H(s,_),r[33](null),H(o,_),H(u,_)}}}function Qa(r,e,t){let n,l,s,a,o,i,u,c,h,$,E,V,L,p;xn(r,ge,X=>t(2,p=X));let g,v,_,C,S="building",R,P=!1;async function M(){await ge.refreshGovernanceState()}async function j(){await ge.refreshDelegate()}async function A(X){try{t(0,P=!0),t(7,S="building");const re=await X(),ae=await re.send();t(8,R=ae.ophash),t(7,S="confirming"),await re.confirmation(),t(7,S="applied")}catch(re){t(7,S="failed"),t(6,C=re.message)}}async function q(){const X=await g.prompt({title:"Delegate",message:"Enter the address you want to delegate to",value:"",rules:[re=>!!re&&re!==""||"Address can not be empty",re=>lr(re)===3||"Invalid address"],confirmText:"Delegate"});await A(async()=>await ge.delegate(X)),await ge.refreshDelegate()}const Y=[X=>!!X||"Amount can not be empty",X=>!isNaN(Number(X))||"Amount must be a number",X=>Number(X)>0||"Amount must be greater than 0",X=>BigInt(X)<(p?.account.balance??0)||"Amount must be less than your balance"];async function Q(){const X=await g.prompt({title:"Stake",message:"Enter the amount you want to stake",value:"",rules:Y,confirmText:"Stake"}),re=BigInt(Number(X)*nn);await A(async()=>await ge.stake(re)),await ge.refreshDelegate()}async function z(){const X=await g.prompt({title:"Unstake",message:"Enter the amount you want to unstake",value:"",rules:Y,confirmText:"Unstake"}),re=BigInt(Number(X)*nn);await A(async()=>await ge.unstake(re)),await ge.refreshDelegate()}async function J(){const X=await g.prompt({title:"Donate",message:"Enter the amount you want to donate",value:"",rules:Y,confirmText:"Donate"}),re=BigInt(Number(X)*nn);await A(async()=>await ge.donate(re)),await ge.refreshDelegate()}async function ue(){await A(async()=>await ge.finalizeUnstake()),await ge.refreshDelegate()}async function $e(){const X=p?.governance.delegate?.activeStakingParameters,re=p?.governance.delegate?.pendingStakingParameters;let ae=X?X.edge_of_baking_over_staking_billionth/1e7:0;const G=sr(re);G&&(ae=G.edge_of_baking_over_staking_billionth/1e7);let ke=X?X.limit_of_staking_over_baking_millionth/1e6:0;G&&(ke=G.limit_of_staking_over_baking_millionth/1e6);const{edge:Fe,limit:we}=await v.prompt({value:{edge:ae,limit:ke}});await A(async()=>await ge.setDelegateParameters(Fe/100,we)),await ge.refreshDelegate()}async function de(X){await A(async()=>await ge.vote(X.detail.proposal,X.detail.ballot,X.detail.period))}async function Ie(X){await A(async()=>await ge.upvote(X.detail.proposals,X.detail.period))}async function he(){const X=await g.prompt({title:"Update Consensus Key",message:"Enter the new consensus key",value:"",rules:[re=>!!re||"Key can not be empty",re=>ar(re)===3||"Invalid public key"],confirmText:"Update Consensus Key"});await A(async()=>await ge.updateConesusKey(X)),await ge.refreshDelegate()}function te(X){Le[X?"unshift":"push"](()=>{g=X,t(3,g)})}function ee(X){Le[X?"unshift":"push"](()=>{v=X,t(4,v)})}function be(X){P=X,t(0,P)}return r.$$.update=()=>{r.$$.dirty[0]&4&&t(1,n=p?.governance?.period),r.$$.dirty[0]&2&&t(31,l=n?.voters??[]),r.$$.dirty[0]&4|r.$$.dirty[1]&1&&t(5,_=l.find(X=>X.pkh===p?.account.id)!==void 0),r.$$.dirty[0]&2&&t(17,s=n?.info.voting_period.kind==="proposal"?wa(n):void 0),r.$$.dirty[0]&2&&t(16,a=["exploration","promotion"].includes(n?.info.voting_period.kind??"unknown")?ya(n):void 0),r.$$.dirty[0]&2&&t(15,o=["testing","adoption"].includes(n?.info.voting_period.kind??"unknown")?n:void 0),r.$$.dirty[0]&2&&t(29,i=n?.block),r.$$.dirty[0]&536870914&&t(30,u=$a(n?.info,i)),r.$$.dirty[0]&1073741824&&t(14,c=_a(u,{addSuffix:!0})),r.$$.dirty[0]&1073741824&&t(13,h=u<new Date),r.$$.dirty[0]&536870914&&t(12,$=n?.info&&ba(n?.info,i)),r.$$.dirty[0]&1&&(P||(t(6,C=void 0),t(8,R=void 0),t(7,S="building"))),r.$$.dirty[0]&4&&t(11,E=kt(p?.governance.delegate?.activeStakingParameters?.edge_of_baking_over_staking_billionth??0)),r.$$.dirty[0]&4&&t(10,V=wt((p?.governance.delegate?.stakedBalance??0n)*BigInt(p?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0))),r.$$.dirty[0]&4&&t(9,L=p?.governance.delegate?.pendingStakingParameters??[])},[P,n,p,g,v,_,C,S,R,L,V,E,$,h,c,o,a,s,M,j,q,Q,z,J,ue,$e,de,Ie,he,i,u,l,te,ee,be]}class xa extends De{constructor(e){super(),Ce(this,e,Qa,Za,ye,{},null,[-1,-1])}}export{xa as component};
