import{s as Ae,r as We,O as Je,P as tn,e as $,a as V,c as b,b as k,g as L,f as c,p as v,q as Wt,Q as Ee,i as w,h as d,R as nn,S as rn,T as ln,t as B,d as T,j as le,l as Ne,U as tr,V as cn,N as de,K as pe,L as _e,n as J,W as fn,X as dn,k as nr}from"../chunks/scheduler.ByQKukMK.js";import{S as Oe,i as Re,f as Ge,b as R,d as q,m as F,a as D,t as C,e as W,g as Le,c as Me}from"../chunks/index.d5sRgTX6.js";import{ad as qt,ae as Mn,af as Ht,ag as sn,ah as Jn,ai as $t,aj as ue,ak as Et,al as rr,am as lr,an as mn,ao as vn,ap as gn,aq as bt,ar as He,as as kt,at as Ut,au as ar,av as Sn,aw as Pt,ax as Vt,ay as be,az as sr,aA as Dt,aB as ir,aC as st}from"../chunks/Input.A_bwKwxb.js";function or(r){var e=r==null?0:r.length;return e?r[e-1]:void 0}function ur(r){function e(s){var a=Uint8Array.from(s),o=r(a),i=a.length+4,u=new Uint8Array(i);return u.set(a,0),u.set(o.subarray(0,4),a.length),qt.encode(u)}function t(s){var a=s.slice(0,-4),o=s.slice(-4),i=r(a);if(!(o[0]^i[0]|o[1]^i[1]|o[2]^i[2]|o[3]^i[3]))return a}function n(s){var a=qt.decodeUnsafe(s);if(a!=null)return t(a)}function l(s){var a=qt.decode(s),o=t(a);if(o==null)throw new Error("Invalid checksum");return o}return{encode:e,decode:l,decodeUnsafe:n}}function cr(r){return Mn(Mn(r))}const on=ur(cr),fr=r=>r&1,dr=r=>({}),jn=r=>({...r[0]}),mr=r=>r&1,vr=r=>({}),Bn=r=>({...r[0]}),gr=r=>r&1,hr=r=>({}),Tn=r=>({...r[0]});function pr(r){let e,t=r[0].title+"",n;return{c(){e=$("h3"),n=B(t),this.h()},l(l){e=b(l,"H3",{class:!0});var s=k(e);n=T(s,t),s.forEach(c),this.h()},h(){v(e,"class","title svelte-1igllg9")},m(l,s){w(l,e,s),d(e,n)},p(l,s){s&1&&t!==(t=l[0].title+"")&&le(n,t)},d(l){l&&c(e)}}}function Nn(r){let e,t=r[0].message+"",n;return{c(){e=$("p"),n=B(t),this.h()},l(l){e=b(l,"P",{class:!0});var s=k(e);n=T(s,t),s.forEach(c),this.h()},h(){v(e,"class","message svelte-1igllg9")},m(l,s){w(l,e,s),d(e,n)},p(l,s){s&1&&t!==(t=l[0].message+"")&&le(n,t)},d(l){l&&c(e)}}}function _r(r){let e,t=r[0].message&&Nn(r);return{c(){t&&t.c(),e=Ne()},l(n){t&&t.l(n),e=Ne()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[0].message?t?t.p(n,l):(t=Nn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&c(e),t&&t.d(n)}}}function $r(r){let e,t,n;const l=[r[0],{noLabel:!0}];function s(o){r[6](o)}let a={};for(let o=0;o<l.length;o+=1)a=tr(a,l[o]);return r[0].value!==void 0&&(a.value=r[0].value),e=new Et({props:a}),We.push(()=>Ge(e,"value",s)),{c(){R(e.$$.fragment)},l(o){q(e.$$.fragment,o)},m(o,i){F(e,o,i),n=!0},p(o,i){const u=i&1?rr(l,[lr(o[0]),l[1]]):{};!t&&i&1&&(t=!0,u.value=o[0].value,Je(()=>t=!1)),e.$set(u)},i(o){n||(D(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){W(e,o)}}}function br(r){let e,t,n,l,s,a,o,i,u,f,g;const p=r[5].title,y=tn(p,r,r[10],Tn),I=y||pr(r),M=r[5].message,E=tn(M,r,r[10],Bn),m=E||_r(r),h=r[5].value,_=tn(h,r,r[10],jn),P=_||$r(r);return o=new ue({props:{label:r[0].cancelText}}),o.$on("click",r[7]),f=new ue({props:{label:r[0].confirmText}}),f.$on("click",r[8]),{c(){e=$("div"),I&&I.c(),t=V(),m&&m.c(),n=V(),P&&P.c(),l=V(),s=$("div"),a=$("div"),R(o.$$.fragment),i=V(),u=$("div"),R(f.$$.fragment),this.h()},l(N){e=b(N,"DIV",{class:!0});var O=k(e);I&&I.l(O),t=L(O),m&&m.l(O),n=L(O),P&&P.l(O),l=L(O),s=b(O,"DIV",{class:!0});var S=k(s);a=b(S,"DIV",{class:!0});var A=k(a);q(o.$$.fragment,A),A.forEach(c),i=L(S),u=b(S,"DIV",{class:!0});var z=k(u);q(f.$$.fragment,z),z.forEach(c),S.forEach(c),O.forEach(c),this.h()},h(){v(a,"class","control-button svelte-1igllg9"),Wt(a,"grid-column","1"),v(u,"class","control-button svelte-1igllg9"),Ee(u,"disabled",r[3]),Wt(u,"grid-column","3"),v(s,"class","controls padding-top svelte-1igllg9"),v(e,"class","prompt-wrap svelte-1igllg9")},m(N,O){w(N,e,O),I&&I.m(e,null),d(e,t),m&&m.m(e,null),d(e,n),P&&P.m(e,null),d(e,l),d(e,s),d(s,a),F(o,a,null),d(s,i),d(s,u),F(f,u,null),g=!0},p(N,O){y?y.p&&(!g||O&1025)&&nn(y,p,N,N[10],gr(O)||!g?rn(N[10]):ln(p,N[10],O,hr),Tn):I&&I.p&&(!g||O&1)&&I.p(N,g?O:-1),E?E.p&&(!g||O&1025)&&nn(E,M,N,N[10],mr(O)||!g?rn(N[10]):ln(M,N[10],O,vr),Bn):m&&m.p&&(!g||O&1)&&m.p(N,g?O:-1),_?_.p&&(!g||O&1025)&&nn(_,h,N,N[10],fr(O)||!g?rn(N[10]):ln(h,N[10],O,dr),jn):P&&P.p&&(!g||O&1)&&P.p(N,g?O:-1);const S={};O&1&&(S.label=N[0].cancelText),o.$set(S);const A={};O&1&&(A.label=N[0].confirmText),f.$set(A),(!g||O&8)&&Ee(u,"disabled",N[3])},i(N){g||(D(I,N),D(m,N),D(P,N),D(o.$$.fragment,N),D(f.$$.fragment,N),g=!0)},o(N){C(I,N),C(m,N),C(P,N),C(o.$$.fragment,N),C(f.$$.fragment,N),g=!1},d(N){N&&c(e),I&&I.d(N),m&&m.d(N),P&&P.d(N),W(o),W(f)}}}function kr(r){let e,t;return e=new $t({props:{$$slots:{default:[br]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p(n,l){const s={};l&1037&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function wr(r){let e,t,n;function l(a){r[9](a)}let s={persistent:!0,$$slots:{default:[kr]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.open=r[1]),e=new Ht({props:s}),We.push(()=>Ge(e,"open",l)),{c(){R(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,o){F(e,a,o),n=!0},p(a,[o]){const i={};o&1037&&(i.$$scope={dirty:o,ctx:a}),!t&&o&2&&(t=!0,i.open=a[1],Je(()=>t=!1)),e.$set(i)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){C(e.$$.fragment,a),n=!1},d(a){W(e,a)}}}function yr(r,e,t){let n,{$$slots:l={},$$scope:s}=e;const a={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let{state:o=a}=e,{isOpen:i=!1}=e,u={resolve:()=>f(),reject:()=>f()};function f(){t(1,i=!1)}async function g(E){return t(1,i=!0),t(0,o={...a,...E}),new Promise((m,h)=>{t(2,u={resolve:_=>{f(),m(_)},reject:_=>{f(),h(_)}})})}function p(E){r.$$.not_equal(o.value,E)&&(o.value=E,t(0,o))}const y=()=>u.reject(Jn),I=()=>u.resolve(o.value);function M(E){i=E,t(1,i)}return r.$$set=E=>{"state"in E&&t(0,o=E.state),"isOpen"in E&&t(1,i=E.isOpen),"$$scope"in E&&t(10,s=E.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=sn(o.value,o.rules)!==!0)},[o,i,u,n,g,l,p,y,I,M,s]}class Dr extends Oe{constructor(e){super(),Re(this,e,yr,wr,Ae,{state:0,isOpen:1,prompt:4})}get prompt(){return this.$$.ctx[4]}}const un="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Cr=34,Ir=51,Er=r=>{let e=0n;for(const t of r)e*=58n,e+=BigInt(un.indexOf(t));return e},An=r=>{const e=[];for(;r>0n;)e.push(Number(r%256n)),r=r/256n;return e.reverse()},Pr=r=>{const e=Cr,t=Er(r),n=qt.decode(r).length+1,l=BigInt(8*(e-n+4)),s=Ir-r.length;let a=t*58n**BigInt(s);a=a>>l,a+=a===a>>l<<l?0n:1n;let o=(t+1n)*58n**BigInt(s)-(1n<<l)+1n;if(o=o>>l,o>=a){const i=Uint8Array.from(Array.from({...An(a),length:e}).map(p=>p===void 0?0:p)),u=on.encode(i);if(!u.startsWith(r)||u.length!==s+r.length)return null;const f=Uint8Array.from(Array.from({...An(a),length:e}).map(p=>p===void 0?255:p)),g=on.encode(f);return!g.startsWith(r)||g.length!==s+r.length?null:i}return null},Vr=r=>{let e="Pt1";for(const n of r){if(un.includes(n)){e+=n;continue}if(un.includes(n.toLowerCase())){e+=n.toLowerCase();continue}}const t=Pr(e);return t===null?[!1,"Can not generate protocol hash from provided message"]:[!0,on.encode(new Uint8Array(t))]};function Lr(r){let e,t,n="New Proposal",l,s,a,o,i=`If you want to make a statement, write it in the <b>statement</b> field; this will generate
					a proposal hash for you.`,u,f,g=`To inject a proper protocol upgrade proposal, write the hash in the <b>new proposal</b>
					field and leave <b>statement</b> blank.`,p,y,I="*<b>Please refrain from using this feature for spamming.</b>",M,E,m="**Remember that you can propose or vote for a proposal only <b>10 times per period</b>.",h,_,P,N,O,S,A,z,U,H,Z,x,ae,fe,he;function we(ne){r[6](ne)}let ye={label:"Statement"};r[1]!==void 0&&(ye.value=r[1]),N=new Et({props:ye}),We.push(()=>Ge(N,"value",we));function ve(ne){r[7](ne)}let oe={label:"New Proposal",hint:"You can provide proposal hash",rules:r[5]};return r[2]!==void 0&&(oe.value=r[2]),A=new Et({props:oe}),We.push(()=>Ge(A,"value",ve)),Z=new ue({props:{label:"Cancel"}}),Z.$on("click",r[8]),fe=new ue({props:{label:"Inject"}}),fe.$on("click",r[4]),{c(){e=$("div"),t=$("b"),t.textContent=n,l=V(),s=$("div"),a=V(),o=$("div"),o.innerHTML=i,u=V(),f=$("div"),f.innerHTML=g,p=V(),y=$("div"),y.innerHTML=I,M=V(),E=$("div"),E.innerHTML=m,h=V(),_=$("div"),P=V(),R(N.$$.fragment),S=V(),R(A.$$.fragment),U=V(),H=$("div"),R(Z.$$.fragment),x=V(),ae=$("div"),R(fe.$$.fragment),this.h()},l(ne){e=b(ne,"DIV",{class:!0});var K=k(e);t=b(K,"B",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-1e5a96z"&&(t.textContent=n),l=L(K),s=b(K,"DIV",{}),k(s).forEach(c),a=L(K),o=b(K,"DIV",{class:!0,"data-svelte-h":!0}),de(o)!=="svelte-1vty4mc"&&(o.innerHTML=i),u=L(K),f=b(K,"DIV",{class:!0,"data-svelte-h":!0}),de(f)!=="svelte-acrdcg"&&(f.innerHTML=g),p=L(K),y=b(K,"DIV",{class:!0,"data-svelte-h":!0}),de(y)!=="svelte-1c5d71w"&&(y.innerHTML=I),M=L(K),E=b(K,"DIV",{class:!0,"data-svelte-h":!0}),de(E)!=="svelte-1e6wult"&&(E.innerHTML=m),h=L(K),_=b(K,"DIV",{}),k(_).forEach(c),P=L(K),q(N.$$.fragment,K),S=L(K),q(A.$$.fragment,K),U=L(K),H=b(K,"DIV",{class:!0});var ke=k(H);q(Z.$$.fragment,ke),x=L(ke),ae=b(ke,"DIV",{});var se=k(ae);q(fe.$$.fragment,se),se.forEach(c),ke.forEach(c),K.forEach(c),this.h()},h(){v(t,"class","title svelte-sbi72s"),v(o,"class","text"),v(f,"class","text"),v(y,"class","text"),v(E,"class","text"),Ee(ae,"disabled",!r[3]),v(H,"class","controls svelte-sbi72s"),v(e,"class","content svelte-sbi72s")},m(ne,K){w(ne,e,K),d(e,t),d(e,l),d(e,s),d(e,a),d(e,o),d(e,u),d(e,f),d(e,p),d(e,y),d(e,M),d(e,E),d(e,h),d(e,_),d(e,P),F(N,e,null),d(e,S),F(A,e,null),d(e,U),d(e,H),F(Z,H,null),d(H,x),d(H,ae),F(fe,ae,null),he=!0},p(ne,K){const ke={};!O&&K&2&&(O=!0,ke.value=ne[1],Je(()=>O=!1)),N.$set(ke);const se={};!z&&K&4&&(z=!0,se.value=ne[2],Je(()=>z=!1)),A.$set(se),(!he||K&8)&&Ee(ae,"disabled",!ne[3])},i(ne){he||(D(N.$$.fragment,ne),D(A.$$.fragment,ne),D(Z.$$.fragment,ne),D(fe.$$.fragment,ne),he=!0)},o(ne){C(N.$$.fragment,ne),C(A.$$.fragment,ne),C(Z.$$.fragment,ne),C(fe.$$.fragment,ne),he=!1},d(ne){ne&&c(e),W(N),W(A),W(Z),W(fe)}}}function Mr(r){let e,t,n;return t=new $t({props:{$$slots:{default:[Lr]},$$scope:{ctx:r}}}),{c(){e=$("div"),R(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var s=k(e);q(t.$$.fragment,s),s.forEach(c),this.h()},h(){v(e,"class","center svelte-sbi72s")},m(l,s){w(l,e,s),F(t,e,null),n=!0},p(l,s){const a={};s&1039&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),W(t)}}}function Sr(r){let e,t;return e=new Ht({props:{open:r[0],persistent:!0,$$slots:{default:[Mr]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.open=n[0]),l&1039&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function jr(r,e,t){let n,{open:l=!1}=e,s="",a="";const o=cn();async function i(){o("upvote",{proposals:[a],period:0}),t(0,l=!1)}const u=[y=>!!y||"proposal can not be empty",y=>y.startsWith("P")||"proposal has to start with P"];function f(y){s=y,t(1,s),t(0,l)}function g(y){a=y,t(2,a),t(0,l),t(1,s)}const p=()=>t(0,l=!1);return r.$$set=y=>{"open"in y&&t(0,l=y.open)},r.$$.update=()=>{if(r.$$.dirty&1&&l&&(t(1,s=""),t(2,a="")),r.$$.dirty&2&&s){const[y,I]=Vr(s);y&&t(2,a=I)}r.$$.dirty&4&&t(3,n=u.every(y=>y(a)===!0))},[l,s,a,n,i,u,f,g,p]}class Br extends Oe{constructor(e){super(),Re(this,e,jr,Sr,Ae,{open:0})}}function Tr(r){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0});var l=k(e);t=_e(l,"path",{d:!0}),k(t).forEach(c),l.forEach(c),this.h()},h(){v(t,"d","M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(n,l){w(n,e,l),d(e,t)},p:J,i:J,o:J,d(n){n&&c(e)}}}class zt extends Oe{constructor(e){super(),Re(this,e,null,Tr,Ae,{})}}function Nr(r){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0});var l=k(e);t=_e(l,"path",{d:!0}),k(t).forEach(c),l.forEach(c),this.h()},h(){v(t,"d","M 3 6 L 3 25 L 13 25 C 14.101563 25 15 25.898438 15 27 L 17 27 C 17 25.898438 17.898438 25 19 25 L 29 25 L 29 6 L 19 6 C 17.808594 6 16.734375 6.527344 16 7.359375 C 15.265625 6.527344 14.191406 6 13 6 Z M 5 8 L 13 8 C 14.101563 8 15 8.898438 15 10 L 17 10 C 17 8.898438 17.898438 8 19 8 L 27 8 L 27 23 L 19 23 C 17.808594 23 16.734375 23.527344 16 24.359375 C 15.265625 23.527344 14.191406 23 13 23 L 5 23 Z M 15 12 L 15 14 L 17 14 L 17 12 Z M 15 16 L 15 18 L 17 18 L 17 16 Z M 15 20 L 15 22 L 17 22 L 17 20 Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(n,l){w(n,e,l),d(e,t)},p:J,i:J,o:J,d(n){n&&c(e)}}}class hn extends Oe{constructor(e){super(),Re(this,e,null,Nr,Ae,{})}}function Ar(r){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0});var l=k(e);t=_e(l,"path",{d:!0}),k(t).forEach(c),l.forEach(c),this.h()},h(){v(t,"d","M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(n,l){w(n,e,l),d(e,t)},p:J,i:J,o:J,d(n){n&&c(e)}}}class pn extends Oe{constructor(e){super(),Re(this,e,null,Ar,Ae,{})}}function On(r,e,t){const n=r.slice();return n[16]=e[t],n}function Or(r){let e,t,n,l,s=bt(r[2].proposals),a=[];for(let i=0;i<s.length;i+=1)a[i]=Rn(On(r,s,i));const o=i=>C(a[i],1,1,()=>{a[i]=null});return n=new He({}),{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=V(),t=$("div"),R(n.$$.fragment),this.h()},l(i){for(let f=0;f<a.length;f+=1)a[f].l(i);e=L(i),t=b(i,"DIV",{class:!0});var u=k(t);q(n.$$.fragment,u),u.forEach(c),this.h()},h(){v(t,"class","separator svelte-1yewxu8")},m(i,u){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,u);w(i,e,u),w(i,t,u),F(n,t,null),l=!0},p(i,u){if(u&119){s=bt(i[2].proposals);let f;for(f=0;f<s.length;f+=1){const g=On(i,s,f);a[f]?(a[f].p(g,u),D(a[f],1)):(a[f]=Rn(g),a[f].c(),D(a[f],1),a[f].m(e.parentNode,e))}for(Le(),f=s.length;f<a.length;f+=1)o(f);Me()}},i(i){if(!l){for(let u=0;u<s.length;u+=1)D(a[u]);D(n.$$.fragment,i),l=!0}},o(i){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)C(a[u]);C(n.$$.fragment,i),l=!1},d(i){i&&(c(e),c(t)),fn(a,i),W(n)}}}function Rr(r){let e;return{c(){e=B("no proposals")},l(t){e=T(t,"no proposals")},m(t,n){w(t,e,n)},p:J,i:J,o:J,d(t){t&&c(e)}}}function qr(r){let e,t,n;return{c(){e=B("(needs "),t=B(kt),n=B("%)")},l(l){e=T(l,"(needs "),t=T(l,kt),n=T(l,"%)")},m(l,s){w(l,e,s),w(l,t,s),w(l,n,s)},d(l){l&&(c(e),c(t),c(n))}}}function Fr(r){let e,t,n;return{c(){e=B("("),t=B(kt),n=B("% reached)")},l(l){e=T(l,"("),t=T(l,kt),n=T(l,"% reached)")},m(l,s){w(l,e,s),w(l,t,s),w(l,n,s)},d(l){l&&(c(e),c(t),c(n))}}}function Wr(r){let e,t,n="EXPLORER",l,s,a,o;return a=new pn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=V(),s=$("div"),R(a.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-323t9m"&&(t.textContent=n),l=L(u),s=b(u,"DIV",{class:!0});var f=k(s);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-1yewxu8"),v(s,"class","icon svelte-1yewxu8"),v(e,"class","button-content svelte-1yewxu8")},m(i,u){w(i,e,u),d(e,t),d(e,l),d(e,s),F(a,s,null),o=!0},p:J,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),W(a)}}}function Hr(r){let e,t,n="AGORA",l,s,a,o;return a=new hn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=V(),s=$("div"),R(a.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=L(u),s=b(u,"DIV",{class:!0});var f=k(s);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-1yewxu8"),v(s,"class","icon svelte-1yewxu8"),v(e,"class","button-content svelte-1yewxu8")},m(i,u){w(i,e,u),d(e,t),d(e,l),d(e,s),F(a,s,null),o=!0},p:J,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),W(a)}}}function Ur(r){let e,t;function n(){return r[11](r[16])}return e=new ue({props:{$$slots:{default:[Yr]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){R(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,s){F(e,l,s),t=!0},p(l,s){r=l;const a={};s&524288&&(a.$$scope={dirty:s,ctx:r}),e.$set(a)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function zr(r){let e,t,n="UPVOTED",l,s,a,o;return a=new zt({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=V(),s=$("div"),R(a.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-ctwuaa"&&(t.textContent=n),l=L(u),s=b(u,"DIV",{class:!0});var f=k(s);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-1yewxu8"),v(s,"class","icon svelte-1yewxu8"),v(e,"class","button-content upvoted svelte-1yewxu8")},m(i,u){w(i,e,u),d(e,t),d(e,l),d(e,s),F(a,s,null),o=!0},p:J,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),W(a)}}}function Yr(r){let e,t,n="UPVOTE",l,s,a,o;return a=new zt({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=V(),s=$("div"),R(a.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-y6ircw"&&(t.textContent=n),l=L(u),s=b(u,"DIV",{class:!0});var f=k(s);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-1yewxu8"),v(s,"class","icon svelte-1yewxu8"),v(e,"class","button-content svelte-1yewxu8")},m(i,u){w(i,e,u),d(e,t),d(e,l),d(e,s),F(a,s,null),o=!0},p:J,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),W(a)}}}function Rn(r){let e,t,n,l=r[16].proposal+"",s,a,o,i=r[16].upvotes+"",u,f,g=r[16].percentage+"",p,y,I,M,E,m,h,_,P,N,O,S,A,z,U,H,Z,x,ae,fe,he;function we(){return r[8](r[16])}function ye(G,j){return G[16].quorumReached?Fr:qr}let ve=ye(r),oe=ve(r);function ne(){return r[9](r[16])}O=new ue({props:{$$slots:{default:[Wr]},$$scope:{ctx:r}}}),O.$on("click",ne);function K(){return r[10](r[16])}A=new ue({props:{$$slots:{default:[Hr]},$$scope:{ctx:r}}}),A.$on("click",K);const ke=[zr,Ur],se=[];function me(G,j){return j&5&&(H=null),H==null&&(H=!!(G[0]&&G[2].votes&&G[2].votes[G[16].proposal].includes(G[0]))),H?0:1}return Z=me(r,-1),x=se[Z]=ke[Z](r),{c(){e=$("div"),t=$("div"),n=$("button"),s=B(l),a=V(),o=$("div"),u=B(i),f=B(" upvotes ~ "),p=B(g),y=B(`%\r
						`),oe.c(),I=V(),M=$("div"),E=pe("svg"),m=pe("rect"),h=pe("rect"),P=pe("rect"),N=V(),R(O.$$.fragment),S=V(),R(A.$$.fragment),z=V(),U=$("div"),x.c(),this.h()},l(G){e=b(G,"DIV",{class:!0});var j=k(e);t=b(j,"DIV",{class:!0});var re=k(t);n=b(re,"BUTTON",{class:!0});var $e=k(n);s=T($e,l),$e.forEach(c),re.forEach(c),a=L(j),o=b(j,"DIV",{class:!0});var X=k(o);u=T(X,i),f=T(X," upvotes ~ "),p=T(X,g),y=T(X,`%\r
						`),oe.l(X),X.forEach(c),I=L(j),M=b(j,"DIV",{class:!0});var ee=k(M);E=_e(ee,"svg",{width:!0,height:!0});var ie=k(E);m=_e(ie,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),k(m).forEach(c),h=_e(ie,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),k(h).forEach(c),P=_e(ie,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),k(P).forEach(c),ie.forEach(c),ee.forEach(c),N=L(j),q(O.$$.fragment,j),S=L(j),q(A.$$.fragment,j),z=L(j),U=b(j,"DIV",{class:!0});var De=k(U);x.l(De),De.forEach(c),j.forEach(c),this.h()},h(){v(n,"class","unstyle-button"),v(t,"class","title svelte-1yewxu8"),v(o,"class","upvotes svelte-1yewxu8"),v(m,"width","100%"),v(m,"y","5"),v(m,"height","5"),v(m,"fill","#e6e6e6"),v(m,"rx","2"),v(m,"ry","2"),v(h,"width",_=r[16].percentageString),v(h,"y","5"),v(h,"height","5"),v(h,"fill","var(--progress-color)"),v(h,"rx","2"),v(h,"ry","2"),v(P,"width","3"),v(P,"height","15"),v(P,"x",`${kt}%`),v(P,"fill","var(--progress-color)"),v(P,"rx","2"),v(P,"ry","2"),v(E,"width","100%"),v(E,"height","15"),v(M,"class","upvote-bar svelte-1yewxu8"),v(U,"class","upvote-btn svelte-1yewxu8"),Ee(U,"disabled",!r[0]||!r[1]),v(e,"class","proposal svelte-1yewxu8"),Ee(e,"success",r[16].quorumReached)},m(G,j){w(G,e,j),d(e,t),d(t,n),d(n,s),d(e,a),d(e,o),d(o,u),d(o,f),d(o,p),d(o,y),oe.m(o,null),d(e,I),d(e,M),d(M,E),d(E,m),d(E,h),d(E,P),d(e,N),F(O,e,null),d(e,S),F(A,e,null),d(e,z),d(e,U),se[Z].m(U,null),ae=!0,fe||(he=dn(n,"click",we),fe=!0)},p(G,j){r=G,(!ae||j&4)&&l!==(l=r[16].proposal+"")&&le(s,l),(!ae||j&4)&&i!==(i=r[16].upvotes+"")&&le(u,i),(!ae||j&4)&&g!==(g=r[16].percentage+"")&&le(p,g),ve!==(ve=ye(r))&&(oe.d(1),oe=ve(r),oe&&(oe.c(),oe.m(o,null))),(!ae||j&4&&_!==(_=r[16].percentageString))&&v(h,"width",_);const re={};j&524288&&(re.$$scope={dirty:j,ctx:r}),O.$set(re);const $e={};j&524288&&($e.$$scope={dirty:j,ctx:r}),A.$set($e);let X=Z;Z=me(r,j),Z===X?se[Z].p(r,j):(Le(),C(se[X],1,1,()=>{se[X]=null}),Me(),x=se[Z],x?x.p(r,j):(x=se[Z]=ke[Z](r),x.c()),D(x,1),x.m(U,null)),(!ae||j&3)&&Ee(U,"disabled",!r[0]||!r[1]),(!ae||j&4)&&Ee(e,"success",r[16].quorumReached)},i(G){ae||(D(O.$$.fragment,G),D(A.$$.fragment,G),D(x),ae=!0)},o(G){C(O.$$.fragment,G),C(A.$$.fragment,G),C(x),ae=!1},d(G){G&&c(e),oe.d(),W(O),W(A),se[Z].d(),fe=!1,he()}}}function Xr(r){let e,t,n,l,s,a,o,i,u,f,g;const p=[Rr,Or],y=[];function I(m,h){return m[2].proposals.length===0?0:1}n=I(r),l=y[n]=p[n](r),o=new ue({props:{label:"New Proposal"}}),o.$on("click",r[12]);function M(m){r[13](m)}let E={};return r[3]!==void 0&&(E.open=r[3]),u=new Br({props:E}),We.push(()=>Ge(u,"open",M)),u.$on("upvote",r[14]),{c(){e=$("div"),t=$("div"),l.c(),s=V(),a=$("div"),R(o.$$.fragment),i=V(),R(u.$$.fragment),this.h()},l(m){e=b(m,"DIV",{class:!0});var h=k(e);t=b(h,"DIV",{class:!0});var _=k(t);l.l(_),_.forEach(c),s=L(h),a=b(h,"DIV",{class:!0});var P=k(a);q(o.$$.fragment,P),P.forEach(c),h.forEach(c),i=L(m),q(u.$$.fragment,m),this.h()},h(){v(t,"class","proposal-period svelte-1yewxu8"),v(a,"class","new-proposal svelte-1yewxu8"),Ee(a,"disabled",!r[0]||!r[1]),v(e,"class","proposal-period-wrap svelte-1yewxu8")},m(m,h){w(m,e,h),d(e,t),y[n].m(t,null),d(e,s),d(e,a),F(o,a,null),w(m,i,h),F(u,m,h),g=!0},p(m,[h]){let _=n;n=I(m),n===_?y[n].p(m,h):(Le(),C(y[_],1,1,()=>{y[_]=null}),Me(),l=y[n],l?l.p(m,h):(l=y[n]=p[n](m),l.c()),D(l,1),l.m(t,null)),(!g||h&3)&&Ee(a,"disabled",!m[0]||!m[1]);const P={};!f&&h&8&&(f=!0,P.open=m[3],Je(()=>f=!1)),u.$set(P)},i(m){g||(D(l),D(o.$$.fragment,m),D(u.$$.fragment,m),g=!0)},o(m){C(l),C(o.$$.fragment,m),C(u.$$.fragment,m),g=!1},d(m){m&&(c(e),c(i)),y[n].d(),W(o),W(u,m)}}}function Zr(r,e,t){let{pkh:n}=e,{canVote:l}=e,{periodIndex:s}=e,{period:a}=e,o=!1;const i=cn();function u(_){window.open(`${mn}/${_}`,"_blank")}function f(_){window.open(`${vn}/${_}/${s}`,"_blank")}async function g(_){i("upvote",{proposals:_,period:a.info.voting_period.index})}const p=_=>gn(_.proposal),y=_=>u(_.proposal),I=_=>f(_.proposal),M=_=>g([_.proposal]),E=()=>t(3,o=!0);function m(_){o=_,t(3,o)}const h=_=>g(_.detail.proposals);return r.$$set=_=>{"pkh"in _&&t(0,n=_.pkh),"canVote"in _&&t(1,l=_.canVote),"periodIndex"in _&&t(7,s=_.periodIndex),"period"in _&&t(2,a=_.period)},[n,l,a,o,u,f,g,s,p,y,I,M,E,m,h]}class Qr extends Oe{constructor(e){super(),Re(this,e,Zr,Xr,Ae,{pkh:0,canVote:1,periodIndex:7,period:2})}}function Kr(r){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0});var l=k(e);t=_e(l,"path",{d:!0}),k(t).forEach(c),l.forEach(c),this.h()},h(){v(t,"d","M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(n,l){w(n,e,l),d(e,t)},p:J,i:J,o:J,d(n){n&&c(e)}}}class Gn extends Oe{constructor(e){super(),Re(this,e,null,Kr,Ae,{})}}function Jr(r){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0});var l=k(e);t=_e(l,"path",{d:!0}),k(t).forEach(c),l.forEach(c),this.h()},h(){v(t,"d","M 16 6 C 14.9375 6 14.003906 6.5625 13.46875 7.40625 C 13.03125 7.15625 12.535156 7 12 7 C 10.355469 7 9 8.355469 9 10 L 9 13.65625 L 8.875 13.8125 C 8.800781 13.898438 8.730469 13.976563 8.65625 14.0625 C 8.144531 14.660156 7.65625 15.292969 7.21875 15.9375 L 6.90625 16.34375 C 6.480469 16.894531 6.21875 17.535156 6.09375 18.1875 C 6.078125 18.261719 6.042969 18.332031 6.03125 18.40625 C 5.855469 19.652344 6.226563 20.949219 7.09375 21.9375 L 9.46875 24.625 C 10.796875 26.136719 12.707031 27 14.71875 27 L 20 27 C 23.855469 27 27 23.855469 27 20 L 27 11 C 27 9.355469 25.644531 8 24 8 C 23.464844 8 22.96875 8.15625 22.53125 8.40625 C 21.996094 7.5625 21.0625 7 20 7 C 19.464844 7 18.96875 7.15625 18.53125 7.40625 C 17.996094 6.5625 17.0625 6 16 6 Z M 16 8 C 16.566406 8 17 8.433594 17 9 L 17 11.1875 C 16.683594 11.074219 16.351563 11 16 11 L 15 11 L 15 9 C 15 8.433594 15.433594 8 16 8 Z M 12 9 C 12.566406 9 13 9.433594 13 10 L 13 11 L 11.59375 11 L 11.3125 11.28125 C 11.3125 11.28125 11.085938 11.511719 11 11.59375 L 11 10 C 11 9.433594 11.433594 9 12 9 Z M 20 9 C 20.566406 9 21 9.433594 21 10 L 21 13 C 21 13.566406 20.566406 14 20 14 C 19.433594 14 19 13.566406 19 13 L 19 10 C 19 9.433594 19.433594 9 20 9 Z M 24 10 C 24.566406 10 25 10.433594 25 11 L 25 13 C 25 13.566406 24.566406 14 24 14 C 23.433594 14 23 13.566406 23 13 L 23 11 C 23 10.433594 23.433594 10 24 10 Z M 12.4375 13 L 16 13 C 16.5625 13 17 13.4375 17 14 C 17 14.5625 16.5625 15 16 15 L 12.875 15 L 12.59375 15.375 L 10.25 18.34375 L 11.8125 19.59375 L 13.65625 17.28125 C 14.015625 17.449219 14.425781 17.699219 14.875 18.0625 C 15.941406 18.929688 17 20.347656 17 23 L 19 23 C 19 20.132813 17.855469 18.15625 16.59375 16.9375 C 17.402344 16.769531 18.101563 16.273438 18.53125 15.59375 C 18.96875 15.84375 19.464844 16 20 16 C 20.765625 16 21.46875 15.699219 22 15.21875 C 22.53125 15.699219 23.234375 16 24 16 C 24.351563 16 24.683594 15.925781 25 15.8125 L 25 20 C 25 22.773438 22.773438 25 20 25 L 14.71875 25 C 13.28125 25 11.917969 24.394531 10.96875 23.3125 L 8.59375 20.59375 C 8.164063 20.105469 7.964844 19.507813 8 18.90625 C 8 18.898438 8.027344 18.832031 8.03125 18.8125 C 8.035156 18.78125 8.027344 18.75 8.03125 18.71875 C 8.078125 18.5 8.230469 18.078125 8.5625 17.53125 C 8.605469 17.460938 8.671875 17.382813 8.71875 17.3125 L 10.1875 15.375 C 11.292969 14.082031 12.214844 13.210938 12.4375 13 Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(n,l){w(n,e,l),d(e,t)},p:J,i:J,o:J,d(n){n&&c(e)}}}class xn extends Oe{constructor(e){super(),Re(this,e,null,Jr,Ae,{})}}function Gr(r){let e,t=r[2].requiredQuorumPercentage+"",n,l;return{c(){e=B("(needs "),n=B(t),l=B("%)")},l(s){e=T(s,"(needs "),n=T(s,t),l=T(s,"%)")},m(s,a){w(s,e,a),w(s,n,a),w(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredQuorumPercentage+"")&&le(n,t)},d(s){s&&(c(e),c(n),c(l))}}}function xr(r){let e,t=r[2].requiredQuorumPercentage+"",n,l;return{c(){e=B("("),n=B(t),l=B("% reached)")},l(s){e=T(s,"("),n=T(s,t),l=T(s,"% reached)")},m(s,a){w(s,e,a),w(s,n,a),w(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredQuorumPercentage+"")&&le(n,t)},d(s){s&&(c(e),c(n),c(l))}}}function el(r){let e,t=r[2].requiredMajorityPercentage+"",n,l;return{c(){e=B("(required "),n=B(t),l=B("%)")},l(s){e=T(s,"(required "),n=T(s,t),l=T(s,"%)")},m(s,a){w(s,e,a),w(s,n,a),w(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredMajorityPercentage+"")&&le(n,t)},d(s){s&&(c(e),c(n),c(l))}}}function tl(r){let e,t=r[2].requiredMajorityPercentage+"",n,l;return{c(){e=B("("),n=B(t),l=B("% reached)")},l(s){e=T(s,"("),n=T(s,t),l=T(s,"% reached)")},m(s,a){w(s,e,a),w(s,n,a),w(s,l,a)},p(s,a){a&4&&t!==(t=s[2].requiredMajorityPercentage+"")&&le(n,t)},d(s){s&&(c(e),c(n),c(l))}}}function nl(r){let e,t,n="EXPLORER",l,s,a,o;return a=new pn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=V(),s=$("div"),R(a.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-323t9m"&&(t.textContent=n),l=L(u),s=b(u,"DIV",{class:!0});var f=k(s);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-3bkjph"),v(s,"class","icon svelte-3bkjph"),v(e,"class","button-content svelte-3bkjph")},m(i,u){w(i,e,u),d(e,t),d(e,l),d(e,s),F(a,s,null),o=!0},p:J,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),W(a)}}}function rl(r){let e,t,n="AGORA",l,s,a,o;return a=new hn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=V(),s=$("div"),R(a.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=L(u),s=b(u,"DIV",{class:!0});var f=k(s);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-3bkjph"),v(s,"class","icon svelte-3bkjph"),v(e,"class","button-content svelte-3bkjph")},m(i,u){w(i,e,u),d(e,t),d(e,l),d(e,s),F(a,s,null),o=!0},p:J,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),W(a)}}}function ll(r){let e,t,n,l,s,a,o,i,u;return t=new ue({props:{$$slots:{default:[sl]},$$scope:{ctx:r}}}),t.$on("click",r[11]),s=new ue({props:{$$slots:{default:[il]},$$scope:{ctx:r}}}),s.$on("click",r[12]),i=new ue({props:{$$slots:{default:[ol]},$$scope:{ctx:r}}}),i.$on("click",r[13]),{c(){e=$("div"),R(t.$$.fragment),n=V(),l=$("div"),R(s.$$.fragment),a=V(),o=$("div"),R(i.$$.fragment),this.h()},l(f){e=b(f,"DIV",{class:!0});var g=k(e);q(t.$$.fragment,g),g.forEach(c),n=L(f),l=b(f,"DIV",{class:!0});var p=k(l);q(s.$$.fragment,p),p.forEach(c),a=L(f),o=b(f,"DIV",{class:!0});var y=k(o);q(i.$$.fragment,y),y.forEach(c),this.h()},h(){v(e,"class","nay svelte-3bkjph"),v(l,"class","pass svelte-3bkjph"),v(o,"class","yay svelte-3bkjph")},m(f,g){w(f,e,g),F(t,e,null),w(f,n,g),w(f,l,g),F(s,l,null),w(f,a,g),w(f,o,g),F(i,o,null),u=!0},p(f,g){const p={};g&32768&&(p.$$scope={dirty:g,ctx:f}),t.$set(p);const y={};g&32768&&(y.$$scope={dirty:g,ctx:f}),s.$set(y);const I={};g&32768&&(I.$$scope={dirty:g,ctx:f}),i.$set(I)},i(f){u||(D(t.$$.fragment,f),D(s.$$.fragment,f),D(i.$$.fragment,f),u=!0)},o(f){C(t.$$.fragment,f),C(s.$$.fragment,f),C(i.$$.fragment,f),u=!1},d(f){f&&(c(e),c(n),c(l),c(a),c(o)),W(t),W(s),W(i)}}}function al(r){let e,t,n,l=r[3].ballot+"",s;return{c(){e=$("div"),t=B("You voted: "),n=$("div"),s=B(l),this.h()},l(a){e=b(a,"DIV",{class:!0});var o=k(e);t=T(o,"You voted: "),n=b(o,"DIV",{class:!0});var i=k(n);s=T(i,l),i.forEach(c),o.forEach(c),this.h()},h(){v(n,"class","ballot svelte-3bkjph"),v(e,"class","existing-vote svelte-3bkjph")},m(a,o){w(a,e,o),d(e,t),d(e,n),d(n,s)},p(a,o){o&8&&l!==(l=a[3].ballot+"")&&le(s,l)},i:J,o:J,d(a){a&&c(e)}}}function sl(r){let e,t,n="NAY",l,s,a,o;return a=new Gn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=V(),s=$("div"),R(a.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=L(u),s=b(u,"DIV",{class:!0});var f=k(s);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-3bkjph"),v(s,"class","icon svelte-3bkjph"),v(e,"class","button-content svelte-3bkjph")},m(i,u){w(i,e,u),d(e,t),d(e,l),d(e,s),F(a,s,null),o=!0},p:J,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),W(a)}}}function il(r){let e,t,n="NAY",l,s,a,o;return a=new xn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=V(),s=$("div"),R(a.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=L(u),s=b(u,"DIV",{class:!0});var f=k(s);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-3bkjph"),v(s,"class","icon svelte-3bkjph"),v(e,"class","button-content svelte-3bkjph")},m(i,u){w(i,e,u),d(e,t),d(e,l),d(e,s),F(a,s,null),o=!0},p:J,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),W(a)}}}function ol(r){let e,t,n="NAY",l,s,a,o;return a=new zt({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=V(),s=$("div"),R(a.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=L(u),s=b(u,"DIV",{class:!0});var f=k(s);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-3bkjph"),v(s,"class","icon svelte-3bkjph"),v(e,"class","button-content svelte-3bkjph")},m(i,u){w(i,e,u),d(e,t),d(e,l),d(e,s),F(a,s,null),o=!0},p:J,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),W(a)}}}function ul(r){let e,t,n,l,s,a=r[2].proposal+"",o,i,u,f,g=r[2].summary.nay+"",p,y,I=r[2].summary.nayPercentage+"",M,E,m,h,_,P,N=r[2].summary.pass+"",O,S,A=r[2].summary.passPercentage+"",z,U,H,Z,x,ae,fe=r[2].summary.yayPercentage+"",he,we,ye=r[2].summary.nayPercentage+"",ve,oe,ne,K,ke,se,me,G,j,re,$e="Quorum",X,ee,ie=r[2].quorumPercentage+"",De,Pe,ge,Y,te,je,lt,Te,it,Be,Ue,Ve,Lt,Yt,Qe,ot,_n="Supermajority",Xt,xe,wt=r[2].majorityPercentage+"",Mt,Zt,Qt,et,Ke,ze,St,Ye,jt,Kt,tt,Jt,nt,Gt,ct,ut,xt,rt,qe,Fe,Ce,en,$n;h=new Gn({}),Z=new xn({}),K=new zt({}),me=new He({});function bn(Q,ce){return Q[2].quorumReached?xr:Gr}let Bt=bn(r),Xe=Bt(r);function kn(Q,ce){return Q[2].majorityReached?tl:el}let Tt=kn(r),Ze=Tt(r);tt=new ue({props:{$$slots:{default:[nl]},$$scope:{ctx:r}}}),tt.$on("click",r[9]),nt=new ue({props:{$$slots:{default:[rl]},$$scope:{ctx:r}}}),nt.$on("click",r[10]),ut=new He({});const wn=[al,ll],at=[];function yn(Q,ce){return Q[3]?0:1}return qe=yn(r),Fe=at[qe]=wn[qe](r),{c(){e=$("div"),t=$("div"),n=$("div"),l=$("div"),s=$("button"),o=B(a),i=V(),u=$("div"),f=$("div"),p=B(g),y=B(" ("),M=B(I),E=B(` %)\r
					`),m=$("div"),R(h.$$.fragment),_=V(),P=$("div"),O=B(N),S=B(" ("),z=B(A),U=B(` %)\r
					`),H=$("div"),R(Z.$$.fragment),x=V(),ae=$("div"),he=B(fe),we=B(" ("),ve=B(ye),oe=B(` %)\r
					`),ne=$("div"),R(K.$$.fragment),ke=V(),se=$("div"),R(me.$$.fragment),G=V(),j=$("div"),re=$("div"),re.textContent=$e,X=V(),ee=$("div"),De=B(ie),Pe=B(` %\r
					`),Xe.c(),ge=V(),Y=pe("svg"),te=pe("rect"),je=pe("rect"),Te=pe("rect"),Be=pe("rect"),Ve=pe("rect"),Yt=V(),Qe=$("div"),ot=$("div"),ot.textContent=_n,Xt=V(),xe=$("div"),Mt=B(wt),Zt=V(),Ze.c(),Qt=V(),et=pe("svg"),Ke=pe("rect"),ze=pe("rect"),Ye=pe("rect"),Kt=V(),R(tt.$$.fragment),Jt=V(),R(nt.$$.fragment),Gt=V(),ct=$("div"),R(ut.$$.fragment),xt=V(),rt=$("div"),Fe.c(),this.h()},l(Q){e=b(Q,"DIV",{class:!0});var ce=k(e);t=b(ce,"DIV",{class:!0});var yt=k(t);n=b(yt,"DIV",{class:!0});var Ie=k(n);l=b(Ie,"DIV",{class:!0});var ft=k(l);s=b(ft,"BUTTON",{class:!0});var Dn=k(s);o=T(Dn,a),Dn.forEach(c),ft.forEach(c),i=L(Ie),u=b(Ie,"DIV",{class:!0});var dt=k(u);f=b(dt,"DIV",{class:!0});var mt=k(f);p=T(mt,g),y=T(mt," ("),M=T(mt,I),E=T(mt,` %)\r
					`),m=b(mt,"DIV",{class:!0});var Cn=k(m);q(h.$$.fragment,Cn),Cn.forEach(c),mt.forEach(c),_=L(dt),P=b(dt,"DIV",{class:!0});var vt=k(P);O=T(vt,N),S=T(vt," ("),z=T(vt,A),U=T(vt,` %)\r
					`),H=b(vt,"DIV",{class:!0});var In=k(H);q(Z.$$.fragment,In),In.forEach(c),vt.forEach(c),x=L(dt),ae=b(dt,"DIV",{class:!0});var gt=k(ae);he=T(gt,fe),we=T(gt," ("),ve=T(gt,ye),oe=T(gt,` %)\r
					`),ne=b(gt,"DIV",{class:!0});var En=k(ne);q(K.$$.fragment,En),En.forEach(c),gt.forEach(c),dt.forEach(c),ke=L(Ie),se=b(Ie,"DIV",{class:!0});var Pn=k(se);q(me.$$.fragment,Pn),Pn.forEach(c),G=L(Ie),j=b(Ie,"DIV",{class:!0});var ht=k(j);re=b(ht,"DIV",{class:!0,"data-svelte-h":!0}),de(re)!=="svelte-j8l648"&&(re.textContent=$e),X=L(ht),ee=b(ht,"DIV",{class:!0});var Nt=k(ee);De=T(Nt,ie),Pe=T(Nt,` %\r
					`),Xe.l(Nt),Nt.forEach(c),ge=L(ht),Y=_e(ht,"svg",{width:!0,height:!0});var pt=k(Y);te=_e(pt,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),k(te).forEach(c),je=_e(pt,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),k(je).forEach(c),Te=_e(pt,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),k(Te).forEach(c),Be=_e(pt,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),k(Be).forEach(c),Ve=_e(pt,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),k(Ve).forEach(c),pt.forEach(c),ht.forEach(c),Yt=L(Ie),Qe=b(Ie,"DIV",{class:!0});var _t=k(Qe);ot=b(_t,"DIV",{class:!0,"data-svelte-h":!0}),de(ot)!=="svelte-5p5wbx"&&(ot.textContent=_n),Xt=L(_t),xe=b(_t,"DIV",{class:!0});var At=k(xe);Mt=T(At,wt),Zt=L(At),Ze.l(At),At.forEach(c),Qt=L(_t),et=_e(_t,"svg",{width:!0,height:!0});var Ot=k(et);Ke=_e(Ot,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),k(Ke).forEach(c),ze=_e(Ot,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),k(ze).forEach(c),Ye=_e(Ot,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),k(Ye).forEach(c),Ot.forEach(c),_t.forEach(c),Kt=L(Ie),q(tt.$$.fragment,Ie),Jt=L(Ie),q(nt.$$.fragment,Ie),Gt=L(Ie),ct=b(Ie,"DIV",{class:!0});var Vn=k(ct);q(ut.$$.fragment,Vn),Vn.forEach(c),xt=L(Ie),rt=b(Ie,"DIV",{class:!0});var Ln=k(rt);Fe.l(Ln),Ln.forEach(c),Ie.forEach(c),yt.forEach(c),ce.forEach(c),this.h()},h(){v(s,"class","unstyle-button"),v(l,"class","title svelte-3bkjph"),v(m,"class","icon svelte-3bkjph"),v(f,"class","yay value svelte-3bkjph"),v(H,"class","icon svelte-3bkjph"),v(P,"class","pass value svelte-3bkjph"),v(ne,"class","icon svelte-3bkjph"),v(ae,"class","nay value svelte-3bkjph"),v(u,"class","vote-summary svelte-3bkjph"),v(se,"class","separator svelte-3bkjph"),v(re,"class","bar-title svelte-3bkjph"),v(ee,"class","bar-description svelte-3bkjph"),v(te,"width","100%"),v(te,"height","5"),v(te,"y","5"),v(te,"fill","#e6e6e6"),v(te,"rx","2"),v(te,"ry","2"),v(je,"width",lt=`${r[2].summary.nayPercentage+r[2].summary.passPercentage+r[2].summary.yayPercentage}%`),v(je,"y","5"),v(je,"height","5"),v(je,"fill","var(--yay-color)"),v(je,"rx","2"),v(je,"ry","2"),v(Te,"width",it=`${r[2].summary.nayPercentage+r[2].summary.passPercentage}%`),v(Te,"height","5"),v(Te,"y","5"),v(Te,"fill","var(--pass-color)"),v(Te,"rx","2"),v(Te,"ry","2"),v(Be,"width",Ue=`${r[2].summary.nayPercentage}%`),v(Be,"height","5"),v(Be,"y","5"),v(Be,"fill","var(--nay-color)"),v(Be,"rx","2"),v(Be,"ry","2"),v(Ve,"width","3"),v(Ve,"height","15"),v(Ve,"x",Lt=`${r[2].requiredQuorumPercentage}%`),v(Ve,"fill","var(--quorum-color)"),v(Ve,"rx","2"),v(Ve,"ry","2"),v(Y,"width","100%"),v(Y,"height","15"),v(j,"class","bar svelte-3bkjph"),v(ot,"class","bar-title svelte-3bkjph"),v(xe,"class","bar-description svelte-3bkjph"),v(Ke,"width","100%"),v(Ke,"height","5"),v(Ke,"y","5"),v(Ke,"fill","#e6e6e6"),v(Ke,"rx","2"),v(Ke,"ry","2"),v(ze,"width",St=`${r[2].majorityPercentage}%`),v(ze,"y","5"),v(ze,"height","5"),v(ze,"fill","var(--majority-color)"),v(ze,"rx","2"),v(ze,"ry","2"),v(Ye,"width","3"),v(Ye,"height","15"),v(Ye,"x",jt=`${r[2].requiredMajorityPercentage}%`),v(Ye,"fill","var(--majority-color)"),v(Ye,"rx","2"),v(Ye,"ry","2"),v(et,"width","100%"),v(et,"height","15"),v(Qe,"class","bar svelte-3bkjph"),v(ct,"class","separator svelte-3bkjph"),v(rt,"class","vote-section svelte-3bkjph"),Ee(rt,"disabled",!r[0]||!r[1]),v(n,"class","proposal svelte-3bkjph"),v(t,"class","period svelte-3bkjph"),v(e,"class","period-wrap svelte-3bkjph"),Ee(e,"quorum-reached",r[2].quorumReached),Ee(e,"majority-reached",r[2].majorityReached)},m(Q,ce){w(Q,e,ce),d(e,t),d(t,n),d(n,l),d(l,s),d(s,o),d(n,i),d(n,u),d(u,f),d(f,p),d(f,y),d(f,M),d(f,E),d(f,m),F(h,m,null),d(u,_),d(u,P),d(P,O),d(P,S),d(P,z),d(P,U),d(P,H),F(Z,H,null),d(u,x),d(u,ae),d(ae,he),d(ae,we),d(ae,ve),d(ae,oe),d(ae,ne),F(K,ne,null),d(n,ke),d(n,se),F(me,se,null),d(n,G),d(n,j),d(j,re),d(j,X),d(j,ee),d(ee,De),d(ee,Pe),Xe.m(ee,null),d(j,ge),d(j,Y),d(Y,te),d(Y,je),d(Y,Te),d(Y,Be),d(Y,Ve),d(n,Yt),d(n,Qe),d(Qe,ot),d(Qe,Xt),d(Qe,xe),d(xe,Mt),d(xe,Zt),Ze.m(xe,null),d(Qe,Qt),d(Qe,et),d(et,Ke),d(et,ze),d(et,Ye),d(n,Kt),F(tt,n,null),d(n,Jt),F(nt,n,null),d(n,Gt),d(n,ct),F(ut,ct,null),d(n,xt),d(n,rt),at[qe].m(rt,null),Ce=!0,en||($n=dn(s,"click",r[8]),en=!0)},p(Q,[ce]){(!Ce||ce&4)&&a!==(a=Q[2].proposal+"")&&le(o,a),(!Ce||ce&4)&&g!==(g=Q[2].summary.nay+"")&&le(p,g),(!Ce||ce&4)&&I!==(I=Q[2].summary.nayPercentage+"")&&le(M,I),(!Ce||ce&4)&&N!==(N=Q[2].summary.pass+"")&&le(O,N),(!Ce||ce&4)&&A!==(A=Q[2].summary.passPercentage+"")&&le(z,A),(!Ce||ce&4)&&fe!==(fe=Q[2].summary.yayPercentage+"")&&le(he,fe),(!Ce||ce&4)&&ye!==(ye=Q[2].summary.nayPercentage+"")&&le(ve,ye),(!Ce||ce&4)&&ie!==(ie=Q[2].quorumPercentage+"")&&le(De,ie),Bt===(Bt=bn(Q))&&Xe?Xe.p(Q,ce):(Xe.d(1),Xe=Bt(Q),Xe&&(Xe.c(),Xe.m(ee,null))),(!Ce||ce&4&&lt!==(lt=`${Q[2].summary.nayPercentage+Q[2].summary.passPercentage+Q[2].summary.yayPercentage}%`))&&v(je,"width",lt),(!Ce||ce&4&&it!==(it=`${Q[2].summary.nayPercentage+Q[2].summary.passPercentage}%`))&&v(Te,"width",it),(!Ce||ce&4&&Ue!==(Ue=`${Q[2].summary.nayPercentage}%`))&&v(Be,"width",Ue),(!Ce||ce&4&&Lt!==(Lt=`${Q[2].requiredQuorumPercentage}%`))&&v(Ve,"x",Lt),(!Ce||ce&4)&&wt!==(wt=Q[2].majorityPercentage+"")&&le(Mt,wt),Tt===(Tt=kn(Q))&&Ze?Ze.p(Q,ce):(Ze.d(1),Ze=Tt(Q),Ze&&(Ze.c(),Ze.m(xe,null))),(!Ce||ce&4&&St!==(St=`${Q[2].majorityPercentage}%`))&&v(ze,"width",St),(!Ce||ce&4&&jt!==(jt=`${Q[2].requiredMajorityPercentage}%`))&&v(Ye,"x",jt);const yt={};ce&32768&&(yt.$$scope={dirty:ce,ctx:Q}),tt.$set(yt);const Ie={};ce&32768&&(Ie.$$scope={dirty:ce,ctx:Q}),nt.$set(Ie);let ft=qe;qe=yn(Q),qe===ft?at[qe].p(Q,ce):(Le(),C(at[ft],1,1,()=>{at[ft]=null}),Me(),Fe=at[qe],Fe?Fe.p(Q,ce):(Fe=at[qe]=wn[qe](Q),Fe.c()),D(Fe,1),Fe.m(rt,null)),(!Ce||ce&3)&&Ee(rt,"disabled",!Q[0]||!Q[1]),(!Ce||ce&4)&&Ee(e,"quorum-reached",Q[2].quorumReached),(!Ce||ce&4)&&Ee(e,"majority-reached",Q[2].majorityReached)},i(Q){Ce||(D(h.$$.fragment,Q),D(Z.$$.fragment,Q),D(K.$$.fragment,Q),D(me.$$.fragment,Q),D(tt.$$.fragment,Q),D(nt.$$.fragment,Q),D(ut.$$.fragment,Q),D(Fe),Ce=!0)},o(Q){C(h.$$.fragment,Q),C(Z.$$.fragment,Q),C(K.$$.fragment,Q),C(me.$$.fragment,Q),C(tt.$$.fragment,Q),C(nt.$$.fragment,Q),C(ut.$$.fragment,Q),C(Fe),Ce=!1},d(Q){Q&&c(e),W(h),W(Z),W(K),W(me),Xe.d(),Ze.d(),W(tt),W(nt),W(ut),at[qe].d(),en=!1,$n()}}}function cl(r,e,t){let n,{pkh:l}=e,{canVote:s=!1}=e,{periodIndex:a}=e,{period:o}=e;const i=cn();function u(){window.open(`${mn}/${o.proposal}`,"_blank")}function f(){window.open(`${vn}/${o.proposal}/${a}`,"_blank")}async function g(h){i("vote",{ballot:h,proposal:o.proposal,period:o.info.voting_period.index})}const p=()=>gn(o.proposal),y=()=>u(),I=()=>f(),M=()=>g("nay"),E=()=>g("pass"),m=()=>g("yay");return r.$$set=h=>{"pkh"in h&&t(0,l=h.pkh),"canVote"in h&&t(1,s=h.canVote),"periodIndex"in h&&t(7,a=h.periodIndex),"period"in h&&t(2,o=h.period)},r.$$.update=()=>{r.$$.dirty&5&&t(3,n=o.ballots.find(h=>h.pkh===l))},[l,s,o,n,u,f,g,a,p,y,I,M,E,m]}class fl extends Oe{constructor(e){super(),Re(this,e,cl,ul,Ae,{pkh:0,canVote:1,periodIndex:7,period:2})}}function dl(r){let e,t,n=(r[1]??"~ TBD ~")+"",l,s,a,o,i,u,f,g,p,y;a=new He({});const I=[hl,gl,vl],M=[];function E(m,h){return m[4]==="applied"?0:m[4]==="failed"?1:2}return i=E(r),u=M[i]=I[i](r),p=new ue({props:{$$slots:{default:[pl]},$$scope:{ctx:r}}}),p.$on("click",r[8]),{c(){e=$("h5"),t=B("Transaction "),l=B(n),s=V(),R(a.$$.fragment),o=V(),u.c(),f=V(),g=$("div"),R(p.$$.fragment),this.h()},l(m){e=b(m,"H5",{class:!0});var h=k(e);t=T(h,"Transaction "),l=T(h,n),h.forEach(c),s=L(m),q(a.$$.fragment,m),o=L(m),u.l(m),f=L(m),g=b(m,"DIV",{class:!0});var _=k(g);q(p.$$.fragment,_),_.forEach(c),this.h()},h(){v(e,"class","title svelte-1kcf8tg"),v(g,"class","explore"),Ee(g,"disabled",r[4]==="building")},m(m,h){w(m,e,h),d(e,t),d(e,l),w(m,s,h),F(a,m,h),w(m,o,h),M[i].m(m,h),w(m,f,h),w(m,g,h),F(p,g,null),y=!0},p(m,h){(!y||h&2)&&n!==(n=(m[1]??"~ TBD ~")+"")&&le(l,n);let _=i;i=E(m),i===_?M[i].p(m,h):(Le(),C(M[_],1,1,()=>{M[_]=null}),Me(),u=M[i],u?u.p(m,h):(u=M[i]=I[i](m),u.c()),D(u,1),u.m(f.parentNode,f));const P={};h&2048&&(P.$$scope={dirty:h,ctx:m}),p.$set(P),(!y||h&16)&&Ee(g,"disabled",m[4]==="building")},i(m){y||(D(a.$$.fragment,m),D(u),D(p.$$.fragment,m),y=!0)},o(m){C(a.$$.fragment,m),C(u),C(p.$$.fragment,m),y=!1},d(m){m&&(c(e),c(s),c(o),c(f),c(g)),W(a,m),M[i].d(m),W(p)}}}function ml(r){let e,t;return{c(){e=$("div"),t=B(r[2]),this.h()},l(n){e=b(n,"DIV",{class:!0});var l=k(e);t=T(l,r[2]),l.forEach(c),this.h()},h(){v(e,"class","error-message svelte-1kcf8tg")},m(n,l){w(n,e,l),d(e,t)},p(n,l){l&4&&le(t,n[2])},i:J,o:J,d(n){n&&c(e)}}}function vl(r){let e,t,n,l,s;t=new Ut({props:{message:r[5],progress:"indeterminate"}});let a=r[4]==="building"&&qn();return{c(){e=$("div"),R(t.$$.fragment),n=V(),a&&a.c(),l=Ne(),this.h()},l(o){e=b(o,"DIV",{class:!0});var i=k(e);q(t.$$.fragment,i),i.forEach(c),n=L(o),a&&a.l(o),l=Ne(),this.h()},h(){v(e,"class","progress svelte-1kcf8tg")},m(o,i){w(o,e,i),F(t,e,null),w(o,n,i),a&&a.m(o,i),w(o,l,i),s=!0},p(o,i){const u={};i&32&&(u.message=o[5]),t.$set(u),o[4]==="building"?a||(a=qn(),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},i(o){s||(D(t.$$.fragment,o),s=!0)},o(o){C(t.$$.fragment,o),s=!1},d(o){o&&(c(e),c(n),c(l)),W(t),a&&a.d(o)}}}function gl(r){let e,t="FAILED";return{c(){e=$("div"),e.textContent=t,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-5fqw5f"&&(e.textContent=t),this.h()},h(){v(e,"class","status failed svelte-1kcf8tg")},m(n,l){w(n,e,l)},p:J,i:J,o:J,d(n){n&&c(e)}}}function hl(r){let e,t="CONFIRMED";return{c(){e=$("div"),e.textContent=t,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-vqtzt4"&&(e.textContent=t),this.h()},h(){v(e,"class","status svelte-1kcf8tg")},m(n,l){w(n,e,l)},p:J,i:J,o:J,d(n){n&&c(e)}}}function qn(r){let e,t="NOTE: You may need to confirm the transaction with your signer.";return{c(){e=$("div"),e.textContent=t,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-2towb7"&&(e.textContent=t),this.h()},h(){v(e,"class","note svelte-1kcf8tg")},m(n,l){w(n,e,l)},d(n){n&&c(e)}}}function pl(r){let e;return{c(){e=B("Open Explorer")},l(t){e=T(t,"Open Explorer")},m(t,n){w(t,e,n)},d(t){t&&c(e)}}}function Fn(r){let e,t;return e=new ue({props:{label:"close"}}),e.$on("click",r[9]),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:J,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function _l(r){let e,t,n,l,s;const a=[ml,dl],o=[];function i(f,g){return f[2]?0:1}t=i(r),n=o[t]=a[t](r);let u=(r[3]||r[4]==="applied"||r[2])&&Fn(r);return{c(){e=$("div"),n.c(),l=V(),u&&u.c(),this.h()},l(f){e=b(f,"DIV",{class:!0});var g=k(e);n.l(g),l=L(g),u&&u.l(g),g.forEach(c),this.h()},h(){v(e,"class","transaction-confirmation svelte-1kcf8tg")},m(f,g){w(f,e,g),o[t].m(e,null),d(e,l),u&&u.m(e,null),s=!0},p(f,g){let p=t;t=i(f),t===p?o[t].p(f,g):(Le(),C(o[p],1,1,()=>{o[p]=null}),Me(),n=o[t],n?n.p(f,g):(n=o[t]=a[t](f),n.c()),D(n,1),n.m(e,l)),f[3]||f[4]==="applied"||f[2]?u?(u.p(f,g),g&28&&D(u,1)):(u=Fn(f),u.c(),D(u,1),u.m(e,null)):u&&(Le(),C(u,1,1,()=>{u=null}),Me())},i(f){s||(D(n),D(u),s=!0)},o(f){C(n),C(u),s=!1},d(f){f&&c(e),o[t].d(),u&&u.d()}}}function $l(r){let e,t,n;return t=new $t({props:{$$slots:{default:[_l]},$$scope:{ctx:r}}}),{c(){e=$("div"),R(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var s=k(e);q(t.$$.fragment,s),s.forEach(c),this.h()},h(){v(e,"class","center svelte-1kcf8tg")},m(l,s){w(l,e,s),F(t,e,null),n=!0},p(l,s){const a={};s&2175&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),W(t)}}}function bl(r){let e,t,n;function l(a){r[10](a)}let s={persistent:r[4]==="building"||r[4]==="confirming",$$slots:{default:[$l]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.open=r[0]),e=new Ht({props:s}),We.push(()=>Ge(e,"open",l)),{c(){R(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,o){F(e,a,o),n=!0},p(a,[o]){const i={};o&16&&(i.persistent=a[4]==="building"||a[4]==="confirming"),o&2175&&(i.$$scope={dirty:o,ctx:a}),!t&&o&1&&(t=!0,i.open=a[0],Je(()=>t=!1)),e.$set(i)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){C(e.$$.fragment,a),n=!1},d(a){W(e,a)}}}function kl(r){switch(r){case"building":return"Building transaction...";case"confirming":return"Waiting for confirmation...";case"applied":return"CONFIRMED";case"failed":return"FAILED"}}function wl(r,e,t){let n,l,{open:s}=e,{opHash:a}=e,{error:o}=e,{allowClose:i=!0}=e,{stage:u="building"}=e,{explorerTemplate:f}=e;const g=()=>window.open(n,"_blank"),p=()=>t(0,s=!1);function y(I){s=I,t(0,s)}return r.$$set=I=>{"open"in I&&t(0,s=I.open),"opHash"in I&&t(1,a=I.opHash),"error"in I&&t(2,o=I.error),"allowClose"in I&&t(3,i=I.allowClose),"stage"in I&&t(4,u=I.stage),"explorerTemplate"in I&&t(7,f=I.explorerTemplate)},r.$$.update=()=>{r.$$.dirty&130&&t(6,n=f?f.replace("%s",a??""):void 0),r.$$.dirty&16&&t(5,l=kl(u))},[s,a,o,i,u,l,n,f,g,p,y]}class yl extends Oe{constructor(e){super(),Re(this,e,wl,bl,Ae,{open:0,opHash:1,error:2,allowClose:3,stage:4,explorerTemplate:7})}}function Dl(r){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0});var l=k(e);t=_e(l,"path",{d:!0}),k(t).forEach(c),l.forEach(c),this.h()},h(){v(t,"d","M 16 3 C 8.832031 3 3 8.832031 3 16 C 3 23.167969 8.832031 29 16 29 C 23.167969 29 29 23.167969 29 16 L 27 16 C 27 22.085938 22.085938 27 16 27 C 9.914063 27 5 22.085938 5 16 C 5 9.914063 9.914063 5 16 5 C 19.875 5 23.261719 6.984375 25.21875 10 L 20 10 L 20 12 L 28 12 L 28 4 L 26 4 L 26 7.71875 C 23.617188 4.84375 20.019531 3 16 3 Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(n,l){w(n,e,l),d(e,t)},p:J,i:J,o:J,d(n){n&&c(e)}}}class er extends Oe{constructor(e){super(),Re(this,e,null,Dl,Ae,{})}}function Cl(r){let e,t,n="Set Delegate Parameters",l,s,a="Set delegate staking parameters - edge and limit.",o,i,u,f,g,p,y,I,M,E,m,h,_,P;function N(z){r[7](z)}let O={type:"number",rules:r[4],label:"Staking Fee in %",hint:"Edge of baking over staking"};r[0].value.edge!==void 0&&(O.value=r[0].value.edge),i=new Et({props:O}),We.push(()=>Ge(i,"value",N));function S(z){r[8](z)}let A={type:"number",rules:r[5],label:"Staking capacity - multiplier of your stake",hint:"Limit of staking over baking"};return r[0].value.limit!==void 0&&(A.value=r[0].value.limit),g=new Et({props:A}),We.push(()=>Ge(g,"value",S)),E=new ue({props:{label:"Cancel"}}),E.$on("click",r[9]),_=new ue({props:{label:"Set"}}),_.$on("click",r[10]),{c(){e=$("div"),t=$("h3"),t.textContent=n,l=V(),s=$("p"),s.textContent=a,o=V(),R(i.$$.fragment),f=V(),R(g.$$.fragment),y=V(),I=$("div"),M=$("div"),R(E.$$.fragment),m=V(),h=$("div"),R(_.$$.fragment),this.h()},l(z){e=b(z,"DIV",{class:!0});var U=k(e);t=b(U,"H3",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-1hc5680"&&(t.textContent=n),l=L(U),s=b(U,"P",{class:!0,"data-svelte-h":!0}),de(s)!=="svelte-2weqq6"&&(s.textContent=a),o=L(U),q(i.$$.fragment,U),f=L(U),q(g.$$.fragment,U),y=L(U),I=b(U,"DIV",{class:!0});var H=k(I);M=b(H,"DIV",{class:!0});var Z=k(M);q(E.$$.fragment,Z),Z.forEach(c),m=L(H),h=b(H,"DIV",{class:!0});var x=k(h);q(_.$$.fragment,x),x.forEach(c),H.forEach(c),U.forEach(c),this.h()},h(){v(t,"class","title svelte-1igllg9"),v(s,"class","message svelte-1igllg9"),v(M,"class","control-button svelte-1igllg9"),Wt(M,"grid-column","1"),v(h,"class","control-button svelte-1igllg9"),Ee(h,"disabled",r[3]),Wt(h,"grid-column","3"),v(I,"class","controls padding-top svelte-1igllg9"),v(e,"class","prompt-wrap svelte-1igllg9")},m(z,U){w(z,e,U),d(e,t),d(e,l),d(e,s),d(e,o),F(i,e,null),d(e,f),F(g,e,null),d(e,y),d(e,I),d(I,M),F(E,M,null),d(I,m),d(I,h),F(_,h,null),P=!0},p(z,U){const H={};!u&&U&1&&(u=!0,H.value=z[0].value.edge,Je(()=>u=!1)),i.$set(H);const Z={};!p&&U&1&&(p=!0,Z.value=z[0].value.limit,Je(()=>p=!1)),g.$set(Z),(!P||U&8)&&Ee(h,"disabled",z[3])},i(z){P||(D(i.$$.fragment,z),D(g.$$.fragment,z),D(E.$$.fragment,z),D(_.$$.fragment,z),P=!0)},o(z){C(i.$$.fragment,z),C(g.$$.fragment,z),C(E.$$.fragment,z),C(_.$$.fragment,z),P=!1},d(z){z&&c(e),W(i),W(g),W(E),W(_)}}}function Il(r){let e,t;return e=new $t({props:{$$slots:{default:[Cl]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p(n,l){const s={};l&16397&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function El(r){let e,t,n;function l(a){r[11](a)}let s={persistent:!0,$$slots:{default:[Il]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.open=r[1]),e=new Ht({props:s}),We.push(()=>Ge(e,"open",l)),{c(){R(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,o){F(e,a,o),n=!0},p(a,[o]){const i={};o&16397&&(i.$$scope={dirty:o,ctx:a}),!t&&o&2&&(t=!0,i.open=a[1],Je(()=>t=!1)),e.$set(i)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){C(e.$$.fragment,a),n=!1},d(a){W(e,a)}}}function Pl(r,e,t){let n;const l={value:{edge:100,limit:1}};let{state:s=l}=e,{isOpen:a=!1}=e,o={resolve:()=>i(),reject:()=>i()};function i(){t(1,a=!1)}const u=[m=>!!m||m.toString()==="0"||"Edge is required",m=>!isNaN(Number(m))||"Edge must be a number",m=>Number(m)>=0&&Number(m)<=100||"Edge must be between 0 and 100"],f=[m=>!!m||m.toString()==="0"||"Limit is required",m=>!isNaN(Number(m))||"Limit must be a number",m=>Number(m)>=0&&Number(m)<=5||"Limit must be between 0 and 5"];async function g(m){return t(1,a=!0),t(0,s={...l,...m}),new Promise((h,_)=>{t(2,o={resolve:P=>{i(),h(P)},reject:P=>{i(),_(P)}})})}function p(m){r.$$.not_equal(s.value.edge,m)&&(s.value.edge=m,t(0,s))}function y(m){r.$$.not_equal(s.value.limit,m)&&(s.value.limit=m,t(0,s))}const I=()=>o.reject(Jn),M=()=>o.resolve(s.value);function E(m){a=m,t(1,a)}return r.$$set=m=>{"state"in m&&t(0,s=m.state),"isOpen"in m&&t(1,a=m.isOpen)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=sn(s.value.limit,f)!==!0||sn(s.value.edge,u)!==!0)},[s,a,o,n,u,f,g,p,y,I,M,E]}class Vl extends Oe{constructor(e){super(),Re(this,e,Pl,El,Ae,{state:0,isOpen:1,prompt:6})}get prompt(){return this.$$.ctx[6]}}function Ll(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function Ml(r){return Ll(r,Date.now())}function Se(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function Ft(r,e){const t=Se(r),n=Se(e),l=t.getTime()-n.getTime();return l<0?-1:l>0?1:l}const Rt=43200,Wn=1440;function Sl(r,e){const t=Se(r),n=Se(e),l=t.getFullYear()-n.getFullYear(),s=t.getMonth()-n.getMonth();return l*12+s}function jl(r){const e=Se(r);return e.setHours(23,59,59,999),e}function Bl(r){const e=Se(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Tl(r){const e=Se(r);return+jl(e)==+Bl(e)}function Nl(r,e){const t=Se(r),n=Se(e),l=Ft(t,n),s=Math.abs(Sl(t,n));let a;if(s<1)a=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-l*s);let o=Ft(t,n)===-l;Tl(Se(r))&&s===1&&Ft(r,n)===1&&(o=!1),a=l*(s-Number(o))}return a===0?0:a}function Al(r){return e=>{const n=(r?Math[r]:Math.trunc)(e);return n===0?0:n}}function Ol(r,e){return+Se(r)-+Se(e)}function Rl(r,e,t){const n=Ol(r,e)/1e3;return Al(t?.roundingMethod)(n)}const ql={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fl=(r,e,t)=>{let n;const l=ql[r];return typeof l=="string"?n=l:e===1?n=l.one:n=l.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function an(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Wl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hl={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ul={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zl={date:an({formats:Wl,defaultWidth:"full"}),time:an({formats:Hl,defaultWidth:"full"}),dateTime:an({formats:Ul,defaultWidth:"full"})},Yl={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xl=(r,e,t,n)=>Yl[r];function Ct(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let l;if(n==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,o=t?.width?String(t.width):a;l=r.formattingValues[o]||r.formattingValues[a]}else{const a=r.defaultWidth,o=t?.width?String(t.width):r.defaultWidth;l=r.values[o]||r.values[a]}const s=r.argumentCallback?r.argumentCallback(e):e;return l[s]}}const Zl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ql={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jl={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ea=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},ta={ordinalNumber:ea,era:Ct({values:Zl,defaultWidth:"wide"}),quarter:Ct({values:Ql,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ct({values:Kl,defaultWidth:"wide"}),day:Ct({values:Jl,defaultWidth:"wide"}),dayPeriod:Ct({values:Gl,defaultWidth:"wide",formattingValues:xl,defaultFormattingWidth:"wide"})};function It(r){return(e,t={})=>{const n=t.width,l=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(l);if(!s)return null;const a=s[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],i=Array.isArray(o)?ra(o,g=>g.test(a)):na(o,g=>g.test(a));let u;u=r.valueCallback?r.valueCallback(i):i,u=t.valueCallback?t.valueCallback(u):u;const f=e.slice(a.length);return{value:u,rest:f}}}function na(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function ra(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function la(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const l=n[0],s=e.match(r.parsePattern);if(!s)return null;let a=r.valueCallback?r.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(l.length);return{value:a,rest:o}}}const aa=/^(\d+)(th|st|nd|rd)?/i,sa=/\d+/i,ia={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oa={any:[/^b/i,/^(a|c)/i]},ua={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ca={any:[/1/i,/2/i,/3/i,/4/i]},fa={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},da={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ma={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},va={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ga={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ha={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pa={ordinalNumber:la({matchPattern:aa,parsePattern:sa,valueCallback:r=>parseInt(r,10)}),era:It({matchPatterns:ia,defaultMatchWidth:"wide",parsePatterns:oa,defaultParseWidth:"any"}),quarter:It({matchPatterns:ua,defaultMatchWidth:"wide",parsePatterns:ca,defaultParseWidth:"any",valueCallback:r=>r+1}),month:It({matchPatterns:fa,defaultMatchWidth:"wide",parsePatterns:da,defaultParseWidth:"any"}),day:It({matchPatterns:ma,defaultMatchWidth:"wide",parsePatterns:va,defaultParseWidth:"any"}),dayPeriod:It({matchPatterns:ga,defaultMatchWidth:"any",parsePatterns:ha,defaultParseWidth:"any"})},_a={code:"en-US",formatDistance:Fl,formatLong:zl,formatRelative:Xl,localize:ta,match:pa,options:{weekStartsOn:0,firstWeekContainsDate:1}};let $a={};function ba(){return $a}function Hn(r){const e=Se(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function ka(r,e,t){const n=ba(),l=t?.locale??n.locale??_a,s=2520,a=Ft(r,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:a});let i,u;a>0?(i=Se(e),u=Se(r)):(i=Se(r),u=Se(e));const f=Rl(u,i),g=(Hn(u)-Hn(i))/1e3,p=Math.round((f-g)/60);let y;if(p<2)return t?.includeSeconds?f<5?l.formatDistance("lessThanXSeconds",5,o):f<10?l.formatDistance("lessThanXSeconds",10,o):f<20?l.formatDistance("lessThanXSeconds",20,o):f<40?l.formatDistance("halfAMinute",0,o):f<60?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",1,o):p===0?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",p,o);if(p<45)return l.formatDistance("xMinutes",p,o);if(p<90)return l.formatDistance("aboutXHours",1,o);if(p<Wn){const I=Math.round(p/60);return l.formatDistance("aboutXHours",I,o)}else{if(p<s)return l.formatDistance("xDays",1,o);if(p<Rt){const I=Math.round(p/Wn);return l.formatDistance("xDays",I,o)}else if(p<Rt*2)return y=Math.round(p/Rt),l.formatDistance("aboutXMonths",y,o)}if(y=Nl(u,i),y<12){const I=Math.round(p/Rt);return l.formatDistance("xMonths",I,o)}else{const I=y%12,M=Math.trunc(y/12);return I<3?l.formatDistance("aboutXYears",M,o):I<9?l.formatDistance("overXYears",M,o):l.formatDistance("almostXYears",M+1,o)}}function wa(r,e){return ka(r,Ml(r),e)}function ya(r,e){if(!r)return new Date(0);const n=((r.voting_period.start_position+r.position+r.remaining??-1)-(e??r?.position??1))*ar;return new Date(Date.now()+n)}function Da(r,e){return r?(r.voting_period.start_position+r.position+r.remaining??0)-(e??0):"N/A"}function Ca(r){return(BigInt(r)/10n**6n).toLocaleString()}function Ia(r){const{proposals:e,voters:t}=r,n=t.reduce((l,s)=>l+BigInt(s.voting_power),0n);return{...r,proposals:e.map(l=>{const s=Number(BigInt(l.upvotes)*100000n/n)/1e3;return{...l,upvotes:Ca(l.upvotes),percentage:Math.round(s*100)/100,percentageString:`${s}%`,quorumReached:BigInt(l.upvotes)>n/100n*kt}}).sort((l,s)=>BigInt(s.upvotes)>BigInt(l.upvotes)?1:-1)}}function Ea(r){const{voters:e}=r,t=e.reduce((s,a)=>s+BigInt(a.voting_power),0n),n=BigInt(r.summary.yay)+BigInt(r.summary.nay),l=n+BigInt(r.summary.pass);return{...r,summary:{...r.summary,yayPercentage:Math.round(Number(BigInt(r.summary.yay)*100000n/t)/10)/100,nayPercentage:Math.round(Number(BigInt(r.summary.nay)*100000n/t)/10)/100,passPercentage:Math.round(Number(BigInt(r.summary.pass)*100000n/t)/10)/100},quorumReached:l>t*BigInt(r.quorum)/10000n,quorumPercentage:Math.min(Number(BigInt(r.summary.yay+r.summary.nay+r.summary.pass)*100000n/t)/1e3,100),requiredQuorumPercentage:Number(r.quorum)/100,majorityReached:BigInt(r.summary.yay)>=n*Sn/100n,majorityPercentage:Math.round(Number(BigInt(r.summary.yay)*100000n/n)/10)/100,requiredMajorityPercentage:Number(Sn)}}function Pa(r){let e,t,n="EXPLORER",l,s,a,o;return a=new pn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=V(),s=$("div"),R(a.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-323t9m"&&(t.textContent=n),l=L(u),s=b(u,"DIV",{class:!0});var f=k(s);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-2vy38g"),v(s,"class","icon svelte-2vy38g"),v(e,"class","button-content svelte-2vy38g")},m(i,u){w(i,e,u),d(e,t),d(e,l),d(e,s),F(a,s,null),o=!0},p:J,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),W(a)}}}function Va(r){let e,t,n="AGORA",l,s,a,o;return a=new hn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=V(),s=$("div"),R(a.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=L(u),s=b(u,"DIV",{class:!0});var f=k(s);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-2vy38g"),v(s,"class","icon svelte-2vy38g"),v(e,"class","button-content svelte-2vy38g")},m(i,u){w(i,e,u),d(e,t),d(e,l),d(e,s),F(a,s,null),o=!0},p:J,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){C(a.$$.fragment,i),o=!1},d(i){i&&c(e),W(a)}}}function La(r){let e,t,n,l,s,a=r[0].proposal+"",o,i,u,f,g,p,y,I;return u=new ue({props:{$$slots:{default:[Pa]},$$scope:{ctx:r}}}),u.$on("click",r[5]),g=new ue({props:{$$slots:{default:[Va]},$$scope:{ctx:r}}}),g.$on("click",r[6]),{c(){e=$("div"),t=$("div"),n=$("div"),l=$("div"),s=$("button"),o=B(a),i=V(),R(u.$$.fragment),f=V(),R(g.$$.fragment),this.h()},l(M){e=b(M,"DIV",{class:!0});var E=k(e);t=b(E,"DIV",{class:!0});var m=k(t);n=b(m,"DIV",{class:!0});var h=k(n);l=b(h,"DIV",{class:!0});var _=k(l);s=b(_,"BUTTON",{class:!0});var P=k(s);o=T(P,a),P.forEach(c),_.forEach(c),i=L(h),q(u.$$.fragment,h),f=L(h),q(g.$$.fragment,h),h.forEach(c),m.forEach(c),E.forEach(c),this.h()},h(){v(s,"class","unstyle-button"),v(l,"class","title svelte-2vy38g"),v(n,"class","proposal svelte-2vy38g"),v(t,"class","period svelte-2vy38g"),v(e,"class","period-wrap svelte-2vy38g")},m(M,E){w(M,e,E),d(e,t),d(t,n),d(n,l),d(l,s),d(s,o),d(n,i),F(u,n,null),d(n,f),F(g,n,null),p=!0,y||(I=dn(s,"click",r[4]),y=!0)},p(M,[E]){(!p||E&1)&&a!==(a=M[0].proposal+"")&&le(o,a);const m={};E&128&&(m.$$scope={dirty:E,ctx:M}),u.$set(m);const h={};E&128&&(h.$$scope={dirty:E,ctx:M}),g.$set(h)},i(M){p||(D(u.$$.fragment,M),D(g.$$.fragment,M),p=!0)},o(M){C(u.$$.fragment,M),C(g.$$.fragment,M),p=!1},d(M){M&&c(e),W(u),W(g),y=!1,I()}}}function Ma(r,e,t){let{periodIndex:n}=e,{period:l}=e;function s(){window.open(`${mn}/${l.proposal}`,"_blank")}function a(){window.open(`${vn}/${l.proposal}/${n}`,"_blank")}const o=()=>gn(l.proposal),i=()=>s(),u=()=>a();return r.$$set=f=>{"periodIndex"in f&&t(3,n=f.periodIndex),"period"in f&&t(0,l=f.period)},[l,s,a,n,o,i,u]}class Sa extends Oe{constructor(e){super(),Re(this,e,Ma,La,Ae,{periodIndex:3,period:0})}}function Un(r,e,t){const n=r.slice();return n[40]=e[t],n}function zn(r,e,t){const n=r.slice();return n[40]=e[t],n}function ja(r){let e,t,n,l,s,a;return t=new $t({props:{$$slots:{default:[Ya]},$$scope:{ctx:r}}}),s=new $t({props:{$$slots:{default:[ns]},$$scope:{ctx:r}}}),{c(){e=$("div"),R(t.$$.fragment),n=V(),l=$("div"),R(s.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var i=k(e);q(t.$$.fragment,i),i.forEach(c),n=L(o),l=b(o,"DIV",{class:!0});var u=k(l);q(s.$$.fragment,u),u.forEach(c),this.h()},h(){v(e,"class","tools-wrap svelte-7t4len"),v(l,"class","governance svelte-7t4len")},m(o,i){w(o,e,i),F(t,e,null),w(o,n,i),w(o,l,i),F(s,l,null),a=!0},p(o,i){const u={};i[0]&3588|i[1]&16384&&(u.$$scope={dirty:i,ctx:o}),t.$set(u);const f={};i[0]&258086|i[1]&16384&&(f.$$scope={dirty:i,ctx:o}),s.$set(f)},i(o){a||(D(t.$$.fragment,o),D(s.$$.fragment,o),a=!0)},o(o){C(t.$$.fragment,o),C(s.$$.fragment,o),a=!1},d(o){o&&(c(e),c(n),c(l)),W(t),W(s)}}}function Ba(r){let e,t,n;return t=new Ut({props:{progress:"indeterminate",message:"Loading account..."}}),{c(){e=$("div"),R(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var s=k(e);q(t.$$.fragment,s),s.forEach(c),this.h()},h(){v(e,"class","loader svelte-7t4len")},m(l,s){w(l,e,s),F(t,e,null),n=!0},p:J,i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),W(t)}}}function Ta(r){let e,t,n,l,s="Account Management",a,o,i,u,f,g,p,y;t=new ue({props:{$$slots:{default:[Aa]},$$scope:{ctx:r}}}),t.$on("click",r[19]);const I=[qa,Ra,Oa],M=[];function E(m,h){return m[2]&&m[2].governance.delegate&&m[2].governance.delegate?.pkh===m[2]?.account.id?0:m[2].governance.delegate?1:2}return o=E(r),i=M[o]=I[o](r),f=new He({}),p=new ue({props:{$$slots:{default:[za]},$$scope:{ctx:r}}}),p.$on("click",r[25]),{c(){e=$("div"),R(t.$$.fragment),n=V(),l=$("h5"),l.textContent=s,a=V(),i.c(),u=V(),R(f.$$.fragment),g=V(),R(p.$$.fragment),this.h()},l(m){e=b(m,"DIV",{class:!0});var h=k(e);q(t.$$.fragment,h),h.forEach(c),n=L(m),l=b(m,"H5",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-1v3b9it"&&(l.textContent=s),a=L(m),i.l(m),u=L(m),q(f.$$.fragment,m),g=L(m),q(p.$$.fragment,m),this.h()},h(){v(e,"class","redo svelte-7t4len"),v(l,"class","tools-title svelte-7t4len")},m(m,h){w(m,e,h),F(t,e,null),w(m,n,h),w(m,l,h),w(m,a,h),M[o].m(m,h),w(m,u,h),F(f,m,h),w(m,g,h),F(p,m,h),y=!0},p(m,h){const _={};h[1]&16384&&(_.$$scope={dirty:h,ctx:m}),t.$set(_);let P=o;o=E(m),o===P?M[o].p(m,h):(Le(),C(M[P],1,1,()=>{M[P]=null}),Me(),i=M[o],i?i.p(m,h):(i=M[o]=I[o](m),i.c()),D(i,1),i.m(u.parentNode,u));const N={};h[1]&16384&&(N.$$scope={dirty:h,ctx:m}),p.$set(N)},i(m){y||(D(t.$$.fragment,m),D(i),D(f.$$.fragment,m),D(p.$$.fragment,m),y=!0)},o(m){C(t.$$.fragment,m),C(i),C(f.$$.fragment,m),C(p.$$.fragment,m),y=!1},d(m){m&&(c(e),c(n),c(l),c(a),c(u),c(g)),W(t),M[o].d(m),W(f,m),W(p,m)}}}function Na(r){let e,t;return e=new Ut({props:{progress:"indeterminate",message:"Loading staking state..."}}),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:J,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Aa(r){let e,t,n;return t=new er({}),{c(){e=$("div"),R(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var s=k(e);q(t.$$.fragment,s),s.forEach(c),this.h()},h(){v(e,"class","icon svelte-7t4len")},m(l,s){w(l,e,s),F(t,e,null),n=!0},p:J,i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),W(t)}}}function Oa(r){let e,t="You are not delegating and not a delegate. You have to delegate to stake.",n,l,s;return l=new ue({props:{label:"Delegate"}}),l.$on("click",r[20]),{c(){e=$("div"),e.textContent=t,n=V(),R(l.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-kq5dty"&&(e.textContent=t),n=L(a),q(l.$$.fragment,a),this.h()},h(){v(e,"class","note svelte-7t4len")},m(a,o){w(a,e,o),w(a,n,o),F(l,a,o),s=!0},p:J,i(a){s||(D(l.$$.fragment,a),s=!0)},o(a){C(l.$$.fragment,a),s=!1},d(a){a&&(c(e),c(n)),W(l,a)}}}function Ra(r){let e,t,n="<b>Balances</b>",l,s,a,o=st(r[2].account.balance)+"",i,u,f,g,p=st(r[2].account.stakedBalance)+"",y,I,M,E,m,h,_="<b>Delegate</b>",P,N,O=r[2].governance.delegate.pkh+"",S,A,z,U,H,Z,x,ae,fe,he,we=BigInt(r[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"",ye,ve,oe,ne,K,ke,se,me,G,j,re,$e,X,ee,ie,De,Pe;E=new He({});let ge=r[9]&&Yn(r);return K=new He({}),me=new ue({props:{label:"Stake"}}),me.$on("click",r[23]),j=new ue({props:{label:"Unstake"}}),j.$on("click",r[24]),$e=new ue({props:{label:"Finalize Unstake"}}),$e.$on("click",r[26]),ee=new ue({props:{label:"Change Delegate"}}),ee.$on("click",r[20]),De=new ue({props:{label:"Cancel Delegation"}}),De.$on("click",r[22]),{c(){e=$("div"),t=$("div"),t.innerHTML=n,l=V(),s=$("div"),a=B("Delegating: "),i=B(o),u=V(),f=$("div"),g=B("Staking: "),y=B(p),I=V(),M=$("div"),R(E.$$.fragment),m=V(),h=$("div"),h.innerHTML=_,P=V(),N=$("div"),S=B(O),A=V(),z=$("div"),U=B("Staking Fee: "),H=B(r[11]),Z=V(),x=$("div"),ae=B("Total Stake Capacity: "),fe=B(r[10]),he=B(" (multiplier: "),ye=B(we),ve=B("x)"),oe=V(),ge&&ge.c(),ne=V(),R(K.$$.fragment),ke=V(),se=$("div"),R(me.$$.fragment),G=V(),R(j.$$.fragment),re=V(),R($e.$$.fragment),X=V(),R(ee.$$.fragment),ie=V(),R(De.$$.fragment),this.h()},l(Y){e=b(Y,"DIV",{class:!0});var te=k(e);t=b(te,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-tn9pn6"&&(t.innerHTML=n),l=L(te),s=b(te,"DIV",{});var je=k(s);a=T(je,"Delegating: "),i=T(je,o),je.forEach(c),u=L(te),f=b(te,"DIV",{});var lt=k(f);g=T(lt,"Staking: "),y=T(lt,p),lt.forEach(c),I=L(te),M=b(te,"DIV",{class:!0});var Te=k(M);q(E.$$.fragment,Te),Te.forEach(c),m=L(te),h=b(te,"DIV",{class:!0,"data-svelte-h":!0}),de(h)!=="svelte-s38838"&&(h.innerHTML=_),P=L(te),N=b(te,"DIV",{class:!0});var it=k(N);S=T(it,O),it.forEach(c),A=L(te),z=b(te,"DIV",{});var Be=k(z);U=T(Be,"Staking Fee: "),H=T(Be,r[11]),Be.forEach(c),Z=L(te),x=b(te,"DIV",{});var Ue=k(x);ae=T(Ue,"Total Stake Capacity: "),fe=T(Ue,r[10]),he=T(Ue," (multiplier: "),ye=T(Ue,we),ve=T(Ue,"x)"),Ue.forEach(c),oe=L(te),ge&&ge.l(te),te.forEach(c),ne=L(Y),q(K.$$.fragment,Y),ke=L(Y),se=b(Y,"DIV",{class:!0});var Ve=k(se);q(me.$$.fragment,Ve),G=L(Ve),q(j.$$.fragment,Ve),re=L(Ve),q($e.$$.fragment,Ve),Ve.forEach(c),X=L(Y),q(ee.$$.fragment,Y),ie=L(Y),q(De.$$.fragment,Y),this.h()},h(){v(t,"class","center pv-1 svelte-7t4len"),v(M,"class","pv-1"),v(h,"class","center pv-1 svelte-7t4len"),v(N,"class","delegate-address center pb-1 svelte-7t4len"),v(e,"class","delegate-info svelte-7t4len"),v(se,"class","tools svelte-7t4len")},m(Y,te){w(Y,e,te),d(e,t),d(e,l),d(e,s),d(s,a),d(s,i),d(e,u),d(e,f),d(f,g),d(f,y),d(e,I),d(e,M),F(E,M,null),d(e,m),d(e,h),d(e,P),d(e,N),d(N,S),d(e,A),d(e,z),d(z,U),d(z,H),d(e,Z),d(e,x),d(x,ae),d(x,fe),d(x,he),d(x,ye),d(x,ve),d(e,oe),ge&&ge.m(e,null),w(Y,ne,te),F(K,Y,te),w(Y,ke,te),w(Y,se,te),F(me,se,null),d(se,G),F(j,se,null),d(se,re),F($e,se,null),w(Y,X,te),F(ee,Y,te),w(Y,ie,te),F(De,Y,te),Pe=!0},p(Y,te){(!Pe||te[0]&4)&&o!==(o=st(Y[2].account.balance)+"")&&le(i,o),(!Pe||te[0]&4)&&p!==(p=st(Y[2].account.stakedBalance)+"")&&le(y,p),(!Pe||te[0]&4)&&O!==(O=Y[2].governance.delegate.pkh+"")&&le(S,O),(!Pe||te[0]&2048)&&le(H,Y[11]),(!Pe||te[0]&1024)&&le(fe,Y[10]),(!Pe||te[0]&4)&&we!==(we=BigInt(Y[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"")&&le(ye,we),Y[9]?ge?(ge.p(Y,te),te[0]&512&&D(ge,1)):(ge=Yn(Y),ge.c(),D(ge,1),ge.m(e,null)):ge&&(Le(),C(ge,1,1,()=>{ge=null}),Me())},i(Y){Pe||(D(E.$$.fragment,Y),D(ge),D(K.$$.fragment,Y),D(me.$$.fragment,Y),D(j.$$.fragment,Y),D($e.$$.fragment,Y),D(ee.$$.fragment,Y),D(De.$$.fragment,Y),Pe=!0)},o(Y){C(E.$$.fragment,Y),C(ge),C(K.$$.fragment,Y),C(me.$$.fragment,Y),C(j.$$.fragment,Y),C($e.$$.fragment,Y),C(ee.$$.fragment,Y),C(De.$$.fragment,Y),Pe=!1},d(Y){Y&&(c(e),c(ne),c(ke),c(se),c(X),c(ie)),W(E),ge&&ge.d(),W(K,Y),W(me),W(j),W($e),W(ee,Y),W(De,Y)}}}function qa(r){let e,t,n,l,s="<b>Balances</b>",a,o,i,u=st(r[2].account.balance)+"",f,g,p,y,I=st(r[2].account.stakedBalance)+"",M,E,m,h="<b>Delegate Parameters</b>",_,P,N,O,S,A,z,U,H,Z=BigInt(r[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"",x,ae,fe,he,we,ye,ve,oe,ne,K;function ke(X,ee){return X[2]?.governance.delegate?.isDeactivated?Wa:Fa}let se=ke(r),me=se(r),G=r[9]&&Zn(r);we=new He({});const j=[Ua,Ha],re=[];function $e(X,ee){return X[2]?.governance.delegate?.isDeactivated?0:1}return ve=$e(r),oe=re[ve]=j[ve](r),{c(){e=$("div"),me.c(),t=V(),n=$("div"),l=$("div"),l.innerHTML=s,a=V(),o=$("div"),i=B("Delegating: "),f=B(u),g=V(),p=$("div"),y=B("Staking: "),M=B(I),E=V(),m=$("div"),m.innerHTML=h,_=V(),P=$("div"),N=B("Staking Fee: "),O=B(r[11]),S=V(),A=$("div"),z=B("Total Stake Capacity: "),U=B(r[10]),H=B(" (multiplier: "),x=B(Z),ae=B("x)"),fe=V(),G&&G.c(),he=V(),R(we.$$.fragment),ye=V(),oe.c(),ne=Ne(),this.h()},l(X){e=b(X,"DIV",{class:!0});var ee=k(e);me.l(ee),ee.forEach(c),t=L(X),n=b(X,"DIV",{class:!0});var ie=k(n);l=b(ie,"DIV",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-tn9pn6"&&(l.innerHTML=s),a=L(ie),o=b(ie,"DIV",{});var De=k(o);i=T(De,"Delegating: "),f=T(De,u),De.forEach(c),g=L(ie),p=b(ie,"DIV",{});var Pe=k(p);y=T(Pe,"Staking: "),M=T(Pe,I),Pe.forEach(c),E=L(ie),m=b(ie,"DIV",{class:!0,"data-svelte-h":!0}),de(m)!=="svelte-1et9d10"&&(m.innerHTML=h),_=L(ie),P=b(ie,"DIV",{});var ge=k(P);N=T(ge,"Staking Fee: "),O=T(ge,r[11]),ge.forEach(c),S=L(ie),A=b(ie,"DIV",{});var Y=k(A);z=T(Y,"Total Stake Capacity: "),U=T(Y,r[10]),H=T(Y," (multiplier: "),x=T(Y,Z),ae=T(Y,"x)"),Y.forEach(c),fe=L(ie),G&&G.l(ie),ie.forEach(c),he=L(X),q(we.$$.fragment,X),ye=L(X),oe.l(X),ne=Ne(),this.h()},h(){v(e,"class","center svelte-7t4len"),v(l,"class","center pv-1 svelte-7t4len"),v(m,"class","center pv-1 svelte-7t4len"),v(n,"class","delegate-info svelte-7t4len")},m(X,ee){w(X,e,ee),me.m(e,null),w(X,t,ee),w(X,n,ee),d(n,l),d(n,a),d(n,o),d(o,i),d(o,f),d(n,g),d(n,p),d(p,y),d(p,M),d(n,E),d(n,m),d(n,_),d(n,P),d(P,N),d(P,O),d(n,S),d(n,A),d(A,z),d(A,U),d(A,H),d(A,x),d(A,ae),d(n,fe),G&&G.m(n,null),w(X,he,ee),F(we,X,ee),w(X,ye,ee),re[ve].m(X,ee),w(X,ne,ee),K=!0},p(X,ee){se!==(se=ke(X))&&(me.d(1),me=se(X),me&&(me.c(),me.m(e,null))),(!K||ee[0]&4)&&u!==(u=st(X[2].account.balance)+"")&&le(f,u),(!K||ee[0]&4)&&I!==(I=st(X[2].account.stakedBalance)+"")&&le(M,I),(!K||ee[0]&2048)&&le(O,X[11]),(!K||ee[0]&1024)&&le(U,X[10]),(!K||ee[0]&4)&&Z!==(Z=BigInt(X[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"")&&le(x,Z),X[9]?G?(G.p(X,ee),ee[0]&512&&D(G,1)):(G=Zn(X),G.c(),D(G,1),G.m(n,null)):G&&(Le(),C(G,1,1,()=>{G=null}),Me());let ie=ve;ve=$e(X),ve===ie?re[ve].p(X,ee):(Le(),C(re[ie],1,1,()=>{re[ie]=null}),Me(),oe=re[ve],oe?oe.p(X,ee):(oe=re[ve]=j[ve](X),oe.c()),D(oe,1),oe.m(ne.parentNode,ne))},i(X){K||(D(G),D(we.$$.fragment,X),D(oe),K=!0)},o(X){C(G),C(we.$$.fragment,X),C(oe),K=!1},d(X){X&&(c(e),c(t),c(n),c(he),c(ye),c(ne)),me.d(),G&&G.d(),W(we,X),re[ve].d(X)}}}function Yn(r){let e,t,n=bt(r[9]),l=[];for(let a=0;a<n.length;a+=1)l[a]=Xn(Un(r,n,a));const s=a=>C(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=Ne()},l(a){for(let o=0;o<l.length;o+=1)l[o].l(a);e=Ne()},m(a,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(a,o);w(a,e,o),t=!0},p(a,o){if(o[0]&516){n=bt(a[9]);let i;for(i=0;i<n.length;i+=1){const u=Un(a,n,i);l[i]?(l[i].p(u,o),D(l[i],1)):(l[i]=Xn(u),l[i].c(),D(l[i],1),l[i].m(e.parentNode,e))}for(Le(),i=n.length;i<l.length;i+=1)s(i);Me()}},i(a){if(!t){for(let o=0;o<n.length;o+=1)D(l[o]);t=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)C(l[o]);t=!1},d(a){a&&c(e),fn(l,a)}}}function Xn(r){let e,t,n,l,s=r[40].cycle+"",a,o,i,u,f,g=Pt(r[40].edge_of_baking_over_staking_billionth)+"",p,y,I,M,E=Vt((r[2]?.governance.delegate?.stakedBalance??0n)*BigInt(r[40].limit_of_staking_over_baking_millionth))+"",m,h,_=BigInt(r[40].limit_of_staking_over_baking_millionth)/1000000n+"",P,N,O;return e=new He({}),{c(){R(e.$$.fragment),t=V(),n=$("b"),l=B("Pending cycle "),a=B(s),o=B(":"),i=V(),u=$("div"),f=B("Staking Fee: "),p=B(g),y=V(),I=$("div"),M=B("Total Stake Capacity: "),m=B(E),h=B(" (mutliplier: "),P=B(_),N=B(`x)\r
										`)},l(S){q(e.$$.fragment,S),t=L(S),n=b(S,"B",{});var A=k(n);l=T(A,"Pending cycle "),a=T(A,s),o=T(A,":"),A.forEach(c),i=L(S),u=b(S,"DIV",{});var z=k(u);f=T(z,"Staking Fee: "),p=T(z,g),z.forEach(c),y=L(S),I=b(S,"DIV",{});var U=k(I);M=T(U,"Total Stake Capacity: "),m=T(U,E),h=T(U," (mutliplier: "),P=T(U,_),N=T(U,`x)\r
										`),U.forEach(c)},m(S,A){F(e,S,A),w(S,t,A),w(S,n,A),d(n,l),d(n,a),d(n,o),w(S,i,A),w(S,u,A),d(u,f),d(u,p),w(S,y,A),w(S,I,A),d(I,M),d(I,m),d(I,h),d(I,P),d(I,N),O=!0},p(S,A){(!O||A[0]&512)&&s!==(s=S[40].cycle+"")&&le(a,s),(!O||A[0]&512)&&g!==(g=Pt(S[40].edge_of_baking_over_staking_billionth)+"")&&le(p,g),(!O||A[0]&516)&&E!==(E=Vt((S[2]?.governance.delegate?.stakedBalance??0n)*BigInt(S[40].limit_of_staking_over_baking_millionth))+"")&&le(m,E),(!O||A[0]&512)&&_!==(_=BigInt(S[40].limit_of_staking_over_baking_millionth)/1000000n+"")&&le(P,_)},i(S){O||(D(e.$$.fragment,S),O=!0)},o(S){C(e.$$.fragment,S),O=!1},d(S){S&&(c(t),c(n),c(i),c(u),c(y),c(I)),W(e,S)}}}function Fa(r){let e,t="You are a baker.";return{c(){e=$("b"),e.textContent=t},l(n){e=b(n,"B",{"data-svelte-h":!0}),de(e)!=="svelte-14sgvug"&&(e.textContent=t)},m(n,l){w(n,e,l)},d(n){n&&c(e)}}}function Wa(r){let e,t="You are an INACTIVE baker.";return{c(){e=$("b"),e.textContent=t},l(n){e=b(n,"B",{"data-svelte-h":!0}),de(e)!=="svelte-1bjdurz"&&(e.textContent=t)},m(n,l){w(n,e,l)},d(n){n&&c(e)}}}function Zn(r){let e,t,n,l;e=new He({});let s=bt(r[9]),a=[];for(let i=0;i<s.length;i+=1)a[i]=Qn(zn(r,s,i));const o=i=>C(a[i],1,1,()=>{a[i]=null});return{c(){R(e.$$.fragment),t=V();for(let i=0;i<a.length;i+=1)a[i].c();n=Ne()},l(i){q(e.$$.fragment,i),t=L(i);for(let u=0;u<a.length;u+=1)a[u].l(i);n=Ne()},m(i,u){F(e,i,u),w(i,t,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,u);w(i,n,u),l=!0},p(i,u){if(u[0]&516){s=bt(i[9]);let f;for(f=0;f<s.length;f+=1){const g=zn(i,s,f);a[f]?(a[f].p(g,u),D(a[f],1)):(a[f]=Qn(g),a[f].c(),D(a[f],1),a[f].m(n.parentNode,n))}for(Le(),f=s.length;f<a.length;f+=1)o(f);Me()}},i(i){if(!l){D(e.$$.fragment,i);for(let u=0;u<s.length;u+=1)D(a[u]);l=!0}},o(i){C(e.$$.fragment,i),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)C(a[u]);l=!1},d(i){i&&(c(t),c(n)),W(e,i),fn(a,i)}}}function Qn(r){let e,t,n=r[40].cycle+"",l,s,a,o,i,u=Pt(r[40].edge_of_baking_over_staking_billionth)+"",f,g,p,y,I=Vt((r[2]?.governance.delegate?.stakedBalance??0n)*BigInt(r[40].limit_of_staking_over_baking_millionth))+"",M,E,m=BigInt(r[40].limit_of_staking_over_baking_millionth)/1000000n+"",h,_,P,N,O;return N=new He({}),{c(){e=$("b"),t=B("Pending cycle "),l=B(n),s=B(":"),a=V(),o=$("div"),i=B("Staking Fee: "),f=B(u),g=V(),p=$("div"),y=B("Total Stake Capacity: "),M=B(I),E=B(" (mutliplier: "),h=B(m),_=B("x)"),P=V(),R(N.$$.fragment)},l(S){e=b(S,"B",{});var A=k(e);t=T(A,"Pending cycle "),l=T(A,n),s=T(A,":"),A.forEach(c),a=L(S),o=b(S,"DIV",{});var z=k(o);i=T(z,"Staking Fee: "),f=T(z,u),z.forEach(c),g=L(S),p=b(S,"DIV",{});var U=k(p);y=T(U,"Total Stake Capacity: "),M=T(U,I),E=T(U," (mutliplier: "),h=T(U,m),_=T(U,"x)"),U.forEach(c),P=L(S),q(N.$$.fragment,S)},m(S,A){w(S,e,A),d(e,t),d(e,l),d(e,s),w(S,a,A),w(S,o,A),d(o,i),d(o,f),w(S,g,A),w(S,p,A),d(p,y),d(p,M),d(p,E),d(p,h),d(p,_),w(S,P,A),F(N,S,A),O=!0},p(S,A){(!O||A[0]&512)&&n!==(n=S[40].cycle+"")&&le(l,n),(!O||A[0]&512)&&u!==(u=Pt(S[40].edge_of_baking_over_staking_billionth)+"")&&le(f,u),(!O||A[0]&516)&&I!==(I=Vt((S[2]?.governance.delegate?.stakedBalance??0n)*BigInt(S[40].limit_of_staking_over_baking_millionth))+"")&&le(M,I),(!O||A[0]&512)&&m!==(m=BigInt(S[40].limit_of_staking_over_baking_millionth)/1000000n+"")&&le(h,m)},i(S){O||(D(N.$$.fragment,S),O=!0)},o(S){C(N.$$.fragment,S),O=!1},d(S){S&&(c(e),c(a),c(o),c(g),c(p),c(P)),W(N,S)}}}function Ha(r){let e,t,n,l,s,a,o,i,u,f,g;return e=new ue({props:{label:"Set Delegate Parameters"}}),e.$on("click",r[27]),l=new ue({props:{label:"Stake"}}),l.$on("click",r[23]),a=new ue({props:{label:"Unstake"}}),a.$on("click",r[24]),i=new ue({props:{label:"Finalize Unstake"}}),i.$on("click",r[26]),f=new ue({props:{label:"Update Consensus Key"}}),f.$on("click",r[30]),{c(){R(e.$$.fragment),t=V(),n=$("div"),R(l.$$.fragment),s=V(),R(a.$$.fragment),o=V(),R(i.$$.fragment),u=V(),R(f.$$.fragment),this.h()},l(p){q(e.$$.fragment,p),t=L(p),n=b(p,"DIV",{class:!0});var y=k(n);q(l.$$.fragment,y),s=L(y),q(a.$$.fragment,y),o=L(y),q(i.$$.fragment,y),y.forEach(c),u=L(p),q(f.$$.fragment,p),this.h()},h(){v(n,"class","tools svelte-7t4len")},m(p,y){F(e,p,y),w(p,t,y),w(p,n,y),F(l,n,null),d(n,s),F(a,n,null),d(n,o),F(i,n,null),w(p,u,y),F(f,p,y),g=!0},p:J,i(p){g||(D(e.$$.fragment,p),D(l.$$.fragment,p),D(a.$$.fragment,p),D(i.$$.fragment,p),D(f.$$.fragment,p),g=!0)},o(p){C(e.$$.fragment,p),C(l.$$.fragment,p),C(a.$$.fragment,p),C(i.$$.fragment,p),C(f.$$.fragment,p),g=!1},d(p){p&&(c(t),c(n),c(u)),W(e,p),W(l),W(a),W(i),W(f,p)}}}function Ua(r){let e,t,n,l;return e=new ue({props:{label:"Delegate"}}),e.$on("click",r[20]),n=new ue({props:{label:"Reactivate Baker"}}),n.$on("click",r[21]),{c(){R(e.$$.fragment),t=V(),R(n.$$.fragment)},l(s){q(e.$$.fragment,s),t=L(s),q(n.$$.fragment,s)},m(s,a){F(e,s,a),w(s,t,a),F(n,s,a),l=!0},p:J,i(s){l||(D(e.$$.fragment,s),D(n.$$.fragment,s),l=!0)},o(s){C(e.$$.fragment,s),C(n.$$.fragment,s),l=!1},d(s){s&&c(t),W(e,s),W(n,s)}}}function za(r){let e,t="<div></div> <div></div> <div>Donate to TzC</div> <div></div>";return{c(){e=$("div"),e.innerHTML=t,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-bsbnwv"&&(e.innerHTML=t),this.h()},h(){v(e,"class","donate-btn svelte-7t4len")},m(n,l){w(n,e,l)},p:J,d(n){n&&c(e)}}}function Ya(r){let e,t,n,l;const s=[Na,Ta],a=[];function o(i,u){return i[2].isLoadingDelegate?0:1}return t=o(r),n=a[t]=s[t](r),{c(){e=$("div"),n.c(),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);n.l(u),u.forEach(c),this.h()},h(){v(e,"class","staking svelte-7t4len")},m(i,u){w(i,e,u),a[t].m(e,null),l=!0},p(i,u){let f=t;t=o(i),t===f?a[t].p(i,u):(Le(),C(a[f],1,1,()=>{a[f]=null}),Me(),n=a[t],n?n.p(i,u):(n=a[t]=s[t](i),n.c()),D(n,1),n.m(e,null))},i(i){l||(D(n),l=!0)},o(i){C(n),l=!1},d(i){i&&c(e),a[t].d()}}}function Xa(r){let e,t,n,l,s;t=new ue({props:{$$slots:{default:[Qa]},$$scope:{ctx:r}}}),t.$on("click",r[18]);let a=r[1]!==void 0&&Kn(r);return{c(){e=$("div"),R(t.$$.fragment),n=V(),a&&a.c(),l=Ne(),this.h()},l(o){e=b(o,"DIV",{class:!0});var i=k(e);q(t.$$.fragment,i),i.forEach(c),n=L(o),a&&a.l(o),l=Ne(),this.h()},h(){v(e,"class","redo svelte-7t4len")},m(o,i){w(o,e,i),F(t,e,null),w(o,n,i),a&&a.m(o,i),w(o,l,i),s=!0},p(o,i){const u={};i[1]&16384&&(u.$$scope={dirty:i,ctx:o}),t.$set(u),o[1]!==void 0?a?(a.p(o,i),i[0]&2&&D(a,1)):(a=Kn(o),a.c(),D(a,1),a.m(l.parentNode,l)):a&&(Le(),C(a,1,1,()=>{a=null}),Me())},i(o){s||(D(t.$$.fragment,o),D(a),s=!0)},o(o){C(t.$$.fragment,o),C(a),s=!1},d(o){o&&(c(e),c(n),c(l)),W(t),a&&a.d(o)}}}function Za(r){let e,t;return e=new Ut({props:{progress:"indeterminate",message:"Loading governance state..."}}),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:J,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Qa(r){let e,t,n;return t=new er({}),{c(){e=$("div"),R(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var s=k(e);q(t.$$.fragment,s),s.forEach(c),this.h()},h(){v(e,"class","icon svelte-7t4len")},m(l,s){w(l,e,s),F(t,e,null),n=!0},p:J,i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),W(t)}}}function Kn(r){let e,t,n=r[1]?.info.voting_period.kind+"",l,s,a,o,i,u,f=r[1].info.voting_period.index+"",g,p,y,I,M,E,m,h,_,P;function N(H,Z){return H[13]?Ja:Ka}let O=N(r),S=O(r);M=new He({});const A=[ts,es,xa,Ga],z=[];function U(H,Z){return H[17]!==void 0?0:H[16]!==void 0?1:H[15]!==void 0?2:3}return m=U(r),h=z[m]=A[m](r),{c(){e=$("div"),t=$("h5"),l=B(n),s=B(" Period"),a=V(),o=$("div"),i=$("div"),u=B("#"),g=B(f),p=V(),y=$("div"),S.c(),I=V(),R(M.$$.fragment),E=V(),h.c(),_=Ne(),this.h()},l(H){e=b(H,"DIV",{class:!0});var Z=k(e);t=b(Z,"H5",{class:!0});var x=k(t);l=T(x,n),s=T(x," Period"),x.forEach(c),Z.forEach(c),a=L(H),o=b(H,"DIV",{class:!0});var ae=k(o);i=b(ae,"DIV",{class:!0});var fe=k(i);u=T(fe,"#"),g=T(fe,f),fe.forEach(c),p=L(ae),y=b(ae,"DIV",{class:!0});var he=k(y);S.l(he),he.forEach(c),ae.forEach(c),I=L(H),q(M.$$.fragment,H),E=L(H),h.l(H),_=Ne(),this.h()},h(){v(t,"class","svelte-7t4len"),v(e,"class","title svelte-7t4len"),v(i,"class","governance-period-number svelte-7t4len"),v(y,"class","governance-period-remaining svelte-7t4len"),v(o,"class","governance-period-header svelte-7t4len")},m(H,Z){w(H,e,Z),d(e,t),d(t,l),d(t,s),w(H,a,Z),w(H,o,Z),d(o,i),d(i,u),d(i,g),d(o,p),d(o,y),S.m(y,null),w(H,I,Z),F(M,H,Z),w(H,E,Z),z[m].m(H,Z),w(H,_,Z),P=!0},p(H,Z){(!P||Z[0]&2)&&n!==(n=H[1]?.info.voting_period.kind+"")&&le(l,n),(!P||Z[0]&2)&&f!==(f=H[1].info.voting_period.index+"")&&le(g,f),O===(O=N(H))&&S?S.p(H,Z):(S.d(1),S=O(H),S&&(S.c(),S.m(y,null)));let x=m;m=U(H),m===x?z[m].p(H,Z):(Le(),C(z[x],1,1,()=>{z[x]=null}),Me(),h=z[m],h?h.p(H,Z):(h=z[m]=A[m](H),h.c()),D(h,1),h.m(_.parentNode,_))},i(H){P||(D(M.$$.fragment,H),D(h),P=!0)},o(H){C(M.$$.fragment,H),C(h),P=!1},d(H){H&&(c(e),c(a),c(o),c(I),c(E),c(_)),S.d(),W(M,H),z[m].d(H)}}}function Ka(r){let e,t,n,l;return{c(){e=B("ends in "),t=B(r[12]),n=B(" blocks ~ "),l=B(r[14])},l(s){e=T(s,"ends in "),t=T(s,r[12]),n=T(s," blocks ~ "),l=T(s,r[14])},m(s,a){w(s,e,a),w(s,t,a),w(s,n,a),w(s,l,a)},p(s,a){a[0]&4096&&le(t,s[12]),a[0]&16384&&le(l,s[14])},d(s){s&&(c(e),c(t),c(n),c(l))}}}function Ja(r){let e;return{c(){e=B("ended")},l(t){e=T(t,"ended")},m(t,n){w(t,e,n)},p:J,d(t){t&&c(e)}}}function Ga(r){let e,t=r[1].info.voting_period.kind+"",n,l;return{c(){e=$("div"),n=B(t),l=B(" is not supported yet"),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=k(e);n=T(a,t),l=T(a," is not supported yet"),a.forEach(c),this.h()},h(){v(e,"class","error-message svelte-7t4len")},m(s,a){w(s,e,a),d(e,n),d(e,l)},p(s,a){a[0]&2&&t!==(t=s[1].info.voting_period.kind+"")&&le(n,t)},i:J,o:J,d(s){s&&c(e)}}}function xa(r){let e,t;return e=new Sa({props:{period:r[15],periodIndex:r[1].info.voting_period.index}}),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p(n,l){const s={};l[0]&32768&&(s.period=n[15]),l[0]&2&&(s.periodIndex=n[1].info.voting_period.index),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function es(r){let e,t;return e=new fl({props:{period:r[16],periodIndex:r[1].info.voting_period.index,pkh:r[2]?.account.id,canVote:r[5]}}),e.$on("vote",r[28]),e.$on("upvote",r[29]),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p(n,l){const s={};l[0]&65536&&(s.period=n[16]),l[0]&2&&(s.periodIndex=n[1].info.voting_period.index),l[0]&4&&(s.pkh=n[2]?.account.id),l[0]&32&&(s.canVote=n[5]),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function ts(r){let e,t;return e=new Qr({props:{period:r[17],periodIndex:r[1].info.voting_period.index,pkh:r[2]?.account.id,canVote:r[5]}}),e.$on("vote",r[28]),e.$on("upvote",r[29]),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p(n,l){const s={};l[0]&131072&&(s.period=n[17]),l[0]&2&&(s.periodIndex=n[1].info.voting_period.index),l[0]&4&&(s.pkh=n[2]?.account.id),l[0]&32&&(s.canVote=n[5]),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function ns(r){let e,t,n,l;const s=[Za,Xa],a=[];function o(i,u){return i[2]?.governance?.loadingPeriod?0:1}return t=o(r),n=a[t]=s[t](r),{c(){e=$("div"),n.c(),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=k(e);n.l(u),u.forEach(c),this.h()},h(){v(e,"class","governance-period svelte-7t4len")},m(i,u){w(i,e,u),a[t].m(e,null),l=!0},p(i,u){let f=t;t=o(i),t===f?a[t].p(i,u):(Le(),C(a[f],1,1,()=>{a[f]=null}),Me(),n=a[t],n?n.p(i,u):(n=a[t]=s[t](i),n.c()),D(n,1),n.m(e,null))},i(i){l||(D(n),l=!0)},o(i){C(n),l=!1},d(i){i&&c(e),a[t].d()}}}function rs(r){let e,t,n,l,s,a,o,i,u,f,g;const p=[Ba,ja],y=[];function I(_,P){return _[2]&&_[2].isInitializing?0:_[2]?1:-1}~(t=I(r))&&(n=y[t]=p[t](r));let M={};s=new Dr({props:M}),r[34](s);let E={};o=new Vl({props:E}),r[35](o);function m(_){r[36](_)}let h={opHash:r[8],explorerTemplate:r[2]?.account.explorer??"",error:r[6],allowClose:!1,stage:r[7]};return r[0]!==void 0&&(h.open=r[0]),u=new yl({props:h}),We.push(()=>Ge(u,"open",m)),{c(){e=$("div"),n&&n.c(),l=V(),R(s.$$.fragment),a=V(),R(o.$$.fragment),i=V(),R(u.$$.fragment),this.h()},l(_){e=b(_,"DIV",{class:!0});var P=k(e);n&&n.l(P),P.forEach(c),l=L(_),q(s.$$.fragment,_),a=L(_),q(o.$$.fragment,_),i=L(_),q(u.$$.fragment,_),this.h()},h(){v(e,"class","home-wrap svelte-7t4len")},m(_,P){w(_,e,P),~t&&y[t].m(e,null),w(_,l,P),F(s,_,P),w(_,a,P),F(o,_,P),w(_,i,P),F(u,_,P),g=!0},p(_,P){let N=t;t=I(_),t===N?~t&&y[t].p(_,P):(n&&(Le(),C(y[N],1,1,()=>{y[N]=null}),Me()),~t?(n=y[t],n?n.p(_,P):(n=y[t]=p[t](_),n.c()),D(n,1),n.m(e,null)):n=null);const O={};s.$set(O);const S={};o.$set(S);const A={};P[0]&256&&(A.opHash=_[8]),P[0]&4&&(A.explorerTemplate=_[2]?.account.explorer??""),P[0]&64&&(A.error=_[6]),P[0]&128&&(A.stage=_[7]),!f&&P[0]&1&&(f=!0,A.open=_[0],Je(()=>f=!1)),u.$set(A)},i(_){g||(D(n),D(s.$$.fragment,_),D(o.$$.fragment,_),D(u.$$.fragment,_),g=!0)},o(_){C(n),C(s.$$.fragment,_),C(o.$$.fragment,_),C(u.$$.fragment,_),g=!1},d(_){_&&(c(e),c(l),c(a),c(i)),~t&&y[t].d(),r[34](null),W(s,_),r[35](null),W(o,_),W(u,_)}}}function ls(r,e,t){let n,l,s,a,o,i,u,f,g,p,y,I,M,E;nr(r,be,j=>t(2,E=j));let m,h,_,P,N="building",O,S=!1;async function A(){await be.refreshGovernanceState()}async function z(){await be.refreshDelegate()}async function U(j){try{t(0,S=!0),t(7,N="building");const re=await j(),$e=await re.send();t(8,O=$e.ophash),t(7,N="confirming"),await re.confirmation(),t(7,N="applied")}catch(re){t(7,N="failed"),t(6,P=re.message)}}async function H(){const j=await m.prompt({title:"Delegate",message:"Enter the address you want to delegate to",value:"",rules:[re=>re===""||sr(re)===3||"Invalid address"],confirmText:"Delegate"});await U(async()=>await be.delegate(j)),await be.refreshDelegate()}async function Z(){await U(async()=>await be.delegate(E?.account.id)),await be.refreshDelegate()}async function x(){await U(async()=>await be.delegate()),await be.refreshDelegate()}const ae=[j=>!!j||"Amount can not be empty",j=>!isNaN(Number(j))||"Amount must be a number",j=>Number(j)>0||"Amount must be greater than 0",j=>Number(j)<Number(E?.account.balance??0n)/Dt||"Amount must be less than your balance"];async function fe(){const j=await m.prompt({title:"Stake",message:"Enter the amount you want to stake",value:"0",rules:ae,confirmText:"Stake"}),re=BigInt(Math.floor(Number(j)*Dt));await U(async()=>await be.stake(re)),await Promise.allSettled([be.refreshDelegate(),be.refreshBalance()])}const he=[j=>!!j||"Amount can not be empty",j=>!isNaN(Number(j))||"Amount must be a number",j=>Number(j)>0||"Amount must be greater than 0",j=>Number(j)<Number(E?.account.stakedBalance??0n)/Dt||"Amount must be less than your balance"];async function we(){const j=await m.prompt({title:"Unstake",message:"Enter the amount you want to unstake",value:"0",rules:he,confirmText:"Unstake"}),re=BigInt(Math.floor(Number(j)*Dt));await U(async()=>await be.unstake(re)),await Promise.allSettled([be.refreshDelegate(),be.refreshBalance()])}async function ye(){const j=await m.prompt({title:"Donate",message:"Enter the amount TEZ you want to donate",value:"1",rules:ae,confirmText:"Donate"}),re=BigInt(Number(j)*Dt);await U(async()=>await be.donate(re)),await be.refreshBalance()}async function ve(){await U(async()=>await be.finalizeUnstake()),await be.refreshDelegate()}async function oe(){const j=E?.governance.delegate?.activeStakingParameters,re=E?.governance.delegate?.pendingStakingParameters;let $e=j?j.edge_of_baking_over_staking_billionth/1e7:0;const X=or(re);X&&($e=X.edge_of_baking_over_staking_billionth/1e7);let ee=j?j.limit_of_staking_over_baking_millionth/1e6:0;X&&(ee=X.limit_of_staking_over_baking_millionth/1e6);const{edge:ie,limit:De}=await h.prompt({value:{edge:$e,limit:ee}});await U(async()=>await be.setDelegateParameters(ie/100,De)),await be.refreshDelegate()}async function ne(j){await U(async()=>await be.vote(j.detail.proposal,j.detail.ballot,j.detail.period))}async function K(j){await U(async()=>await be.upvote(j.detail.proposals,j.detail.period))}async function ke(){const j=await m.prompt({title:"Update Consensus Key",message:"Enter the new consensus key",value:"",rules:[re=>!!re||"Key can not be empty",re=>ir(re)===3||"Invalid public key"],confirmText:"Update Consensus Key"});await U(async()=>await be.updateConesusKey(j)),await be.refreshDelegate()}function se(j){We[j?"unshift":"push"](()=>{m=j,t(3,m)})}function me(j){We[j?"unshift":"push"](()=>{h=j,t(4,h)})}function G(j){S=j,t(0,S)}return r.$$.update=()=>{r.$$.dirty[0]&4&&t(1,n=E?.governance?.period),r.$$.dirty[0]&2&&t(33,l=n?.voters??[]),r.$$.dirty[0]&4|r.$$.dirty[1]&4&&t(5,_=l.find(j=>j.pkh===E?.account.id)!==void 0),r.$$.dirty[0]&2&&t(17,s=n?.info.voting_period.kind==="proposal"?Ia(n):void 0),r.$$.dirty[0]&2&&t(16,a=["exploration","promotion"].includes(n?.info.voting_period.kind??"unknown")?Ea(n):void 0),r.$$.dirty[0]&2&&t(15,o=["testing","adoption"].includes(n?.info.voting_period.kind??"unknown")?n:void 0),r.$$.dirty[0]&2&&t(31,i=n?.block),r.$$.dirty[0]&2|r.$$.dirty[1]&1&&t(32,u=ya(n?.info,i)),r.$$.dirty[1]&2&&t(14,f=wa(u,{addSuffix:!0})),r.$$.dirty[1]&2&&t(13,g=u<new Date),r.$$.dirty[0]&2|r.$$.dirty[1]&1&&t(12,p=n?.info&&Da(n?.info,i)),r.$$.dirty[0]&1&&(S||(t(6,P=void 0),t(8,O=void 0),t(7,N="building"))),r.$$.dirty[0]&4&&t(11,y=Pt(E?.governance.delegate?.activeStakingParameters?.edge_of_baking_over_staking_billionth??0)),r.$$.dirty[0]&4&&t(10,I=Vt((E?.governance.delegate?.stakedBalance??0n)*BigInt(E?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0))),r.$$.dirty[0]&4&&t(9,M=E?.governance.delegate?.pendingStakingParameters??[])},[S,n,E,m,h,_,P,N,O,M,I,y,p,g,f,o,a,s,A,z,H,Z,x,fe,we,ye,ve,oe,ne,K,ke,i,u,l,se,me,G]}class os extends Oe{constructor(e){super(),Re(this,e,ls,rs,Ae,{},null,[-1,-1])}}export{os as component};
