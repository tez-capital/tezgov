import{f as L,a as f,b as Nt,t as Oe,d as ot}from"../chunks/B3YLYrIe.js";import{Q as Ka,ab as en,p as We,g as ia,_ as te,am as Ee,j as n,c as r,r as o,s as i,ap as At,ao as h,t as M,a as Re,f as J,Z as Ht,aq as tn,ar as an,a3 as Ca,W as nn,d as rn}from"../chunks/D8c3ok0p.js";import{s as d,d as Ot}from"../chunks/BI73XhKU.js";import{p as xt,i as N,s as on,b as Dt}from"../chunks/C0JickVo.js";import{b2 as qt,ao as m,ax as Et,aD as zt,am as X,av as Be,b3 as sn,b4 as Za,b5 as It,ap as Ft,ak as ht,aW as dt,ar as Vt,al as Pt,b6 as fa,b7 as ga,b8 as Ma,ay as Tt,aB as Ct,af as pa,at as St,aE as la,an as kt,b9 as ln,ba as ca,bb as cn,bc as dn,bd as pt,be as Wt,bf as Jt,bg as Kt,bh as ea,bi as un,bj as vn,bk as _n,aV as Ve}from"../chunks/D7hGgZEb.js";import"../chunks/zQ066gME.js";import{i as mn}from"../chunks/BsmQqhe3.js";function fn(t,e,a){var s=Ka(t,e);s&&s.set&&(t[e]=a,en(()=>{t[e]=null}))}function gn(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function pn(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $a(t,...e){if(!pn(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function La(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hn(t,e){$a(t);const a=e.outputLen;if(t.length<a)throw new Error("digestInto() expects output buffer of length at least "+a)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ta=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Qe=(t,e)=>t<<32-e|t>>>e;function bn(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Ga(t){return typeof t=="string"&&(t=bn(t)),$a(t),t}class yn{clone(){return this._cloneInto()}}function kn(t){const e=s=>t().update(Ga(s)).digest(),a=t();return e.outputLen=a.outputLen,e.blockLen=a.blockLen,e.create=()=>t(),e}function xn(t,e,a,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,a,s);const l=BigInt(32),_=BigInt(4294967295),c=Number(a>>l&_),u=Number(a&_),g=s?4:0,p=s?0:4;t.setUint32(e+g,c,s),t.setUint32(e+p,u,s)}const wn=(t,e,a)=>t&e^~t&a,Pn=(t,e,a)=>t&e^t&a^e&a;class Cn extends yn{constructor(e,a,s,l){super(),this.blockLen=e,this.outputLen=a,this.padOffset=s,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ta(this.buffer)}update(e){La(this);const{view:a,buffer:s,blockLen:l}=this;e=Ga(e);const _=e.length;for(let c=0;c<_;){const u=Math.min(l-this.pos,_-c);if(u===l){const g=ta(e);for(;l<=_-c;c+=l)this.process(g,c);continue}s.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===l&&(this.process(a,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){La(this),hn(e,this),this.finished=!0;const{buffer:a,view:s,blockLen:l,isLE:_}=this;let{pos:c}=this;a[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>l-c&&(this.process(s,0),c=0);for(let v=c;v<l;v++)a[v]=0;xn(s,l-8,BigInt(this.length*8),_),this.process(s,0);const u=ta(e),g=this.outputLen;if(g%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=g/4,C=this.get();if(p>C.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<p;v++)u.setUint32(4*v,C[v],_)}digest(){const{buffer:e,outputLen:a}=this;this.digestInto(e);const s=e.slice(0,a);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:a,buffer:s,length:l,finished:_,destroyed:c,pos:u}=this;return e.length=l,e.pos=u,e.finished=_,e.destroyed=c,l%a&&e.buffer.set(s),e}}const Mn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ct=new Uint32Array(64);class Ln extends Cn{constructor(){super(64,32,8,!1),this.A=lt[0]|0,this.B=lt[1]|0,this.C=lt[2]|0,this.D=lt[3]|0,this.E=lt[4]|0,this.F=lt[5]|0,this.G=lt[6]|0,this.H=lt[7]|0}get(){const{A:e,B:a,C:s,D:l,E:_,F:c,G:u,H:g}=this;return[e,a,s,l,_,c,u,g]}set(e,a,s,l,_,c,u,g){this.A=e|0,this.B=a|0,this.C=s|0,this.D=l|0,this.E=_|0,this.F=c|0,this.G=u|0,this.H=g|0}process(e,a){for(let v=0;v<16;v++,a+=4)ct[v]=e.getUint32(a,!1);for(let v=16;v<64;v++){const b=ct[v-15],P=ct[v-2],x=Qe(b,7)^Qe(b,18)^b>>>3,T=Qe(P,17)^Qe(P,19)^P>>>10;ct[v]=T+ct[v-7]+x+ct[v-16]|0}let{A:s,B:l,C:_,D:c,E:u,F:g,G:p,H:C}=this;for(let v=0;v<64;v++){const b=Qe(u,6)^Qe(u,11)^Qe(u,25),P=C+b+wn(u,g,p)+Mn[v]+ct[v]|0,T=(Qe(s,2)^Qe(s,13)^Qe(s,22))+Pn(s,l,_)|0;C=p,p=g,g=u,u=c+P|0,c=_,_=l,l=s,s=P+T|0}s=s+this.A|0,l=l+this.B|0,_=_+this.C|0,c=c+this.D|0,u=u+this.E|0,g=g+this.F|0,p=p+this.G|0,C=C+this.H|0,this.set(s,l,_,c,u,g,p,C)}roundClean(){ct.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ja=kn(()=>new Ln);function jn(t){function e(_){var c=Uint8Array.from(_),u=t(c),g=c.length+4,p=new Uint8Array(g);return p.set(c,0),p.set(u.subarray(0,4),c.length),qt.encode(p)}function a(_){var c=_.slice(0,-4),u=_.slice(-4),g=t(c);if(!(u[0]^g[0]|u[1]^g[1]|u[2]^g[2]|u[3]^g[3]))return c}function s(_){var c=qt.decodeUnsafe(_);if(c!=null)return a(c)}function l(_){var c=qt.decode(_),u=a(c);if(u==null)throw new Error("Invalid checksum");return u}return{encode:e,decode:l,decodeUnsafe:s}}function Dn(t){return ja(ja(t))}const da=jn(Dn),Sn=()=>"address",An=()=>"direcci√≥n",zn=(t={},e={})=>(e.locale??m())==="en"?Sn():An(),Tn=()=>"stake",Nn=()=>"apostar",aa=(t={},e={})=>(e.locale??m())==="en"?Tn():Nn(),On=()=>"unstake",En=()=>"retirar apuesta",na=(t={},e={})=>(e.locale??m())==="en"?On():En(),Bn=()=>"finalize",In=()=>"finalizar",Wn=(t={},e={})=>(e.locale??m())==="en"?Bn():In(),Rn=()=>"Enter the amount you want to stake",qn=()=>"Ingrese la cantidad que desea apostar",Fn=(t={},e={})=>(e.locale??m())==="en"?Rn():qn(),Vn=()=>"Enter the amount you want to unstake",Un=()=>"Ingrese la cantidad que desea retirar",Hn=(t={},e={})=>(e.locale??m())==="en"?Vn():Un(),Xn=()=>"Enter the amount TEZ you want to donate",Yn=()=>"Ingrese la cantidad de TEZ que desea donar",Zn=(t={},e={})=>(e.locale??m())==="en"?Xn():Yn(),$n=()=>"donate",Gn=()=>"donar",Da=(t={},e={})=>(e.locale??m())==="en"?$n():Gn(),Qn=()=>"Donate to TzC / TEZGOV",Jn=()=>"Donar a TzC / TEZGOV",Kn=(t={},e={})=>(e.locale??m())==="en"?Qn():Jn(),er=()=>"Become a baker",tr=()=>"Convertirse en panadero",Sa=(t={},e={})=>(e.locale??m())==="en"?er():tr(),ar=()=>"baker",nr=()=>"panadero",rr=(t={},e={})=>(e.locale??m())==="en"?ar():nr(),or=()=>"Are you sure you want to become a baker?",sr=()=>"¬øEst√° seguro de que desea convertirse en panadero?",ir=(t={},e={})=>(e.locale??m())==="en"?or():sr(),lr=()=>"!!! THIS OPERATION IS IRREVERSIBLE !!!",cr=()=>"¬°¬°¬°ESTA OPERACI√ìN ES IRREVERSIBLE!!!",dr=(t={},e={})=>(e.locale??m())==="en"?lr():cr(),ur=()=>"yes",vr=()=>"s√≠",_r=(t={},e={})=>(e.locale??m())==="en"?ur():vr(),mr=()=>"no",fr=()=>"no",gr=(t={},e={})=>(e.locale??m())==="en"?mr():fr(),pr=()=>"delegate",hr=()=>"delegar",ra=(t={},e={})=>(e.locale??m())==="en"?pr():hr(),br=()=>"Enter the address you want to delegate to",yr=()=>"Ingrese la direcci√≥n a la que desea delegar",kr=(t={},e={})=>(e.locale??m())==="en"?br():yr(),xr=()=>"Update consensus key",wr=()=>"Actualizar clave de consenso",Aa=(t={},e={})=>(e.locale??m())==="en"?xr():wr(),Pr=()=>"Enter new consensus key",Cr=()=>"Ingrese la nueva clave de consenso",Mr=(t={},e={})=>(e.locale??m())==="en"?Pr():Cr(),Lr=()=>"Loading delegation information...",jr=()=>"Cargando informaci√≥n de delegaci√≥n...",Dr=(t={},e={})=>(e.locale??m())==="en"?Lr():jr(),Sr=()=>"reactivate",Ar=()=>"reactivar",zr=(t={},e={})=>(e.locale??m())==="en"?Sr():Ar(),Tr=()=>"INACTIVE",Nr=()=>"INACTIVO",Or=(t={},e={})=>(e.locale??m())==="en"?Tr():Nr(),Er=()=>"baker management",Br=()=>"gesti√≥n del panadero",Ir=(t={},e={})=>(e.locale??m())==="en"?Er():Br(),Wr=()=>"total staked",Rr=()=>"total apostado",qr=(t={},e={})=>(e.locale??m())==="en"?Wr():Rr(),Fr=()=>"total delegated",Vr=()=>"total delegado",Ur=(t={},e={})=>(e.locale??m())==="en"?Fr():Vr(),Hr=()=>"available delegation capacity",Xr=()=>"capacidad de delegaci√≥n disponible",za=(t={},e={})=>(e.locale??m())==="en"?Hr():Xr(),Yr=()=>"parameters",Zr=()=>"par√°metros",$r=(t={},e={})=>(e.locale??m())==="en"?Yr():Zr(),Gr=()=>"staking fee",Qr=()=>"tarifa de apuesta",oa=(t={},e={})=>(e.locale??m())==="en"?Gr():Qr(),Jr=()=>"total stake capacity",Kr=()=>"capacidad total de apuesta",Ta=(t={},e={})=>(e.locale??m())==="en"?Jr():Kr(),eo=()=>"multiplier",to=()=>"multiplicador",ao=(t={},e={})=>(e.locale??m())==="en"?eo():to(),no=()=>"consensus key",ro=()=>"clave de consenso",oo=(t={},e={})=>(e.locale??m())==="en"?no():ro(),so=()=>"ACTIVE",io=()=>"ACTIVO",lo=(t={},e={})=>(e.locale??m())==="en"?so():io(),co=()=>"pending",uo=()=>"pendiente",vo=(t={},e={})=>(e.locale??m())==="en"?co():uo(),_o=()=>"update",mo=()=>"actualizar",Na=(t={},e={})=>(e.locale??m())==="en"?_o():mo(),fo=()=>"N/A",go=()=>"N/D",Oa=(t={},e={})=>(e.locale??m())==="en"?fo():go(),po=()=>"set up",ho=()=>"configurar",bo=(t={},e={})=>(e.locale??m())==="en"?po():ho(),yo=()=>"delegation management",ko=()=>"gesti√≥n de delegaci√≥n",xo=(t={},e={})=>(e.locale??m())==="en"?yo():ko(),wo=()=>"upcoming staking fee",Po=()=>"pr√≥xima tarifa de apuesta",Co=(t={},e={})=>(e.locale??m())==="en"?wo():Po(),Mo=()=>"available stake capacity",Lo=()=>"capacidad de apuesta disponible",Ea=(t={},e={})=>(e.locale??m())==="en"?Mo():Lo(),jo=()=>"cancel delegation",Do=()=>"cancelar delegaci√≥n",So=(t={},e={})=>(e.locale??m())==="en"?jo():Do(),Ao=()=>"Change the baker",zo=()=>"Cambiar el panadero",To=(t={},e={})=>(e.locale??m())==="en"?Ao():zo(),No=()=>"You have to delegate to be able to stake.",Oo=()=>"Debe delegar para poder apostar.",Eo=(t={},e={})=>(e.locale??m())==="en"?No():Oo(),Bo=()=>"Building transaction...",Io=()=>"Construyendo transacci√≥n...",Wo=(t={},e={})=>(e.locale??m())==="en"?Bo():Io(),Ro=()=>"Waiting for confirmation...",qo=()=>"Esperando confirmaci√≥n...",Fo=(t={},e={})=>(e.locale??m())==="en"?Ro():qo(),Vo=()=>"CONFIRMED",Uo=()=>"CONFIRMADO",Ba=(t={},e={})=>(e.locale??m())==="en"?Vo():Uo(),Ho=()=>"FAILED",Xo=()=>"FALLIDO",Ia=(t={},e={})=>(e.locale??m())==="en"?Ho():Xo(),Yo=()=>"Loading governance state...",Zo=()=>"Cargando estado de gobernanza...",$o=(t={},e={})=>(e.locale??m())==="en"?Yo():Zo(),Go=()=>"is not supported yet",Qo=()=>"a√∫n no es compatible",Jo=(t={},e={})=>(e.locale??m())==="en"?Go():Qo(),Ko=()=>"period",es=()=>"per√≠odo",ts=(t={},e={})=>(e.locale??m())==="en"?Ko():es(),as=()=>"ended",ns=()=>"finalizado",rs=(t={},e={})=>(e.locale??m())==="en"?as():ns(),os=()=>"blocks",ss=()=>"bloques",is=(t={},e={})=>(e.locale??m())==="en"?os():ss(),ls=()=>"ends in",cs=()=>"termina en",ds=(t={},e={})=>(e.locale??m())==="en"?ls():cs(),us=()=>"Loading account...",vs=()=>"Cargando cuenta...",_s=(t={},e={})=>(e.locale??m())==="en"?us():vs(),ms=()=>"EXPLORER",fs=()=>"EXPLORADOR",ha=(t={},e={})=>(e.locale??m())==="en"?ms():fs(),gs=()=>"AGORA",ps=()=>"√ÅGORA",ba=(t={},e={})=>(e.locale??m())==="en"?gs():ps(),hs=()=>"You voted",bs=()=>"Usted vot√≥",ys=(t={},e={})=>(e.locale??m())==="en"?hs():bs(),ks=()=>"YAY",xs=()=>"S√ç",Wa=(t={},e={})=>(e.locale??m())==="en"?ks():xs(),ws=()=>"NAY",Ps=()=>"NO",Ra=(t={},e={})=>(e.locale??m())==="en"?ws():Ps(),Cs=()=>"PASS",Ms=()=>"ABSTENCI√ìN",qa=(t={},e={})=>(e.locale??m())==="en"?Cs():Ms(),Ls=()=>"quorum",js=()=>"qu√≥rum",Ds=(t={},e={})=>(e.locale??m())==="en"?Ls():js(),Ss=()=>"supermajority",As=()=>"supermayor√≠a",zs=(t={},e={})=>(e.locale??m())==="en"?Ss():As(),Ts=()=>"reached",Ns=()=>"alcanzado",ua=(t={},e={})=>(e.locale??m())==="en"?Ts():Ns(),Os=()=>"required",Es=()=>"requerido",va=(t={},e={})=>(e.locale??m())==="en"?Os():Es(),Bs=()=>"Proposal can not be empty",Is=()=>"La propuesta no puede estar vac√≠a",Ws=(t={},e={})=>(e.locale??m())==="en"?Bs():Is(),Rs=()=>"Proposal has to start with 'P'",qs=()=>"La propuesta debe comenzar con 'P'",Fs=(t={},e={})=>(e.locale??m())==="en"?Rs():qs(),Vs=()=>"New proposal",Us=()=>"Nueva propuesta",_a=(t={},e={})=>(e.locale??m())==="en"?Vs():Us(),Hs=()=>"Statement",Xs=()=>"Declaraci√≥n",Ys=(t={},e={})=>(e.locale??m())==="en"?Hs():Xs(),Zs=()=>"If you want to make a statement, write it in the 'statement' field; this will generate a proposal hash for you.",$s=()=>"Si desea hacer una declaraci√≥n, escr√≠bala en el campo 'declaraci√≥n'; esto generar√° un hash de propuesta para usted.",Gs=(t={},e={})=>(e.locale??m())==="en"?Zs():$s(),Qs=()=>"To inject a proper protocol upgrade proposal, write the hash in the 'new proposal' field and leave the 'statement' blank.",Js=()=>"Para inyectar una propuesta adecuada de actualizaci√≥n del protocolo, escriba el hash en el campo 'nueva propuesta' y deje en blanco la 'declaraci√≥n'.",Ks=(t={},e={})=>(e.locale??m())==="en"?Qs():Js(),ei=()=>"* Please refrain from using this feature for spamming.",ti=()=>"* Por favor abst√©ngase de usar esta funci√≥n para spam.",ai=(t={},e={})=>(e.locale??m())==="en"?ei():ti(),ni=()=>"Remember that you can propose or vote for a proposal only",ri=()=>"Recuerde que solo puede proponer o votar una propuesta",oi=(t={},e={})=>(e.locale??m())==="en"?ni():ri(),si=()=>"10 times per period",ii=()=>"10 veces por per√≠odo",li=(t={},e={})=>(e.locale??m())==="en"?si():ii(),ci=()=>"You can provide proposal hash",di=()=>"Puede proporcionar el hash de la propuesta",ui=(t={},e={})=>(e.locale??m())==="en"?ci():di(),vi=()=>"inject",_i=()=>"inyectar",mi=(t={},e={})=>(e.locale??m())==="en"?vi():_i(),fi=()=>"upvotes",gi=()=>"votos a favor",pi=(t={},e={})=>(e.locale??m())==="en"?fi():gi(),hi=()=>"UPVOTED",bi=()=>"VOTADO",yi=(t={},e={})=>(e.locale??m())==="en"?hi():bi(),ki=()=>"UPVOTE",xi=()=>"VOTAR A FAVOR",wi=(t={},e={})=>(e.locale??m())==="en"?ki():xi(),Pi=()=>"account information",Ci=()=>"informaci√≥n de la cuenta",Mi=(t={},e={})=>(e.locale??m())==="en"?Pi():Ci(),Li=()=>"Loading account information...",ji=()=>"Cargando informaci√≥n de la cuenta...",Di=(t={},e={})=>(e.locale??m())==="en"?Li():ji(),Si=()=>"full balance",Ai=()=>"saldo completo",zi=(t={},e={})=>(e.locale??m())==="en"?Si():Ai(),Ti=()=>"liquid balance",Ni=()=>"saldo l√≠quido",Oi=(t={},e={})=>(e.locale??m())==="en"?Ti():Ni(),Ei=()=>"staked balance",Bi=()=>"saldo apostado",Ii=(t={},e={})=>(e.locale??m())==="en"?Ei():Bi(),Wi=()=>"Finalizable Balance",Ri=()=>"Saldo finalizable",qi=(t={},e={})=>(e.locale??m())==="en"?Wi():Ri(),Fi=()=>"NOTE: You may need to confirm the transaction with your signer",Vi=()=>"NOTA: Puede que necesite confirmar la transacci√≥n con su firmante",Ui=(t={},e={})=>(e.locale??m())==="en"?Fi():Vi(),Hi=()=>"Open Explorer",Xi=()=>"Abrir explorador",Yi=(t={},e={})=>(e.locale??m())==="en"?Hi():Xi(),Zi=()=>"Transaction",$i=()=>"Transacci√≥n",Gi=(t={},e={})=>(e.locale??m())==="en"?Zi():$i(),Qi=()=>"no proposals",Ji=()=>"no hay propuestas",Ki=(t={},e={})=>(e.locale??m())==="en"?Qi():Ji(),ma="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",el=34,tl=51,al=t=>{let e=0n;for(const a of t)e*=58n,e+=BigInt(ma.indexOf(a));return e},Fa=t=>{const e=[];for(;t>0n;)e.push(Number(t%256n)),t=t/256n;return e.reverse()},nl=t=>{const e=el,a=al(t),s=qt.decode(t).length+1,l=BigInt(8*(e-s+4)),_=tl-t.length;let c=a*58n**BigInt(_);c=c>>l,c+=c===c>>l<<l?0n:1n;let u=(a+1n)*58n**BigInt(_)-(1n<<l)+1n;if(u=u>>l,u>=c){const g=Uint8Array.from(Array.from({...Fa(c),length:e}).map(b=>b===void 0?0:b)),p=da.encode(g);if(!p.startsWith(t)||p.length!==_+t.length)return null;const C=Uint8Array.from(Array.from({...Fa(c),length:e}).map(b=>b===void 0?255:b)),v=da.encode(C);return!v.startsWith(t)||v.length!==_+t.length?null:g}return null},rl=t=>{let e="Pt1";for(const s of t){if(ma.includes(s)){e+=s;continue}if(ma.includes(s.toLowerCase())){e+=s.toLowerCase();continue}}const a=nl(e);return a===null?[!1,"Can not generate protocol hash from provided message"]:[!0,da.encode(new Uint8Array(a))]};var ol=L('<div class="center svelte-sbi72s"><div class="content sl-card svelte-sbi72s"><b class="title svelte-sbi72s"> </b> <div></div> <div class="text"> </div> <div class="text"> </div> <div class="text"><b> </b></div> <div class="text"> <b> </b>.</div> <div></div> <!> <!> <div class="controls svelte-sbi72s"><!> <div><!></div></div></div></div>');function sl(t,e){We(e,!0);let a=xt(e,"open",15,!1),s=Ee(""),l=Ee("");async function _(){e.onnewproposal(n(l)),a(!1)}const c=[g=>!!g||Ws(),g=>g.startsWith("P")||Fs()];ia(()=>{a()&&(te(s,""),te(l,""))}),ia(()=>{if(n(s)){const[g,p]=rl(n(s));g&&te(l,p,!0)}});let u=h(()=>c.every(g=>g(n(l))===!0));Et(t,{get open(){return a()},persistent:!0,children:(g,p)=>{var C=ol(),v=r(C),b=r(v),P=r(b,!0);o(b);var x=i(b,4),T=r(x,!0);o(x);var K=i(x,2),F=r(K,!0);o(K);var O=i(K,2),q=r(O),S=r(q,!0);o(q),o(O);var y=i(O,2),D=r(y),E=i(D),Y=r(E,!0);o(E),At(),o(y);var k=i(y,4);const w=h(()=>Ys());zt(k,{get label(){return n(w)},get value(){return n(s)},set value(R){te(s,R,!0)}});var j=i(k,2);const B=h(()=>_a()),A=h(()=>ui());zt(j,{get label(){return n(B)},get hint(){return n(A)},get rules(){return c},get value(){return n(l)},set value(R){te(l,R,!0)}});var z=i(j,2),se=r(z);X(se,{label:"Cancel",onclick:()=>a(!1)});var W=i(se,2);let U;var Q=r(W);const ie=h(()=>mi());X(Q,{get label(){return n(ie)},onclick:_}),o(W),o(z),o(v),o(C),M((R,Z,V,le,$,ue,ae)=>{d(P,R),d(T,Z),d(F,V),d(S,le),d(D,`${$??""} `),d(Y,ue),U=Be(W,1,"",null,U,ae)},[()=>_a(),()=>Gs(),()=>Ks(),()=>ai(),()=>oi(),()=>li(),()=>({disabled:!n(u)})]),f(g,C)},$$slots:{default:!0}}),Re()}var il=Nt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"></path></svg>');function Xt(t){var e=il();f(t,e)}var ll=Nt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 3 6 L 3 25 L 13 25 C 14.101563 25 15 25.898438 15 27 L 17 27 C 17 25.898438 17.898438 25 19 25 L 29 25 L 29 6 L 19 6 C 17.808594 6 16.734375 6.527344 16 7.359375 C 15.265625 6.527344 14.191406 6 13 6 Z M 5 8 L 13 8 C 14.101563 8 15 8.898438 15 10 L 17 10 C 17 8.898438 17.898438 8 19 8 L 27 8 L 27 23 L 19 23 C 17.808594 23 16.734375 23.527344 16 24.359375 C 15.265625 23.527344 14.191406 23 13 23 L 5 23 Z M 15 12 L 15 14 L 17 14 L 17 12 Z M 15 16 L 15 18 L 17 18 L 17 16 Z M 15 20 L 15 22 L 17 22 L 17 20 Z"></path></svg>');function ya(t){var e=ll();f(t,e)}var cl=Nt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z"></path></svg>');function ka(t){var e=cl();f(t,e)}function dl(t,e){if(!t)return new Date(0);const s=((t.startPosition+t.position+t.remaining??-1)-(e??t?.position??1))*sn;return new Date(Date.now()+s)}function ul(t,e){return t?(t.startPosition+t.position+t.remaining??0)-(e??0):"N/A"}function vl(t){return(BigInt(t)/10n**6n).toLocaleString()}var _l=(t,e)=>ht(n(e).proposal),ml=L('<div class="button-content svelte-1kvhhsz"><div class="label svelte-1kvhhsz"> </div> <div class="icon svelte-1kvhhsz"><!></div></div>'),fl=L('<div class="button-content svelte-1kvhhsz"><div class="label svelte-1kvhhsz"> </div> <div class="icon svelte-1kvhhsz"><!></div></div>'),gl=L('<div class="button-content upvoted svelte-1kvhhsz"><div class="label svelte-1kvhhsz"> </div> <div class="icon svelte-1kvhhsz"><!></div></div>'),pl=L('<div class="button-content svelte-1kvhhsz"><div class="label svelte-1kvhhsz"> </div> <div class="icon svelte-1kvhhsz"><!></div></div>'),hl=L('<div><div class="title svelte-1kvhhsz"><button class="unstyle-button"> </button></div> <div class="upvotes svelte-1kvhhsz"> <!></div> <div class="upvote-bar svelte-1kvhhsz"><svg width="100%" height="15"><rect width="100%" y="5" height="5" fill="#e6e6e6" rx="2" ry="2"></rect><rect y="5" height="5" fill="var(--progress-color)" rx="2" ry="2"></rect><rect width="3" height="15" fill="var(--progress-color)" rx="2" ry="2"></rect></svg></div> <!> <!> <div><!></div></div>'),bl=L('<!> <div class="separator svelte-1kvhhsz"><!></div>',1),yl=L('<div class="proposal-period-wrap svelte-1kvhhsz"><div class="proposal-period svelte-1kvhhsz"><!></div> <div><!></div></div> <!>',1);function kl(t,e){We(e,!0);let a=h(()=>e.session.account),s=Ee(!1);function l(y){window.open(`${fa}/${y}`,"_blank")}function _(y){window.open(`${ga}/${y}/${e.period.index}`,"_blank")}async function c(y){await e.onNewOperation(async()=>await e.session.upvote(y,e.period.index))}const u=h(()=>e.period.voters.reduce((y,D)=>y+BigInt(D.votingPower.toString()),0n));let g=h(()=>Za(e.period.voters,y=>y.pkh===n(a).id)),p=h(()=>e.period.proposals.map(y=>{const D=Number(BigInt(y.upvotes.toString())*100000n/n(u))/1e3;return{...y,upvotes:y.upvotes,upvotesFormatted:vl(y.upvotes.toString()),percentage:Math.round(D*100)/100,percentageString:`${D}%`,quorumReached:BigInt(y.upvotes.toString())>n(u)/100n*It}}));var C=yl(),v=J(C),b=r(v),P=r(b);{var x=y=>{var D=Oe();M(E=>d(D,E),[()=>Ki()]),f(y,D)},T=y=>{var D=bl(),E=J(D);Ft(E,17,()=>n(p),Vt,(w,j)=>{var B=hl();let A;var z=r(B),se=r(z);se.__click=[_l,j];var W=r(se,!0);o(se),o(z);var U=i(z,2),Q=r(U),ie=i(Q);{var R=ee=>{var oe=Oe();M(ne=>d(oe,`(${It??""}% ${ne??""})`),[()=>ua()]),f(ee,oe)},Z=ee=>{var oe=Oe();M(ne=>d(oe,`(${ne??""} ${It??""}%)`),[()=>va()]),f(ee,oe)};N(ie,ee=>{n(j).quorumReached?ee(R):ee(Z,!1)})}o(U);var V=i(U,2),le=r(V),$=i(r(le)),ue=i($);o(le),o(V);var ae=i(V,2);X(ae,{onclick:()=>l(n(j).proposal),children:(ee,oe)=>{var ne=ml(),ce=r(ne),ve=r(ce,!0);o(ce);var ge=i(ce,2),Pe=r(ge);ka(Pe),o(ge),o(ne),M(pe=>d(ve,pe),[()=>ha()]),f(ee,ne)},$$slots:{default:!0}});var fe=i(ae,2);X(fe,{onclick:()=>_(n(j).proposal),children:(ee,oe)=>{var ne=fl(),ce=r(ne),ve=r(ce,!0);o(ce);var ge=i(ce,2),Pe=r(ge);ya(Pe),o(ge),o(ne),M(pe=>d(ve,pe),[()=>ba()]),f(ee,ne)},$$slots:{default:!0}});var ke=i(fe,2);let xe;var we=r(ke);{var Ne=ee=>{var oe=gl(),ne=r(oe),ce=r(ne,!0);o(ne);var ve=i(ne,2),ge=r(ve);Xt(ge),o(ve),o(oe),M(Pe=>d(ce,Pe),[()=>yi()]),f(ee,oe)},Ue=ee=>{X(ee,{onclick:()=>c([n(j).proposal]),children:(oe,ne)=>{var ce=pl(),ve=r(ce),ge=r(ve,!0);o(ve);var Pe=i(ve,2),pe=r(Pe);Xt(pe),o(Pe),o(ce),M(de=>d(ge,de),[()=>wi()]),f(oe,ce)},$$slots:{default:!0}})};N(we,ee=>{e.period.votes&&e.period.votes[n(j).proposal].includes(n(a).id)?ee(Ne):ee(Ue,!1)})}o(ke),o(B),M((ee,oe,ne)=>{A=Be(B,1,"proposal svelte-1kvhhsz",null,A,ee),d(W,n(j).proposal),d(Q,`${n(j).upvotesFormatted??""} ${oe??""} ~ ${n(j).percentage??""}% `),dt($,"width",n(j).percentageString),dt(ue,"x",`${It}%`),xe=Be(ke,1,"upvote-btn svelte-1kvhhsz",null,xe,ne)},[()=>({success:n(j).quorumReached}),()=>pi(),()=>({disabled:!n(g)})]),f(w,B)});var Y=i(E,2),k=r(Y);Pt(k),o(Y),f(y,D)};N(P,y=>{n(p).length===0?y(x):y(T,!1)})}o(b);var K=i(b,2);let F;var O=r(K);const q=h(()=>_a());X(O,{get label(){return n(q)},onclick:()=>te(s,!0)}),o(K),o(v);var S=i(v,2);sl(S,{onnewproposal:y=>c([y]),get open(){return n(s)},set open(y){te(s,y,!0)}}),M(y=>F=Be(K,1,"new-proposal",null,F,y),[()=>({disabled:!n(g)})]),f(t,C),Re()}Ot(["click"]);var xl=Nt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"></path></svg>');function Va(t){var e=xl();f(t,e)}var wl=Nt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16 6 C 14.9375 6 14.003906 6.5625 13.46875 7.40625 C 13.03125 7.15625 12.535156 7 12 7 C 10.355469 7 9 8.355469 9 10 L 9 13.65625 L 8.875 13.8125 C 8.800781 13.898438 8.730469 13.976563 8.65625 14.0625 C 8.144531 14.660156 7.65625 15.292969 7.21875 15.9375 L 6.90625 16.34375 C 6.480469 16.894531 6.21875 17.535156 6.09375 18.1875 C 6.078125 18.261719 6.042969 18.332031 6.03125 18.40625 C 5.855469 19.652344 6.226563 20.949219 7.09375 21.9375 L 9.46875 24.625 C 10.796875 26.136719 12.707031 27 14.71875 27 L 20 27 C 23.855469 27 27 23.855469 27 20 L 27 11 C 27 9.355469 25.644531 8 24 8 C 23.464844 8 22.96875 8.15625 22.53125 8.40625 C 21.996094 7.5625 21.0625 7 20 7 C 19.464844 7 18.96875 7.15625 18.53125 7.40625 C 17.996094 6.5625 17.0625 6 16 6 Z M 16 8 C 16.566406 8 17 8.433594 17 9 L 17 11.1875 C 16.683594 11.074219 16.351563 11 16 11 L 15 11 L 15 9 C 15 8.433594 15.433594 8 16 8 Z M 12 9 C 12.566406 9 13 9.433594 13 10 L 13 11 L 11.59375 11 L 11.3125 11.28125 C 11.3125 11.28125 11.085938 11.511719 11 11.59375 L 11 10 C 11 9.433594 11.433594 9 12 9 Z M 20 9 C 20.566406 9 21 9.433594 21 10 L 21 13 C 21 13.566406 20.566406 14 20 14 C 19.433594 14 19 13.566406 19 13 L 19 10 C 19 9.433594 19.433594 9 20 9 Z M 24 10 C 24.566406 10 25 10.433594 25 11 L 25 13 C 25 13.566406 24.566406 14 24 14 C 23.433594 14 23 13.566406 23 13 L 23 11 C 23 10.433594 23.433594 10 24 10 Z M 12.4375 13 L 16 13 C 16.5625 13 17 13.4375 17 14 C 17 14.5625 16.5625 15 16 15 L 12.875 15 L 12.59375 15.375 L 10.25 18.34375 L 11.8125 19.59375 L 13.65625 17.28125 C 14.015625 17.449219 14.425781 17.699219 14.875 18.0625 C 15.941406 18.929688 17 20.347656 17 23 L 19 23 C 19 20.132813 17.855469 18.15625 16.59375 16.9375 C 17.402344 16.769531 18.101563 16.273438 18.53125 15.59375 C 18.96875 15.84375 19.464844 16 20 16 C 20.765625 16 21.46875 15.699219 22 15.21875 C 22.53125 15.699219 23.234375 16 24 16 C 24.351563 16 24.683594 15.925781 25 15.8125 L 25 20 C 25 22.773438 22.773438 25 20 25 L 14.71875 25 C 13.28125 25 11.917969 24.394531 10.96875 23.3125 L 8.59375 20.59375 C 8.164063 20.105469 7.964844 19.507813 8 18.90625 C 8 18.898438 8.027344 18.832031 8.03125 18.8125 C 8.035156 18.78125 8.027344 18.75 8.03125 18.71875 C 8.078125 18.5 8.230469 18.078125 8.5625 17.53125 C 8.605469 17.460938 8.671875 17.382813 8.71875 17.3125 L 10.1875 15.375 C 11.292969 14.082031 12.214844 13.210938 12.4375 13 Z"></path></svg>');function Ua(t){var e=wl();f(t,e)}const Rt=43200,Ha=1440,Xa=Symbol.for("constructDateFrom");function xa(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Xa in t?t[Xa](e):t instanceof Date?new t.constructor(e):new Date(e)}function ut(t,e){return xa(t,t)}let Pl={};function Cl(){return Pl}function Ya(t){const e=ut(t),a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return a.setUTCFullYear(e.getFullYear()),+t-+a}function wa(t,...e){const a=xa.bind(null,t||e.find(s=>typeof s=="object"));return e.map(a)}function Ut(t,e){const a=+ut(t)-+ut(e);return a<0?-1:a>0?1:a}function Ml(t){return xa(t,Date.now())}function Ll(t,e,a){const[s,l]=wa(a?.in,t,e),_=s.getFullYear()-l.getFullYear(),c=s.getMonth()-l.getMonth();return _*12+c}function jl(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function Dl(t,e){return+ut(t)-+ut(e)}function Sl(t,e){const a=ut(t);return a.setHours(23,59,59,999),a}function Al(t,e){const a=ut(t),s=a.getMonth();return a.setFullYear(a.getFullYear(),s+1,0),a.setHours(23,59,59,999),a}function zl(t,e){const a=ut(t);return+Sl(a)==+Al(a)}function Tl(t,e,a){const[s,l,_]=wa(a?.in,t,t,e),c=Ut(l,_),u=Math.abs(Ll(l,_));if(u<1)return 0;l.getMonth()===1&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-c*u);let g=Ut(l,_)===-c;zl(s)&&u===1&&Ut(s,_)===1&&(g=!1);const p=c*(u-+g);return p===0?0:p}function Nl(t,e,a){const s=Dl(t,e)/1e3;return jl(a?.roundingMethod)(s)}const Ol={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},El=(t,e,a)=>{let s;const l=Ol[t];return typeof l=="string"?s=l:e===1?s=l.one:s=l.other.replace("{{count}}",e.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+s:s+" ago":s};function wt(t){return(e={})=>{const a=e.width?String(e.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const Bl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Il={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wl={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Rl={date:wt({formats:Bl,defaultWidth:"full"}),time:wt({formats:Il,defaultWidth:"full"}),dateTime:wt({formats:Wl,defaultWidth:"full"})},ql={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fl=(t,e,a,s)=>ql[t];function Je(t){return(e,a)=>{const s=a?.context?String(a.context):"standalone";let l;if(s==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=a?.width?String(a.width):c;l=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=a?.width?String(a.width):t.defaultWidth;l=t.values[u]||t.values[c]}const _=t.argumentCallback?t.argumentCallback(e):e;return l[_]}}const Vl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ul={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xl={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Yl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$l=(t,e)=>{const a=Number(t),s=a%100;if(s>20||s<10)switch(s%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Gl={ordinalNumber:$l,era:Je({values:Vl,defaultWidth:"wide"}),quarter:Je({values:Ul,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Je({values:Hl,defaultWidth:"wide"}),day:Je({values:Xl,defaultWidth:"wide"}),dayPeriod:Je({values:Yl,defaultWidth:"wide",formattingValues:Zl,defaultFormattingWidth:"wide"})};function Ke(t){return(e,a={})=>{const s=a.width,l=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],_=e.match(l);if(!_)return null;const c=_[0],u=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],g=Array.isArray(u)?Jl(u,v=>v.test(c)):Ql(u,v=>v.test(c));let p;p=t.valueCallback?t.valueCallback(g):g,p=a.valueCallback?a.valueCallback(p):p;const C=e.slice(c.length);return{value:p,rest:C}}}function Ql(t,e){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return a}function Jl(t,e){for(let a=0;a<t.length;a++)if(e(t[a]))return a}function Qa(t){return(e,a={})=>{const s=e.match(t.matchPattern);if(!s)return null;const l=s[0],_=e.match(t.parsePattern);if(!_)return null;let c=t.valueCallback?t.valueCallback(_[0]):_[0];c=a.valueCallback?a.valueCallback(c):c;const u=e.slice(l.length);return{value:c,rest:u}}}const Kl=/^(\d+)(th|st|nd|rd)?/i,ec=/\d+/i,tc={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ac={any:[/^b/i,/^(a|c)/i]},nc={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rc={any:[/1/i,/2/i,/3/i,/4/i]},oc={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sc={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ic={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lc={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cc={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dc={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uc={ordinalNumber:Qa({matchPattern:Kl,parsePattern:ec,valueCallback:t=>parseInt(t,10)}),era:Ke({matchPatterns:tc,defaultMatchWidth:"wide",parsePatterns:ac,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:nc,defaultMatchWidth:"wide",parsePatterns:rc,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ke({matchPatterns:oc,defaultMatchWidth:"wide",parsePatterns:sc,defaultParseWidth:"any"}),day:Ke({matchPatterns:ic,defaultMatchWidth:"wide",parsePatterns:lc,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:cc,defaultMatchWidth:"any",parsePatterns:dc,defaultParseWidth:"any"})},vc={code:"en-US",formatDistance:El,formatLong:Rl,formatRelative:Fl,localize:Gl,match:uc,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _c(t,e,a){const s=Cl(),l=a?.locale??s.locale??vc,_=2520,c=Ut(t,e);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:c}),[g,p]=wa(a?.in,...c>0?[e,t]:[t,e]),C=Nl(p,g),v=(Ya(p)-Ya(g))/1e3,b=Math.round((C-v)/60);let P;if(b<2)return a?.includeSeconds?C<5?l.formatDistance("lessThanXSeconds",5,u):C<10?l.formatDistance("lessThanXSeconds",10,u):C<20?l.formatDistance("lessThanXSeconds",20,u):C<40?l.formatDistance("halfAMinute",0,u):C<60?l.formatDistance("lessThanXMinutes",1,u):l.formatDistance("xMinutes",1,u):b===0?l.formatDistance("lessThanXMinutes",1,u):l.formatDistance("xMinutes",b,u);if(b<45)return l.formatDistance("xMinutes",b,u);if(b<90)return l.formatDistance("aboutXHours",1,u);if(b<Ha){const x=Math.round(b/60);return l.formatDistance("aboutXHours",x,u)}else{if(b<_)return l.formatDistance("xDays",1,u);if(b<Rt){const x=Math.round(b/Ha);return l.formatDistance("xDays",x,u)}else if(b<Rt*2)return P=Math.round(b/Rt),l.formatDistance("aboutXMonths",P,u)}if(P=Tl(p,g),P<12){const x=Math.round(b/Rt);return l.formatDistance("xMonths",x,u)}else{const x=P%12,T=Math.trunc(P/12);return x<3?l.formatDistance("aboutXYears",T,u):x<9?l.formatDistance("overXYears",T,u):l.formatDistance("almostXYears",T+1,u)}}function mc(t,e){return _c(t,Ml(t),e)}function sa(t){return typeof t=="bigint"&&(t=t.toString()),!t||typeof t!="string"?"N/A":t==="0"?"0 Íú©":`${t.substring(0,t.length-6)}.${t.substring(t.length-6)} Íú©`}var fc=(t,e)=>ht(e.period.proposal),gc=L('<div class="button-content svelte-13m2jt6"><div class="label svelte-13m2jt6"> </div> <div class="icon svelte-13m2jt6"><!></div></div>'),pc=L('<div class="button-content svelte-13m2jt6"><div class="label svelte-13m2jt6"> </div> <div class="icon svelte-13m2jt6"><!></div></div>'),hc=L('<div class="existing-vote svelte-13m2jt6"> <div class="ballot svelte-13m2jt6"><!></div></div>'),bc=L('<div class="button-content svelte-13m2jt6"><div class="label svelte-13m2jt6"> </div> <div class="icon svelte-13m2jt6"><!></div></div>'),yc=L('<div class="button-content svelte-13m2jt6"><div class="label svelte-13m2jt6"> </div> <div class="icon svelte-13m2jt6"><!></div></div>'),kc=L('<div class="button-content svelte-13m2jt6"><div class="label svelte-13m2jt6"> </div> <div class="icon svelte-13m2jt6"><!></div></div>'),xc=L('<div class="nay svelte-13m2jt6"><!></div> <div class="pass svelte-13m2jt6"><!></div> <div class="yay svelte-13m2jt6"><!></div>',1),wc=L('<div><div class="period svelte-13m2jt6"><div class="proposal svelte-13m2jt6"><div class="title svelte-13m2jt6"><button class="unstyle-button"> </button></div> <div class="vote-summary svelte-13m2jt6"><div class="nay value svelte-13m2jt6"> <div class="icon svelte-13m2jt6"><!></div></div> <div class="pass value svelte-13m2jt6"> <div class="icon svelte-13m2jt6"><!></div></div> <div class="yay value svelte-13m2jt6"> <div class="icon svelte-13m2jt6"><!></div></div></div> <div class="separator svelte-13m2jt6"><!></div> <div class="bar svelte-13m2jt6"><div class="bar-title svelte-13m2jt6"> </div> <div class="bar-description svelte-13m2jt6"> <!></div> <svg width="100%" height="15"><rect width="100%" height="5" y="5" fill="#e6e6e6" rx="2" ry="2"></rect><rect y="5" height="5" fill="var(--yay-color)" rx="2" ry="2"></rect><rect height="5" y="5" fill="var(--pass-color)" rx="2" ry="2"></rect><rect height="5" y="5" fill="var(--nay-color)" rx="2" ry="2"></rect><rect width="3" height="15" fill="var(--quorum-color)" rx="2" ry="2"></rect></svg></div> <div class="bar svelte-13m2jt6"><div class="bar-title svelte-13m2jt6"> </div> <div class="bar-description svelte-13m2jt6"> <!></div> <svg width="100%" height="15"><rect width="100%" height="5" y="5" fill="#e6e6e6" rx="2" ry="2"></rect><rect y="5" height="5" fill="var(--majority-color)" rx="2" ry="2"></rect><rect width="3" height="15" fill="var(--majority-color)" rx="2" ry="2"></rect></svg></div> <!> <!> <div class="separator svelte-13m2jt6"><!></div> <div><!></div></div></div></div>');function Pc(t,e){We(e,!0);let a=h(()=>e.session.account),s=h(()=>e.period.voters.reduce((I,H)=>I+BigInt(H.votingPower.toString()),0n)),l=h(()=>e.period.summary.yay+e.period.summary.nay||1n),_=h(()=>Math.round(Number(BigInt(e.period.summary.yay)*100000n/n(s))/10)/100),c=h(()=>Math.round(Number(BigInt(e.period.summary.nay)*100000n/n(s))/10)/100),u=h(()=>Math.round(Number(BigInt(e.period.summary.pass)*100000n/n(s))/10)/100);const g=h(()=>n(l)+BigInt(e.period.summary.pass));let p=h(()=>n(g)>n(s)*BigInt(e.period.quorum)/10000n),C=h(()=>Math.min(Number(BigInt(e.period.summary.yay+e.period.summary.nay+e.period.summary.pass)*100000n/n(s))/1e3,100)),v=Number(e.period.quorum)/100,b=h(()=>BigInt(e.period.summary.yay)>=n(l)*Ma/100n),P=h(()=>Math.round(Number(BigInt(e.period.summary.yay)*100000n/n(l))/10)/100),x=h(()=>Number(Ma));function T(){window.open(`${fa}/${e.period.proposal}`,"_blank")}function K(){window.open(`${ga}/${e.period.proposal}/${e.period.index}`,"_blank")}async function F(I){await e.onNewOperation(async()=>await e.session.vote(e.period.proposal,I,e.period.index))}let O=h(()=>e.period.ballots.find(I=>I.pkh===n(a).id)),q=h(()=>Za(e.period.voters,I=>I.pkh===n(a).id));var S=wc();let y;var D=r(S),E=r(D),Y=r(E),k=r(Y);k.__click=[fc,e];var w=r(k,!0);o(k),o(Y);var j=i(Y,2),B=r(j),A=r(B),z=i(A),se=r(z);Va(se),o(z),o(B);var W=i(B,2),U=r(W),Q=i(U),ie=r(Q);Ua(ie),o(Q),o(W);var R=i(W,2),Z=r(R),V=i(Z),le=r(V);Xt(le),o(V),o(R),o(j);var $=i(j,2),ue=r($);Pt(ue),o($);var ae=i($,2),fe=r(ae),ke=r(fe,!0);o(fe);var xe=i(fe,2),we=r(xe),Ne=i(we);{var Ue=I=>{var H=Oe();M(G=>d(H,`(${v}% ${G??""})`),[()=>ua()]),f(I,H)},ee=I=>{var H=Oe();M(G=>d(H,`(${G??""} ${v}%)`),[()=>va()]),f(I,H)};N(Ne,I=>{n(p)?I(Ue):I(ee,!1)})}o(xe);var oe=i(xe,2),ne=i(r(oe)),ce=i(ne),ve=i(ce),ge=i(ve);o(oe),o(ae);var Pe=i(ae,2),pe=r(Pe),de=r(pe,!0);o(pe);var Ce=i(pe,2),Se=r(Ce),et=i(Se);{var Le=I=>{var H=Oe();M(G=>d(H,`(${n(x)??""}% ${G??""})`),[()=>ua()]),f(I,H)},st=I=>{var H=Oe();M(G=>d(H,`(${G??""} ${n(x)??""}%)`),[()=>va()]),f(I,H)};N(et,I=>{n(b)?I(Le):I(st,!1)})}o(Ce);var He=i(Ce,2),tt=i(r(He)),Ae=i(tt);o(He),o(Pe);var Xe=i(Pe,2);X(Xe,{onclick:()=>T(),children:(I,H)=>{var G=gc(),_e=r(G),Me=r(_e,!0);o(_e);var he=i(_e,2),je=r(he);ka(je),o(he),o(G),M(ye=>d(Me,ye),[()=>ha()]),f(I,G)},$$slots:{default:!0}});var Ye=i(Xe,2);X(Ye,{onclick:()=>K(),children:(I,H)=>{var G=pc(),_e=r(G),Me=r(_e,!0);o(_e);var he=i(_e,2),je=r(he);ya(je),o(he),o(G),M(ye=>d(Me,ye),[()=>ba()]),f(I,G)},$$slots:{default:!0}});var at=i(Ye,2),qe=r(at);Pt(qe),o(at);var Ze=i(at,2);let nt;var vt=r(Ze);{var $e=I=>{var H=hc(),G=r(H),_e=i(G),Me=r(_e);{var he=ye=>{var ze=Oe();M(Fe=>d(ze,Fe),[()=>Wa()]),f(ye,ze)},je=(ye,ze)=>{{var Fe=be=>{var Ie=Oe();M(re=>d(Ie,re),[()=>Ra()]),f(be,Ie)},De=(be,Ie)=>{{var re=me=>{var Te=Oe();M(_t=>d(Te,_t),[()=>qa()]),f(me,Te)};N(be,me=>{n(O).ballot==="pass"&&me(re)},Ie)}};N(ye,be=>{n(O).ballot==="nay"?be(Fe):be(De,!1)},ze)}};N(Me,ye=>{n(O).ballot==="yay"?ye(he):ye(je,!1)})}o(_e),o(H),M(ye=>d(G,`${ye??""}: `),[()=>ys()]),f(I,H)},bt=I=>{var H=xc(),G=J(H),_e=r(G);X(_e,{onclick:()=>F("nay"),children:(ze,Fe)=>{var De=bc(),be=r(De),Ie=r(be,!0);o(be);var re=i(be,2),me=r(re);Va(me),o(re),o(De),M(Te=>d(Ie,Te),[()=>Ra()]),f(ze,De)},$$slots:{default:!0}}),o(G);var Me=i(G,2),he=r(Me);X(he,{onclick:()=>F("pass"),children:(ze,Fe)=>{var De=yc(),be=r(De),Ie=r(be,!0);o(be);var re=i(be,2),me=r(re);Ua(me),o(re),o(De),M(Te=>d(Ie,Te),[()=>qa()]),f(ze,De)},$$slots:{default:!0}}),o(Me);var je=i(Me,2),ye=r(je);X(ye,{onclick:()=>F("yay"),children:(ze,Fe)=>{var De=kc(),be=r(De),Ie=r(be,!0);o(be);var re=i(be,2),me=r(re);Xt(me),o(re),o(De),M(Te=>d(Ie,Te),[()=>Wa()]),f(ze,De)},$$slots:{default:!0}}),o(je),f(I,H)};N(vt,I=>{n(O)?I($e):I(bt,!1)})}o(Ze),o(E),o(D),o(S),M((I,H,G,_e,Me,he,je)=>{y=Be(S,1,"period-wrap svelte-13m2jt6",null,y,I),d(w,e.period.proposal),d(A,`${H??""} (${n(c)??""} %) `),d(U,`${G??""} (${n(u)??""} %) `),d(Z,`${_e??""} (${n(_)??""} %) `),d(ke,Me),d(we,`${n(C)??""} % `),dt(ne,"width",`${n(c)+n(u)+n(_)}%`),dt(ce,"width",`${n(c)+n(u)}%`),dt(ve,"width",`${n(c)}%`),dt(ge,"x",`${v}%`),d(de,he),d(Se,`${n(P)??""} `),dt(tt,"width",`${n(P)}%`),dt(Ae,"x",`${n(x)}%`),nt=Be(Ze,1,"vote-section svelte-13m2jt6",null,nt,je)},[()=>({"quorum-reached":n(p),"majority-reached":n(b)}),()=>sa(e.period.summary.nay),()=>sa(e.period.summary.pass),()=>sa(e.period.summary.yay),()=>Ds(),()=>zs(),()=>({disabled:!n(q)})]),f(t,S),Re()}Ot(["click"]);var Cc=L('<div class="error-message svelte-1kcf8tg"> </div>'),Mc=L('<div class="status svelte-1kcf8tg"> </div>'),Lc=L('<div class="status failed svelte-1kcf8tg"> </div>'),jc=L('<div class="note svelte-1kcf8tg"> </div>'),Dc=L('<div class="progress svelte-1kcf8tg"><!></div> <!>',1),Sc=L('<h5 class="title svelte-1kcf8tg"> </h5> <!> <!> <div><!></div>',1),Ac=L('<div class="center svelte-1kcf8tg"><div class="transaction-confirmation sl-card svelte-1kcf8tg"><!> <!></div></div>');function zc(t,e){We(e,!0);let a=xt(e,"open",15),s=xt(e,"allowClose",3,!0),l=xt(e,"stage",3,"building");function _(p){switch(p){case"building":return Wo();case"confirming":return Fo();case"applied":return Ba();case"failed":return Ia()}}let c=h(()=>e.explorerTemplate?e.explorerTemplate.replace("%s",e.opHash??""):void 0),u=h(()=>_(l()));const g=h(()=>l()==="building"||l()==="confirming");Et(t,{get persistent(){return n(g)},get open(){return a()},set open(p){a(p)},children:(p,C)=>{var v=Ac(),b=r(v),P=r(b);{var x=O=>{var q=Cc(),S=r(q,!0);o(q),M(()=>d(S,e.error)),f(O,q)},T=O=>{var q=Sc(),S=J(q),y=r(S);o(S);var D=i(S,2);Pt(D);var E=i(D,2);{var Y=A=>{var z=Mc(),se=r(z,!0);o(z),M(W=>d(se,W),[()=>Ba()]),f(A,z)},k=(A,z)=>{{var se=U=>{var Q=Lc(),ie=r(Q,!0);o(Q),M(R=>d(ie,R),[()=>Ia()]),f(U,Q)},W=U=>{var Q=Dc(),ie=J(Q),R=r(ie);Tt(R,{get message(){return n(u)},progress:"indeterminate"}),o(ie);var Z=i(ie,2);{var V=le=>{var $=jc(),ue=r($);o($),M(ae=>d(ue,`${ae??""}.`),[()=>Ui()]),f(le,$)};N(Z,le=>{l()==="building"&&le(V)})}f(U,Q)};N(A,U=>{l()==="failed"?U(se):U(W,!1)},z)}};N(E,A=>{l()==="applied"?A(Y):A(k,!1)})}var w=i(E,2);let j;var B=r(w);X(B,{onclick:()=>window.open(n(c),"_blank"),children:(A,z)=>{At();var se=Oe();M(W=>d(se,W),[()=>Yi()]),f(A,se)},$$slots:{default:!0}}),o(w),M((A,z)=>{d(y,`${A??""} ${e.opHash??"~ TBD ~"??""}`),j=Be(w,1,"explore",null,j,z)},[()=>Gi(),()=>({disabled:l()==="building"})]),f(O,q)};N(P,O=>{e.error?O(x):O(T,!1)})}var K=i(P,2);{var F=O=>{X(O,{label:"close",onclick:()=>a(!1)})};N(K,O=>{(s()||l()==="applied"||l()==="failed"||e.error)&&O(F)})}o(b),o(v),f(p,v)},$$slots:{default:!0}}),Re()}var Tc=L('<h3 class="title svelte-4mtex8"> </h3>'),Nc=L('<p class="message svelte-4mtex8"> </p>'),Oc=L('<div class="prompt-wrap sl-card svelte-4mtex8"><!> <!> <!> <div class="controls padding-top svelte-4mtex8"><div class="control-button svelte-4mtex8"><!></div> <div><!></div></div></div>');function Pa(t,e){We(e,!0);const a={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let s=Ee(Ht(a)),l=Ee(!1),_=Ee(Ht({resolve:()=>c(),reject:()=>c()}));function c(){te(l,!1)}async function u(p){return te(l,!0),te(s,{...a,...p},!0),new Promise((C,v)=>{te(_,{resolve:b=>{c(),C(b)},reject:b=>{c(),v(b)}},!0)})}let g=h(()=>la(n(s).value,n(s).rules)!==!0);return Et(t,{persistent:!0,get open(){return n(l)},set open(p){te(l,p,!0)},children:(p,C)=>{var v=Oc(),b=r(v);{var P=k=>{var w=ot(),j=J(w);St(j,()=>e.title,()=>n(s)),f(k,w)},x=k=>{var w=Tc(),j=r(w,!0);o(w),M(()=>d(j,n(s).title)),f(k,w)};N(b,k=>{e.title?k(P):k(x,!1)})}var T=i(b,2);{var K=k=>{var w=ot(),j=J(w);St(j,()=>e.message,()=>n(s)),f(k,w)},F=(k,w)=>{{var j=B=>{var A=Nc(),z=r(A,!0);o(A),M(()=>d(z,n(s).message)),f(B,A)};N(k,B=>{n(s).message&&B(j)},w)}};N(T,k=>{e.message?k(K):k(F,!1)})}var O=i(T,2);zt(O,on(()=>n(s),{no_label:!0,get value(){return n(s).value},set value(k){n(s).value=k}}));var q=i(O,2),S=r(q);Ct(S,"",{},{"grid-column":"1"});var y=r(S);X(y,{get label(){return n(s).cancelText},onclick:()=>n(_).reject(pa)}),o(S);var D=i(S,2);let E;Ct(D,"",{},{"grid-column":"3"});var Y=r(D);X(Y,{get label(){return n(s).confirmText},onclick:()=>n(_).resolve(n(s).value)}),o(D),o(q),o(v),M(k=>E=Be(D,1,"control-button svelte-4mtex8",null,E,k),[()=>({disabled:n(g)})]),f(p,v)},$$slots:{default:!0}}),Re({prompt:u})}var Ec=L('<div class="row svelte-1j4zjtg"><!></div>'),Bc=(t,e)=>ht(n(e).id),Ic=L('<div class="property svelte-1j4zjtg"> </div> <div class="value svelte-1j4zjtg"><div class="icon svelte-1j4zjtg">üßä</div> </div> <div class="action svelte-1j4zjtg"><!></div>',1),Wc=L('<div class="property svelte-1j4zjtg"> </div> <div class="value svelte-1j4zjtg"><div class="icon svelte-1j4zjtg">üí∞</div> </div> <div class="action svelte-1j4zjtg"><!></div>',1),Rc=L('<div class="title svelte-1j4zjtg"> </div> <div class="property svelte-1j4zjtg"> </div> <button class="value unstyle-button address svelte-1j4zjtg"> </button> <div class="property svelte-1j4zjtg"> </div> <div class="value svelte-1j4zjtg"><div class="icon svelte-1j4zjtg">‚öñÔ∏è</div> </div> <div class="property svelte-1j4zjtg"> </div> <div class="value svelte-1j4zjtg"><div class="icon svelte-1j4zjtg">üåä</div> </div> <div class="action svelte-1j4zjtg"><!></div> <!> <!>',1),qc=L('<div class="account-info svelte-1j4zjtg"><!></div> <!>',1);function Fc(t,e){We(e,!0);let a,s=h(()=>e.session.account);async function l(){const P=await a.prompt({title:aa(),message:Fn(),value:"0",rules:ln(n(s)),confirmText:aa()}),x=BigInt(Math.floor(Number(P)*ca));await e.onNewOperation(async()=>await e.session.stake(x)),await Promise.allSettled([e.session.refreshDelegate(),e.session.refreshBalance()])}async function _(){const P=await a.prompt({title:na(),message:Hn(),value:"0",rules:cn(n(s)),confirmText:na()}),x=BigInt(Math.floor(Number(P)*ca));await e.onNewOperation(async()=>await e.session.unstake(x)),await Promise.allSettled([e.session.refreshDelegate(),e.session.refreshBalance()])}async function c(){await e.onNewOperation(async()=>await e.session.finalizeUnstake()),await Promise.allSettled([e.session.refreshDelegate(),e.session.refreshBalance()])}var u=qc(),g=J(u),p=r(g);{var C=P=>{var x=Ec(),T=r(x);const K=h(()=>Di());Tt(T,{progress:"indeterminate",get message(){return n(K)}}),o(x),f(P,x)},v=P=>{var x=Rc(),T=J(x),K=r(T,!0);o(T);var F=i(T,2),O=r(F);o(F);var q=i(F,2);q.__click=[Bc,s];var S=r(q,!0);o(q);var y=i(q,2),D=r(y);o(y);var E=i(y,2),Y=i(r(E));o(E);var k=i(E,2),w=r(k);o(k);var j=i(k,2),B=i(r(j));o(j);var A=i(j,2),z=r(A);const se=h(()=>aa());X(z,{get label(){return n(se)},onclick:l}),o(A);var W=i(A,2);{var U=R=>{var Z=Ic(),V=J(Z),le=r(V);o(V);var $=i(V,2),ue=i(r($));o($);var ae=i($,2),fe=r(ae);const ke=h(()=>na());X(fe,{get label(){return n(ke)},onclick:_}),o(ae),M((xe,we)=>{d(le,`${xe??""}:`),d(ue,` ${we??""}`)},[()=>Ii(),()=>kt(n(s).stakedBalance)]),f(R,Z)};N(W,R=>{n(s).stakedBalance>0&&R(U)})}var Q=i(W,2);{var ie=R=>{var Z=Wc(),V=J(Z),le=r(V);o(V);var $=i(V,2),ue=i(r($));o($);var ae=i($,2),fe=r(ae);const ke=h(()=>Wn());X(fe,{get label(){return n(ke)},onclick:c}),o(ae),M((xe,we)=>{d(le,`${xe??""}:`),d(ue,` ${we??""}`)},[()=>qi(),()=>kt(n(s).finalizableBalance)]),f(R,Z)};N(Q,R=>{n(s).finalizableBalance>0&&R(ie)})}M((R,Z,V,le,$,ue)=>{d(K,R),d(O,`${Z??""}:`),d(S,n(s).id),d(D,`${V??""}:`),d(Y,` ${le??""}`),d(w,`${$??""}:`),d(B,` ${ue??""}`)},[()=>Mi(),()=>zn(),()=>zi(),()=>kt(n(s).fullBalance),()=>Oi(),()=>kt(n(s).balance)]),f(P,x)};N(p,P=>{e.session.state.isLoadingBalance?P(C):P(v,!1)})}o(g);var b=i(g,2);Dt(Pa(b,{}),P=>a=P,()=>a),f(t,u),Re()}Ot(["click"]);const Vc={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d√≠a",other:"{{count}} d√≠as"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a√±o",other:"alrededor de {{count}} a√±os"},xYears:{one:"1 a√±o",other:"{{count}} a√±os"},overXYears:{one:"m√°s de 1 a√±o",other:"m√°s de {{count}} a√±os"},almostXYears:{one:"casi 1 a√±o",other:"casi {{count}} a√±os"}},Uc=(t,e,a)=>{let s;const l=Vc[t];return typeof l=="string"?s=l:e===1?s=l.one:s=l.other.replace("{{count}}",e.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"en "+s:"hace "+s:s},Hc={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Xc={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Yc={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zc={date:wt({formats:Hc,defaultWidth:"full"}),time:wt({formats:Xc,defaultWidth:"full"}),dateTime:wt({formats:Yc,defaultWidth:"full"})},$c={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma√±ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Gc={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma√±ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Qc=(t,e,a,s)=>e.getHours()!==1?Gc[t]:$c[t],Jc={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu√©s de cristo"]},Kc={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1¬∫ trimestre","2¬∫ trimestre","3¬∫ trimestre","4¬∫ trimestre"]},ed={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},td={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s√°"],abbreviated:["dom","lun","mar","mi√©","jue","vie","s√°b"],wide:["domingo","lunes","martes","mi√©rcoles","jueves","viernes","s√°bado"]},ad={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma√±ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma√±ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma√±ana",afternoon:"tarde",evening:"tarde",night:"noche"}},nd={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma√±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma√±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma√±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},rd=(t,e)=>Number(t)+"¬∫",od={ordinalNumber:rd,era:Je({values:Jc,defaultWidth:"wide"}),quarter:Je({values:Kc,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Je({values:ed,defaultWidth:"wide"}),day:Je({values:td,defaultWidth:"wide"}),dayPeriod:Je({values:ad,defaultWidth:"wide",formattingValues:nd,defaultFormattingWidth:"wide"})},sd=/^(\d+)(¬∫)?/i,id=/\d+/i,ld={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u√∫]n|despu[e√©]s de cristo|era com[u√∫]n)/i},cd={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u√∫]n)/i,/^(despu[e√©]s de cristo|era com[u√∫]n)/i]},dd={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](¬∫)? trimestre/i},ud={any:[/1/i,/2/i,/3/i,/4/i]},vd={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},_d={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},md={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[√°a])/i,abbreviated:/^(dom|lun|mar|mi[√©e]|jue|vie|s[√°a]b)/i,wide:/^(domingo|lunes|martes|mi[√©e]rcoles|jueves|viernes|s[√°a]bado)/i},fd={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},gd={narrow:/^(a|p|mn|md|(de la|a las) (ma√±ana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (ma√±ana|tarde|noche))/i},pd={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/ma√±ana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},hd={ordinalNumber:Qa({matchPattern:sd,parsePattern:id,valueCallback:function(t){return parseInt(t,10)}}),era:Ke({matchPatterns:ld,defaultMatchWidth:"wide",parsePatterns:cd,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:dd,defaultMatchWidth:"wide",parsePatterns:ud,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ke({matchPatterns:vd,defaultMatchWidth:"wide",parsePatterns:_d,defaultParseWidth:"any"}),day:Ke({matchPatterns:md,defaultMatchWidth:"wide",parsePatterns:fd,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:gd,defaultMatchWidth:"any",parsePatterns:pd,defaultParseWidth:"any"})},bd={code:"es",formatDistance:Uc,formatLong:Zc,formatRelative:Qc,localize:od,match:hd,options:{weekStartsOn:1,firstWeekContainsDate:1}};var yd=(t,e)=>ht(e.period.proposal),kd=L('<div class="button-content svelte-7cp7l1"><div class="label svelte-7cp7l1"> </div> <div class="icon svelte-7cp7l1"><!></div></div>'),xd=L('<div class="button-content svelte-7cp7l1"><div class="label svelte-7cp7l1"> </div> <div class="icon svelte-7cp7l1"><!></div></div>'),wd=L('<div class="period-wrap svelte-7cp7l1"><div class="period svelte-7cp7l1"><div class="proposal svelte-7cp7l1"><div class="title svelte-7cp7l1"><button class="unstyle-button"> </button></div> <!> <!></div></div></div>');function Pd(t,e){We(e,!0);function a(){window.open(`${fa}/${e.period.proposal}`,"_blank")}function s(){window.open(`${ga}/${e.period.proposal}/${e.period.index}`,"_blank")}var l=wd(),_=r(l),c=r(_),u=r(c),g=r(u);g.__click=[yd,e];var p=r(g,!0);o(g),o(u);var C=i(u,2);X(C,{onclick:()=>a(),children:(b,P)=>{var x=kd(),T=r(x),K=r(T,!0);o(T);var F=i(T,2),O=r(F);ka(O),o(F),o(x),M(q=>d(K,q),[()=>ha()]),f(b,x)},$$slots:{default:!0}});var v=i(C,2);X(v,{onclick:()=>s(),children:(b,P)=>{var x=xd(),T=r(x),K=r(T,!0);o(T);var F=i(T,2),O=r(F);ya(O),o(F),o(x),M(q=>d(K,q),[()=>ba()]),f(b,x)},$$slots:{default:!0}}),o(c),o(_),o(l),M(()=>d(p,e.period.proposal)),f(t,l),Re()}Ot(["click"]);var Cd=L('<h3 class="title svelte-1hehw4i"> </h3>'),Md=L('<p class="message svelte-1hehw4i"> </p>'),Ld=L('<p class="note svelte-1hehw4i"> </p>'),jd=L('<div class="confirm-wrap sl-card svelte-1hehw4i"><!> <!> <!> <div class="controls padding-top svelte-1hehw4i"><div class="control-button svelte-1hehw4i"><!></div> <div class="control-button svelte-1hehw4i"><!></div></div></div>');function Dd(t,e){We(e,!0);const a={title:"Confirm",message:"",note:"",confirmText:"Confirm",cancelText:"Cancel"};let s=Ee(Ht(a)),l=Ee(!1),_=Ee(Ht({resolve:()=>c(),reject:()=>c()}));function c(){te(l,!1)}async function u(g){return te(l,!0),te(s,{...a,...g},!0),new Promise((p,C)=>{te(_,{resolve:v=>{c(),p(v)},reject:v=>{c(),C(v)}},!0)})}return Et(t,{persistent:!0,get open(){return n(l)},set open(g){te(l,g,!0)},children:(g,p)=>{var C=jd(),v=r(C);{var b=k=>{var w=ot(),j=J(w);St(j,()=>e.title,()=>n(s)),f(k,w)},P=k=>{var w=Cd(),j=r(w,!0);o(w),M(()=>d(j,n(s).title)),f(k,w)};N(v,k=>{e.title?k(b):k(P,!1)})}var x=i(v,2);{var T=k=>{var w=ot(),j=J(w);St(j,()=>e.message,()=>n(s)),f(k,w)},K=(k,w)=>{{var j=B=>{var A=Md(),z=r(A,!0);o(A),M(()=>d(z,n(s).message)),f(B,A)};N(k,B=>{n(s).message&&B(j)},w)}};N(x,k=>{e.message?k(T):k(K,!1)})}var F=i(x,2);{var O=k=>{var w=ot(),j=J(w);St(j,()=>e.note,()=>n(s)),f(k,w)},q=(k,w)=>{{var j=B=>{var A=Ld(),z=r(A,!0);o(A),M(()=>d(z,n(s).note)),f(B,A)};N(k,B=>{n(s).note&&B(j)},w)}};N(F,k=>{e.note?k(O):k(q,!1)})}var S=i(F,2),y=r(S);Ct(y,"",{},{"grid-column":"1"});var D=r(y);X(D,{get label(){return n(s).cancelText},onclick:()=>n(_).reject(pa)}),o(y);var E=i(y,2);Ct(E,"",{},{"grid-column":"3"});var Y=r(E);X(Y,{get label(){return n(s).confirmText},onclick:()=>n(_).resolve()}),o(E),o(S),o(C),f(g,C)},$$slots:{default:!0}}),Re({request_confirmation:u})}var Sd=L('<div class="prompt-wrap sl-card svelte-1igllg9"><h3 class="title svelte-1igllg9">Set Delegate Parameters</h3> <p class="message svelte-1igllg9">Set delegate staking parameters - edge and limit.</p> <!> <!> <div class="controls padding-top svelte-1igllg9"><div class="control-button svelte-1igllg9"><!></div> <div><!></div></div></div>');function Ad(t,e){We(e,!1);const a=Ca(),s={value:{edge:100,limit:1}};let l=xt(e,"state",12,s),_=xt(e,"isOpen",12,!1),c=Ca({resolve:()=>u(),reject:()=>u()});function u(){_(!1)}const g=[v=>!!v||v.toString()==="0"||"Edge is required",v=>!isNaN(Number(v))||"Edge must be a number",v=>Number(v)>=0&&Number(v)<=100||"Edge must be between 0 and 100"],p=[v=>!!v||v.toString()==="0"||"Limit is required",v=>!isNaN(Number(v))||"Limit must be a number",v=>Number(v)>=0&&Number(v)<=dn||"Limit must be between 0 and 9"];async function C(v){return _(!0),l({...s,...v}),new Promise((b,P)=>{te(c,{resolve:x=>{u(),b(x)},reject:x=>{u(),P(x)}})})}return tn(()=>rn(l()),()=>{te(a,la(l().value.limit,p)!==!0||la(l().value.edge,g)!==!0)}),an(),mn(),Et(t,{persistent:!0,get open(){return _()},set open(v){_(v)},children:(v,b)=>{var P=Sd(),x=i(r(P),4);zt(x,{type:"number",get rules(){return g},label:"Staking Fee in %",hint:"Edge of baking over staking",get value(){return l().value.edge},set value(D){l(l().value.edge=D,!0)},$$legacy:!0});var T=i(x,2);zt(T,{type:"number",get rules(){return p},label:"Staking capacity - multiplier of your stake",hint:"Limit of staking over baking",get value(){return l().value.limit},set value(D){l(l().value.limit=D,!0)},$$legacy:!0});var K=i(T,2),F=r(K);Ct(F,"",{},{"grid-column":"1"});var O=r(F);X(O,{label:"Cancel",onclick:()=>n(c).reject(pa)}),o(F);var q=i(F,2);let S;Ct(q,"",{},{"grid-column":"3"});var y=r(q);X(y,{label:"Set",onclick:()=>n(c).resolve(l().value)}),o(q),o(K),o(P),M(D=>S=Be(q,1,"control-button svelte-1igllg9",null,S,D),[()=>({disabled:n(a)})],nn),f(v,P)},$$slots:{default:!0},$$legacy:!0}),fn(e,"prompt",C),Re({prompt:C})}var zd=L('<div class="row svelte-8k5822"><!></div>'),Td=L('<b class="account-note error svelte-8k5822"> </b> <div class="action svelte-8k5822"><!></div>',1),Nd=L('<div class="row svelte-8k5822"><!></div>  <b> </b> <div> </div> <div> </div>',1),Od=(t,e)=>ht(n(e)?.pkh??""),Ed=(t,e)=>ht(n(e)?.pkh??""),Bd=L('<div class="property svelte-8k5822"> <b> </b>):</div> <button class="value unstyle-button address svelte-8k5822"> </button>',1),Id=L('<div class="property svelte-8k5822"> </div> <div class="value svelte-8k5822"><div class="icon svelte-8k5822">‚ùÑÔ∏è</div> </div> <div class="property svelte-8k5822"> </div> <div class="value svelte-8k5822"><div class="icon svelte-8k5822">üåä</div> </div> <div class="property svelte-8k5822"> </div> <div><div class="icon svelte-8k5822">‚ùÑÔ∏è</div> </div> <div class="property svelte-8k5822"> </div> <div><div class="icon svelte-8k5822">üåä</div> </div> <div class="row svelte-8k5822"></div> <div class="subtitle svelte-8k5822"> </div> <div class="property svelte-8k5822"> </div> <div class="value svelte-8k5822"><div class="icon svelte-8k5822">üí∏</div> </div> <div class="property svelte-8k5822"> </div> <div class="value svelte-8k5822"><div class="icon svelte-8k5822">‚ùÑÔ∏è</div> </div> <!> <div class="action svelte-8k5822"><!></div> <div class="row svelte-8k5822"></div> <div class="subtitle svelte-8k5822"> </div> <div class="property svelte-8k5822"> </div> <button class="value unstyle-button address svelte-8k5822"> </button> <!> <div class="action svelte-8k5822"><!></div>',1),Wd=L('<div class="title svelte-8k5822"> </div> <!>',1),Rd=(t,e)=>ht(n(e).id),qd=L('<div class="property svelte-8k5822"> <b> </b>):</div> <div class="value svelte-8k5822"> </div>',1),Fd=L('<div class="title svelte-8k5822"> </div> <div class="property svelte-8k5822"> </div> <button class="value unstyle-button address svelte-8k5822"> </button> <div class="property svelte-8k5822"> </div> <div class="value svelte-8k5822"><div class="icon svelte-8k5822">üí∏</div> </div> <!> <div class="property svelte-8k5822"> </div>  <div class="value svelte-8k5822"> </div> <div class="property svelte-8k5822"> </div> <div> </div> <div class="property svelte-8k5822"> </div> <div> </div> <div class="row svelte-8k5822"></div> <div class="action-pair svelte-8k5822"><!> <!></div>',1),Vd=L('<div class="title svelte-8k5822">Not a baker and not delegating</div> <div class="account-note svelte-8k5822"> </div> <div class="action-pair svelte-8k5822"><!> <!></div>',1),Ud=L('<div class="delegation-info svelte-8k5822"><!></div> <!> <!> <!>',1);function Hd(t,e){We(e,!0);let a,s,l,_=h(()=>e.session.account);async function c(){await e.onNewOperation(async()=>await e.session.delegate(n(_).id)),await e.session.refreshDelegate()}async function u(){await await s.request_confirmation({title:Sa(),message:ir(),note:dr(),confirmText:_r(),cancelText:gr()}),await e.onNewOperation(async()=>await e.session.delegate(n(_).id)),await e.session.refreshDelegate()}async function g(){const S=await a.prompt({title:ra(),message:kr(),value:"",rules:un("baker"),confirmText:ra()});await e.onNewOperation(async()=>await e.session.delegate(S)),await e.session.refreshDelegate()}async function p(){await e.onNewOperation(async()=>await e.session.delegate()),await e.session.refreshDelegate()}async function C(){const S=n(_).delegate?.activeStakingParameters,y=n(_).delegate?.pendingStakingParameters;let D=S?S.edge_of_baking_over_staking_billionth/1e7:0;const E=gn(y);E&&(D=E.edge_of_baking_over_staking_billionth/1e7);let Y=S?S.limit_of_staking_over_baking_millionth/1e6:0;E&&(Y=E.limit_of_staking_over_baking_millionth/1e6);const{edge:k,limit:w}=await l.prompt({value:{edge:D,limit:Y}});await e.onNewOperation(async()=>await e.session.setDelegateParameters(k/100,w)),await e.session.refreshDelegate()}async function v(){const S=await a.prompt({title:Aa(),message:Mr(),value:"",rules:vn(),confirmText:Aa()});await e.onNewOperation(async()=>await e.session.updateConsensusKey(S)),await e.session.refreshDelegate()}var b=Ud(),P=J(b),x=r(P);{var T=S=>{var y=zd(),D=r(y);const E=h(()=>Dr());Tt(D,{progress:"indeterminate",get message(){return n(E)}}),o(y),f(S,y)},K=(S,y)=>{{var D=Y=>{var k=Wd();const w=h(()=>n(_).delegate);var j=J(k),B=r(j,!0);o(j);var A=i(j,2);{var z=W=>{var U=Td(),Q=J(U),ie=r(Q,!0);o(Q);var R=i(Q,2),Z=r(R);const V=h(()=>zr());X(Z,{get label(){return n(V)},onclick:c}),o(R),M(le=>d(ie,le),[()=>Or()]),f(W,U)},se=W=>{var U=Id();const Q=h(()=>n(w).activeStakingParameters),ie=h(()=>Kt(n(w)?.stakedBalance,n(Q)?.limit_of_staking_over_baking_millionth)),R=h(()=>ea(n(Q)?.limit_of_staking_over_baking_millionth)),Z=h(()=>n(ie)-n(w).totalStaked),V=h(()=>n(ie)-n(w).totalDelegated),le=h(()=>n(w).activeStakingParameters?.edge_of_baking_over_staking_billionth??0),$=h(()=>n(w).pendingStakingParameters??[]),ue=h(()=>n(w).consensusKeys?.active),ae=h(()=>n(w).consensusKeys?.pending??[]);var fe=J(U),ke=r(fe);o(fe);var xe=i(fe,2),we=i(r(xe));o(xe);var Ne=i(xe,2),Ue=r(Ne);o(Ne);var ee=i(Ne,2),oe=i(r(ee));o(ee);var ne=i(ee,2),ce=r(ne);o(ne);var ve=i(ne,2);let ge;var Pe=i(r(ve));o(ve);var pe=i(ve,2),de=r(pe);o(pe);var Ce=i(pe,2);let Se;var et=i(r(Ce));o(Ce);var Le=i(Ce,4),st=r(Le,!0);o(Le);var He=i(Le,2),tt=r(He);o(He);var Ae=i(He,2),Xe=i(r(Ae));o(Ae);var Ye=i(Ae,2),at=r(Ye);o(Ye);var qe=i(Ye,2),Ze=i(r(qe));o(qe);var nt=i(qe,2);{var vt=re=>{var me=ot(),Te=J(me);Ft(Te,17,()=>n($),Vt,(_t,Ge,Yt,Zt)=>{var mt=Nd();const ft=h(()=>Kt(n(w)?.stakedBalance,n(Ge)?.limit_of_staking_over_baking_millionth)),yt=h(()=>ea(n(Ge)?.limit_of_staking_over_baking_millionth));var it=J(mt),Mt=r(it);Pt(Mt),o(it);var rt=i(it,2),Lt=r(rt);o(rt);var gt=i(rt,2),jt=r(gt);o(gt);var Bt=i(gt,2),$t=r(Bt);o(Bt),M((Gt,Qt,Ja)=>{d(Lt,`Pending cycle ${n(Ge).cycle??""}:`),d(jt,`Staking Fee: ${Gt??""}`),d($t,`Total Stake Capacity: ${Qt??""} (mutliplier: ${Ja??""})`)},[()=>Wt(n(Ge).edge_of_baking_over_staking_billionth),()=>pt(n(ft)),()=>Jt(n(yt))]),f(_t,mt)}),f(re,me)};N(nt,re=>{n($)&&n($).length>0&&re(vt)})}var $e=i(nt,2),bt=r($e);const I=h(()=>Na());X(bt,{get label(){return n(I)},onclick:C}),o($e);var H=i($e,4),G=r(H,!0);o(H);var _e=i(H,2),Me=r(_e);o(_e);var he=i(_e,2);he.__click=[Od,ue];var je=r(he,!0);o(he);var ye=i(he,2);{var ze=re=>{var me=ot(),Te=J(me);Ft(Te,17,()=>n(ae),Vt,(_t,Ge,Yt,Zt)=>{var mt=Bd(),ft=J(mt),yt=r(ft),it=i(yt),Mt=r(it);o(it),At(),o(ft);var rt=i(ft,2);rt.__click=[Ed,Ge];var Lt=r(rt,!0);o(rt),M((gt,jt)=>{d(yt,`${gt??""} (`),d(Mt,`#${n(Ge).cycle??""}`),d(Lt,jt)},[()=>vo(),()=>n(Ge)?.pkh??Oa()]),f(_t,mt)}),f(re,me)};N(ye,re=>{n(ae)&&n(ae).length>0&&re(ze)})}var Fe=i(ye,2),De=r(Fe);{var be=re=>{const me=h(()=>Na());X(re,{get label(){return n(me)},onclick:v})},Ie=re=>{const me=h(()=>bo());X(re,{get label(){return n(me)},onclick:v})};N(De,re=>{n(ue)||n(ae).length>0?re(be):re(Ie,!1)})}o(Fe),M((re,me,Te,_t,Ge,Yt,Zt,mt,ft,yt,it,Mt,rt,Lt,gt,jt,Bt,$t,Gt,Qt)=>{d(ke,`${re??""}:`),d(we,` ${me??""}`),d(Ue,`${Te??""}:`),d(oe,` ${_t??""}`),d(ce,`${Ge??""}:`),ge=Be(ve,1,"value svelte-8k5822",null,ge,Yt),d(Pe,` ${Zt??""}`),d(de,`${mt??""}:`),Se=Be(Ce,1,"value svelte-8k5822",null,Se,ft),d(et,` ${yt??""}`),d(st,it),d(tt,`${Mt??""}:`),d(Xe,` ${rt??""}`),d(at,`${Lt??""}:`),d(Ze,` ${gt??""} (${jt??""}: ${Bt??""})`),d(G,$t),d(Me,`${Gt??""}:`),d(je,Qt)},[()=>qr(),()=>kt(n(w).totalStaked),()=>Ur(),()=>kt(n(w).totalDelegated),()=>Ea(),()=>({error:n(Z)<=0}),()=>pt(n(Z)),()=>za(),()=>({error:n(V)<=0}),()=>pt(n(V)),()=>$r(),()=>oa(),()=>Wt(n(le)),()=>Ta(),()=>pt(n(ie)),()=>ao(),()=>Jt(n(R)),()=>oo(),()=>lo(),()=>n(ue)?.pkh??Oa()]),f(W,U)};N(A,W=>{n(w).isDeactivated?W(z):W(se,!1)})}M(W=>d(B,W),[()=>Ir()]),f(Y,k)},E=(Y,k)=>{{var w=B=>{var A=Fd();const z=h(()=>n(_).delegate),se=h(()=>n(z).activeStakingParameters?.edge_of_baking_over_staking_billionth??0),W=h(()=>n(z).pendingStakingParameters??[]),U=h(()=>n(z).activeStakingParameters),Q=h(()=>Kt(n(z)?.stakedBalance,n(U)?.limit_of_staking_over_baking_millionth)),ie=h(()=>ea(n(U)?.limit_of_staking_over_baking_millionth)),R=h(()=>n(Q)-n(z).totalStaked),Z=h(()=>n(Q)-n(z).totalDelegated);var V=J(A),le=r(V,!0);o(V);var $=i(V,2),ue=r($);o($);var ae=i($,2);ae.__click=[Rd,_];var fe=r(ae,!0);o(ae);var ke=i(ae,2),xe=r(ke);o(ke);var we=i(ke,2),Ne=i(r(we));o(we);var Ue=i(we,2);{var ee=qe=>{var Ze=ot(),nt=J(Ze);Ft(nt,17,()=>n(W),Vt,(vt,$e,bt,I)=>{var H=qd(),G=J(H),_e=r(G),Me=i(_e),he=r(Me);o(Me),At(),o(G);var je=i(G,2),ye=r(je);o(je),M((ze,Fe,De)=>{d(_e,`${ze??""} (`),d(he,`#${n($e).cycle??""}`),d(ye,`${Fe??""}: ${De??""}`)},[()=>Co(),()=>oa(),()=>Wt(n($e).edge_of_baking_over_staking_billionth)]),f(vt,H)}),f(qe,Ze)};N(Ue,qe=>{n(W)&&n(W).length>0&&qe(ee)})}var oe=i(Ue,2),ne=r(oe);o(oe);var ce=i(oe,2),ve=r(ce);o(ce);var ge=i(ce,2),Pe=r(ge);o(ge);var pe=i(ge,2);let de;var Ce=r(pe);o(pe);var Se=i(pe,2),et=r(Se);o(Se);var Le=i(Se,2);let st;var He=r(Le);o(Le);var tt=i(Le,4),Ae=r(tt);const Xe=h(()=>So());X(Ae,{get label(){return n(Xe)},onclick:p});var Ye=i(Ae,2);const at=h(()=>To());X(Ye,{get label(){return n(at)},onclick:g}),o(tt),M((qe,Ze,nt,vt,$e,bt,I,H,G,_e,Me,he,je)=>{d(le,qe),d(ue,`${Ze??""}:`),d(fe,n(z).pkh),d(xe,`${nt??""}:`),d(Ne,` ${vt??""}`),d(ne,`${$e??""}:`),d(ve,`‚ùÑÔ∏è ${bt??""} (multiplier: ${I??""})`),d(Pe,`${H??""}:`),de=Be(pe,1,"value svelte-8k5822",null,de,G),d(Ce,`‚ùÑÔ∏è ${_e??""}`),d(et,`${Me??""}:`),st=Be(Le,1,"value svelte-8k5822",null,st,he),d(He,`‚ùÑÔ∏è ${je??""}`)},[()=>xo(),()=>rr(),()=>oa(),()=>Wt(n(se)),()=>Ta(),()=>pt(n(Q)),()=>Jt(n(ie)),()=>Ea(),()=>({error:n(R)<=0}),()=>pt(n(R)),()=>za(),()=>({error:n(R)<=0}),()=>pt(n(Z))]),f(B,A)},j=B=>{var A=Vd(),z=i(J(A),2),se=r(z,!0);o(z);var W=i(z,2),U=r(W);const Q=h(()=>Sa());X(U,{get label(){return n(Q)},onclick:u});var ie=i(U,2);const R=h(()=>ra());X(ie,{get label(){return n(R)},onclick:g}),o(W),M(Z=>d(se,Z),[()=>Eo()]),f(B,A)};N(Y,B=>{n(_).delegate?B(w):B(j,!1)},k)}};N(S,Y=>{n(_).delegate?.pkh===n(_).id?Y(D):Y(E,!1)},y)}};N(x,S=>{e.session.state.isLoadingBalance?S(T):S(K,!1)})}o(P);var F=i(P,2);Dt(Pa(F,{}),S=>a=S,()=>a);var O=i(F,2);Dt(Dd(O,{}),S=>s=S,()=>s);var q=i(O,2);Dt(Ad(q,{}),S=>l=S,()=>l),f(t,b),Re()}Ot(["click"]);var Xd=L('<div class="donate-btn svelte-a80gb8"><div></div> <div>üå±</div> <div> </div> <div>üå±</div></div>'),Yd=L('<div class="donate-wrap svelte-a80gb8"><!></div> <!>',1);function Zd(t,e){We(e,!0);let a,s=h(()=>e.session.account);async function l(){const p=await a.prompt({title:Da(),message:Zn(),value:"1",rules:_n(n(s)),confirmText:Da()}),C=BigInt(Number(p)*ca);await e.onNewOperation(async()=>await e.session.donate(C)),await e.session.refreshBalance()}var _=Yd(),c=J(_),u=r(c);X(u,{onclick:l,children:(p,C)=>{var v=Xd(),b=i(r(v),4),P=r(b,!0);o(b),At(2),o(v),M(x=>d(P,x),[()=>Kn()]),f(p,v)},$$slots:{default:!0}}),o(c);var g=i(c,2);Dt(Pa(g,{}),p=>a=p,()=>a),f(t,_),Re()}var $d=L('<div class="loader svelte-frt7xm"><!></div>'),Gd=L('<div class="error-message svelte-frt7xm"> </div>'),Qd=L('<div class="title svelte-frt7xm"><h5 class="svelte-frt7xm"> </h5></div> <div class="governance-period-header svelte-frt7xm"><div class="governance-period-number svelte-frt7xm"> </div> <div class="governance-period-remaining svelte-frt7xm"><!></div></div> <!> <!>',1),Jd=L('<div class="account-overview sl-card svelte-frt7xm"><!></div> <div class="account-overview sl-card svelte-frt7xm"><!></div> <div class="account-overview sl-card svelte-frt7xm"><!></div> <div class="governance sl-card svelte-frt7xm"><div class="governance-period svelte-frt7xm"><!></div></div>',1),Kd=L('<div class="home-wrap svelte-frt7xm"><!></div> <!>',1);function iu(t,e){We(e,!0);let a=h(()=>Ve.active?.state.period),s=h(()=>n(a)?.block),l=h(()=>dl(n(a),n(s))),_=m()=="es"?bd:void 0,c=h(()=>mc(n(l),{addSuffix:!0,locale:_})),u=h(()=>n(l)<new Date),g=h(()=>n(a)&&ul(n(a),n(s))),p=Ee(void 0),C=Ee("building"),v=Ee(void 0),b=Ee(!1);ia(()=>{n(b)||(te(p,void 0),te(v,void 0),te(C,"building"))});async function P(y){try{te(b,!0),te(C,"building");const D=await y(),E=await D.send();te(v,E.ophash,!0),te(C,"confirming"),await D.confirmation(),te(C,"applied")}catch(D){te(C,"failed"),te(p,D.message,!0)}}var x=Kd(),T=J(x),K=r(T);{var F=y=>{var D=$d(),E=r(D);const Y=h(()=>_s());Tt(E,{progress:"indeterminate",get message(){return n(Y)}}),o(D),f(y,D)},O=(y,D)=>{{var E=Y=>{var k=Jd(),w=J(k),j=r(w);Fc(j,{get session(){return Ve.active},onNewOperation:P}),o(w);var B=i(w,2),A=r(B);Hd(A,{get session(){return Ve.active},onNewOperation:P}),o(B);var z=i(B,2),se=r(z);Zd(se,{get session(){return Ve.active},onNewOperation:P}),o(z);var W=i(z,2),U=r(W),Q=r(U);{var ie=Z=>{const V=h(()=>$o());Tt(Z,{progress:"indeterminate",get message(){return n(V)}})},R=Z=>{var V=ot(),le=J(V);{var $=ue=>{var ae=Qd(),fe=J(ae),ke=r(fe),xe=r(ke);o(ke),o(fe);var we=i(fe,2),Ne=r(we),Ue=r(Ne);o(Ne);var ee=i(Ne,2),oe=r(ee);{var ne=de=>{var Ce=Oe();M(Se=>d(Ce,Se),[()=>rs()]),f(de,Ce)},ce=de=>{var Ce=Oe();M((Se,et)=>d(Ce,`${Se??""} ${n(g)??""} ${et??""} ~ ${n(c)??""}`),[()=>ds(),()=>is()]),f(de,Ce)};N(oe,de=>{n(u)?de(ne):de(ce,!1)})}o(ee),o(we);var ve=i(we,2);Pt(ve);var ge=i(ve,2);{var Pe=de=>{kl(de,{get session(){return Ve.active},onNewOperation:P,get period(){return n(a)}})},pe=(de,Ce)=>{{var Se=Le=>{Pc(Le,{get session(){return Ve.active},onNewOperation:P,get period(){return n(a)}})},et=(Le,st)=>{{var He=Ae=>{Pd(Ae,{get period(){return n(a)}})},tt=Ae=>{var Xe=Gd(),Ye=r(Xe);o(Xe),M(at=>d(Ye,`${n(a).kind??""} ${at??""}`),[()=>Jo()]),f(Ae,Xe)};N(Le,Ae=>{["testing","adoption"].includes(n(a).kind)?Ae(He):Ae(tt,!1)},st)}};N(de,Le=>{["exploration","promotion"].includes(n(a).kind)?Le(Se):Le(et,!1)},Ce)}};N(ge,de=>{n(a).kind==="proposal"?de(Pe):de(pe,!1)})}M(de=>{d(xe,`${n(a)?.kind??""} ${de??""}`),d(Ue,`#${n(a).index??""}`)},[()=>ts()]),f(ue,ae)};N(le,ue=>{n(a)!==void 0&&ue($)})}f(Z,V)};N(Q,Z=>{Ve?.active?.state.isLoadingPeriod?Z(ie):Z(R,!1)})}o(U),o(W),f(Y,k)};N(y,Y=>{Ve.active&&Y(E)},D)}};N(K,y=>{Ve.active&&Ve.active.state.isInitializing?y(F):y(O,!1)})}o(T);var q=i(T,2);const S=h(()=>Ve?.active?.account.explorer??"");zc(q,{get opHash(){return n(v)},get explorerTemplate(){return n(S)},get error(){return n(p)},allowClose:!1,get stage(){return n(C)},get open(){return n(b)},set open(y){te(b,y,!0)}}),f(t,x),Re()}export{iu as component};
