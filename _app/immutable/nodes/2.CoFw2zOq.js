import{f as p,a as f,c as Ot,d as lt,t as Be}from"../chunks/CyWJZyfX.js";import{a4 as La,aj as Ma,B as Xe,K as tt,aa as ta,G as Ze,s as T,H as s,J as c,g as l,I as o,F as q,O as te,C as le,au as at,m as Ue,t as P,av as Dt,a7 as nt,o as A,at as Da}from"../chunks/B7VKF3Oo.js";import{s as M,e as Yt}from"../chunks/BrECOvUC.js";import{i as I,s as Sa,p as Q,b as aa}from"../chunks/BpmvLNTc.js";import{aY as kt,ao as St,ap as ot,aC as _t,aB as Lt,am as F,af as _a,aw as Fe,at as na,aD as Vt,ar as pa,aZ as Ye,a_ as Pt,ak as Ht,av as ba,al as Oe,a$ as Xt,b0 as Zt,ay as Ct,b1 as Aa,b2 as ra,b3 as Ba,aR as x,b4 as Ia,b5 as Ut,an as Ft,b6 as ia,b7 as sa,b8 as Ea,b9 as Ta,ba as Ra}from"../chunks/B5Sin98T.js";import{r as Na}from"../chunks/BDBhFtdz.js";import"../chunks/BSAJ9K7j.js";import{c as Gt}from"../chunks/C-HWxO-5.js";import{i as vt}from"../chunks/qrmDcLRc.js";function Oa(e,t,a){var i=La(e,t);i&&i.set&&(e[t]=a,Ma(()=>{e[t]=null}))}function Ua(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function Fa(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ya(e,...t){if(!Fa(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function oa(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Wa(e,t){ya(e);const a=t.outputLen;if(e.length<a)throw new Error("digestInto() expects output buffer of length at least "+a)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wt=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ae=(e,t)=>e<<32-t|e>>>t;function ja(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function wa(e){return typeof e=="string"&&(e=ja(e)),ya(e),e}class Va{clone(){return this._cloneInto()}}function qa(e){const t=i=>e().update(wa(i)).digest(),a=e();return t.outputLen=a.outputLen,t.blockLen=a.blockLen,t.create=()=>e(),t}function za(e,t,a,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,a,i);const r=BigInt(32),v=BigInt(4294967295),n=Number(a>>r&v),d=Number(a&v),m=i?4:0,h=i?0:4;e.setUint32(t+m,n,i),e.setUint32(t+h,d,i)}const Ya=(e,t,a)=>e&t^~e&a,Ha=(e,t,a)=>e&t^e&a^t&a;class Xa extends Va{constructor(t,a,i,r){super(),this.blockLen=t,this.outputLen=a,this.padOffset=i,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Wt(this.buffer)}update(t){oa(this);const{view:a,buffer:i,blockLen:r}=this;t=wa(t);const v=t.length;for(let n=0;n<v;){const d=Math.min(r-this.pos,v-n);if(d===r){const m=Wt(t);for(;r<=v-n;n+=r)this.process(m,n);continue}i.set(t.subarray(n,n+d),this.pos),this.pos+=d,n+=d,this.pos===r&&(this.process(a,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){oa(this),Wa(t,this),this.finished=!0;const{buffer:a,view:i,blockLen:r,isLE:v}=this;let{pos:n}=this;a[n++]=128,this.buffer.subarray(n).fill(0),this.padOffset>r-n&&(this.process(i,0),n=0);for(let u=n;u<r;u++)a[u]=0;za(i,r-8,BigInt(this.length*8),v),this.process(i,0);const d=Wt(t),m=this.outputLen;if(m%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=m/4,b=this.get();if(h>b.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<h;u++)d.setUint32(4*u,b[u],v)}digest(){const{buffer:t,outputLen:a}=this;this.digestInto(t);const i=t.slice(0,a);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:a,buffer:i,length:r,finished:v,destroyed:n,pos:d}=this;return t.length=r,t.pos=d,t.finished=v,t.destroyed=n,r%a&&t.buffer.set(i),t}}const Za=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),qe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ze=new Uint32Array(64);class Ga extends Xa{constructor(){super(64,32,8,!1),this.A=qe[0]|0,this.B=qe[1]|0,this.C=qe[2]|0,this.D=qe[3]|0,this.E=qe[4]|0,this.F=qe[5]|0,this.G=qe[6]|0,this.H=qe[7]|0}get(){const{A:t,B:a,C:i,D:r,E:v,F:n,G:d,H:m}=this;return[t,a,i,r,v,n,d,m]}set(t,a,i,r,v,n,d,m){this.A=t|0,this.B=a|0,this.C=i|0,this.D=r|0,this.E=v|0,this.F=n|0,this.G=d|0,this.H=m|0}process(t,a){for(let u=0;u<16;u++,a+=4)ze[u]=t.getUint32(a,!1);for(let u=16;u<64;u++){const _=ze[u-15],C=ze[u-2],$=Ae(_,7)^Ae(_,18)^_>>>3,D=Ae(C,17)^Ae(C,19)^C>>>10;ze[u]=D+ze[u-7]+$+ze[u-16]|0}let{A:i,B:r,C:v,D:n,E:d,F:m,G:h,H:b}=this;for(let u=0;u<64;u++){const _=Ae(d,6)^Ae(d,11)^Ae(d,25),C=b+_+Ya(d,m,h)+Za[u]+ze[u]|0,D=(Ae(i,2)^Ae(i,13)^Ae(i,22))+Ha(i,r,v)|0;b=h,h=m,m=d,d=n+C|0,n=v,v=r,r=i,i=C+D|0}i=i+this.A|0,r=r+this.B|0,v=v+this.C|0,n=n+this.D|0,d=d+this.E|0,m=m+this.F|0,h=h+this.G|0,b=b+this.H|0,this.set(i,r,v,n,d,m,h,b)}roundClean(){ze.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const la=qa(()=>new Ga);function Ka(e){function t(v){var n=Uint8Array.from(v),d=e(n),m=n.length+4,h=new Uint8Array(m);return h.set(n,0),h.set(d.subarray(0,4),n.length),kt.encode(h)}function a(v){var n=v.slice(0,-4),d=v.slice(-4),m=e(n);if(!(d[0]^m[0]|d[1]^m[1]|d[2]^m[2]|d[3]^m[3]))return n}function i(v){var n=kt.decodeUnsafe(v);if(n!=null)return a(n)}function r(v){var n=kt.decode(v),d=a(n);if(d==null)throw new Error("Invalid checksum");return d}return{encode:t,decode:r,decodeUnsafe:i}}function Qa(e){return la(la(e))}const qt=Ka(Qa);var Ja=p('<h3 class="title svelte-4mtex8"> </h3>'),en=p('<p class="message svelte-4mtex8"> </p>'),tn=p('<div class="prompt-wrap svelte-4mtex8"><!> <!> <!> <div class="controls padding-top svelte-4mtex8"><div class="control-button svelte-4mtex8"><!></div> <div><!></div></div></div>');function an(e,t){Xe(t,!0);const a={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let i=tt(ta(a)),r=tt(!1),v=tt(ta({resolve:()=>n(),reject:()=>n()}));function n(){T(r,!1)}async function d(h){return T(r,!0),T(i,{...a,...h},!0),new Promise((b,u)=>{T(v,{resolve:_=>{n(),b(_)},reject:_=>{n(),u(_)}},!0)})}let m=te(()=>Vt(l(i).value,l(i).rules)!==!0);return St(e,{persistent:!0,get open(){return l(r)},set open(h){T(r,h,!0)},children:(h,b)=>{ot(h,{children:(u,_)=>{var C=tn(),$=s(C);{var D=w=>{var W=Ot(),J=le(W);na(J,()=>t.title,()=>l(i)),f(w,W)},B=w=>{var W=Ja(),J=s(W,!0);o(W),q(()=>M(J,l(i).title)),f(w,W)};I($,w=>{t.title?w(D):w(B,!1)})}var V=c($,2);{var R=w=>{var W=Ot(),J=le(W);na(J,()=>t.message,()=>l(i)),f(w,W)},Y=w=>{var W=Ot(),J=le(W);{var ke=ce=>{var me=en(),de=s(me,!0);o(me),q(()=>M(de,l(i).message)),f(ce,me)};I(J,ce=>{l(i).message&&ce(ke)})}f(w,W)};I(V,w=>{t.message?w(R):w(Y,!1)})}var ae=c(V,2);_t(ae,Sa(()=>l(i),{no_label:!0,get value(){return l(i).value},set value(w){l(i).value=w}}));var y=c(ae,2),H=s(y);Lt(H,"",{},{"grid-column":"1"});var X=s(H);F(X,{get label(){return l(i).cancelText},onclick:()=>l(v).reject(_a)}),o(H);var E=c(H,2);let ve;Lt(E,"",{},{"grid-column":"3"});var _e=s(E);F(_e,{get label(){return l(i).confirmText},onclick:()=>l(v).resolve(l(i).value)}),o(E),o(y),o(C),q(w=>ve=Fe(E,1,"control-button svelte-4mtex8",null,ve,w),[()=>({disabled:l(m)})]),f(u,C)},$$slots:{default:!0}})},$$slots:{default:!0}}),Ze({prompt:d})}const zt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",nn=34,rn=51,sn=e=>{let t=0n;for(const a of e)t*=58n,t+=BigInt(zt.indexOf(a));return t},va=e=>{const t=[];for(;e>0n;)t.push(Number(e%256n)),e=e/256n;return t.reverse()},on=e=>{const t=nn,a=sn(e),i=kt.decode(e).length+1,r=BigInt(8*(t-i+4)),v=rn-e.length;let n=a*58n**BigInt(v);n=n>>r,n+=n===n>>r<<r?0n:1n;let d=(a+1n)*58n**BigInt(v)-(1n<<r)+1n;if(d=d>>r,d>=n){const m=Uint8Array.from(Array.from({...va(n),length:t}).map(_=>_===void 0?0:_)),h=qt.encode(m);if(!h.startsWith(e)||h.length!==v+e.length)return null;const b=Uint8Array.from(Array.from({...va(n),length:t}).map(_=>_===void 0?255:_)),u=qt.encode(b);return!u.startsWith(e)||u.length!==v+e.length?null:m}return null},ca=e=>{let t="Pt1";for(const i of e){if(zt.includes(i)){t+=i;continue}if(zt.includes(i.toLowerCase())){t+=i.toLowerCase();continue}}const a=on(t);return a===null?[!1,"Can not generate protocol hash from provided message"]:[!0,qt.encode(new Uint8Array(a))]};var ln=p(`<div class="content svelte-sbi72s"><b class="title svelte-sbi72s">New Proposal</b> <div></div> <div class="text">If you want to make a statement, write it in the <b>statement</b> field; this will generate
					a proposal hash for you.</div> <div class="text">To inject a proper protocol upgrade proposal, write the hash in the <b>new proposal</b> field and leave <b>statement</b> blank.</div> <div class="text">*<b>Please refrain from using this feature for spamming.</b></div> <div class="text">**Remember that you can propose or vote for a proposal only <b>10 times per period</b>.</div> <div></div> <!> <!> <div class="controls svelte-sbi72s"><!> <div><!></div></div></div>`),vn=p('<div class="center svelte-sbi72s"><!></div>');function cn(e,t){Xe(t,!1);const a=Ue();let i=Q(t,"open",12,!1),r=Ue(""),v=Ue("");const n=Gt();async function d(){n("upvote",{proposals:[l(v)],period:0}),i(!1)}const m=[h=>!!h||"proposal can not be empty",h=>h.startsWith("P")||"proposal has to start with P"];at(()=>P(i()),()=>{i()&&(T(r,""),T(v,""))}),at(()=>(l(r),ca),()=>{if(l(r)){const[h,b]=ca(l(r));h&&T(v,b)}}),at(()=>l(v),()=>{T(a,m.every(h=>h(l(v))===!0))}),Dt(),vt(),St(e,{get open(){return i()},persistent:!0,children:(h,b)=>{var u=vn(),_=s(u);ot(_,{children:(C,$)=>{var D=ln(),B=c(s(D),14);_t(B,{label:"Statement",get value(){return l(r)},set value(X){T(r,X)},$$legacy:!0});var V=c(B,2);_t(V,{label:"New Proposal",hint:"You can provide proposal hash",get rules(){return m},get value(){return l(v)},set value(X){T(v,X)},$$legacy:!0});var R=c(V,2),Y=s(R);F(Y,{label:"Cancel",$$events:{click:()=>i(!1)}});var ae=c(Y,2);let y;var H=s(ae);F(H,{label:"Inject",$$events:{click:d}}),o(ae),o(R),o(D),q(X=>y=Fe(ae,1,"",null,y,X),[()=>({disabled:!l(a)})],nt),f(C,D)},$$slots:{default:!0}}),o(u),f(h,u)},$$slots:{default:!0}}),Ze()}var dn=lt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"></path></svg>');function Mt(e){var t=dn();f(e,t)}var un=lt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 3 6 L 3 25 L 13 25 C 14.101563 25 15 25.898438 15 27 L 17 27 C 17 25.898438 17.898438 25 19 25 L 29 25 L 29 6 L 19 6 C 17.808594 6 16.734375 6.527344 16 7.359375 C 15.265625 6.527344 14.191406 6 13 6 Z M 5 8 L 13 8 C 14.101563 8 15 8.898438 15 10 L 17 10 C 17 8.898438 17.898438 8 19 8 L 27 8 L 27 23 L 19 23 C 17.808594 23 16.734375 23.527344 16 24.359375 C 15.265625 23.527344 14.191406 23 13 23 L 5 23 Z M 15 12 L 15 14 L 17 14 L 17 12 Z M 15 16 L 15 18 L 17 18 L 17 16 Z M 15 20 L 15 22 L 17 22 L 17 20 Z"></path></svg>');function Kt(e){var t=un();f(e,t)}var fn=lt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z"></path></svg>');function Qt(e){var t=fn();f(e,t)}var gn=p('<div class="button-content svelte-1yewxu8"><div class="label svelte-1yewxu8">EXPLORER</div> <div class="icon svelte-1yewxu8"><!></div></div>'),mn=p('<div class="button-content svelte-1yewxu8"><div class="label svelte-1yewxu8">AGORA</div> <div class="icon svelte-1yewxu8"><!></div></div>'),hn=p('<div class="button-content upvoted svelte-1yewxu8"><div class="label svelte-1yewxu8">UPVOTED</div> <div class="icon svelte-1yewxu8"><!></div></div>'),_n=p('<div class="button-content svelte-1yewxu8"><div class="label svelte-1yewxu8">UPVOTE</div> <div class="icon svelte-1yewxu8"><!></div></div>'),pn=p('<div><div class="title svelte-1yewxu8"><button class="unstyle-button"> </button></div> <div class="upvotes svelte-1yewxu8"> <!></div> <div class="upvote-bar svelte-1yewxu8"><svg width="100%" height="15"><rect width="100%" y="5" height="5" fill="#e6e6e6" rx="2" ry="2"></rect><rect y="5" height="5" fill="var(--progress-color)" rx="2" ry="2"></rect><rect width="3" height="15" fill="var(--progress-color)" rx="2" ry="2"></rect></svg></div> <!> <!> <div><!></div></div>'),bn=p('<!> <div class="separator svelte-1yewxu8"><!></div>',1),yn=p('<div class="proposal-period-wrap svelte-1yewxu8"><div class="proposal-period svelte-1yewxu8"><!></div> <div><!></div></div> <!>',1);function wn(e,t){Xe(t,!1);let a=Q(t,"pkh",8),i=Q(t,"canVote",8),r=Q(t,"periodIndex",8),v=Q(t,"period",8),n=Ue(!1);const d=Gt();function m(y){window.open(`${Xt}/${y}`,"_blank")}function h(y){window.open(`${Zt}/${y}/${r()}`,"_blank")}async function b(y){d("upvote",{proposals:y,period:v().info.voting_period.index}),a()}vt();var u=yn(),_=le(u),C=s(_),$=s(C);{var D=y=>{var H=Be("no proposals");f(y,H)},B=y=>{var H=bn(),X=le(H);pa(X,1,()=>(P(v()),A(()=>v().proposals)),ba,(_e,w)=>{var W=pn();let J;var ke=s(W),ce=s(ke),me=s(ce,!0);o(ce),o(ke);var de=c(ke,2),be=s(de),ne=c(be);{var $e=j=>{var Z=Be();q(()=>M(Z,`(${Pt??""}% reached)`)),f(j,Z)},Ie=j=>{var Z=Be();q(()=>M(Z,`(needs ${Pt??""}%)`)),f(j,Z)};I(ne,j=>{l(w),A(()=>l(w).quorumReached)?j($e):j(Ie,!1)})}o(de);var Le=c(de,2),ue=s(Le),ye=c(s(ue)),Me=c(ye);o(ue),o(Le);var g=c(Le,2);F(g,{$$events:{click:()=>m(l(w).proposal)},children:(j,Z)=>{var ee=gn(),fe=c(s(ee),2),ie=s(fe);Qt(ie),o(fe),o(ee),f(j,ee)},$$slots:{default:!0}});var k=c(g,2);F(k,{$$events:{click:()=>h(l(w).proposal)},children:(j,Z)=>{var ee=mn(),fe=c(s(ee),2),ie=s(fe);Kt(ie),o(fe),o(ee),f(j,ee)},$$slots:{default:!0}});var N=c(k,2);let re;var he=s(N);{var De=j=>{var Z=hn(),ee=c(s(Z),2),fe=s(ee);Mt(fe),o(ee),o(Z),f(j,Z)},Ge=j=>{F(j,{$$events:{click:()=>b([l(w).proposal])},children:(Z,ee)=>{var fe=_n(),ie=c(s(fe),2),We=s(ie);Mt(We),o(ie),o(fe),f(Z,fe)},$$slots:{default:!0}})};I(he,j=>{P(a()),P(v()),l(w),A(()=>a()&&v().votes&&v().votes[l(w).proposal].includes(a()))?j(De):j(Ge,!1)})}o(N),o(W),q((j,Z)=>{J=Fe(W,1,"proposal svelte-1yewxu8",null,J,j),M(me,(l(w),A(()=>l(w).proposal))),M(be,`${l(w),A(()=>l(w).upvotesFormatted)??""} upvotes ~ ${l(w),A(()=>l(w).percentage)??""}% `),Ye(ye,"width",(l(w),A(()=>l(w).percentageString))),Ye(Me,"x",`${Pt}%`),re=Fe(N,1,"upvote-btn svelte-1yewxu8",null,re,Z)},[()=>({success:l(w).quorumReached}),()=>({disabled:!a()||!i()})],nt),Yt("click",ce,()=>Ht(l(w).proposal)),f(_e,W)});var E=c(X,2),ve=s(E);Oe(ve),o(E),f(y,H)};I($,y=>{P(v()),A(()=>v().proposals.length===0)?y(D):y(B,!1)})}o(C);var V=c(C,2);let R;var Y=s(V);F(Y,{label:"New Proposal",$$events:{click:()=>T(n,!0)}}),o(V),o(_);var ae=c(_,2);cn(ae,{get open(){return l(n)},set open(y){T(n,y)},$$events:{upvote:y=>b(y.detail.proposals)},$$legacy:!0}),q(y=>R=Fe(V,1,"new-proposal",null,R,y),[()=>({disabled:!a()||!i()})],nt),f(e,u),Ze()}var xn=lt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"></path></svg>');function da(e){var t=xn();f(e,t)}var kn=lt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16 6 C 14.9375 6 14.003906 6.5625 13.46875 7.40625 C 13.03125 7.15625 12.535156 7 12 7 C 10.355469 7 9 8.355469 9 10 L 9 13.65625 L 8.875 13.8125 C 8.800781 13.898438 8.730469 13.976563 8.65625 14.0625 C 8.144531 14.660156 7.65625 15.292969 7.21875 15.9375 L 6.90625 16.34375 C 6.480469 16.894531 6.21875 17.535156 6.09375 18.1875 C 6.078125 18.261719 6.042969 18.332031 6.03125 18.40625 C 5.855469 19.652344 6.226563 20.949219 7.09375 21.9375 L 9.46875 24.625 C 10.796875 26.136719 12.707031 27 14.71875 27 L 20 27 C 23.855469 27 27 23.855469 27 20 L 27 11 C 27 9.355469 25.644531 8 24 8 C 23.464844 8 22.96875 8.15625 22.53125 8.40625 C 21.996094 7.5625 21.0625 7 20 7 C 19.464844 7 18.96875 7.15625 18.53125 7.40625 C 17.996094 6.5625 17.0625 6 16 6 Z M 16 8 C 16.566406 8 17 8.433594 17 9 L 17 11.1875 C 16.683594 11.074219 16.351563 11 16 11 L 15 11 L 15 9 C 15 8.433594 15.433594 8 16 8 Z M 12 9 C 12.566406 9 13 9.433594 13 10 L 13 11 L 11.59375 11 L 11.3125 11.28125 C 11.3125 11.28125 11.085938 11.511719 11 11.59375 L 11 10 C 11 9.433594 11.433594 9 12 9 Z M 20 9 C 20.566406 9 21 9.433594 21 10 L 21 13 C 21 13.566406 20.566406 14 20 14 C 19.433594 14 19 13.566406 19 13 L 19 10 C 19 9.433594 19.433594 9 20 9 Z M 24 10 C 24.566406 10 25 10.433594 25 11 L 25 13 C 25 13.566406 24.566406 14 24 14 C 23.433594 14 23 13.566406 23 13 L 23 11 C 23 10.433594 23.433594 10 24 10 Z M 12.4375 13 L 16 13 C 16.5625 13 17 13.4375 17 14 C 17 14.5625 16.5625 15 16 15 L 12.875 15 L 12.59375 15.375 L 10.25 18.34375 L 11.8125 19.59375 L 13.65625 17.28125 C 14.015625 17.449219 14.425781 17.699219 14.875 18.0625 C 15.941406 18.929688 17 20.347656 17 23 L 19 23 C 19 20.132813 17.855469 18.15625 16.59375 16.9375 C 17.402344 16.769531 18.101563 16.273438 18.53125 15.59375 C 18.96875 15.84375 19.464844 16 20 16 C 20.765625 16 21.46875 15.699219 22 15.21875 C 22.53125 15.699219 23.234375 16 24 16 C 24.351563 16 24.683594 15.925781 25 15.8125 L 25 20 C 25 22.773438 22.773438 25 20 25 L 14.71875 25 C 13.28125 25 11.917969 24.394531 10.96875 23.3125 L 8.59375 20.59375 C 8.164063 20.105469 7.964844 19.507813 8 18.90625 C 8 18.898438 8.027344 18.832031 8.03125 18.8125 C 8.035156 18.78125 8.027344 18.75 8.03125 18.71875 C 8.078125 18.5 8.230469 18.078125 8.5625 17.53125 C 8.605469 17.460938 8.671875 17.382813 8.71875 17.3125 L 10.1875 15.375 C 11.292969 14.082031 12.214844 13.210938 12.4375 13 Z"></path></svg>');function ua(e){var t=kn();f(e,t)}const xt=43200,fa=1440,ga=Symbol.for("constructDateFrom");function Jt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ga in e?e[ga](t):e instanceof Date?new e.constructor(t):new Date(t)}function He(e,t){return Jt(e,e)}let Pn={};function Cn(){return Pn}function ma(e){const t=He(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}function ea(e,...t){const a=Jt.bind(null,e||t.find(i=>typeof i=="object"));return t.map(a)}function $t(e,t){const a=+He(e)-+He(t);return a<0?-1:a>0?1:a}function $n(e){return Jt(e,Date.now())}function Ln(e,t,a){const[i,r]=ea(a?.in,e,t),v=i.getFullYear()-r.getFullYear(),n=i.getMonth()-r.getMonth();return v*12+n}function Mn(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return i===0?0:i}}function Dn(e,t){return+He(e)-+He(t)}function Sn(e,t){const a=He(e);return a.setHours(23,59,59,999),a}function An(e,t){const a=He(e),i=a.getMonth();return a.setFullYear(a.getFullYear(),i+1,0),a.setHours(23,59,59,999),a}function Bn(e,t){const a=He(e);return+Sn(a)==+An(a)}function In(e,t,a){const[i,r,v]=ea(a?.in,e,e,t),n=$t(r,v),d=Math.abs(Ln(r,v));if(d<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-n*d);let m=$t(r,v)===-n;Bn(i)&&d===1&&$t(i,v)===1&&(m=!1);const h=n*(d-+m);return h===0?0:h}function En(e,t,a){const i=Dn(e,t)/1e3;return Mn(a?.roundingMethod)(i)}const Tn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rn=(e,t,a)=>{let i;const r=Tn[e];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+i:i+" ago":i};function jt(e){return(t={})=>{const a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const Nn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},On={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Un={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fn={date:jt({formats:Nn,defaultWidth:"full"}),time:jt({formats:On,defaultWidth:"full"}),dateTime:jt({formats:Un,defaultWidth:"full"})},Wn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jn=(e,t,a,i)=>Wn[e];function mt(e){return(t,a)=>{const i=a?.context?String(a.context):"standalone";let r;if(i==="formatting"&&e.formattingValues){const n=e.defaultFormattingWidth||e.defaultWidth,d=a?.width?String(a.width):n;r=e.formattingValues[d]||e.formattingValues[n]}else{const n=e.defaultWidth,d=a?.width?String(a.width):e.defaultWidth;r=e.values[d]||e.values[n]}const v=e.argumentCallback?e.argumentCallback(t):t;return r[v]}}const Vn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zn=(e,t)=>{const a=Number(e),i=a%100;if(i>20||i<10)switch(i%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Gn={ordinalNumber:Zn,era:mt({values:Vn,defaultWidth:"wide"}),quarter:mt({values:qn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mt({values:zn,defaultWidth:"wide"}),day:mt({values:Yn,defaultWidth:"wide"}),dayPeriod:mt({values:Hn,defaultWidth:"wide",formattingValues:Xn,defaultFormattingWidth:"wide"})};function ht(e){return(t,a={})=>{const i=a.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],v=t.match(r);if(!v)return null;const n=v[0],d=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(d)?Qn(d,u=>u.test(n)):Kn(d,u=>u.test(n));let h;h=e.valueCallback?e.valueCallback(m):m,h=a.valueCallback?a.valueCallback(h):h;const b=t.slice(n.length);return{value:h,rest:b}}}function Kn(e,t){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}function Qn(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}function Jn(e){return(t,a={})=>{const i=t.match(e.matchPattern);if(!i)return null;const r=i[0],v=t.match(e.parsePattern);if(!v)return null;let n=e.valueCallback?e.valueCallback(v[0]):v[0];n=a.valueCallback?a.valueCallback(n):n;const d=t.slice(r.length);return{value:n,rest:d}}}const er=/^(\d+)(th|st|nd|rd)?/i,tr=/\d+/i,ar={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nr={any:[/^b/i,/^(a|c)/i]},rr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ir={any:[/1/i,/2/i,/3/i,/4/i]},sr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},or={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ur={ordinalNumber:Jn({matchPattern:er,parsePattern:tr,valueCallback:e=>parseInt(e,10)}),era:ht({matchPatterns:ar,defaultMatchWidth:"wide",parsePatterns:nr,defaultParseWidth:"any"}),quarter:ht({matchPatterns:rr,defaultMatchWidth:"wide",parsePatterns:ir,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ht({matchPatterns:sr,defaultMatchWidth:"wide",parsePatterns:or,defaultParseWidth:"any"}),day:ht({matchPatterns:lr,defaultMatchWidth:"wide",parsePatterns:vr,defaultParseWidth:"any"}),dayPeriod:ht({matchPatterns:cr,defaultMatchWidth:"any",parsePatterns:dr,defaultParseWidth:"any"})},fr={code:"en-US",formatDistance:Rn,formatLong:Fn,formatRelative:jn,localize:Gn,match:ur,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gr(e,t,a){const i=Cn(),r=a?.locale??i.locale??fr,v=2520,n=$t(e,t);if(isNaN(n))throw new RangeError("Invalid time value");const d=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:n}),[m,h]=ea(a?.in,...n>0?[t,e]:[e,t]),b=En(h,m),u=(ma(h)-ma(m))/1e3,_=Math.round((b-u)/60);let C;if(_<2)return a?.includeSeconds?b<5?r.formatDistance("lessThanXSeconds",5,d):b<10?r.formatDistance("lessThanXSeconds",10,d):b<20?r.formatDistance("lessThanXSeconds",20,d):b<40?r.formatDistance("halfAMinute",0,d):b<60?r.formatDistance("lessThanXMinutes",1,d):r.formatDistance("xMinutes",1,d):_===0?r.formatDistance("lessThanXMinutes",1,d):r.formatDistance("xMinutes",_,d);if(_<45)return r.formatDistance("xMinutes",_,d);if(_<90)return r.formatDistance("aboutXHours",1,d);if(_<fa){const $=Math.round(_/60);return r.formatDistance("aboutXHours",$,d)}else{if(_<v)return r.formatDistance("xDays",1,d);if(_<xt){const $=Math.round(_/fa);return r.formatDistance("xDays",$,d)}else if(_<xt*2)return C=Math.round(_/xt),r.formatDistance("aboutXMonths",C,d)}if(C=In(h,m),C<12){const $=Math.round(_/xt);return r.formatDistance("xMonths",$,d)}else{const $=C%12,D=Math.trunc(C/12);return $<3?r.formatDistance("aboutXYears",D,d):$<9?r.formatDistance("overXYears",D,d):r.formatDistance("almostXYears",D+1,d)}}function mr(e,t){return gr(e,$n(e),t)}function st(e){return typeof e=="bigint"&&(e=e.toString()),!e||typeof e!="string"?"N/A":e==="0"?"0 ꜩ":`${e.substring(0,e.length-6)}.${e.substring(e.length-6)} ꜩ`}var hr=p('<div class="button-content svelte-188utik"><div class="label svelte-188utik">EXPLORER</div> <div class="icon svelte-188utik"><!></div></div>'),_r=p('<div class="button-content svelte-188utik"><div class="label svelte-188utik">AGORA</div> <div class="icon svelte-188utik"><!></div></div>'),pr=p('<div class="existing-vote svelte-188utik">You voted: <div class="ballot svelte-188utik"> </div></div>'),br=p('<div class="button-content svelte-188utik"><div class="label svelte-188utik">NAY</div> <div class="icon svelte-188utik"><!></div></div>'),yr=p('<div class="button-content svelte-188utik"><div class="label svelte-188utik">PASS</div> <div class="icon svelte-188utik"><!></div></div>'),wr=p('<div class="button-content svelte-188utik"><div class="label svelte-188utik">YAY</div> <div class="icon svelte-188utik"><!></div></div>'),xr=p('<div class="nay svelte-188utik"><!></div> <div class="pass svelte-188utik"><!></div> <div class="yay svelte-188utik"><!></div>',1),kr=p('<div><div class="period svelte-188utik"><div class="proposal svelte-188utik"><div class="title svelte-188utik"><button class="unstyle-button"> </button></div> <div class="vote-summary svelte-188utik"><div class="nay value svelte-188utik"> <div class="icon svelte-188utik"><!></div></div> <div class="pass value svelte-188utik"> <div class="icon svelte-188utik"><!></div></div> <div class="yay value svelte-188utik"> <div class="icon svelte-188utik"><!></div></div></div> <div class="separator svelte-188utik"><!></div> <div class="bar svelte-188utik"><div class="bar-title svelte-188utik">Quorum</div> <div class="bar-description svelte-188utik"> <!></div> <svg width="100%" height="15"><rect width="100%" height="5" y="5" fill="#e6e6e6" rx="2" ry="2"></rect><rect y="5" height="5" fill="var(--yay-color)" rx="2" ry="2"></rect><rect height="5" y="5" fill="var(--pass-color)" rx="2" ry="2"></rect><rect height="5" y="5" fill="var(--nay-color)" rx="2" ry="2"></rect><rect width="3" height="15" fill="var(--quorum-color)" rx="2" ry="2"></rect></svg></div> <div class="bar svelte-188utik"><div class="bar-title svelte-188utik">Supermajority</div> <div class="bar-description svelte-188utik"> <!></div> <svg width="100%" height="15"><rect width="100%" height="5" y="5" fill="#e6e6e6" rx="2" ry="2"></rect><rect y="5" height="5" fill="var(--majority-color)" rx="2" ry="2"></rect><rect width="3" height="15" fill="var(--majority-color)" rx="2" ry="2"></rect></svg></div> <!> <!> <div class="separator svelte-188utik"><!></div> <div><!></div></div></div></div>');function Pr(e,t){Xe(t,!1);const a=Ue();let i=Q(t,"pkh",8),r=Q(t,"canVote",8,!1),v=Q(t,"periodIndex",8),n=Q(t,"period",8);const d=Gt();function m(){window.open(`${Xt}/${n().proposal}`,"_blank")}function h(){window.open(`${Zt}/${n().proposal}/${v()}`,"_blank")}async function b(L){d("vote",{ballot:L,proposal:n().proposal,period:n().info.voting_period.index})}at(()=>(P(n()),P(i())),()=>{T(a,n().ballots.find(L=>L.pkh===i()))}),Dt(),vt();var u=kr();let _;var C=s(u),$=s(C),D=s($),B=s(D),V=s(B,!0);o(B),o(D);var R=c(D,2),Y=s(R),ae=s(Y),y=c(ae),H=s(y);da(H),o(y),o(Y);var X=c(Y,2),E=s(X),ve=c(E),_e=s(ve);ua(_e),o(ve),o(X);var w=c(X,2),W=s(w),J=c(W),ke=s(J);Mt(ke),o(J),o(w),o(R);var ce=c(R,2),me=s(ce);Oe(me),o(ce);var de=c(ce,2),be=c(s(de),2),ne=s(be),$e=c(ne);{var Ie=L=>{var S=Be();q(()=>M(S,`(${P(n()),A(()=>n().requiredQuorumPercentage)??""}% reached)`)),f(L,S)},Le=L=>{var S=Be();q(()=>M(S,`(needs ${P(n()),A(()=>n().requiredQuorumPercentage)??""}%)`)),f(L,S)};I($e,L=>{P(n()),A(()=>n().quorumReached)?L(Ie):L(Le,!1)})}o(be);var ue=c(be,2),ye=c(s(ue)),Me=c(ye),g=c(Me),k=c(g);o(ue),o(de);var N=c(de,2),re=c(s(N),2),he=s(re),De=c(he);{var Ge=L=>{var S=Be();q(()=>M(S,`(${P(n()),A(()=>n().requiredMajorityPercentage)??""}% reached)`)),f(L,S)},j=L=>{var S=Be();q(()=>M(S,`(required ${P(n()),A(()=>n().requiredMajorityPercentage)??""}%)`)),f(L,S)};I(De,L=>{P(n()),A(()=>n().majorityReached)?L(Ge):L(j,!1)})}o(re);var Z=c(re,2),ee=c(s(Z)),fe=c(ee);o(Z),o(N);var ie=c(N,2);F(ie,{$$events:{click:()=>m()},children:(L,S)=>{var z=hr(),O=c(s(z),2),G=s(O);Qt(G),o(O),o(z),f(L,z)},$$slots:{default:!0}});var We=c(ie,2);F(We,{$$events:{click:()=>h()},children:(L,S)=>{var z=_r(),O=c(s(z),2),G=s(O);Kt(G),o(O),o(z),f(L,z)},$$slots:{default:!0}});var Ke=c(We,2),ct=s(Ke);Oe(ct),o(Ke);var se=c(Ke,2);let je;var Ee=s(se);{var dt=L=>{var S=pr(),z=c(s(S)),O=s(z,!0);o(z),o(S),q(()=>M(O,(l(a),A(()=>l(a).ballot)))),f(L,S)},rt=L=>{var S=xr(),z=le(S),O=s(z);F(O,{$$events:{click:()=>b("nay")},children:(Te,Re)=>{var oe=br(),we=c(s(oe),2),Pe=s(we);da(Pe),o(we),o(oe),f(Te,oe)},$$slots:{default:!0}}),o(z);var G=c(z,2),pe=s(G);F(pe,{$$events:{click:()=>b("pass")},children:(Te,Re)=>{var oe=yr(),we=c(s(oe),2),Pe=s(we);ua(Pe),o(we),o(oe),f(Te,oe)},$$slots:{default:!0}}),o(G);var Se=c(G,2),Qe=s(Se);F(Qe,{$$events:{click:()=>b("yay")},children:(Te,Re)=>{var oe=wr(),we=c(s(oe),2),Pe=s(we);Mt(Pe),o(we),o(oe),f(Te,oe)},$$slots:{default:!0}}),o(Se),f(L,S)};I(Ee,L=>{l(a)?L(dt):L(rt,!1)})}o(se),o($),o(C),o(u),q((L,S,z,O,G)=>{_=Fe(u,1,"period-wrap svelte-188utik",null,_,L),M(V,(P(n()),A(()=>n().proposal))),M(ae,`${S??""} (${P(n()),A(()=>n().summary.nayPercentage)??""} %) `),M(E,`${z??""} (${P(n()),A(()=>n().summary.passPercentage)??""} %) `),M(W,`${O??""} (${P(n()),A(()=>n().summary.yayPercentage)??""} %) `),M(ne,`${P(n()),A(()=>n().quorumPercentage)??""} % `),Ye(ye,"width",(P(n()),A(()=>`${n().summary.nayPercentage+n().summary.passPercentage+n().summary.yayPercentage}%`))),Ye(Me,"width",(P(n()),A(()=>`${n().summary.nayPercentage+n().summary.passPercentage}%`))),Ye(g,"width",(P(n()),A(()=>`${n().summary.nayPercentage}%`))),Ye(k,"x",(P(n()),A(()=>`${n().requiredQuorumPercentage}%`))),M(he,`${P(n()),A(()=>n().majorityPercentage)??""} `),Ye(ee,"width",(P(n()),A(()=>`${n().majorityPercentage}%`))),Ye(fe,"x",(P(n()),A(()=>`${n().requiredMajorityPercentage}%`))),je=Fe(se,1,"vote-section svelte-188utik",null,je,G)},[()=>({"quorum-reached":n().quorumReached,"majority-reached":n().majorityReached}),()=>(P(st),P(n()),A(()=>st(n().summary.nay))),()=>(P(st),P(n()),A(()=>st(n().summary.pass))),()=>(P(st),P(n()),A(()=>st(n().summary.yay))),()=>({disabled:!i()||!r()})],nt),Yt("click",B,()=>Ht(n().proposal)),f(e,u),Ze()}var Cr=p('<div class="error-message svelte-1kcf8tg"> </div>'),$r=p('<div class="status svelte-1kcf8tg">CONFIRMED</div>'),Lr=p('<div class="status failed svelte-1kcf8tg">FAILED</div>'),Mr=p('<div class="note svelte-1kcf8tg">NOTE: You may need to confirm the transaction with your signer.</div>'),Dr=p('<div class="progress svelte-1kcf8tg"><!></div> <!>',1),Sr=p('<h5 class="title svelte-1kcf8tg"> </h5> <!> <!> <div><!></div>',1),Ar=p('<div class="transaction-confirmation svelte-1kcf8tg"><!> <!></div>'),Br=p('<div class="center svelte-1kcf8tg"><!></div>');function Ir(e,t){Xe(t,!1);const a=Ue(),i=Ue();let r=Q(t,"open",12),v=Q(t,"opHash",8),n=Q(t,"error",8),d=Q(t,"allowClose",8,!0),m=Q(t,"stage",8,"building"),h=Q(t,"explorerTemplate",8);function b(_){switch(_){case"building":return"Building transaction...";case"confirming":return"Waiting for confirmation...";case"applied":return"CONFIRMED";case"failed":return"FAILED"}}at(()=>(P(h()),P(v())),()=>{T(a,h()?h().replace("%s",v()??""):void 0)}),at(()=>P(m()),()=>{T(i,b(m()))}),Dt(),vt();const u=nt(()=>m()==="building"||m()==="confirming");St(e,{get persistent(){return l(u)},get open(){return r()},set open(_){r(_)},children:(_,C)=>{var $=Br(),D=s($);ot(D,{children:(B,V)=>{var R=Ar(),Y=s(R);{var ae=E=>{var ve=Cr(),_e=s(ve,!0);o(ve),q(()=>M(_e,n())),f(E,ve)},y=E=>{var ve=Sr(),_e=le(ve),w=s(_e);o(_e);var W=c(_e,2);Oe(W);var J=c(W,2);{var ke=ne=>{var $e=$r();f(ne,$e)},ce=(ne,$e)=>{{var Ie=ue=>{var ye=Lr();f(ue,ye)},Le=ue=>{var ye=Dr(),Me=le(ye),g=s(Me);Ct(g,{get message(){return l(i)},progress:"indeterminate"}),o(Me);var k=c(Me,2);{var N=re=>{var he=Mr();f(re,he)};I(k,re=>{m()==="building"&&re(N)})}f(ue,ye)};I(ne,ue=>{m()==="failed"?ue(Ie):ue(Le,!1)},$e)}};I(J,ne=>{m()==="applied"?ne(ke):ne(ce,!1)})}var me=c(J,2);let de;var be=s(me);F(be,{onclick:()=>window.open(l(a),"_blank"),children:(ne,$e)=>{Da();var Ie=Be("Open Explorer");f(ne,Ie)},$$slots:{default:!0}}),o(me),q(ne=>{M(w,`Transaction ${v()??"~ TBD ~"??""}`),de=Fe(me,1,"explore",null,de,ne)},[()=>({disabled:m()==="building"})],nt),f(E,ve)};I(Y,E=>{n()?E(ae):E(y,!1)})}var H=c(Y,2);{var X=E=>{F(E,{label:"close",onclick:()=>r(!1)})};I(H,E=>{(d()||m()==="applied"||n())&&E(X)})}o(R),f(B,R)},$$slots:{default:!0}}),o($),f(_,$)},$$slots:{default:!0},$$legacy:!0}),Ze()}var Er=lt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16 3 C 8.832031 3 3 8.832031 3 16 C 3 23.167969 8.832031 29 16 29 C 23.167969 29 29 23.167969 29 16 L 27 16 C 27 22.085938 22.085938 27 16 27 C 9.914063 27 5 22.085938 5 16 C 5 9.914063 9.914063 5 16 5 C 19.875 5 23.261719 6.984375 25.21875 10 L 20 10 L 20 12 L 28 12 L 28 4 L 26 4 L 26 7.71875 C 23.617188 4.84375 20.019531 3 16 3 Z"></path></svg>');function ha(e){var t=Er();f(e,t)}var Tr=p('<div class="prompt-wrap svelte-1igllg9"><h3 class="title svelte-1igllg9">Set Delegate Parameters</h3> <p class="message svelte-1igllg9">Set delegate staking parameters - edge and limit.</p> <!> <!> <div class="controls padding-top svelte-1igllg9"><div class="control-button svelte-1igllg9"><!></div> <div><!></div></div></div>');function Rr(e,t){Xe(t,!1);const a=Ue(),i={value:{edge:100,limit:1}};let r=Q(t,"state",12,i),v=Q(t,"isOpen",12,!1),n=Ue({resolve:()=>d(),reject:()=>d()});function d(){v(!1)}const m=[u=>!!u||u.toString()==="0"||"Edge is required",u=>!isNaN(Number(u))||"Edge must be a number",u=>Number(u)>=0&&Number(u)<=100||"Edge must be between 0 and 100"],h=[u=>!!u||u.toString()==="0"||"Limit is required",u=>!isNaN(Number(u))||"Limit must be a number",u=>Number(u)>=0&&Number(u)<=Aa||"Limit must be between 0 and 9"];async function b(u){return v(!0),r({...i,...u}),new Promise((_,C)=>{T(n,{resolve:$=>{d(),_($)},reject:$=>{d(),C($)}})})}return at(()=>P(r()),()=>{T(a,Vt(r().value.limit,h)!==!0||Vt(r().value.edge,m)!==!0)}),Dt(),vt(),St(e,{persistent:!0,get open(){return v()},set open(u){v(u)},children:(u,_)=>{ot(u,{children:(C,$)=>{var D=Tr(),B=c(s(D),4);_t(B,{type:"number",get rules(){return m},label:"Staking Fee in %",hint:"Edge of baking over staking",get value(){return r().value.edge},set value(E){r(r().value.edge=E,!0)},$$legacy:!0});var V=c(B,2);_t(V,{type:"number",get rules(){return h},label:"Staking capacity - multiplier of your stake",hint:"Limit of staking over baking",get value(){return r().value.limit},set value(E){r(r().value.limit=E,!0)},$$legacy:!0});var R=c(V,2),Y=s(R);Lt(Y,"",{},{"grid-column":"1"});var ae=s(Y);F(ae,{label:"Cancel",onclick:()=>l(n).reject(_a)}),o(Y);var y=c(Y,2);let H;Lt(y,"",{},{"grid-column":"3"});var X=s(y);F(X,{label:"Set",onclick:()=>l(n).resolve(r().value)}),o(y),o(R),o(D),q(E=>H=Fe(y,1,"control-button svelte-1igllg9",null,H,E),[()=>({disabled:l(a)})],nt),f(C,D)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0}),Oa(t,"prompt",b),Ze({prompt:b})}function Nr(e,t){if(!e)return new Date(0);const i=((e.voting_period.start_position+e.position+e.remaining??-1)-(t??e?.position??1))*Ba;return new Date(Date.now()+i)}function Or(e,t){return e?(e.voting_period.start_position+e.position+e.remaining??0)-(t??0):"N/A"}function Ur(e){return(BigInt(e)/10n**6n).toLocaleString()}function Fr(e){const{proposals:t,voters:a}=e,i=a.reduce((r,v)=>r+BigInt(v.voting_power),0n);return{...e,proposals:t.map(r=>{const v=Number(BigInt(r.upvotes.toString())*100000n/i)/1e3;return{...r,upvotes:r.upvotes,upvotesFormatted:Ur(r.upvotes.toString()),percentage:Math.round(v*100)/100,percentageString:`${v}%`,quorumReached:BigInt(r.upvotes.toString())>i/100n*Pt}}).sort((r,v)=>BigInt(v.upvotes.toString())>BigInt(r.upvotes.toString())?1:-1)}}function Wr(e){const{voters:t}=e,a=t.reduce((v,n)=>v+BigInt(n.voting_power),0n);let i=BigInt(e.summary.yay)+BigInt(e.summary.nay);const r=i+BigInt(e.summary.pass);return i===0n&&(i=1n),{...e,summary:{...e.summary,yayPercentage:Math.round(Number(BigInt(e.summary.yay)*100000n/a)/10)/100,nayPercentage:Math.round(Number(BigInt(e.summary.nay)*100000n/a)/10)/100,passPercentage:Math.round(Number(BigInt(e.summary.pass)*100000n/a)/10)/100},quorumReached:r>a*BigInt(e.quorum)/10000n,quorumPercentage:Math.min(Number(BigInt(e.summary.yay+e.summary.nay+e.summary.pass)*100000n/a)/1e3,100),requiredQuorumPercentage:Number(e.quorum)/100,majorityReached:BigInt(e.summary.yay)>=i*ra/100n,majorityPercentage:Math.round(Number(BigInt(e.summary.yay)*100000n/i)/10)/100,requiredMajorityPercentage:Number(ra)}}var jr=p('<div class="button-content svelte-2vy38g"><div class="label svelte-2vy38g">EXPLORER</div> <div class="icon svelte-2vy38g"><!></div></div>'),Vr=p('<div class="button-content svelte-2vy38g"><div class="label svelte-2vy38g">AGORA</div> <div class="icon svelte-2vy38g"><!></div></div>'),qr=p('<div class="period-wrap svelte-2vy38g"><div class="period svelte-2vy38g"><div class="proposal svelte-2vy38g"><div class="title svelte-2vy38g"><button class="unstyle-button"> </button></div> <!> <!></div></div></div>');function zr(e,t){Xe(t,!1);let a=Q(t,"periodIndex",8),i=Q(t,"period",8);function r(){window.open(`${Xt}/${i().proposal}`,"_blank")}function v(){window.open(`${Zt}/${i().proposal}/${a()}`,"_blank")}vt();var n=qr(),d=s(n),m=s(d),h=s(m),b=s(h),u=s(b,!0);o(b),o(h);var _=c(h,2);F(_,{$$events:{click:()=>r()},children:($,D)=>{var B=jr(),V=c(s(B),2),R=s(V);Qt(R),o(V),o(B),f($,B)},$$slots:{default:!0}});var C=c(_,2);F(C,{$$events:{click:()=>v()},children:($,D)=>{var B=Vr(),V=c(s(B),2),R=s(V);Kt(R),o(V),o(B),f($,B)},$$slots:{default:!0}}),o(m),o(d),o(n),q(()=>M(u,(P(i()),A(()=>i().proposal)))),Yt("click",b,()=>Ht(i().proposal)),f(e,n),Ze()}var Yr=p('<div class="loader svelte-7t4len"><!></div>'),Hr=p('<div class="icon svelte-7t4len"><!></div>'),Xr=p("<b>You are an INACTIVE baker.🧑‍🍳</b>"),Zr=p("<b>You are a baker.🧑‍🍳</b>"),Gr=p("<div> </div>"),Kr=p("<b> </b> <div> </div> <div> </div> <!>",1),Qr=p("<!> <!>",1),Jr=p('<!> <div class="tools svelte-7t4len"><!> <!> <!></div> <!>',1),ei=p('<div class="center svelte-7t4len"><!></div> <div class="delegate-info svelte-7t4len"><div class="center pv-1 svelte-7t4len"><b>Balances</b></div> <div> </div> <div> </div> <!> <div class="center pv-1 svelte-7t4len"><b>Delegate Parameters</b></div> <div> </div> <div> </div> <!></div> <!> <!>',1),ti=p('<div class="donate-btn svelte-7t4len"><div></div> <div>🌱</div> <div>Donate to TzC</div> <div>🌱</div></div>'),ai=p('<div class="redo svelte-7t4len"><!></div> <h5 class="tools-title svelte-7t4len">Account Management</h5> <!> <!> <!>',1),ni=p('<div class="staking svelte-7t4len"><!></div>'),ri=p('<div class="icon svelte-7t4len"><!></div>'),ii=p('<div class="error-message svelte-7t4len"> </div>'),si=p('<div class="title svelte-7t4len"><h5 class="svelte-7t4len"> </h5></div> <div class="governance-period-header svelte-7t4len"><div class="governance-period-number svelte-7t4len"> </div> <div class="governance-period-remaining svelte-7t4len"><!></div></div> <!> <!>',1),oi=p('<div class="redo svelte-7t4len"><!></div> <!>',1),li=p('<div class="governance-period svelte-7t4len"><!></div>'),vi=p('<div class="tools-wrap svelte-7t4len"><!></div> <div class="governance svelte-7t4len"><!></div>',1),ci=p('<div class="home-wrap svelte-7t4len"><!></div> <!> <!> <!>',1);function yi(e,t){Xe(t,!0);let a,i,r=te(()=>x.active?.state.governance?.period),v=te(()=>l(r)?.voters??[]),n=te(()=>l(v).find(g=>g.pkh===x.active?.account.id)!==void 0),d=te(()=>l(r)?.info.voting_period.kind==="proposal"?Fr(l(r)):void 0),m=te(()=>["exploration","promotion"].includes(l(r)?.info.voting_period.kind??"unknown")?Wr(l(r)):void 0),h=te(()=>["testing","adoption"].includes(l(r)?.info.voting_period.kind??"unknown")?l(r):void 0),b=te(()=>l(r)?.block),u=te(()=>Nr(l(r)?.info,l(b))),_=te(()=>mr(l(u),{addSuffix:!0})),C=te(()=>l(u)<new Date),$=te(()=>l(r)?.info&&Or(l(r)?.info,l(b))),D=tt(void 0),B=tt("building"),V=tt(void 0),R=tt(!1);Na(()=>{l(R)||(T(D,void 0),T(V,void 0),T(B,"building"))});async function Y(){const g=x.active;g&&await g.refreshGovernanceState()}async function ae(){const g=x.active;g&&await g.refreshDelegate()}async function y(g){try{T(R,!0),T(B,"building");const k=await g(),N=await k.send();T(V,N.ophash,!0),T(B,"confirming"),await k.confirmation(),T(B,"applied")}catch(k){T(B,"failed"),T(D,k.message,!0)}}async function H(){const g=x.active;if(!g)return;const k=await a.prompt({title:"Stake",message:"Enter the amount you want to stake",value:"0",rules:Ea(g.account),confirmText:"Stake"}),N=BigInt(Math.floor(Number(k)*Ut));await y(async()=>await g.stake(N)),await Promise.allSettled([g.refreshDelegate(),g.refreshBalance()])}async function X(){const g=x.active;if(!g)return;const k=await a.prompt({title:"Unstake",message:"Enter the amount you want to unstake",value:"0",rules:Ra(g.account),confirmText:"Unstake"}),N=BigInt(Math.floor(Number(k)*Ut));await y(async()=>await g.unstake(N)),await Promise.allSettled([g.refreshDelegate(),g.refreshBalance()])}async function E(){const g=x.active;if(!g)return;const k=await a.prompt({title:"Donate",message:"Enter the amount TEZ you want to donate",value:"1",rules:Ia(g.account),confirmText:"Donate"}),N=BigInt(Number(k)*Ut);await y(async()=>await g.donate(N)),await g.refreshBalance()}async function ve(){const g=x.active;g&&(await y(async()=>await g.finalizeUnstake()),await Promise.allSettled([g.refreshDelegate(),g.refreshBalance()]))}async function _e(){const g=x.active;if(!g)return;const k=g.state.governance.delegate?.activeStakingParameters,N=g.state.governance.delegate?.pendingStakingParameters;let re=k?k.edge_of_baking_over_staking_billionth/1e7:0;const he=Ua(N);he&&(re=he.edge_of_baking_over_staking_billionth/1e7);let De=k?k.limit_of_staking_over_baking_millionth/1e6:0;he&&(De=he.limit_of_staking_over_baking_millionth/1e6);const{edge:Ge,limit:j}=await i.prompt({value:{edge:re,limit:De}});await y(async()=>await g.setDelegateParameters(Ge/100,j)),await g.refreshDelegate()}async function w(g){const k=x.active;k&&await y(async()=>await k.vote(g.detail.proposal,g.detail.ballot,g.detail.period))}async function W(g){const k=x.active;k&&await y(async()=>await k.upvote(g.detail.proposals,g.detail.period))}async function J(){const g=x.active;if(!g)return;const k=await a.prompt({title:"Update Consensus Key",message:"Enter the new consensus key",value:"",rules:[N=>!!N||"Key can not be empty",N=>Ta(N)===3||"Invalid public key"],confirmText:"Update Consensus Key"});await y(async()=>await g.updateConsensusKey(k)),await g.refreshDelegate()}let ke=te(()=>ia(x.active?.state.governance.delegate?.activeStakingParameters?.edge_of_baking_over_staking_billionth??0)),ce=te(()=>sa((x.active?.state.governance.delegate?.stakedBalance??0n)*BigInt(x.active?.state.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0))),me=te(()=>x.active?.state.governance.delegate?.pendingStakingParameters??[]);var de=ci(),be=le(de),ne=s(be);{var $e=g=>{var k=Yr(),N=s(k);Ct(N,{progress:"indeterminate",message:"Loading account..."}),o(k),f(g,k)},Ie=(g,k)=>{{var N=re=>{var he=vi(),De=le(he),Ge=s(De);ot(Ge,{children:(ee,fe)=>{var ie=ni(),We=s(ie);{var Ke=se=>{Ct(se,{progress:"indeterminate",message:"Loading staking state..."})},ct=se=>{var je=ai(),Ee=le(je),dt=s(Ee);F(dt,{onclick:ae,children:(O,G)=>{var pe=Hr(),Se=s(pe);ha(Se),o(pe),f(O,pe)},$$slots:{default:!0}}),o(Ee);var rt=c(Ee,4);{var L=O=>{var G=ei(),pe=le(G),Se=s(pe);{var Qe=U=>{var K=Xr();f(U,K)},Te=U=>{var K=Zr();f(U,K)};I(Se,U=>{x.active?.state.governance.delegate?.isDeactivated?U(Qe):U(Te,!1)})}o(pe);var Re=c(pe,2),oe=c(s(Re),2),we=s(oe);o(oe);var Pe=c(oe,2),pt=s(Pe);o(Pe);var bt=c(Pe,2);{var At=U=>{var K=Gr(),Ce=s(K);o(K),q(Je=>M(Ce,`Finalizable: ${Je??""}`),[()=>Ft(x.active?.account.finalizableBalance??0n)]),f(U,K)};I(bt,U=>{(x.active?.account.finalizableBalance??0n)>0n&&U(At)})}var ut=c(bt,4),ge=s(ut);o(ut);var xe=c(ut,2),Bt=s(xe);o(xe);var It=c(xe,2);{var Ve=U=>{var K=Qr(),Ce=le(K);Oe(Ce);var Je=c(Ce,2);pa(Je,17,()=>l(me),ba,(yt,et)=>{var wt=Kr(),ft=le(wt),Rt=s(ft);o(ft);var gt=c(ft,2),Ne=s(gt);o(gt);var Nt=c(gt,2),xa=s(Nt);o(Nt);var ka=c(Nt,2);Oe(ka),q((Pa,Ca,$a)=>{M(Rt,`Pending cycle ${l(et).cycle??""}:`),M(Ne,`Staking Fee: ${Pa??""}`),M(xa,`Total Stake Capacity: ${Ca??""} (mutliplier: ${$a??""}x)`)},[()=>ia(l(et).edge_of_baking_over_staking_billionth),()=>sa((x.active?.state.governance.delegate?.stakedBalance??0n)*BigInt(l(et).limit_of_staking_over_baking_millionth)),()=>BigInt(l(et).limit_of_staking_over_baking_millionth)/1000000n]),f(yt,wt)}),f(U,K)};I(It,U=>{l(me)&&U(Ve)})}o(Re);var it=c(Re,2);Oe(it);var Et=c(it,2);{var Tt=U=>{var K=Jr(),Ce=le(K);F(Ce,{label:"Set Delegate Parameters",onclick:_e});var Je=c(Ce,2),yt=s(Je);F(yt,{label:"Stake",onclick:H});var et=c(yt,2);{var wt=Ne=>{F(Ne,{label:"Unstake",onclick:X})};I(et,Ne=>{(x?.active?.account.stakedBalance??0n)>0n&&Ne(wt)})}var ft=c(et,2);{var Rt=Ne=>{F(Ne,{label:"Finalize Unstake",onclick:ve})};I(ft,Ne=>{(x?.active?.account.finalizableBalance??0n)>0n&&Ne(Rt)})}o(Je);var gt=c(Je,2);F(gt,{label:"Update Consensus Key",onclick:J}),f(U,K)};I(Et,U=>{x?.active?.state.governance.delegate?.isDeactivated,U(Tt,!1)})}q((U,K,Ce)=>{M(we,`Delegating: ${U??""}`),M(pt,`Staking: ${K??""}`),M(ge,`Staking Fee: ${l(ke)??""}`),M(Bt,`Total Stake Capacity: ${l(ce)??""} (multiplier: ${Ce??""}x)`)},[()=>Ft(x.active?.account.balance??0n),()=>Ft(x.active?.account.stakedBalance??0n),()=>BigInt(x.active?.state.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n]),f(O,G)};I(rt,O=>{x.active&&x.active.state.governance.delegate&&(x.active.state.governance.delegate?.pkh,x.active?.account.id),O(L)})}var S=c(rt,2);Oe(S);var z=c(S,2);F(z,{onclick:E,children:(O,G)=>{var pe=ti();f(O,pe)},$$slots:{default:!0}}),f(se,je)};I(We,se=>{x.active?.state?.isLoadingDelegate?se(Ke):se(ct,!1)})}o(ie),f(ee,ie)},$$slots:{default:!0}}),o(De);var j=c(De,2),Z=s(j);ot(Z,{children:(ee,fe)=>{var ie=li(),We=s(ie);{var Ke=se=>{Ct(se,{progress:"indeterminate",message:"Loading governance state..."})},ct=se=>{var je=oi(),Ee=le(je),dt=s(Ee);F(dt,{onclick:Y,children:(S,z)=>{var O=ri(),G=s(O);ha(G),o(O),f(S,O)},$$slots:{default:!0}}),o(Ee);var rt=c(Ee,2);{var L=S=>{var z=si(),O=le(z),G=s(O),pe=s(G);o(G),o(O);var Se=c(O,2),Qe=s(Se),Te=s(Qe);o(Qe);var Re=c(Qe,2),oe=s(Re);{var we=ge=>{var xe=Be("ended");f(ge,xe)},Pe=ge=>{var xe=Be();q(()=>M(xe,`ends in ${l($)??""} blocks ~ ${l(_)??""}`)),f(ge,xe)};I(oe,ge=>{l(C)?ge(we):ge(Pe,!1)})}o(Re),o(Se);var pt=c(Se,2);Oe(pt);var bt=c(pt,2);{var At=ge=>{const xe=te(()=>x?.active?.account.id);wn(ge,{get period(){return l(d)},get periodIndex(){return l(r).info.voting_period.index},get pkh(){return l(xe)},get canVote(){return l(n)},$$events:{vote:w,upvote:W}})},ut=(ge,xe)=>{{var Bt=Ve=>{const it=te(()=>x?.active?.account.id);Pr(Ve,{get period(){return l(m)},get periodIndex(){return l(r).info.voting_period.index},get pkh(){return l(it)},get canVote(){return l(n)},$$events:{vote:w,upvote:W}})},It=(Ve,it)=>{{var Et=U=>{zr(U,{get period(){return l(h)},get periodIndex(){return l(r).info.voting_period.index}})},Tt=U=>{var K=ii(),Ce=s(K);o(K),q(()=>M(Ce,`${l(r).info.voting_period.kind??""} is not supported yet`)),f(U,K)};I(Ve,U=>{l(h)!==void 0?U(Et):U(Tt,!1)},it)}};I(ge,Ve=>{l(m)!==void 0?Ve(Bt):Ve(It,!1)},xe)}};I(bt,ge=>{l(d)!==void 0?ge(At):ge(ut,!1)})}q(()=>{M(pe,`${l(r)?.info.voting_period.kind??""} Period`),M(Te,`#${l(r).info.voting_period.index??""}`)}),f(S,z)};I(rt,S=>{l(r)!==void 0&&S(L)})}f(se,je)};I(We,se=>{x?.active?.state.governance?.isLoadingPeriod?se(Ke):se(ct,!1)})}o(ie),f(ee,ie)},$$slots:{default:!0}}),o(j),f(re,he)};I(g,re=>{x.active&&re(N)},k)}};I(ne,g=>{x.active&&x.active.state.isInitializing?g($e):g(Ie,!1)})}o(be);var Le=c(be,2);aa(an(Le,{}),g=>a=g,()=>a);var ue=c(Le,2);aa(Rr(ue,{}),g=>i=g,()=>i);var ye=c(ue,2);const Me=te(()=>x?.active?.account.explorer??"");Ir(ye,{get opHash(){return l(V)},get explorerTemplate(){return l(Me)},get error(){return l(D)},allowClose:!1,get stage(){return l(B)},get open(){return l(R)},set open(g){T(R,g,!0)}}),f(e,de),Ze()}export{yi as component};
