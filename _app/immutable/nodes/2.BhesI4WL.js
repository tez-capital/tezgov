import{f as P,a as m,b as Ot,t as Oe,d as tt}from"../chunks/B3YLYrIe.js";import{Q as $n,ab as ea,p as qe,g as ln,_ as te,am as Ne,j as a,c as r,r as o,s,ap as St,ao as h,t as D,a as Fe,f as K,Z as Vt,aq as ta,ar as na,a3 as Pn,W as aa,d as ra}from"../chunks/D8c3ok0p.js";import{s as u,d as Nt}from"../chunks/BI73XhKU.js";import{p as yt,i as T,s as oa,b as jt}from"../chunks/C0JickVo.js";import{b2 as qt,at as f,au as Tt,aI as At,ar as Y,aB as Te,b3 as sa,b4 as Gn,b5 as It,av as Ft,ap as gt,a$ as it,ax as Wt,aq as kt,b6 as gn,b7 as pn,b8 as Mn,aD as zt,aG as xt,af as hn,az as Dt,aJ as cn,as as bt,b9 as ia,ba as vn,bb as la,bc as ca,bd as mt,be as Et,bf as Kt,bg as Qt,bh as $t,bi as va,bj as ua,bk as da,a_ as Ye}from"../chunks/BsvVg4h0.js";import"../chunks/zQ066gME.js";import{i as _a}from"../chunks/BsmQqhe3.js";function fa(t,e,n){var i=$n(t,e);i&&i.set&&(t[e]=n,ea(()=>{t[e]=null}))}function ma(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function ga(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Jn(t,...e){if(!ga(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function jn(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pa(t,e){Jn(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const en=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Qe=(t,e)=>t<<32-e|t>>>e;function ha(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Kn(t){return typeof t=="string"&&(t=ha(t)),Jn(t),t}class ba{clone(){return this._cloneInto()}}function ya(t){const e=i=>t().update(Kn(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ka(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const l=BigInt(32),_=BigInt(4294967295),c=Number(n>>l&_),v=Number(n&_),g=i?4:0,p=i?0:4;t.setUint32(e+g,c,i),t.setUint32(e+p,v,i)}const xa=(t,e,n)=>t&e^~t&n,wa=(t,e,n)=>t&e^t&n^e&n;class Ca extends ba{constructor(e,n,i,l){super(),this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=en(this.buffer)}update(e){jn(this);const{view:n,buffer:i,blockLen:l}=this;e=Kn(e);const _=e.length;for(let c=0;c<_;){const v=Math.min(l-this.pos,_-c);if(v===l){const g=en(e);for(;l<=_-c;c+=l)this.process(g,c);continue}i.set(e.subarray(c,c+v),this.pos),this.pos+=v,c+=v,this.pos===l&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){jn(this),pa(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:l,isLE:_}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>l-c&&(this.process(i,0),c=0);for(let d=c;d<l;d++)n[d]=0;ka(i,l-8,BigInt(this.length*8),_),this.process(i,0);const v=en(e),g=this.outputLen;if(g%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=g/4,M=this.get();if(p>M.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<p;d++)v.setUint32(4*d,M[d],_)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:l,finished:_,destroyed:c,pos:v}=this;return e.length=l,e.pos=v,e.finished=_,e.destroyed=c,l%n&&e.buffer.set(i),e}}const La=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ot=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),st=new Uint32Array(64);class Pa extends Ca{constructor(){super(64,32,8,!1),this.A=ot[0]|0,this.B=ot[1]|0,this.C=ot[2]|0,this.D=ot[3]|0,this.E=ot[4]|0,this.F=ot[5]|0,this.G=ot[6]|0,this.H=ot[7]|0}get(){const{A:e,B:n,C:i,D:l,E:_,F:c,G:v,H:g}=this;return[e,n,i,l,_,c,v,g]}set(e,n,i,l,_,c,v,g){this.A=e|0,this.B=n|0,this.C=i|0,this.D=l|0,this.E=_|0,this.F=c|0,this.G=v|0,this.H=g|0}process(e,n){for(let d=0;d<16;d++,n+=4)st[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const b=st[d-15],L=st[d-2],x=Qe(b,7)^Qe(b,18)^b>>>3,N=Qe(L,17)^Qe(L,19)^L>>>10;st[d]=N+st[d-7]+x+st[d-16]|0}let{A:i,B:l,C:_,D:c,E:v,F:g,G:p,H:M}=this;for(let d=0;d<64;d++){const b=Qe(v,6)^Qe(v,11)^Qe(v,25),L=M+b+xa(v,g,p)+La[d]+st[d]|0,N=(Qe(i,2)^Qe(i,13)^Qe(i,22))+wa(i,l,_)|0;M=p,p=g,g=v,v=c+L|0,c=_,_=l,l=i,i=L+N|0}i=i+this.A|0,l=l+this.B|0,_=_+this.C|0,c=c+this.D|0,v=v+this.E|0,g=g+this.F|0,p=p+this.G|0,M=M+this.H|0,this.set(i,l,_,c,v,g,p,M)}roundClean(){st.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Dn=ya(()=>new Pa);function Ma(t){function e(_){var c=Uint8Array.from(_),v=t(c),g=c.length+4,p=new Uint8Array(g);return p.set(c,0),p.set(v.subarray(0,4),c.length),qt.encode(p)}function n(_){var c=_.slice(0,-4),v=_.slice(-4),g=t(c);if(!(v[0]^g[0]|v[1]^g[1]|v[2]^g[2]|v[3]^g[3]))return c}function i(_){var c=qt.decodeUnsafe(_);if(c!=null)return n(c)}function l(_){var c=qt.decode(_),v=n(c);if(v==null)throw new Error("Invalid checksum");return v}return{encode:e,decode:l,decodeUnsafe:i}}function ja(t){return Dn(Dn(t))}const un=Ma(ja),Da=()=>"address",Sa=()=>"direcci√≥n",Aa=(t={},e={})=>(e.locale??f())==="en"?Da():Sa(),za=()=>"stake",Oa=()=>"apostar",tn=(t={},e={})=>(e.locale??f())==="en"?za():Oa(),Na=()=>"unstake",Ta=()=>"retirar apuesta",nn=(t={},e={})=>(e.locale??f())==="en"?Na():Ta(),Ba=()=>"finalize",Ia=()=>"finalizar",Ea=(t={},e={})=>(e.locale??f())==="en"?Ba():Ia(),Ra=()=>"Enter the amount you want to stake",qa=()=>"Ingrese la cantidad que desea apostar",Fa=(t={},e={})=>(e.locale??f())==="en"?Ra():qa(),Wa=()=>"Enter the amount you want to unstake",Ua=()=>"Ingrese la cantidad que desea retirar",Va=(t={},e={})=>(e.locale??f())==="en"?Wa():Ua(),Ha=()=>"Enter the amount TEZ you want to donate",Ya=()=>"Ingrese la cantidad de TEZ que desea donar",Za=(t={},e={})=>(e.locale??f())==="en"?Ha():Ya(),Xa=()=>"donate",Ga=()=>"donar",Sn=(t={},e={})=>(e.locale??f())==="en"?Xa():Ga(),Ja=()=>"Donate to TzC / TEZGOV",Ka=()=>"Donar a TzC / TEZGOV",Qa=(t={},e={})=>(e.locale??f())==="en"?Ja():Ka(),$a=()=>"Become a baker",er=()=>"Convertirse en panadero",An=(t={},e={})=>(e.locale??f())==="en"?$a():er(),tr=()=>"baker",nr=()=>"panadero",ar=(t={},e={})=>(e.locale??f())==="en"?tr():nr(),rr=()=>"Are you sure you want to become a baker?",or=()=>"¬øEst√° seguro de que desea convertirse en panadero?",sr=(t={},e={})=>(e.locale??f())==="en"?rr():or(),ir=()=>"!!! THIS OPERATION IS IRREVERSIBLE !!!",lr=()=>"¬°¬°¬°ESTA OPERACI√ìN ES IRREVERSIBLE!!!",cr=(t={},e={})=>(e.locale??f())==="en"?ir():lr(),vr=()=>"yes",ur=()=>"s√≠",dr=(t={},e={})=>(e.locale??f())==="en"?vr():ur(),_r=()=>"no",fr=()=>"no",mr=(t={},e={})=>(e.locale??f())==="en"?_r():fr(),gr=()=>"delegate",pr=()=>"delegar",an=(t={},e={})=>(e.locale??f())==="en"?gr():pr(),hr=()=>"Enter the address you want to delegate to",br=()=>"Ingrese la direcci√≥n a la que desea delegar",yr=(t={},e={})=>(e.locale??f())==="en"?hr():br(),kr=()=>"Update consensus key",xr=()=>"Actualizar clave de consenso",zn=(t={},e={})=>(e.locale??f())==="en"?kr():xr(),wr=()=>"Enter new consensus key",Cr=()=>"Ingrese la nueva clave de consenso",Lr=(t={},e={})=>(e.locale??f())==="en"?wr():Cr(),Pr=()=>"Loading delegation information...",Mr=()=>"Cargando informaci√≥n de delegaci√≥n...",jr=(t={},e={})=>(e.locale??f())==="en"?Pr():Mr(),Dr=()=>"reactivate",Sr=()=>"reactivar",Ar=(t={},e={})=>(e.locale??f())==="en"?Dr():Sr(),zr=()=>"INACTIVE",Or=()=>"INACTIVO",Nr=(t={},e={})=>(e.locale??f())==="en"?zr():Or(),Tr=()=>"baker management",Br=()=>"gesti√≥n del panadero",Ir=(t={},e={})=>(e.locale??f())==="en"?Tr():Br(),Er=()=>"total staked",Rr=()=>"total apostado",qr=(t={},e={})=>(e.locale??f())==="en"?Er():Rr(),Fr=()=>"total delegated",Wr=()=>"total delegado",Ur=(t={},e={})=>(e.locale??f())==="en"?Fr():Wr(),Vr=()=>"available delegation capacity",Hr=()=>"capacidad de delegaci√≥n disponible",On=(t={},e={})=>(e.locale??f())==="en"?Vr():Hr(),Yr=()=>"parameters",Zr=()=>"par√°metros",Xr=(t={},e={})=>(e.locale??f())==="en"?Yr():Zr(),Gr=()=>"staking fee",Jr=()=>"tarifa de apuesta",rn=(t={},e={})=>(e.locale??f())==="en"?Gr():Jr(),Kr=()=>"total stake capacity",Qr=()=>"capacidad total de apuesta",Nn=(t={},e={})=>(e.locale??f())==="en"?Kr():Qr(),$r=()=>"multiplier",eo=()=>"multiplicador",to=(t={},e={})=>(e.locale??f())==="en"?$r():eo(),no=()=>"consensus key",ao=()=>"clave de consenso",ro=(t={},e={})=>(e.locale??f())==="en"?no():ao(),oo=()=>"ACTIVE",so=()=>"ACTIVO",io=(t={},e={})=>(e.locale??f())==="en"?oo():so(),lo=()=>"pending",co=()=>"pendiente",vo=(t={},e={})=>(e.locale??f())==="en"?lo():co(),uo=()=>"update",_o=()=>"actualizar",Tn=(t={},e={})=>(e.locale??f())==="en"?uo():_o(),fo=()=>"N/A",mo=()=>"N/D",Bn=(t={},e={})=>(e.locale??f())==="en"?fo():mo(),go=()=>"set up",po=()=>"configurar",ho=(t={},e={})=>(e.locale??f())==="en"?go():po(),bo=()=>"delegation management",yo=()=>"gesti√≥n de delegaci√≥n",ko=(t={},e={})=>(e.locale??f())==="en"?bo():yo(),xo=()=>"upcoming staking fee",wo=()=>"pr√≥xima tarifa de apuesta",Co=(t={},e={})=>(e.locale??f())==="en"?xo():wo(),Lo=()=>"available stake capacity",Po=()=>"capacidad de apuesta disponible",In=(t={},e={})=>(e.locale??f())==="en"?Lo():Po(),Mo=()=>"cancel delegation",jo=()=>"cancelar delegaci√≥n",Do=(t={},e={})=>(e.locale??f())==="en"?Mo():jo(),So=()=>"Change the baker",Ao=()=>"Cambiar el panadero",zo=(t={},e={})=>(e.locale??f())==="en"?So():Ao(),Oo=()=>"You have to delegate to be able to stake.",No=()=>"Debe delegar para poder apostar.",To=(t={},e={})=>(e.locale??f())==="en"?Oo():No(),Bo=()=>"Building transaction...",Io=()=>"Construyendo transacci√≥n...",Eo=(t={},e={})=>(e.locale??f())==="en"?Bo():Io(),Ro=()=>"Waiting for confirmation...",qo=()=>"Esperando confirmaci√≥n...",Fo=(t={},e={})=>(e.locale??f())==="en"?Ro():qo(),Wo=()=>"CONFIRMED",Uo=()=>"CONFIRMADO",En=(t={},e={})=>(e.locale??f())==="en"?Wo():Uo(),Vo=()=>"FAILED",Ho=()=>"FALLIDO",Rn=(t={},e={})=>(e.locale??f())==="en"?Vo():Ho(),Yo=()=>"Loading governance state...",Zo=()=>"Cargando estado de gobernanza...",Xo=(t={},e={})=>(e.locale??f())==="en"?Yo():Zo(),Go=()=>"is not supported yet",Jo=()=>"a√∫n no es compatible",Ko=(t={},e={})=>(e.locale??f())==="en"?Go():Jo(),Qo=()=>"period",$o=()=>"per√≠odo",es=(t={},e={})=>(e.locale??f())==="en"?Qo():$o(),ts=()=>"ended",ns=()=>"finalizado",as=(t={},e={})=>(e.locale??f())==="en"?ts():ns(),rs=()=>"blocks",os=()=>"bloques",ss=(t={},e={})=>(e.locale??f())==="en"?rs():os(),is=()=>"ends in",ls=()=>"termina en",cs=(t={},e={})=>(e.locale??f())==="en"?is():ls(),vs=()=>"Loading account...",us=()=>"Cargando cuenta...",ds=(t={},e={})=>(e.locale??f())==="en"?vs():us(),_s=()=>"EXPLORER",fs=()=>"EXPLORADOR",bn=(t={},e={})=>(e.locale??f())==="en"?_s():fs(),ms=()=>"AGORA",gs=()=>"√ÅGORA",yn=(t={},e={})=>(e.locale??f())==="en"?ms():gs(),ps=()=>"You voted",hs=()=>"Usted vot√≥",bs=(t={},e={})=>(e.locale??f())==="en"?ps():hs(),ys=()=>"YAY",ks=()=>"S√ç",qn=(t={},e={})=>(e.locale??f())==="en"?ys():ks(),xs=()=>"NAY",ws=()=>"NO",Fn=(t={},e={})=>(e.locale??f())==="en"?xs():ws(),Cs=()=>"PASS",Ls=()=>"ABSTENCI√ìN",Wn=(t={},e={})=>(e.locale??f())==="en"?Cs():Ls(),Ps=()=>"quorum",Ms=()=>"qu√≥rum",js=(t={},e={})=>(e.locale??f())==="en"?Ps():Ms(),Ds=()=>"supermajority",Ss=()=>"supermayor√≠a",As=(t={},e={})=>(e.locale??f())==="en"?Ds():Ss(),zs=()=>"reached",Os=()=>"alcanzado",dn=(t={},e={})=>(e.locale??f())==="en"?zs():Os(),Ns=()=>"required",Ts=()=>"requerido",_n=(t={},e={})=>(e.locale??f())==="en"?Ns():Ts(),Bs=()=>"Proposal can not be empty",Is=()=>"La propuesta no puede estar vac√≠a",Es=(t={},e={})=>(e.locale??f())==="en"?Bs():Is(),Rs=()=>"Proposal has to start with 'P'",qs=()=>"La propuesta debe comenzar con 'P'",Fs=(t={},e={})=>(e.locale??f())==="en"?Rs():qs(),Ws=()=>"New proposal",Us=()=>"Nueva propuesta",fn=(t={},e={})=>(e.locale??f())==="en"?Ws():Us(),Vs=()=>"Statement",Hs=()=>"Declaraci√≥n",Ys=(t={},e={})=>(e.locale??f())==="en"?Vs():Hs(),Zs=()=>"If you want to make a statement, write it in the 'statement' field; this will generate a proposal hash for you.",Xs=()=>"Si desea hacer una declaraci√≥n, escr√≠bala en el campo 'declaraci√≥n'; esto generar√° un hash de propuesta para usted.",Gs=(t={},e={})=>(e.locale??f())==="en"?Zs():Xs(),Js=()=>"To inject a proper protocol upgrade proposal, write the hash in the 'new proposal' field and leave the 'statement' blank.",Ks=()=>"Para inyectar una propuesta adecuada de actualizaci√≥n del protocolo, escriba el hash en el campo 'nueva propuesta' y deje en blanco la 'declaraci√≥n'.",Qs=(t={},e={})=>(e.locale??f())==="en"?Js():Ks(),$s=()=>"* Please refrain from using this feature for spamming.",ei=()=>"* Por favor abst√©ngase de usar esta funci√≥n para spam.",ti=(t={},e={})=>(e.locale??f())==="en"?$s():ei(),ni=()=>"Remember that you can propose or vote for a proposal only",ai=()=>"Recuerde que solo puede proponer o votar una propuesta",ri=(t={},e={})=>(e.locale??f())==="en"?ni():ai(),oi=()=>"10 times per period",si=()=>"10 veces por per√≠odo",ii=(t={},e={})=>(e.locale??f())==="en"?oi():si(),li=()=>"You can provide proposal hash",ci=()=>"Puede proporcionar el hash de la propuesta",vi=(t={},e={})=>(e.locale??f())==="en"?li():ci(),ui=()=>"inject",di=()=>"inyectar",_i=(t={},e={})=>(e.locale??f())==="en"?ui():di(),fi=()=>"upvotes",mi=()=>"votos a favor",gi=(t={},e={})=>(e.locale??f())==="en"?fi():mi(),pi=()=>"UPVOTED",hi=()=>"VOTADO",bi=(t={},e={})=>(e.locale??f())==="en"?pi():hi(),yi=()=>"UPVOTE",ki=()=>"VOTAR A FAVOR",xi=(t={},e={})=>(e.locale??f())==="en"?yi():ki(),wi=()=>"account information",Ci=()=>"informaci√≥n de la cuenta",Li=(t={},e={})=>(e.locale??f())==="en"?wi():Ci(),Pi=()=>"Loading account information...",Mi=()=>"Cargando informaci√≥n de la cuenta...",ji=(t={},e={})=>(e.locale??f())==="en"?Pi():Mi(),Di=()=>"full balance",Si=()=>"saldo completo",Ai=(t={},e={})=>(e.locale??f())==="en"?Di():Si(),zi=()=>"liquid balance",Oi=()=>"saldo l√≠quido",Ni=(t={},e={})=>(e.locale??f())==="en"?zi():Oi(),Ti=()=>"staked balance",Bi=()=>"saldo apostado",Ii=(t={},e={})=>(e.locale??f())==="en"?Ti():Bi(),Ei=()=>"Finalizable Balance",Ri=()=>"Saldo finalizable",qi=(t={},e={})=>(e.locale??f())==="en"?Ei():Ri(),Fi=()=>"NOTE: You may need to confirm the transaction with your signer",Wi=()=>"NOTA: Puede que necesite confirmar la transacci√≥n con su firmante",Ui=(t={},e={})=>(e.locale??f())==="en"?Fi():Wi(),Vi=()=>"Open Explorer",Hi=()=>"Abrir explorador",Yi=(t={},e={})=>(e.locale??f())==="en"?Vi():Hi(),Zi=()=>"Transaction",Xi=()=>"Transacci√≥n",Gi=(t={},e={})=>(e.locale??f())==="en"?Zi():Xi(),mn="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Ji=34,Ki=51,Qi=t=>{let e=0n;for(const n of t)e*=58n,e+=BigInt(mn.indexOf(n));return e},Un=t=>{const e=[];for(;t>0n;)e.push(Number(t%256n)),t=t/256n;return e.reverse()},$i=t=>{const e=Ji,n=Qi(t),i=qt.decode(t).length+1,l=BigInt(8*(e-i+4)),_=Ki-t.length;let c=n*58n**BigInt(_);c=c>>l,c+=c===c>>l<<l?0n:1n;let v=(n+1n)*58n**BigInt(_)-(1n<<l)+1n;if(v=v>>l,v>=c){const g=Uint8Array.from(Array.from({...Un(c),length:e}).map(b=>b===void 0?0:b)),p=un.encode(g);if(!p.startsWith(t)||p.length!==_+t.length)return null;const M=Uint8Array.from(Array.from({...Un(c),length:e}).map(b=>b===void 0?255:b)),d=un.encode(M);return!d.startsWith(t)||d.length!==_+t.length?null:g}return null},el=t=>{let e="Pt1";for(const i of t){if(mn.includes(i)){e+=i;continue}if(mn.includes(i.toLowerCase())){e+=i.toLowerCase();continue}}const n=$i(e);return n===null?[!1,"Can not generate protocol hash from provided message"]:[!0,un.encode(new Uint8Array(n))]};var tl=P('<div class="center svelte-sbi72s"><div class="content sl-card svelte-sbi72s"><b class="title svelte-sbi72s"> </b> <div></div> <div class="text"> </div> <div class="text"> </div> <div class="text"><b> </b></div> <div class="text"> <b> </b>.</div> <div></div> <!> <!> <div class="controls svelte-sbi72s"><!> <div><!></div></div></div></div>');function nl(t,e){qe(e,!0);let n=yt(e,"open",15,!1),i=Ne(""),l=Ne("");async function _(){e.onnewproposal(a(l)),n(!1)}const c=[g=>!!g||Es(),g=>g.startsWith("P")||Fs()];ln(()=>{n()&&(te(i,""),te(l,""))}),ln(()=>{if(a(i)){const[g,p]=el(a(i));g&&te(l,p,!0)}});let v=h(()=>c.every(g=>g(a(l))===!0));Tt(t,{get open(){return n()},persistent:!0,children:(g,p)=>{var M=tl(),d=r(M),b=r(d),L=r(b,!0);o(b);var x=s(b,4),N=r(x,!0);o(x);var Q=s(x,2),W=r(Q,!0);o(Q);var B=s(Q,2),F=r(B),w=r(F,!0);o(F),o(B);var y=s(B,2),S=r(y),E=s(S),ne=r(E,!0);o(E),St(),o(y);var k=s(y,4);const C=h(()=>Ys());At(k,{get label(){return a(C)},get value(){return a(i)},set value(O){te(i,O,!0)}});var j=s(k,2);const R=h(()=>fn()),A=h(()=>vi());At(j,{get label(){return a(R)},get hint(){return a(A)},get rules(){return c},get value(){return a(l)},set value(O){te(l,O,!0)}});var z=s(j,2),se=r(z);Y(se,{label:"Cancel",onclick:()=>n(!1)});var q=s(se,2);let Z;var G=r(q);const le=h(()=>_i());Y(G,{get label(){return a(le)},onclick:_}),o(q),o(z),o(d),o(M),D((O,$,J,ve,U,de,ee)=>{u(L,O),u(N,$),u(W,J),u(w,ve),u(S,`${U??""} `),u(ne,de),Z=Te(q,1,"",null,Z,ee)},[()=>fn(),()=>Gs(),()=>Qs(),()=>ti(),()=>ri(),()=>ii(),()=>({disabled:!a(v)})]),m(g,M)},$$slots:{default:!0}}),Fe()}var al=Ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"></path></svg>');function Ht(t){var e=al();m(t,e)}var rl=Ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 3 6 L 3 25 L 13 25 C 14.101563 25 15 25.898438 15 27 L 17 27 C 17 25.898438 17.898438 25 19 25 L 29 25 L 29 6 L 19 6 C 17.808594 6 16.734375 6.527344 16 7.359375 C 15.265625 6.527344 14.191406 6 13 6 Z M 5 8 L 13 8 C 14.101563 8 15 8.898438 15 10 L 17 10 C 17 8.898438 17.898438 8 19 8 L 27 8 L 27 23 L 19 23 C 17.808594 23 16.734375 23.527344 16 24.359375 C 15.265625 23.527344 14.191406 23 13 23 L 5 23 Z M 15 12 L 15 14 L 17 14 L 17 12 Z M 15 16 L 15 18 L 17 18 L 17 16 Z M 15 20 L 15 22 L 17 22 L 17 20 Z"></path></svg>');function kn(t){var e=rl();m(t,e)}var ol=Ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z"></path></svg>');function xn(t){var e=ol();m(t,e)}function sl(t,e){if(!t)return new Date(0);const i=((t.startPosition+t.position+t.remaining??-1)-(e??t?.position??1))*sa;return new Date(Date.now()+i)}function il(t,e){return t?(t.startPosition+t.position+t.remaining??0)-(e??0):"N/A"}function ll(t){return(BigInt(t)/10n**6n).toLocaleString()}var cl=(t,e)=>gt(a(e).proposal),vl=P('<div class="button-content svelte-1kvhhsz"><div class="label svelte-1kvhhsz"> </div> <div class="icon svelte-1kvhhsz"><!></div></div>'),ul=P('<div class="button-content svelte-1kvhhsz"><div class="label svelte-1kvhhsz"> </div> <div class="icon svelte-1kvhhsz"><!></div></div>'),dl=P('<div class="button-content upvoted svelte-1kvhhsz"><div class="label svelte-1kvhhsz"> </div> <div class="icon svelte-1kvhhsz"><!></div></div>'),_l=P('<div class="button-content svelte-1kvhhsz"><div class="label svelte-1kvhhsz"> </div> <div class="icon svelte-1kvhhsz"><!></div></div>'),fl=P('<div><div class="title svelte-1kvhhsz"><button class="unstyle-button"> </button></div> <div class="upvotes svelte-1kvhhsz"> <!></div> <div class="upvote-bar svelte-1kvhhsz"><svg width="100%" height="15"><rect width="100%" y="5" height="5" fill="#e6e6e6" rx="2" ry="2"></rect><rect y="5" height="5" fill="var(--progress-color)" rx="2" ry="2"></rect><rect width="3" height="15" fill="var(--progress-color)" rx="2" ry="2"></rect></svg></div> <!> <!> <div><!></div></div>'),ml=P('<!> <div class="separator svelte-1kvhhsz"><!></div>',1),gl=P('<div class="proposal-period-wrap svelte-1kvhhsz"><div class="proposal-period svelte-1kvhhsz"><!></div> <div><!></div></div> <!>',1);function pl(t,e){qe(e,!0);let n=h(()=>e.session.account),i=Ne(!1);function l(y){window.open(`${gn}/${y}`,"_blank")}function _(y){window.open(`${pn}/${y}/${e.period.index}`,"_blank")}async function c(y){await e.onNewOperation(async()=>await e.session.upvote(y,e.period.index))}const v=h(()=>e.period.voters.reduce((y,S)=>y+BigInt(S.votingPower.toString()),0n));let g=h(()=>Gn(e.period.voters,y=>y.pkh===a(n).id)),p=h(()=>e.period.proposals.map(y=>{const S=Number(BigInt(y.upvotes.toString())*100000n/a(v))/1e3;return{...y,upvotes:y.upvotes,upvotesFormatted:ll(y.upvotes.toString()),percentage:Math.round(S*100)/100,percentageString:`${S}%`,quorumReached:BigInt(y.upvotes.toString())>a(v)/100n*It}}));var M=gl(),d=K(M),b=r(d),L=r(b);{var x=y=>{var S=Oe("no proposals");m(y,S)},N=y=>{var S=ml(),E=K(S);Ft(E,17,()=>a(p),Wt,(C,j)=>{var R=fl();let A;var z=r(R),se=r(z);se.__click=[cl,j];var q=r(se,!0);o(se),o(z);var Z=s(z,2),G=r(Z),le=s(G);{var O=ae=>{var ie=Oe();D(re=>u(ie,`(${It??""}% ${re??""})`),[()=>dn()]),m(ae,ie)},$=ae=>{var ie=Oe();D(re=>u(ie,`(${re??""} ${It??""}%)`),[()=>_n()]),m(ae,ie)};T(le,ae=>{a(j).quorumReached?ae(O):ae($,!1)})}o(Z);var J=s(Z,2),ve=r(J),U=s(r(ve)),de=s(U);o(ve),o(J);var ee=s(J,2);Y(ee,{onclick:()=>l(a(j).proposal),children:(ae,ie)=>{var re=vl(),ce=r(re),_e=r(ce,!0);o(ce);var ge=s(ce,2),xe=r(ge);xn(xe),o(ge),o(re),D(V=>u(_e,V),[()=>bn()]),m(ae,re)},$$slots:{default:!0}});var be=s(ee,2);Y(be,{onclick:()=>_(a(j).proposal),children:(ae,ie)=>{var re=ul(),ce=r(re),_e=r(ce,!0);o(ce);var ge=s(ce,2),xe=r(ge);kn(xe),o(ge),o(re),D(V=>u(_e,V),[()=>yn()]),m(ae,re)},$$slots:{default:!0}});var Ce=s(be,2);let me;var ke=r(Ce);{var We=ae=>{var ie=dl(),re=r(ie),ce=r(re,!0);o(re);var _e=s(re,2),ge=r(_e);Ht(ge),o(_e),o(ie),D(xe=>u(ce,xe),[()=>bi()]),m(ae,ie)},Ue=ae=>{Y(ae,{onclick:()=>c([a(j).proposal]),children:(ie,re)=>{var ce=_l(),_e=r(ce),ge=r(_e,!0);o(_e);var xe=s(_e,2),V=r(xe);Ht(V),o(xe),o(ce),D(Me=>u(ge,Me),[()=>xi()]),m(ie,ce)},$$slots:{default:!0}})};T(ke,ae=>{e.period.votes&&e.period.votes[a(j).proposal].includes(a(n).id)?ae(We):ae(Ue,!1)})}o(Ce),o(R),D((ae,ie,re)=>{A=Te(R,1,"proposal svelte-1kvhhsz",null,A,ae),u(q,a(j).proposal),u(G,`${a(j).upvotesFormatted??""} ${ie??""} ~ ${a(j).percentage??""}% `),it(U,"width",a(j).percentageString),it(de,"x",`${It}%`),me=Te(Ce,1,"upvote-btn svelte-1kvhhsz",null,me,re)},[()=>({success:a(j).quorumReached}),()=>gi(),()=>({disabled:!a(g)})]),m(C,R)});var ne=s(E,2),k=r(ne);kt(k),o(ne),m(y,S)};T(L,y=>{a(p).length===0?y(x):y(N,!1)})}o(b);var Q=s(b,2);let W;var B=r(Q);const F=h(()=>fn());Y(B,{get label(){return a(F)},onclick:()=>te(i,!0)}),o(Q),o(d);var w=s(d,2);nl(w,{onnewproposal:y=>c([y]),get open(){return a(i)},set open(y){te(i,y,!0)}}),D(y=>W=Te(Q,1,"new-proposal",null,W,y),[()=>({disabled:!a(g)})]),m(t,M),Fe()}Nt(["click"]);var hl=Ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"></path></svg>');function Vn(t){var e=hl();m(t,e)}var bl=Ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16 6 C 14.9375 6 14.003906 6.5625 13.46875 7.40625 C 13.03125 7.15625 12.535156 7 12 7 C 10.355469 7 9 8.355469 9 10 L 9 13.65625 L 8.875 13.8125 C 8.800781 13.898438 8.730469 13.976563 8.65625 14.0625 C 8.144531 14.660156 7.65625 15.292969 7.21875 15.9375 L 6.90625 16.34375 C 6.480469 16.894531 6.21875 17.535156 6.09375 18.1875 C 6.078125 18.261719 6.042969 18.332031 6.03125 18.40625 C 5.855469 19.652344 6.226563 20.949219 7.09375 21.9375 L 9.46875 24.625 C 10.796875 26.136719 12.707031 27 14.71875 27 L 20 27 C 23.855469 27 27 23.855469 27 20 L 27 11 C 27 9.355469 25.644531 8 24 8 C 23.464844 8 22.96875 8.15625 22.53125 8.40625 C 21.996094 7.5625 21.0625 7 20 7 C 19.464844 7 18.96875 7.15625 18.53125 7.40625 C 17.996094 6.5625 17.0625 6 16 6 Z M 16 8 C 16.566406 8 17 8.433594 17 9 L 17 11.1875 C 16.683594 11.074219 16.351563 11 16 11 L 15 11 L 15 9 C 15 8.433594 15.433594 8 16 8 Z M 12 9 C 12.566406 9 13 9.433594 13 10 L 13 11 L 11.59375 11 L 11.3125 11.28125 C 11.3125 11.28125 11.085938 11.511719 11 11.59375 L 11 10 C 11 9.433594 11.433594 9 12 9 Z M 20 9 C 20.566406 9 21 9.433594 21 10 L 21 13 C 21 13.566406 20.566406 14 20 14 C 19.433594 14 19 13.566406 19 13 L 19 10 C 19 9.433594 19.433594 9 20 9 Z M 24 10 C 24.566406 10 25 10.433594 25 11 L 25 13 C 25 13.566406 24.566406 14 24 14 C 23.433594 14 23 13.566406 23 13 L 23 11 C 23 10.433594 23.433594 10 24 10 Z M 12.4375 13 L 16 13 C 16.5625 13 17 13.4375 17 14 C 17 14.5625 16.5625 15 16 15 L 12.875 15 L 12.59375 15.375 L 10.25 18.34375 L 11.8125 19.59375 L 13.65625 17.28125 C 14.015625 17.449219 14.425781 17.699219 14.875 18.0625 C 15.941406 18.929688 17 20.347656 17 23 L 19 23 C 19 20.132813 17.855469 18.15625 16.59375 16.9375 C 17.402344 16.769531 18.101563 16.273438 18.53125 15.59375 C 18.96875 15.84375 19.464844 16 20 16 C 20.765625 16 21.46875 15.699219 22 15.21875 C 22.53125 15.699219 23.234375 16 24 16 C 24.351563 16 24.683594 15.925781 25 15.8125 L 25 20 C 25 22.773438 22.773438 25 20 25 L 14.71875 25 C 13.28125 25 11.917969 24.394531 10.96875 23.3125 L 8.59375 20.59375 C 8.164063 20.105469 7.964844 19.507813 8 18.90625 C 8 18.898438 8.027344 18.832031 8.03125 18.8125 C 8.035156 18.78125 8.027344 18.75 8.03125 18.71875 C 8.078125 18.5 8.230469 18.078125 8.5625 17.53125 C 8.605469 17.460938 8.671875 17.382813 8.71875 17.3125 L 10.1875 15.375 C 11.292969 14.082031 12.214844 13.210938 12.4375 13 Z"></path></svg>');function Hn(t){var e=bl();m(t,e)}const Rt=43200,Yn=1440,Zn=Symbol.for("constructDateFrom");function wn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Zn in t?t[Zn](e):t instanceof Date?new t.constructor(e):new Date(e)}function lt(t,e){return wn(t,t)}let yl={};function kl(){return yl}function Xn(t){const e=lt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Cn(t,...e){const n=wn.bind(null,t||e.find(i=>typeof i=="object"));return e.map(n)}function Ut(t,e){const n=+lt(t)-+lt(e);return n<0?-1:n>0?1:n}function xl(t){return wn(t,Date.now())}function wl(t,e,n){const[i,l]=Cn(n?.in,t,e),_=i.getFullYear()-l.getFullYear(),c=i.getMonth()-l.getMonth();return _*12+c}function Cl(t){return e=>{const i=(t?Math[t]:Math.trunc)(e);return i===0?0:i}}function Ll(t,e){return+lt(t)-+lt(e)}function Pl(t,e){const n=lt(t);return n.setHours(23,59,59,999),n}function Ml(t,e){const n=lt(t),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function jl(t,e){const n=lt(t);return+Pl(n)==+Ml(n)}function Dl(t,e,n){const[i,l,_]=Cn(n?.in,t,t,e),c=Ut(l,_),v=Math.abs(wl(l,_));if(v<1)return 0;l.getMonth()===1&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-c*v);let g=Ut(l,_)===-c;jl(i)&&v===1&&Ut(i,_)===1&&(g=!1);const p=c*(v-+g);return p===0?0:p}function Sl(t,e,n){const i=Ll(t,e)/1e3;return Cl(n?.roundingMethod)(i)}const Al={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zl=(t,e,n)=>{let i;const l=Al[t];return typeof l=="string"?i=l:e===1?i=l.one:i=l.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function on(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Ol={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nl={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Tl={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bl={date:on({formats:Ol,defaultWidth:"full"}),time:on({formats:Nl,defaultWidth:"full"}),dateTime:on({formats:Tl,defaultWidth:"full"})},Il={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},El=(t,e,n,i)=>Il[t];function Pt(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let l;if(i==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,v=n?.width?String(n.width):c;l=t.formattingValues[v]||t.formattingValues[c]}else{const c=t.defaultWidth,v=n?.width?String(n.width):t.defaultWidth;l=t.values[v]||t.values[c]}const _=t.argumentCallback?t.argumentCallback(e):e;return l[_]}}const Rl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ql={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Wl={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ul={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hl=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Yl={ordinalNumber:Hl,era:Pt({values:Rl,defaultWidth:"wide"}),quarter:Pt({values:ql,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Pt({values:Fl,defaultWidth:"wide"}),day:Pt({values:Wl,defaultWidth:"wide"}),dayPeriod:Pt({values:Ul,defaultWidth:"wide",formattingValues:Vl,defaultFormattingWidth:"wide"})};function Mt(t){return(e,n={})=>{const i=n.width,l=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],_=e.match(l);if(!_)return null;const c=_[0],v=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],g=Array.isArray(v)?Xl(v,d=>d.test(c)):Zl(v,d=>d.test(c));let p;p=t.valueCallback?t.valueCallback(g):g,p=n.valueCallback?n.valueCallback(p):p;const M=e.slice(c.length);return{value:p,rest:M}}}function Zl(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Xl(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Gl(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const l=i[0],_=e.match(t.parsePattern);if(!_)return null;let c=t.valueCallback?t.valueCallback(_[0]):_[0];c=n.valueCallback?n.valueCallback(c):c;const v=e.slice(l.length);return{value:c,rest:v}}}const Jl=/^(\d+)(th|st|nd|rd)?/i,Kl=/\d+/i,Ql={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$l={any:[/^b/i,/^(a|c)/i]},ec={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tc={any:[/1/i,/2/i,/3/i,/4/i]},nc={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ac={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rc={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oc={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sc={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ic={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lc={ordinalNumber:Gl({matchPattern:Jl,parsePattern:Kl,valueCallback:t=>parseInt(t,10)}),era:Mt({matchPatterns:Ql,defaultMatchWidth:"wide",parsePatterns:$l,defaultParseWidth:"any"}),quarter:Mt({matchPatterns:ec,defaultMatchWidth:"wide",parsePatterns:tc,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Mt({matchPatterns:nc,defaultMatchWidth:"wide",parsePatterns:ac,defaultParseWidth:"any"}),day:Mt({matchPatterns:rc,defaultMatchWidth:"wide",parsePatterns:oc,defaultParseWidth:"any"}),dayPeriod:Mt({matchPatterns:sc,defaultMatchWidth:"any",parsePatterns:ic,defaultParseWidth:"any"})},cc={code:"en-US",formatDistance:zl,formatLong:Bl,formatRelative:El,localize:Yl,match:lc,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vc(t,e,n){const i=kl(),l=n?.locale??i.locale??cc,_=2520,c=Ut(t,e);if(isNaN(c))throw new RangeError("Invalid time value");const v=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:c}),[g,p]=Cn(n?.in,...c>0?[e,t]:[t,e]),M=Sl(p,g),d=(Xn(p)-Xn(g))/1e3,b=Math.round((M-d)/60);let L;if(b<2)return n?.includeSeconds?M<5?l.formatDistance("lessThanXSeconds",5,v):M<10?l.formatDistance("lessThanXSeconds",10,v):M<20?l.formatDistance("lessThanXSeconds",20,v):M<40?l.formatDistance("halfAMinute",0,v):M<60?l.formatDistance("lessThanXMinutes",1,v):l.formatDistance("xMinutes",1,v):b===0?l.formatDistance("lessThanXMinutes",1,v):l.formatDistance("xMinutes",b,v);if(b<45)return l.formatDistance("xMinutes",b,v);if(b<90)return l.formatDistance("aboutXHours",1,v);if(b<Yn){const x=Math.round(b/60);return l.formatDistance("aboutXHours",x,v)}else{if(b<_)return l.formatDistance("xDays",1,v);if(b<Rt){const x=Math.round(b/Yn);return l.formatDistance("xDays",x,v)}else if(b<Rt*2)return L=Math.round(b/Rt),l.formatDistance("aboutXMonths",L,v)}if(L=Dl(p,g),L<12){const x=Math.round(b/Rt);return l.formatDistance("xMonths",x,v)}else{const x=L%12,N=Math.trunc(L/12);return x<3?l.formatDistance("aboutXYears",N,v):x<9?l.formatDistance("overXYears",N,v):l.formatDistance("almostXYears",N+1,v)}}function uc(t,e){return vc(t,xl(t),e)}function sn(t){return typeof t=="bigint"&&(t=t.toString()),!t||typeof t!="string"?"N/A":t==="0"?"0 Íú©":`${t.substring(0,t.length-6)}.${t.substring(t.length-6)} Íú©`}var dc=(t,e)=>gt(e.period.proposal),_c=P('<div class="button-content svelte-13m2jt6"><div class="label svelte-13m2jt6"> </div> <div class="icon svelte-13m2jt6"><!></div></div>'),fc=P('<div class="button-content svelte-13m2jt6"><div class="label svelte-13m2jt6"> </div> <div class="icon svelte-13m2jt6"><!></div></div>'),mc=P('<div class="existing-vote svelte-13m2jt6"> <div class="ballot svelte-13m2jt6"><!></div></div>'),gc=P('<div class="button-content svelte-13m2jt6"><div class="label svelte-13m2jt6"> </div> <div class="icon svelte-13m2jt6"><!></div></div>'),pc=P('<div class="button-content svelte-13m2jt6"><div class="label svelte-13m2jt6"> </div> <div class="icon svelte-13m2jt6"><!></div></div>'),hc=P('<div class="button-content svelte-13m2jt6"><div class="label svelte-13m2jt6"> </div> <div class="icon svelte-13m2jt6"><!></div></div>'),bc=P('<div class="nay svelte-13m2jt6"><!></div> <div class="pass svelte-13m2jt6"><!></div> <div class="yay svelte-13m2jt6"><!></div>',1),yc=P('<div><div class="period svelte-13m2jt6"><div class="proposal svelte-13m2jt6"><div class="title svelte-13m2jt6"><button class="unstyle-button"> </button></div> <div class="vote-summary svelte-13m2jt6"><div class="nay value svelte-13m2jt6"> <div class="icon svelte-13m2jt6"><!></div></div> <div class="pass value svelte-13m2jt6"> <div class="icon svelte-13m2jt6"><!></div></div> <div class="yay value svelte-13m2jt6"> <div class="icon svelte-13m2jt6"><!></div></div></div> <div class="separator svelte-13m2jt6"><!></div> <div class="bar svelte-13m2jt6"><div class="bar-title svelte-13m2jt6"> </div> <div class="bar-description svelte-13m2jt6"> <!></div> <svg width="100%" height="15"><rect width="100%" height="5" y="5" fill="#e6e6e6" rx="2" ry="2"></rect><rect y="5" height="5" fill="var(--yay-color)" rx="2" ry="2"></rect><rect height="5" y="5" fill="var(--pass-color)" rx="2" ry="2"></rect><rect height="5" y="5" fill="var(--nay-color)" rx="2" ry="2"></rect><rect width="3" height="15" fill="var(--quorum-color)" rx="2" ry="2"></rect></svg></div> <div class="bar svelte-13m2jt6"><div class="bar-title svelte-13m2jt6"> </div> <div class="bar-description svelte-13m2jt6"> <!></div> <svg width="100%" height="15"><rect width="100%" height="5" y="5" fill="#e6e6e6" rx="2" ry="2"></rect><rect y="5" height="5" fill="var(--majority-color)" rx="2" ry="2"></rect><rect width="3" height="15" fill="var(--majority-color)" rx="2" ry="2"></rect></svg></div> <!> <!> <div class="separator svelte-13m2jt6"><!></div> <div><!></div></div></div></div>');function kc(t,e){qe(e,!0);let n=h(()=>e.session.account),i=h(()=>e.period.voters.reduce((I,H)=>I+BigInt(H.votingPower.toString()),0n)),l=h(()=>e.period.summary.yay+e.period.summary.nay||1n),_=h(()=>Math.round(Number(BigInt(e.period.summary.yay)*100000n/a(i))/10)/100),c=h(()=>Math.round(Number(BigInt(e.period.summary.nay)*100000n/a(i))/10)/100),v=h(()=>Math.round(Number(BigInt(e.period.summary.pass)*100000n/a(i))/10)/100);const g=h(()=>a(l)+BigInt(e.period.summary.pass));let p=h(()=>a(g)>a(i)*BigInt(e.period.quorum)/10000n),M=h(()=>Math.min(Number(BigInt(e.period.summary.yay+e.period.summary.nay+e.period.summary.pass)*100000n/a(i))/1e3,100)),d=Number(e.period.quorum)/100,b=h(()=>BigInt(e.period.summary.yay)>=a(l)*Mn/100n),L=h(()=>Math.round(Number(BigInt(e.period.summary.yay)*100000n/a(l))/10)/100),x=h(()=>Number(Mn));function N(){window.open(`${gn}/${e.period.proposal}`,"_blank")}function Q(){window.open(`${pn}/${e.period.proposal}/${e.period.index}`,"_blank")}async function W(I){await e.onNewOperation(async()=>await e.session.vote(e.period.proposal,I,e.period.index))}let B=h(()=>e.period.ballots.find(I=>I.pkh===a(n).id)),F=h(()=>Gn(e.period.voters,I=>I.pkh===a(n).id));var w=yc();let y;var S=r(w),E=r(S),ne=r(E),k=r(ne);k.__click=[dc,e];var C=r(k,!0);o(k),o(ne);var j=s(ne,2),R=r(j),A=r(R),z=s(A),se=r(z);Vn(se),o(z),o(R);var q=s(R,2),Z=r(q),G=s(Z),le=r(G);Hn(le),o(G),o(q);var O=s(q,2),$=r(O),J=s($),ve=r(J);Ht(ve),o(J),o(O),o(j);var U=s(j,2),de=r(U);kt(de),o(U);var ee=s(U,2),be=r(ee),Ce=r(be,!0);o(be);var me=s(be,2),ke=r(me),We=s(ke);{var Ue=I=>{var H=Oe();D(X=>u(H,`(${d}% ${X??""})`),[()=>dn()]),m(I,H)},ae=I=>{var H=Oe();D(X=>u(H,`(${X??""} ${d}%)`),[()=>_n()]),m(I,H)};T(We,I=>{a(p)?I(Ue):I(ae,!1)})}o(me);var ie=s(me,2),re=s(r(ie)),ce=s(re),_e=s(ce),ge=s(_e);o(ie),o(ee);var xe=s(ee,2),V=r(xe),Me=r(V,!0);o(V);var je=s(V,2),ze=r(je),Be=s(ze);{var Ie=I=>{var H=Oe();D(X=>u(H,`(${a(x)??""}% ${X??""})`),[()=>dn()]),m(I,H)},nt=I=>{var H=Oe();D(X=>u(H,`(${X??""} ${a(x)??""}%)`),[()=>_n()]),m(I,H)};T(Be,I=>{a(b)?I(Ie):I(nt,!1)})}o(je);var Ze=s(je,2),De=s(r(Ze)),Ee=s(De);o(Ze),o(xe);var at=s(xe,2);Y(at,{onclick:()=>N(),children:(I,H)=>{var X=_c(),ue=r(X),we=r(ue,!0);o(ue);var pe=s(ue,2),Le=r(pe);xn(Le),o(pe),o(X),D(ye=>u(we,ye),[()=>bn()]),m(I,X)},$$slots:{default:!0}});var Xe=s(at,2);Y(Xe,{onclick:()=>Q(),children:(I,H)=>{var X=fc(),ue=r(X),we=r(ue,!0);o(ue);var pe=s(ue,2),Le=r(pe);kn(Le),o(pe),o(X),D(ye=>u(we,ye),[()=>yn()]),m(I,X)},$$slots:{default:!0}});var ct=s(Xe,2),Ve=r(ct);kt(Ve),o(ct);var Ge=s(ct,2);let $e;var vt=r(Ge);{var Je=I=>{var H=mc(),X=r(H),ue=s(X),we=r(ue);{var pe=ye=>{var Se=Oe();D(He=>u(Se,He),[()=>qn()]),m(ye,Se)},Le=(ye,Se)=>{{var He=he=>{var Re=Oe();D(oe=>u(Re,oe),[()=>Fn()]),m(he,Re)},Pe=(he,Re)=>{{var oe=fe=>{var Ae=Oe();D(ut=>u(Ae,ut),[()=>Wn()]),m(fe,Ae)};T(he,fe=>{a(B).ballot==="pass"&&fe(oe)},Re)}};T(ye,he=>{a(B).ballot==="nay"?he(He):he(Pe,!1)},Se)}};T(we,ye=>{a(B).ballot==="yay"?ye(pe):ye(Le,!1)})}o(ue),o(H),D(ye=>u(X,`${ye??""}: `),[()=>bs()]),m(I,H)},pt=I=>{var H=bc(),X=K(H),ue=r(X);Y(ue,{onclick:()=>W("nay"),children:(Se,He)=>{var Pe=gc(),he=r(Pe),Re=r(he,!0);o(he);var oe=s(he,2),fe=r(oe);Vn(fe),o(oe),o(Pe),D(Ae=>u(Re,Ae),[()=>Fn()]),m(Se,Pe)},$$slots:{default:!0}}),o(X);var we=s(X,2),pe=r(we);Y(pe,{onclick:()=>W("pass"),children:(Se,He)=>{var Pe=pc(),he=r(Pe),Re=r(he,!0);o(he);var oe=s(he,2),fe=r(oe);Hn(fe),o(oe),o(Pe),D(Ae=>u(Re,Ae),[()=>Wn()]),m(Se,Pe)},$$slots:{default:!0}}),o(we);var Le=s(we,2),ye=r(Le);Y(ye,{onclick:()=>W("yay"),children:(Se,He)=>{var Pe=hc(),he=r(Pe),Re=r(he,!0);o(he);var oe=s(he,2),fe=r(oe);Ht(fe),o(oe),o(Pe),D(Ae=>u(Re,Ae),[()=>qn()]),m(Se,Pe)},$$slots:{default:!0}}),o(Le),m(I,H)};T(vt,I=>{a(B)?I(Je):I(pt,!1)})}o(Ge),o(E),o(S),o(w),D((I,H,X,ue,we,pe,Le)=>{y=Te(w,1,"period-wrap svelte-13m2jt6",null,y,I),u(C,e.period.proposal),u(A,`${H??""} (${a(c)??""} %) `),u(Z,`${X??""} (${a(v)??""} %) `),u($,`${ue??""} (${a(_)??""} %) `),u(Ce,we),u(ke,`${a(M)??""} % `),it(re,"width",`${a(c)+a(v)+a(_)}%`),it(ce,"width",`${a(c)+a(v)}%`),it(_e,"width",`${a(c)}%`),it(ge,"x",`${d}%`),u(Me,pe),u(ze,`${a(L)??""} `),it(De,"width",`${a(L)}%`),it(Ee,"x",`${a(x)}%`),$e=Te(Ge,1,"vote-section svelte-13m2jt6",null,$e,Le)},[()=>({"quorum-reached":a(p),"majority-reached":a(b)}),()=>sn(e.period.summary.nay),()=>sn(e.period.summary.pass),()=>sn(e.period.summary.yay),()=>js(),()=>As(),()=>({disabled:!a(F)})]),m(t,w),Fe()}Nt(["click"]);var xc=P('<div class="error-message svelte-1kcf8tg"> </div>'),wc=P('<div class="status svelte-1kcf8tg"> </div>'),Cc=P('<div class="status failed svelte-1kcf8tg"> </div>'),Lc=P('<div class="note svelte-1kcf8tg"> </div>'),Pc=P('<div class="progress svelte-1kcf8tg"><!></div> <!>',1),Mc=P('<h5 class="title svelte-1kcf8tg"> </h5> <!> <!> <div><!></div>',1),jc=P('<div class="center svelte-1kcf8tg"><div class="transaction-confirmation sl-card svelte-1kcf8tg"><!> <!></div></div>');function Dc(t,e){qe(e,!0);let n=yt(e,"open",15),i=yt(e,"allowClose",3,!0),l=yt(e,"stage",3,"building");function _(p){switch(p){case"building":return Eo();case"confirming":return Fo();case"applied":return En();case"failed":return Rn()}}let c=h(()=>e.explorerTemplate?e.explorerTemplate.replace("%s",e.opHash??""):void 0),v=h(()=>_(l()));const g=h(()=>l()==="building"||l()==="confirming");Tt(t,{get persistent(){return a(g)},get open(){return n()},set open(p){n(p)},children:(p,M)=>{var d=jc(),b=r(d),L=r(b);{var x=B=>{var F=xc(),w=r(F,!0);o(F),D(()=>u(w,e.error)),m(B,F)},N=B=>{var F=Mc(),w=K(F),y=r(w);o(w);var S=s(w,2);kt(S);var E=s(S,2);{var ne=A=>{var z=wc(),se=r(z,!0);o(z),D(q=>u(se,q),[()=>En()]),m(A,z)},k=(A,z)=>{{var se=Z=>{var G=Cc(),le=r(G,!0);o(G),D(O=>u(le,O),[()=>Rn()]),m(Z,G)},q=Z=>{var G=Pc(),le=K(G),O=r(le);zt(O,{get message(){return a(v)},progress:"indeterminate"}),o(le);var $=s(le,2);{var J=ve=>{var U=Lc(),de=r(U);o(U),D(ee=>u(de,`${ee??""}.`),[()=>Ui()]),m(ve,U)};T($,ve=>{l()==="building"&&ve(J)})}m(Z,G)};T(A,Z=>{l()==="failed"?Z(se):Z(q,!1)},z)}};T(E,A=>{l()==="applied"?A(ne):A(k,!1)})}var C=s(E,2);let j;var R=r(C);Y(R,{onclick:()=>window.open(a(c),"_blank"),children:(A,z)=>{St();var se=Oe();D(q=>u(se,q),[()=>Yi()]),m(A,se)},$$slots:{default:!0}}),o(C),D((A,z)=>{u(y,`${A??""} ${e.opHash??"~ TBD ~"??""}`),j=Te(C,1,"explore",null,j,z)},[()=>Gi(),()=>({disabled:l()==="building"})]),m(B,F)};T(L,B=>{e.error?B(x):B(N,!1)})}var Q=s(L,2);{var W=B=>{Y(B,{label:"close",onclick:()=>n(!1)})};T(Q,B=>{(i()||l()==="applied"||l()==="failed"||e.error)&&B(W)})}o(b),o(d),m(p,d)},$$slots:{default:!0}}),Fe()}var Sc=P('<h3 class="title svelte-4mtex8"> </h3>'),Ac=P('<p class="message svelte-4mtex8"> </p>'),zc=P('<div class="prompt-wrap sl-card svelte-4mtex8"><!> <!> <!> <div class="controls padding-top svelte-4mtex8"><div class="control-button svelte-4mtex8"><!></div> <div><!></div></div></div>');function Ln(t,e){qe(e,!0);const n={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let i=Ne(Vt(n)),l=Ne(!1),_=Ne(Vt({resolve:()=>c(),reject:()=>c()}));function c(){te(l,!1)}async function v(p){return te(l,!0),te(i,{...n,...p},!0),new Promise((M,d)=>{te(_,{resolve:b=>{c(),M(b)},reject:b=>{c(),d(b)}},!0)})}let g=h(()=>cn(a(i).value,a(i).rules)!==!0);return Tt(t,{persistent:!0,get open(){return a(l)},set open(p){te(l,p,!0)},children:(p,M)=>{var d=zc(),b=r(d);{var L=k=>{var C=tt(),j=K(C);Dt(j,()=>e.title,()=>a(i)),m(k,C)},x=k=>{var C=Sc(),j=r(C,!0);o(C),D(()=>u(j,a(i).title)),m(k,C)};T(b,k=>{e.title?k(L):k(x,!1)})}var N=s(b,2);{var Q=k=>{var C=tt(),j=K(C);Dt(j,()=>e.message,()=>a(i)),m(k,C)},W=(k,C)=>{{var j=R=>{var A=Ac(),z=r(A,!0);o(A),D(()=>u(z,a(i).message)),m(R,A)};T(k,R=>{a(i).message&&R(j)},C)}};T(N,k=>{e.message?k(Q):k(W,!1)})}var B=s(N,2);At(B,oa(()=>a(i),{no_label:!0,get value(){return a(i).value},set value(k){a(i).value=k}}));var F=s(B,2),w=r(F);xt(w,"",{},{"grid-column":"1"});var y=r(w);Y(y,{get label(){return a(i).cancelText},onclick:()=>a(_).reject(hn)}),o(w);var S=s(w,2);let E;xt(S,"",{},{"grid-column":"3"});var ne=r(S);Y(ne,{get label(){return a(i).confirmText},onclick:()=>a(_).resolve(a(i).value)}),o(S),o(F),o(d),D(k=>E=Te(S,1,"control-button svelte-4mtex8",null,E,k),[()=>({disabled:a(g)})]),m(p,d)},$$slots:{default:!0}}),Fe({prompt:v})}var Oc=P('<div class="row svelte-1j4zjtg"><!></div>'),Nc=(t,e)=>gt(a(e).id),Tc=P('<div class="property svelte-1j4zjtg"> </div> <div class="value svelte-1j4zjtg"><div class="icon svelte-1j4zjtg">üßä</div> </div> <div class="action svelte-1j4zjtg"><!></div>',1),Bc=P('<div class="property svelte-1j4zjtg"> </div> <div class="value svelte-1j4zjtg"><div class="icon svelte-1j4zjtg">üí∞</div> </div> <div class="action svelte-1j4zjtg"><!></div>',1),Ic=P('<div class="title svelte-1j4zjtg"> </div> <div class="property svelte-1j4zjtg"> </div> <button class="value unstyle-button address svelte-1j4zjtg"> </button> <div class="property svelte-1j4zjtg"> </div> <div class="value svelte-1j4zjtg"><div class="icon svelte-1j4zjtg">‚öñÔ∏è</div> </div> <div class="property svelte-1j4zjtg"> </div> <div class="value svelte-1j4zjtg"><div class="icon svelte-1j4zjtg">üåä</div> </div> <div class="action svelte-1j4zjtg"><!></div> <!> <!>',1),Ec=P('<div class="account-info svelte-1j4zjtg"><!></div> <!>',1);function Rc(t,e){qe(e,!0);let n,i=h(()=>e.session.account);async function l(){const L=await n.prompt({title:tn(),message:Fa(),value:"0",rules:ia(a(i)),confirmText:tn()}),x=BigInt(Math.floor(Number(L)*vn));await e.onNewOperation(async()=>await e.session.stake(x)),await Promise.allSettled([e.session.refreshDelegate(),e.session.refreshBalance()])}async function _(){const L=await n.prompt({title:nn(),message:Va(),value:"0",rules:la(a(i)),confirmText:nn()}),x=BigInt(Math.floor(Number(L)*vn));await e.onNewOperation(async()=>await e.session.unstake(x)),await Promise.allSettled([e.session.refreshDelegate(),e.session.refreshBalance()])}async function c(){await e.onNewOperation(async()=>await e.session.finalizeUnstake()),await Promise.allSettled([e.session.refreshDelegate(),e.session.refreshBalance()])}var v=Ec(),g=K(v),p=r(g);{var M=L=>{var x=Oc(),N=r(x);const Q=h(()=>ji());zt(N,{progress:"indeterminate",get message(){return a(Q)}}),o(x),m(L,x)},d=L=>{var x=Ic(),N=K(x),Q=r(N,!0);o(N);var W=s(N,2),B=r(W);o(W);var F=s(W,2);F.__click=[Nc,i];var w=r(F,!0);o(F);var y=s(F,2),S=r(y);o(y);var E=s(y,2),ne=s(r(E));o(E);var k=s(E,2),C=r(k);o(k);var j=s(k,2),R=s(r(j));o(j);var A=s(j,2),z=r(A);const se=h(()=>tn());Y(z,{get label(){return a(se)},onclick:l}),o(A);var q=s(A,2);{var Z=O=>{var $=Tc(),J=K($),ve=r(J);o(J);var U=s(J,2),de=s(r(U));o(U);var ee=s(U,2),be=r(ee);const Ce=h(()=>nn());Y(be,{get label(){return a(Ce)},onclick:_}),o(ee),D((me,ke)=>{u(ve,`${me??""}:`),u(de,` ${ke??""}`)},[()=>Ii(),()=>bt(a(i).stakedBalance)]),m(O,$)};T(q,O=>{a(i).stakedBalance>0&&O(Z)})}var G=s(q,2);{var le=O=>{var $=Bc(),J=K($),ve=r(J);o(J);var U=s(J,2),de=s(r(U));o(U);var ee=s(U,2),be=r(ee);const Ce=h(()=>Ea());Y(be,{get label(){return a(Ce)},onclick:c}),o(ee),D((me,ke)=>{u(ve,`${me??""}:`),u(de,` ${ke??""}`)},[()=>qi(),()=>bt(a(i).finalizableBalance)]),m(O,$)};T(G,O=>{a(i).finalizableBalance>0&&O(le)})}D((O,$,J,ve,U,de)=>{u(Q,O),u(B,`${$??""}:`),u(w,a(i).id),u(S,`${J??""}:`),u(ne,` ${ve??""}`),u(C,`${U??""}:`),u(R,` ${de??""}`)},[()=>Li(),()=>Aa(),()=>Ai(),()=>bt(a(i).fullBalance),()=>Ni(),()=>bt(a(i).balance)]),m(L,x)};T(p,L=>{e.session.state.isLoadingBalance?L(M):L(d,!1)})}o(g);var b=s(g,2);jt(Ln(b,{}),L=>n=L,()=>n),m(t,v),Fe()}Nt(["click"]);var qc=(t,e)=>gt(e.period.proposal),Fc=P('<div class="button-content svelte-7cp7l1"><div class="label svelte-7cp7l1"> </div> <div class="icon svelte-7cp7l1"><!></div></div>'),Wc=P('<div class="button-content svelte-7cp7l1"><div class="label svelte-7cp7l1"> </div> <div class="icon svelte-7cp7l1"><!></div></div>'),Uc=P('<div class="period-wrap svelte-7cp7l1"><div class="period svelte-7cp7l1"><div class="proposal svelte-7cp7l1"><div class="title svelte-7cp7l1"><button class="unstyle-button"> </button></div> <!> <!></div></div></div>');function Vc(t,e){qe(e,!0);function n(){window.open(`${gn}/${e.period.proposal}`,"_blank")}function i(){window.open(`${pn}/${e.period.proposal}/${e.period.index}`,"_blank")}var l=Uc(),_=r(l),c=r(_),v=r(c),g=r(v);g.__click=[qc,e];var p=r(g,!0);o(g),o(v);var M=s(v,2);Y(M,{onclick:()=>n(),children:(b,L)=>{var x=Fc(),N=r(x),Q=r(N,!0);o(N);var W=s(N,2),B=r(W);xn(B),o(W),o(x),D(F=>u(Q,F),[()=>bn()]),m(b,x)},$$slots:{default:!0}});var d=s(M,2);Y(d,{onclick:()=>i(),children:(b,L)=>{var x=Wc(),N=r(x),Q=r(N,!0);o(N);var W=s(N,2),B=r(W);kn(B),o(W),o(x),D(F=>u(Q,F),[()=>yn()]),m(b,x)},$$slots:{default:!0}}),o(c),o(_),o(l),D(()=>u(p,e.period.proposal)),m(t,l),Fe()}Nt(["click"]);var Hc=P('<h3 class="title svelte-1hehw4i"> </h3>'),Yc=P('<p class="message svelte-1hehw4i"> </p>'),Zc=P('<p class="note svelte-1hehw4i"> </p>'),Xc=P('<div class="confirm-wrap sl-card svelte-1hehw4i"><!> <!> <!> <div class="controls padding-top svelte-1hehw4i"><div class="control-button svelte-1hehw4i"><!></div> <div class="control-button svelte-1hehw4i"><!></div></div></div>');function Gc(t,e){qe(e,!0);const n={title:"Confirm",message:"",note:"",confirmText:"Confirm",cancelText:"Cancel"};let i=Ne(Vt(n)),l=Ne(!1),_=Ne(Vt({resolve:()=>c(),reject:()=>c()}));function c(){te(l,!1)}async function v(g){return te(l,!0),te(i,{...n,...g},!0),new Promise((p,M)=>{te(_,{resolve:d=>{c(),p(d)},reject:d=>{c(),M(d)}},!0)})}return Tt(t,{persistent:!0,get open(){return a(l)},set open(g){te(l,g,!0)},children:(g,p)=>{var M=Xc(),d=r(M);{var b=k=>{var C=tt(),j=K(C);Dt(j,()=>e.title,()=>a(i)),m(k,C)},L=k=>{var C=Hc(),j=r(C,!0);o(C),D(()=>u(j,a(i).title)),m(k,C)};T(d,k=>{e.title?k(b):k(L,!1)})}var x=s(d,2);{var N=k=>{var C=tt(),j=K(C);Dt(j,()=>e.message,()=>a(i)),m(k,C)},Q=(k,C)=>{{var j=R=>{var A=Yc(),z=r(A,!0);o(A),D(()=>u(z,a(i).message)),m(R,A)};T(k,R=>{a(i).message&&R(j)},C)}};T(x,k=>{e.message?k(N):k(Q,!1)})}var W=s(x,2);{var B=k=>{var C=tt(),j=K(C);Dt(j,()=>e.note,()=>a(i)),m(k,C)},F=(k,C)=>{{var j=R=>{var A=Zc(),z=r(A,!0);o(A),D(()=>u(z,a(i).note)),m(R,A)};T(k,R=>{a(i).note&&R(j)},C)}};T(W,k=>{e.note?k(B):k(F,!1)})}var w=s(W,2),y=r(w);xt(y,"",{},{"grid-column":"1"});var S=r(y);Y(S,{get label(){return a(i).cancelText},onclick:()=>a(_).reject(hn)}),o(y);var E=s(y,2);xt(E,"",{},{"grid-column":"3"});var ne=r(E);Y(ne,{get label(){return a(i).confirmText},onclick:()=>a(_).resolve()}),o(E),o(w),o(M),m(g,M)},$$slots:{default:!0}}),Fe({request_confirmation:v})}var Jc=P('<div class="prompt-wrap sl-card svelte-1igllg9"><h3 class="title svelte-1igllg9">Set Delegate Parameters</h3> <p class="message svelte-1igllg9">Set delegate staking parameters - edge and limit.</p> <!> <!> <div class="controls padding-top svelte-1igllg9"><div class="control-button svelte-1igllg9"><!></div> <div><!></div></div></div>');function Kc(t,e){qe(e,!1);const n=Pn(),i={value:{edge:100,limit:1}};let l=yt(e,"state",12,i),_=yt(e,"isOpen",12,!1),c=Pn({resolve:()=>v(),reject:()=>v()});function v(){_(!1)}const g=[d=>!!d||d.toString()==="0"||"Edge is required",d=>!isNaN(Number(d))||"Edge must be a number",d=>Number(d)>=0&&Number(d)<=100||"Edge must be between 0 and 100"],p=[d=>!!d||d.toString()==="0"||"Limit is required",d=>!isNaN(Number(d))||"Limit must be a number",d=>Number(d)>=0&&Number(d)<=ca||"Limit must be between 0 and 9"];async function M(d){return _(!0),l({...i,...d}),new Promise((b,L)=>{te(c,{resolve:x=>{v(),b(x)},reject:x=>{v(),L(x)}})})}return ta(()=>ra(l()),()=>{te(n,cn(l().value.limit,p)!==!0||cn(l().value.edge,g)!==!0)}),na(),_a(),Tt(t,{persistent:!0,get open(){return _()},set open(d){_(d)},children:(d,b)=>{var L=Jc(),x=s(r(L),4);At(x,{type:"number",get rules(){return g},label:"Staking Fee in %",hint:"Edge of baking over staking",get value(){return l().value.edge},set value(S){l(l().value.edge=S,!0)},$$legacy:!0});var N=s(x,2);At(N,{type:"number",get rules(){return p},label:"Staking capacity - multiplier of your stake",hint:"Limit of staking over baking",get value(){return l().value.limit},set value(S){l(l().value.limit=S,!0)},$$legacy:!0});var Q=s(N,2),W=r(Q);xt(W,"",{},{"grid-column":"1"});var B=r(W);Y(B,{label:"Cancel",onclick:()=>a(c).reject(hn)}),o(W);var F=s(W,2);let w;xt(F,"",{},{"grid-column":"3"});var y=r(F);Y(y,{label:"Set",onclick:()=>a(c).resolve(l().value)}),o(F),o(Q),o(L),D(S=>w=Te(F,1,"control-button svelte-1igllg9",null,w,S),[()=>({disabled:a(n)})],aa),m(d,L)},$$slots:{default:!0},$$legacy:!0}),fa(e,"prompt",M),Fe({prompt:M})}var Qc=P('<div class="row svelte-8k5822"><!></div>'),$c=P('<b class="account-note error svelte-8k5822"> </b> <div class="action svelte-8k5822"><!></div>',1),ev=P('<div class="row svelte-8k5822"><!></div>  <b> </b> <div> </div> <div> </div>',1),tv=(t,e)=>gt(a(e)?.pkh??""),nv=(t,e)=>gt(a(e)?.pkh??""),av=P('<div class="property svelte-8k5822"> <b> </b>):</div> <button class="value unstyle-button address svelte-8k5822"> </button>',1),rv=P('<div class="property svelte-8k5822"> </div> <div class="value svelte-8k5822"><div class="icon svelte-8k5822">‚ùÑÔ∏è</div> </div> <div class="property svelte-8k5822"> </div> <div class="value svelte-8k5822"><div class="icon svelte-8k5822">üåä</div> </div> <div class="property svelte-8k5822"> </div> <div><div class="icon svelte-8k5822">‚ùÑÔ∏è</div> </div> <div class="property svelte-8k5822"> </div> <div><div class="icon svelte-8k5822">üåä</div> </div> <div class="row svelte-8k5822"></div> <div class="subtitle svelte-8k5822"> </div> <div class="property svelte-8k5822"> </div> <div class="value svelte-8k5822"><div class="icon svelte-8k5822">üí∏</div> </div> <div class="property svelte-8k5822"> </div> <div class="value svelte-8k5822"><div class="icon svelte-8k5822">‚ùÑÔ∏è</div> </div> <!> <div class="action svelte-8k5822"><!></div> <div class="row svelte-8k5822"></div> <div class="subtitle svelte-8k5822"> </div> <div class="property svelte-8k5822"> </div> <button class="value unstyle-button address svelte-8k5822"> </button> <!> <div class="action svelte-8k5822"><!></div>',1),ov=P('<div class="title svelte-8k5822"> </div> <!>',1),sv=(t,e)=>gt(a(e).id),iv=P('<div class="property svelte-8k5822"> <b> </b>):</div> <div class="value svelte-8k5822"> </div>',1),lv=P('<div class="title svelte-8k5822"> </div> <div class="property svelte-8k5822"> </div> <button class="value unstyle-button address svelte-8k5822"> </button> <div class="property svelte-8k5822"> </div> <div class="value svelte-8k5822"><div class="icon svelte-8k5822">üí∏</div> </div> <!> <div class="property svelte-8k5822"> </div>  <div class="value svelte-8k5822"> </div> <div class="property svelte-8k5822"> </div> <div> </div> <div class="property svelte-8k5822"> </div> <div> </div> <div class="row svelte-8k5822"></div> <div class="action-pair svelte-8k5822"><!> <!></div>',1),cv=P('<div class="title svelte-8k5822">Not a baker and not delegating</div> <div class="account-note svelte-8k5822"> </div> <div class="action-pair svelte-8k5822"><!> <!></div>',1),vv=P('<div class="delegation-info svelte-8k5822"><!></div> <!> <!> <!>',1);function uv(t,e){qe(e,!0);let n,i,l,_=h(()=>e.session.account);async function c(){await e.onNewOperation(async()=>await e.session.delegate(a(_).id)),await e.session.refreshDelegate()}async function v(){await await i.request_confirmation({title:An(),message:sr(),note:cr(),confirmText:dr(),cancelText:mr()}),await e.onNewOperation(async()=>await e.session.delegate(a(_).id)),await e.session.refreshDelegate()}async function g(){const w=await n.prompt({title:an(),message:yr(),value:"",rules:va("baker"),confirmText:an()});await e.onNewOperation(async()=>await e.session.delegate(w)),await e.session.refreshDelegate()}async function p(){await e.onNewOperation(async()=>await e.session.delegate()),await e.session.refreshDelegate()}async function M(){const w=a(_).delegate?.activeStakingParameters,y=a(_).delegate?.pendingStakingParameters;let S=w?w.edge_of_baking_over_staking_billionth/1e7:0;const E=ma(y);E&&(S=E.edge_of_baking_over_staking_billionth/1e7);let ne=w?w.limit_of_staking_over_baking_millionth/1e6:0;E&&(ne=E.limit_of_staking_over_baking_millionth/1e6);const{edge:k,limit:C}=await l.prompt({value:{edge:S,limit:ne}});await e.onNewOperation(async()=>await e.session.setDelegateParameters(k/100,C)),await e.session.refreshDelegate()}async function d(){const w=await n.prompt({title:zn(),message:Lr(),value:"",rules:ua(),confirmText:zn()});await e.onNewOperation(async()=>await e.session.updateConsensusKey(w)),await e.session.refreshDelegate()}var b=vv(),L=K(b),x=r(L);{var N=w=>{var y=Qc(),S=r(y);const E=h(()=>jr());zt(S,{progress:"indeterminate",get message(){return a(E)}}),o(y),m(w,y)},Q=(w,y)=>{{var S=ne=>{var k=ov();const C=h(()=>a(_).delegate);var j=K(k),R=r(j,!0);o(j);var A=s(j,2);{var z=q=>{var Z=$c(),G=K(Z),le=r(G,!0);o(G);var O=s(G,2),$=r(O);const J=h(()=>Ar());Y($,{get label(){return a(J)},onclick:c}),o(O),D(ve=>u(le,ve),[()=>Nr()]),m(q,Z)},se=q=>{var Z=rv();const G=h(()=>a(C).activeStakingParameters),le=h(()=>Qt(a(C)?.stakedBalance,a(G)?.limit_of_staking_over_baking_millionth)),O=h(()=>$t(a(G)?.limit_of_staking_over_baking_millionth)),$=h(()=>a(le)-a(C).totalStaked),J=h(()=>a(le)-a(C).totalDelegated),ve=h(()=>a(C).activeStakingParameters?.edge_of_baking_over_staking_billionth??0),U=h(()=>a(C).pendingStakingParameters??[]),de=h(()=>a(C).consensusKeys?.active),ee=h(()=>a(C).consensusKeys?.pending??[]);var be=K(Z),Ce=r(be);o(be);var me=s(be,2),ke=s(r(me));o(me);var We=s(me,2),Ue=r(We);o(We);var ae=s(We,2),ie=s(r(ae));o(ae);var re=s(ae,2),ce=r(re);o(re);var _e=s(re,2);let ge;var xe=s(r(_e));o(_e);var V=s(_e,2),Me=r(V);o(V);var je=s(V,2);let ze;var Be=s(r(je));o(je);var Ie=s(je,4),nt=r(Ie,!0);o(Ie);var Ze=s(Ie,2),De=r(Ze);o(Ze);var Ee=s(Ze,2),at=s(r(Ee));o(Ee);var Xe=s(Ee,2),ct=r(Xe);o(Xe);var Ve=s(Xe,2),Ge=s(r(Ve));o(Ve);var $e=s(Ve,2);{var vt=oe=>{var fe=tt(),Ae=K(fe);Ft(Ae,17,()=>a(U),Wt,(ut,Ke,Yt,Zt)=>{var dt=ev();const _t=h(()=>Qt(a(C)?.stakedBalance,a(Ke)?.limit_of_staking_over_baking_millionth)),ht=h(()=>$t(a(Ke)?.limit_of_staking_over_baking_millionth));var rt=K(dt),wt=r(rt);kt(wt),o(rt);var et=s(rt,2),Ct=r(et);o(et);var ft=s(et,2),Lt=r(ft);o(ft);var Bt=s(ft,2),Xt=r(Bt);o(Bt),D((Gt,Jt,Qn)=>{u(Ct,`Pending cycle ${a(Ke).cycle??""}:`),u(Lt,`Staking Fee: ${Gt??""}`),u(Xt,`Total Stake Capacity: ${Jt??""} (mutliplier: ${Qn??""})`)},[()=>Et(a(Ke).edge_of_baking_over_staking_billionth),()=>mt(a(_t)),()=>Kt(a(ht))]),m(ut,dt)}),m(oe,fe)};T($e,oe=>{a(U)&&a(U).length>0&&oe(vt)})}var Je=s($e,2),pt=r(Je);const I=h(()=>Tn());Y(pt,{get label(){return a(I)},onclick:M}),o(Je);var H=s(Je,4),X=r(H,!0);o(H);var ue=s(H,2),we=r(ue);o(ue);var pe=s(ue,2);pe.__click=[tv,de];var Le=r(pe,!0);o(pe);var ye=s(pe,2);{var Se=oe=>{var fe=tt(),Ae=K(fe);Ft(Ae,17,()=>a(ee),Wt,(ut,Ke,Yt,Zt)=>{var dt=av(),_t=K(dt),ht=r(_t),rt=s(ht),wt=r(rt);o(rt),St(),o(_t);var et=s(_t,2);et.__click=[nv,Ke];var Ct=r(et,!0);o(et),D((ft,Lt)=>{u(ht,`${ft??""} (`),u(wt,`#${a(Ke).cycle??""}`),u(Ct,Lt)},[()=>vo(),()=>a(Ke)?.pkh??Bn()]),m(ut,dt)}),m(oe,fe)};T(ye,oe=>{a(ee)&&a(ee).length>0&&oe(Se)})}var He=s(ye,2),Pe=r(He);{var he=oe=>{const fe=h(()=>Tn());Y(oe,{get label(){return a(fe)},onclick:d})},Re=oe=>{const fe=h(()=>ho());Y(oe,{get label(){return a(fe)},onclick:d})};T(Pe,oe=>{a(de)||a(ee).length>0?oe(he):oe(Re,!1)})}o(He),D((oe,fe,Ae,ut,Ke,Yt,Zt,dt,_t,ht,rt,wt,et,Ct,ft,Lt,Bt,Xt,Gt,Jt)=>{u(Ce,`${oe??""}:`),u(ke,` ${fe??""}`),u(Ue,`${Ae??""}:`),u(ie,` ${ut??""}`),u(ce,`${Ke??""}:`),ge=Te(_e,1,"value svelte-8k5822",null,ge,Yt),u(xe,` ${Zt??""}`),u(Me,`${dt??""}:`),ze=Te(je,1,"value svelte-8k5822",null,ze,_t),u(Be,` ${ht??""}`),u(nt,rt),u(De,`${wt??""}:`),u(at,` ${et??""}`),u(ct,`${Ct??""}:`),u(Ge,` ${ft??""} (${Lt??""}: ${Bt??""})`),u(X,Xt),u(we,`${Gt??""}:`),u(Le,Jt)},[()=>qr(),()=>bt(a(C).totalStaked),()=>Ur(),()=>bt(a(C).totalDelegated),()=>In(),()=>({error:a($)<=0}),()=>mt(a($)),()=>On(),()=>({error:a(J)<=0}),()=>mt(a(J)),()=>Xr(),()=>rn(),()=>Et(a(ve)),()=>Nn(),()=>mt(a(le)),()=>to(),()=>Kt(a(O)),()=>ro(),()=>io(),()=>a(de)?.pkh??Bn()]),m(q,Z)};T(A,q=>{a(C).isDeactivated?q(z):q(se,!1)})}D(q=>u(R,q),[()=>Ir()]),m(ne,k)},E=(ne,k)=>{{var C=R=>{var A=lv();const z=h(()=>a(_).delegate),se=h(()=>a(z).activeStakingParameters?.edge_of_baking_over_staking_billionth??0),q=h(()=>a(z).pendingStakingParameters??[]),Z=h(()=>a(z).activeStakingParameters),G=h(()=>Qt(a(z)?.stakedBalance,a(Z)?.limit_of_staking_over_baking_millionth)),le=h(()=>$t(a(Z)?.limit_of_staking_over_baking_millionth)),O=h(()=>a(G)-a(z).totalStaked),$=h(()=>a(G)-a(z).totalDelegated);var J=K(A),ve=r(J,!0);o(J);var U=s(J,2),de=r(U);o(U);var ee=s(U,2);ee.__click=[sv,_];var be=r(ee,!0);o(ee);var Ce=s(ee,2),me=r(Ce);o(Ce);var ke=s(Ce,2),We=s(r(ke));o(ke);var Ue=s(ke,2);{var ae=Ve=>{var Ge=tt(),$e=K(Ge);Ft($e,17,()=>a(q),Wt,(vt,Je,pt,I)=>{var H=iv(),X=K(H),ue=r(X),we=s(ue),pe=r(we);o(we),St(),o(X);var Le=s(X,2),ye=r(Le);o(Le),D((Se,He,Pe)=>{u(ue,`${Se??""} (`),u(pe,`#${a(Je).cycle??""}`),u(ye,`${He??""}: ${Pe??""}`)},[()=>Co(),()=>rn(),()=>Et(a(Je).edge_of_baking_over_staking_billionth)]),m(vt,H)}),m(Ve,Ge)};T(Ue,Ve=>{a(q)&&a(q).length>0&&Ve(ae)})}var ie=s(Ue,2),re=r(ie);o(ie);var ce=s(ie,2),_e=r(ce);o(ce);var ge=s(ce,2),xe=r(ge);o(ge);var V=s(ge,2);let Me;var je=r(V);o(V);var ze=s(V,2),Be=r(ze);o(ze);var Ie=s(ze,2);let nt;var Ze=r(Ie);o(Ie);var De=s(Ie,4),Ee=r(De);const at=h(()=>Do());Y(Ee,{get label(){return a(at)},onclick:p});var Xe=s(Ee,2);const ct=h(()=>zo());Y(Xe,{get label(){return a(ct)},onclick:g}),o(De),D((Ve,Ge,$e,vt,Je,pt,I,H,X,ue,we,pe,Le)=>{u(ve,Ve),u(de,`${Ge??""}:`),u(be,a(z).pkh),u(me,`${$e??""}:`),u(We,` ${vt??""}`),u(re,`${Je??""}:`),u(_e,`‚ùÑÔ∏è ${pt??""} (multiplier: ${I??""})`),u(xe,`${H??""}:`),Me=Te(V,1,"value svelte-8k5822",null,Me,X),u(je,`‚ùÑÔ∏è ${ue??""}`),u(Be,`${we??""}:`),nt=Te(Ie,1,"value svelte-8k5822",null,nt,pe),u(Ze,`‚ùÑÔ∏è ${Le??""}`)},[()=>ko(),()=>ar(),()=>rn(),()=>Et(a(se)),()=>Nn(),()=>mt(a(G)),()=>Kt(a(le)),()=>In(),()=>({error:a(O)<=0}),()=>mt(a(O)),()=>On(),()=>({error:a(O)<=0}),()=>mt(a($))]),m(R,A)},j=R=>{var A=cv(),z=s(K(A),2),se=r(z,!0);o(z);var q=s(z,2),Z=r(q);const G=h(()=>An());Y(Z,{get label(){return a(G)},onclick:v});var le=s(Z,2);const O=h(()=>an());Y(le,{get label(){return a(O)},onclick:g}),o(q),D($=>u(se,$),[()=>To()]),m(R,A)};T(ne,R=>{a(_).delegate?R(C):R(j,!1)},k)}};T(w,ne=>{a(_).delegate?.pkh===a(_).id?ne(S):ne(E,!1)},y)}};T(x,w=>{e.session.state.isLoadingBalance?w(N):w(Q,!1)})}o(L);var W=s(L,2);jt(Ln(W,{}),w=>n=w,()=>n);var B=s(W,2);jt(Gc(B,{}),w=>i=w,()=>i);var F=s(B,2);jt(Kc(F,{}),w=>l=w,()=>l),m(t,b),Fe()}Nt(["click"]);var dv=P('<div class="donate-btn svelte-a80gb8"><div></div> <div>üå±</div> <div> </div> <div>üå±</div></div>'),_v=P('<div class="donate-wrap svelte-a80gb8"><!></div> <!>',1);function fv(t,e){qe(e,!0);let n,i=h(()=>e.session.account);async function l(){const p=await n.prompt({title:Sn(),message:Za(),value:"1",rules:da(a(i)),confirmText:Sn()}),M=BigInt(Number(p)*vn);await e.onNewOperation(async()=>await e.session.donate(M)),await e.session.refreshBalance()}var _=_v(),c=K(_),v=r(c);Y(v,{onclick:l,children:(p,M)=>{var d=dv(),b=s(r(d),4),L=r(b,!0);o(b),St(2),o(d),D(x=>u(L,x),[()=>Qa()]),m(p,d)},$$slots:{default:!0}}),o(c);var g=s(c,2);jt(Ln(g,{}),p=>n=p,()=>n),m(t,_),Fe()}var mv=P('<div class="loader svelte-frt7xm"><!></div>'),gv=P('<div class="error-message svelte-frt7xm"> </div>'),pv=P('<div class="title svelte-frt7xm"><h5 class="svelte-frt7xm"> </h5></div> <div class="governance-period-header svelte-frt7xm"><div class="governance-period-number svelte-frt7xm"> </div> <div class="governance-period-remaining svelte-frt7xm"><!></div></div> <!> <!>',1),hv=P('<div class="account-overview sl-card svelte-frt7xm"><!></div> <div class="account-overview sl-card svelte-frt7xm"><!></div> <div class="account-overview sl-card svelte-frt7xm"><!></div> <div class="governance sl-card svelte-frt7xm"><div class="governance-period svelte-frt7xm"><!></div></div>',1),bv=P('<div class="home-wrap svelte-frt7xm"><!></div> <!>',1);function Mv(t,e){qe(e,!0);let n=h(()=>Ye.active?.state.period),i=h(()=>a(n)?.block),l=h(()=>sl(a(n),a(i))),_=h(()=>uc(a(l),{addSuffix:!0})),c=h(()=>a(l)<new Date),v=h(()=>a(n)&&il(a(n),a(i))),g=Ne(void 0),p=Ne("building"),M=Ne(void 0),d=Ne(!1);ln(()=>{a(d)||(te(g,void 0),te(M,void 0),te(p,"building"))});async function b(w){try{te(d,!0),te(p,"building");const y=await w(),S=await y.send();te(M,S.ophash,!0),te(p,"confirming"),await y.confirmation(),te(p,"applied")}catch(y){te(p,"failed"),te(g,y.message,!0)}}var L=bv(),x=K(L),N=r(x);{var Q=w=>{var y=mv(),S=r(y);const E=h(()=>ds());zt(S,{progress:"indeterminate",get message(){return a(E)}}),o(y),m(w,y)},W=(w,y)=>{{var S=E=>{var ne=hv(),k=K(ne),C=r(k);Rc(C,{get session(){return Ye.active},onNewOperation:b}),o(k);var j=s(k,2),R=r(j);uv(R,{get session(){return Ye.active},onNewOperation:b}),o(j);var A=s(j,2),z=r(A);fv(z,{get session(){return Ye.active},onNewOperation:b}),o(A);var se=s(A,2),q=r(se),Z=r(q);{var G=O=>{const $=h(()=>Xo());zt(O,{progress:"indeterminate",get message(){return a($)}})},le=O=>{var $=tt(),J=K($);{var ve=U=>{var de=pv(),ee=K(de),be=r(ee),Ce=r(be);o(be),o(ee);var me=s(ee,2),ke=r(me),We=r(ke);o(ke);var Ue=s(ke,2),ae=r(Ue);{var ie=V=>{var Me=Oe();D(je=>u(Me,je),[()=>as()]),m(V,Me)},re=V=>{var Me=Oe();D((je,ze)=>u(Me,`${je??""} ${a(v)??""} ${ze??""} ~ ${a(_)??""}`),[()=>cs(),()=>ss()]),m(V,Me)};T(ae,V=>{a(c)?V(ie):V(re,!1)})}o(Ue),o(me);var ce=s(me,2);kt(ce);var _e=s(ce,2);{var ge=V=>{pl(V,{get session(){return Ye.active},onNewOperation:b,get period(){return a(n)}})},xe=(V,Me)=>{{var je=Be=>{kc(Be,{get session(){return Ye.active},onNewOperation:b,get period(){return a(n)}})},ze=(Be,Ie)=>{{var nt=De=>{Vc(De,{get period(){return a(n)}})},Ze=De=>{var Ee=gv(),at=r(Ee);o(Ee),D(Xe=>u(at,`${a(n).kind??""} ${Xe??""}`),[()=>Ko()]),m(De,Ee)};T(Be,De=>{["testing","adoption"].includes(a(n).kind)?De(nt):De(Ze,!1)},Ie)}};T(V,Be=>{["exploration","promotion"].includes(a(n).kind)?Be(je):Be(ze,!1)},Me)}};T(_e,V=>{a(n).kind==="proposal"?V(ge):V(xe,!1)})}D(V=>{u(Ce,`${a(n)?.kind??""} ${V??""}`),u(We,`#${a(n).index??""}`)},[()=>es()]),m(U,de)};T(J,U=>{a(n)!==void 0&&U(ve)})}m(O,$)};T(Z,O=>{Ye?.active?.state.isLoadingPeriod?O(G):O(le,!1)})}o(q),o(se),m(E,ne)};T(w,E=>{Ye.active&&E(S)},y)}};T(N,w=>{Ye.active&&Ye.active.state.isInitializing?w(Q):w(W,!1)})}o(x);var B=s(x,2);const F=h(()=>Ye?.active?.account.explorer??"");Dc(B,{get opHash(){return a(M)},get explorerTemplate(){return a(F)},get error(){return a(g)},allowClose:!1,get stage(){return a(p)},get open(){return a(d)},set open(w){te(d,w,!0)}}),m(t,L),Fe()}export{Mv as component};
