import{s as _e,r as Ve,O as He,P as Jt,e as $,a as M,c as b,b as _,g as S,f as c,p as d,q as Nt,Q as fe,i as C,h,R as Gt,S as xt,T as en,t as F,d as U,j as ee,l as xe,U as zn,V as ln,N as se,K as re,L as ae,n as Q,W as Yn,X as on,k as Xn}from"../chunks/scheduler.ByQKukMK.js";import{S as $e,i as be,f as ze,b as T,d as B,m as O,a as I,t as E,e as R,g as De,c as Ce}from"../chunks/index.Bt0gTvVl.js";import{ae as Ot,af as rn,ag as Wn,ah as dt,ai as te,aj as $t,ak as Zn,al as Qn,am as an,an as Kn,ao as un,ap as cn,aq as En,ar as mt,as as ht,at as Rt,au as Jn,av as Pn,aw as de,ax as Gn,ay as tn,az as xn,aA as Tt,aB as Bt}from"../chunks/Input.7KAJUYnN.js";const er=r=>r&1,tr=r=>({}),Vn=r=>({...r[0]}),nr=r=>r&1,rr=r=>({}),Ln=r=>({...r[0]}),ar=r=>r&1,sr=r=>({}),Mn=r=>({...r[0]});function lr(r){let e,t=r[0].title+"",n;return{c(){e=$("h3"),n=F(t),this.h()},l(a){e=b(a,"H3",{class:!0});var s=_(e);n=U(s,t),s.forEach(c),this.h()},h(){d(e,"class","title svelte-1igllg9")},m(a,s){C(a,e,s),h(e,n)},p(a,s){s&1&&t!==(t=a[0].title+"")&&ee(n,t)},d(a){a&&c(e)}}}function Sn(r){let e,t=r[0].message+"",n;return{c(){e=$("p"),n=F(t),this.h()},l(a){e=b(a,"P",{class:!0});var s=_(e);n=U(s,t),s.forEach(c),this.h()},h(){d(e,"class","message svelte-1igllg9")},m(a,s){C(a,e,s),h(e,n)},p(a,s){s&1&&t!==(t=a[0].message+"")&&ee(n,t)},d(a){a&&c(e)}}}function ir(r){let e,t=r[0].message&&Sn(r);return{c(){t&&t.c(),e=xe()},l(n){t&&t.l(n),e=xe()},m(n,a){t&&t.m(n,a),C(n,e,a)},p(n,a){n[0].message?t?t.p(n,a):(t=Sn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&c(e),t&&t.d(n)}}}function or(r){let e,t,n;const a=[r[0],{noLabel:!0}];function s(i){r[6](i)}let l={};for(let i=0;i<a.length;i+=1)l=zn(l,a[i]);return r[0].value!==void 0&&(l.value=r[0].value),e=new $t({props:l}),Ve.push(()=>ze(e,"value",s)),{c(){T(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,o){O(e,i,o),n=!0},p(i,o){const u=o&1?Zn(a,[Qn(i[0]),a[1]]):{};!t&&o&1&&(t=!0,u.value=i[0].value,He(()=>t=!1)),e.$set(u)},i(i){n||(I(e.$$.fragment,i),n=!0)},o(i){E(e.$$.fragment,i),n=!1},d(i){R(e,i)}}}function ur(r){let e,t,n,a,s,l,i,o,u,f,g;const w=r[5].title,D=Jt(w,r,r[10],Mn),V=D||lr(r),L=r[5].message,k=Jt(L,r,r[10],Ln),m=k||ir(r),v=r[5].value,p=Jt(v,r,r[10],Vn),P=p||or(r);return i=new te({props:{label:r[0].cancelText}}),i.$on("click",r[7]),f=new te({props:{label:r[0].confirmText}}),f.$on("click",r[8]),{c(){e=$("div"),V&&V.c(),t=M(),m&&m.c(),n=M(),P&&P.c(),a=M(),s=$("div"),l=$("div"),T(i.$$.fragment),o=M(),u=$("div"),T(f.$$.fragment),this.h()},l(N){e=b(N,"DIV",{class:!0});var q=_(e);V&&V.l(q),t=S(q),m&&m.l(q),n=S(q),P&&P.l(q),a=S(q),s=b(q,"DIV",{class:!0});var Y=_(s);l=b(Y,"DIV",{class:!0});var X=_(l);B(i.$$.fragment,X),X.forEach(c),o=S(Y),u=b(Y,"DIV",{class:!0});var H=_(u);B(f.$$.fragment,H),H.forEach(c),Y.forEach(c),q.forEach(c),this.h()},h(){d(l,"class","control-button svelte-1igllg9"),Nt(l,"grid-column","1"),d(u,"class","control-button svelte-1igllg9"),fe(u,"disabled",r[3]),Nt(u,"grid-column","3"),d(s,"class","controls padding-top svelte-1igllg9"),d(e,"class","prompt-wrap svelte-1igllg9")},m(N,q){C(N,e,q),V&&V.m(e,null),h(e,t),m&&m.m(e,null),h(e,n),P&&P.m(e,null),h(e,a),h(e,s),h(s,l),O(i,l,null),h(s,o),h(s,u),O(f,u,null),g=!0},p(N,q){D?D.p&&(!g||q&1025)&&Gt(D,w,N,N[10],ar(q)||!g?xt(N[10]):en(w,N[10],q,sr),Mn):V&&V.p&&(!g||q&1)&&V.p(N,g?q:-1),k?k.p&&(!g||q&1025)&&Gt(k,L,N,N[10],nr(q)||!g?xt(N[10]):en(L,N[10],q,rr),Ln):m&&m.p&&(!g||q&1)&&m.p(N,g?q:-1),p?p.p&&(!g||q&1025)&&Gt(p,v,N,N[10],er(q)||!g?xt(N[10]):en(v,N[10],q,tr),Vn):P&&P.p&&(!g||q&1)&&P.p(N,g?q:-1);const Y={};q&1&&(Y.label=N[0].cancelText),i.$set(Y);const X={};q&1&&(X.label=N[0].confirmText),f.$set(X),(!g||q&8)&&fe(u,"disabled",N[3])},i(N){g||(I(V,N),I(m,N),I(P,N),I(i.$$.fragment,N),I(f.$$.fragment,N),g=!0)},o(N){E(V,N),E(m,N),E(P,N),E(i.$$.fragment,N),E(f.$$.fragment,N),g=!1},d(N){N&&c(e),V&&V.d(N),m&&m.d(N),P&&P.d(N),R(i),R(f)}}}function cr(r){let e,t;return e=new dt({props:{$$slots:{default:[ur]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,a){O(e,n,a),t=!0},p(n,a){const s={};a&1037&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function fr(r){let e,t,n;function a(l){r[9](l)}let s={persistent:!0,$$slots:{default:[cr]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.open=r[1]),e=new Ot({props:s}),Ve.push(()=>ze(e,"open",a)),{c(){T(e.$$.fragment)},l(l){B(e.$$.fragment,l)},m(l,i){O(e,l,i),n=!0},p(l,[i]){const o={};i&1037&&(o.$$scope={dirty:i,ctx:l}),!t&&i&2&&(t=!0,o.open=l[1],He(()=>t=!1)),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function dr(r,e,t){let n,{$$slots:a={},$$scope:s}=e;const l={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let{state:i=l}=e,{isOpen:o=!1}=e,u={resolve:()=>f(),reject:()=>f()};function f(){t(1,o=!1)}async function g(k){return t(1,o=!0),t(0,i={...l,...k}),new Promise((m,v)=>{t(2,u={resolve:p=>{f(),m(p)},reject:p=>{f(),v(p)}})})}function w(k){r.$$.not_equal(i.value,k)&&(i.value=k,t(0,i))}const D=()=>u.reject(Wn),V=()=>u.resolve(i.value);function L(k){o=k,t(1,o)}return r.$$set=k=>{"state"in k&&t(0,i=k.state),"isOpen"in k&&t(1,o=k.isOpen),"$$scope"in k&&t(10,s=k.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=rn(i.value,i.rules)!==!0)},[i,o,u,n,g,a,w,D,V,L,s]}class mr extends $e{constructor(e){super(),be(this,e,dr,fr,_e,{state:0,isOpen:1,prompt:4})}get prompt(){return this.$$.ctx[4]}}const sn="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",hr=34,gr=51,vr=r=>{let e=0n;for(const t of r)e*=58n,e+=BigInt(sn.indexOf(t));return e},jn=r=>{const e=[];for(;r>0n;)e.push(Number(r%256n)),r=r/256n;return e.reverse()},pr=r=>{const e=hr,t=vr(r),n=Kn.decode(r).length+1,a=BigInt(8*(e-n+4)),s=gr-r.length;let l=t*58n**BigInt(s);l=l>>a,l+=l===l>>a<<a?0n:1n;let i=(t+1n)*58n**BigInt(s)-(1n<<a)+1n;if(i=i>>a,i>=l){const o=Uint8Array.from(Array.from({...jn(l),length:e}).map(w=>w===void 0?0:w)),u=an.encode(o);if(!u.startsWith(r)||u.length!==s+r.length)return null;const f=Uint8Array.from(Array.from({...jn(l),length:e}).map(w=>w===void 0?255:w)),g=an.encode(f);return!g.startsWith(r)||g.length!==s+r.length?null:o}return null},_r=r=>{let e="Pt1";for(const n of r){if(sn.includes(n)){e+=n;continue}if(sn.includes(n.toLowerCase())){e+=n.toLowerCase();continue}}const t=pr(e);return t===null?[!1,"Can not generate protocol hash from provided message"]:[!0,an.encode(new Uint8Array(t))]};function $r(r){let e,t,n="New Proposal",a,s,l,i,o=`If you want to make a statement, write it in the <b>statement</b> field; this will generate
					a proposal hash for you.`,u,f,g=`To inject a proper protocol upgrade proposal, write the hash in the <b>new proposal</b>
					field and leave <b>statement</b> blank.`,w,D,V="*<b>Please refrain from using this feature for spamming.</b>",L,k,m="**Remember that you can propose or vote for a proposal only <b>10 times per period</b>.",v,p,P,N,q,Y,X,H,j,y,A,G,K,ne,ie;function ge(W){r[6](W)}let ke={label:"Statement"};r[1]!==void 0&&(ke.value=r[1]),N=new $t({props:ke}),Ve.push(()=>ze(N,"value",ge));function we(W){r[7](W)}let me={label:"New Proposal",hint:"You can provide proposal hash",rules:r[5]};return r[2]!==void 0&&(me.value=r[2]),X=new $t({props:me}),Ve.push(()=>ze(X,"value",we)),A=new te({props:{label:"Cancel"}}),A.$on("click",r[8]),ne=new te({props:{label:"Inject"}}),ne.$on("click",r[4]),{c(){e=$("div"),t=$("b"),t.textContent=n,a=M(),s=$("div"),l=M(),i=$("div"),i.innerHTML=o,u=M(),f=$("div"),f.innerHTML=g,w=M(),D=$("div"),D.innerHTML=V,L=M(),k=$("div"),k.innerHTML=m,v=M(),p=$("div"),P=M(),T(N.$$.fragment),Y=M(),T(X.$$.fragment),j=M(),y=$("div"),T(A.$$.fragment),G=M(),K=$("div"),T(ne.$$.fragment),this.h()},l(W){e=b(W,"DIV",{class:!0});var Z=_(e);t=b(Z,"B",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1e5a96z"&&(t.textContent=n),a=S(Z),s=b(Z,"DIV",{}),_(s).forEach(c),l=S(Z),i=b(Z,"DIV",{class:!0,"data-svelte-h":!0}),se(i)!=="svelte-1vty4mc"&&(i.innerHTML=o),u=S(Z),f=b(Z,"DIV",{class:!0,"data-svelte-h":!0}),se(f)!=="svelte-acrdcg"&&(f.innerHTML=g),w=S(Z),D=b(Z,"DIV",{class:!0,"data-svelte-h":!0}),se(D)!=="svelte-1c5d71w"&&(D.innerHTML=V),L=S(Z),k=b(Z,"DIV",{class:!0,"data-svelte-h":!0}),se(k)!=="svelte-1e6wult"&&(k.innerHTML=m),v=S(Z),p=b(Z,"DIV",{}),_(p).forEach(c),P=S(Z),B(N.$$.fragment,Z),Y=S(Z),B(X.$$.fragment,Z),j=S(Z),y=b(Z,"DIV",{class:!0});var ve=_(y);B(A.$$.fragment,ve),G=S(ve),K=b(ve,"DIV",{});var ue=_(K);B(ne.$$.fragment,ue),ue.forEach(c),ve.forEach(c),Z.forEach(c),this.h()},h(){d(t,"class","title svelte-sbi72s"),d(i,"class","text"),d(f,"class","text"),d(D,"class","text"),d(k,"class","text"),fe(K,"disabled",!r[3]),d(y,"class","controls svelte-sbi72s"),d(e,"class","content svelte-sbi72s")},m(W,Z){C(W,e,Z),h(e,t),h(e,a),h(e,s),h(e,l),h(e,i),h(e,u),h(e,f),h(e,w),h(e,D),h(e,L),h(e,k),h(e,v),h(e,p),h(e,P),O(N,e,null),h(e,Y),O(X,e,null),h(e,j),h(e,y),O(A,y,null),h(y,G),h(y,K),O(ne,K,null),ie=!0},p(W,Z){const ve={};!q&&Z&2&&(q=!0,ve.value=W[1],He(()=>q=!1)),N.$set(ve);const ue={};!H&&Z&4&&(H=!0,ue.value=W[2],He(()=>H=!1)),X.$set(ue),(!ie||Z&8)&&fe(K,"disabled",!W[3])},i(W){ie||(I(N.$$.fragment,W),I(X.$$.fragment,W),I(A.$$.fragment,W),I(ne.$$.fragment,W),ie=!0)},o(W){E(N.$$.fragment,W),E(X.$$.fragment,W),E(A.$$.fragment,W),E(ne.$$.fragment,W),ie=!1},d(W){W&&c(e),R(N),R(X),R(A),R(ne)}}}function br(r){let e,t,n;return t=new dt({props:{$$slots:{default:[$r]},$$scope:{ctx:r}}}),{c(){e=$("div"),T(t.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0});var s=_(e);B(t.$$.fragment,s),s.forEach(c),this.h()},h(){d(e,"class","center svelte-sbi72s")},m(a,s){C(a,e,s),O(t,e,null),n=!0},p(a,s){const l={};s&1039&&(l.$$scope={dirty:s,ctx:a}),t.$set(l)},i(a){n||(I(t.$$.fragment,a),n=!0)},o(a){E(t.$$.fragment,a),n=!1},d(a){a&&c(e),R(t)}}}function kr(r){let e,t;return e=new Ot({props:{open:r[0],persistent:!0,$$slots:{default:[br]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,a){O(e,n,a),t=!0},p(n,[a]){const s={};a&1&&(s.open=n[0]),a&1039&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function wr(r,e,t){let n,{open:a=!1}=e,s="",l="";const i=ln();async function o(){i("upvote",{proposal:l}),t(0,a=!1)}const u=[D=>!!D||"proposal can not be empty",D=>D.startsWith("P")||"proposal has to start with P"];function f(D){s=D,t(1,s),t(0,a)}function g(D){l=D,t(2,l),t(0,a),t(1,s)}const w=()=>t(0,a=!1);return r.$$set=D=>{"open"in D&&t(0,a=D.open)},r.$$.update=()=>{if(r.$$.dirty&1&&a&&(t(1,s=""),t(2,l="")),r.$$.dirty&2&&s){const[D,V]=_r(s);D&&t(2,l=V)}r.$$.dirty&4&&t(3,n=u.every(D=>D(l)===!0))},[a,s,l,n,o,u,f,g,w]}class yr extends $e{constructor(e){super(),be(this,e,wr,kr,_e,{open:0})}}function Dr(r){let e,t;return{c(){e=re("svg"),t=re("path"),this.h()},l(n){e=ae(n,"svg",{xmlns:!0,viewBox:!0});var a=_(e);t=ae(a,"path",{d:!0}),_(t).forEach(c),a.forEach(c),this.h()},h(){d(t,"d","M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 32 32")},m(n,a){C(n,e,a),h(e,t)},p:Q,i:Q,o:Q,d(n){n&&c(e)}}}class At extends $e{constructor(e){super(),be(this,e,null,Dr,_e,{})}}function Cr(r){let e,t;return{c(){e=re("svg"),t=re("path"),this.h()},l(n){e=ae(n,"svg",{xmlns:!0,viewBox:!0});var a=_(e);t=ae(a,"path",{d:!0}),_(t).forEach(c),a.forEach(c),this.h()},h(){d(t,"d","M 3 6 L 3 25 L 13 25 C 14.101563 25 15 25.898438 15 27 L 17 27 C 17 25.898438 17.898438 25 19 25 L 29 25 L 29 6 L 19 6 C 17.808594 6 16.734375 6.527344 16 7.359375 C 15.265625 6.527344 14.191406 6 13 6 Z M 5 8 L 13 8 C 14.101563 8 15 8.898438 15 10 L 17 10 C 17 8.898438 17.898438 8 19 8 L 27 8 L 27 23 L 19 23 C 17.808594 23 16.734375 23.527344 16 24.359375 C 15.265625 23.527344 14.191406 23 13 23 L 5 23 Z M 15 12 L 15 14 L 17 14 L 17 12 Z M 15 16 L 15 18 L 17 18 L 17 16 Z M 15 20 L 15 22 L 17 22 L 17 20 Z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 32 32")},m(n,a){C(n,e,a),h(e,t)},p:Q,i:Q,o:Q,d(n){n&&c(e)}}}class fn extends $e{constructor(e){super(),be(this,e,null,Cr,_e,{})}}function Ir(r){let e,t;return{c(){e=re("svg"),t=re("path"),this.h()},l(n){e=ae(n,"svg",{xmlns:!0,viewBox:!0});var a=_(e);t=ae(a,"path",{d:!0}),_(t).forEach(c),a.forEach(c),this.h()},h(){d(t,"d","M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 32 32")},m(n,a){C(n,e,a),h(e,t)},p:Q,i:Q,o:Q,d(n){n&&c(e)}}}class dn extends $e{constructor(e){super(),be(this,e,null,Ir,_e,{})}}async function mn(r){await navigator.clipboard.writeText(r)}function Nn(r,e,t){const n=r.slice();return n[16]=e[t],n}function Er(r){let e,t,n,a,s=En(r[2].proposals),l=[];for(let o=0;o<s.length;o+=1)l[o]=Tn(Nn(r,s,o));const i=o=>E(l[o],1,1,()=>{l[o]=null});return n=new mt({}),{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=M(),t=$("div"),T(n.$$.fragment),this.h()},l(o){for(let f=0;f<l.length;f+=1)l[f].l(o);e=S(o),t=b(o,"DIV",{class:!0});var u=_(t);B(n.$$.fragment,u),u.forEach(c),this.h()},h(){d(t,"class","separator svelte-1yewxu8")},m(o,u){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,u);C(o,e,u),C(o,t,u),O(n,t,null),a=!0},p(o,u){if(u&119){s=En(o[2].proposals);let f;for(f=0;f<s.length;f+=1){const g=Nn(o,s,f);l[f]?(l[f].p(g,u),I(l[f],1)):(l[f]=Tn(g),l[f].c(),I(l[f],1),l[f].m(e.parentNode,e))}for(De(),f=s.length;f<l.length;f+=1)i(f);Ce()}},i(o){if(!a){for(let u=0;u<s.length;u+=1)I(l[u]);I(n.$$.fragment,o),a=!0}},o(o){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)E(l[u]);E(n.$$.fragment,o),a=!1},d(o){o&&(c(e),c(t)),Yn(l,o),R(n)}}}function Pr(r){let e;return{c(){e=F("no proposals")},l(t){e=U(t,"no proposals")},m(t,n){C(t,e,n)},p:Q,i:Q,o:Q,d(t){t&&c(e)}}}function Vr(r){let e,t,n;return{c(){e=F("(needs "),t=F(ht),n=F("%)")},l(a){e=U(a,"(needs "),t=U(a,ht),n=U(a,"%)")},m(a,s){C(a,e,s),C(a,t,s),C(a,n,s)},d(a){a&&(c(e),c(t),c(n))}}}function Lr(r){let e,t,n;return{c(){e=F("("),t=F(ht),n=F("% reached)")},l(a){e=U(a,"("),t=U(a,ht),n=U(a,"% reached)")},m(a,s){C(a,e,s),C(a,t,s),C(a,n,s)},d(a){a&&(c(e),c(t),c(n))}}}function Mr(r){let e,t,n="EXPLORER",a,s,l,i;return l=new dn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,a=M(),s=$("div"),T(l.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-323t9m"&&(t.textContent=n),a=S(u),s=b(u,"DIV",{class:!0});var f=_(s);B(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","label svelte-1yewxu8"),d(s,"class","icon svelte-1yewxu8"),d(e,"class","button-content svelte-1yewxu8")},m(o,u){C(o,e,u),h(e,t),h(e,a),h(e,s),O(l,s,null),i=!0},p:Q,i(o){i||(I(l.$$.fragment,o),i=!0)},o(o){E(l.$$.fragment,o),i=!1},d(o){o&&c(e),R(l)}}}function Sr(r){let e,t,n="AGORA",a,s,l,i;return l=new fn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,a=M(),s=$("div"),T(l.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1rhz9l5"&&(t.textContent=n),a=S(u),s=b(u,"DIV",{class:!0});var f=_(s);B(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","label svelte-1yewxu8"),d(s,"class","icon svelte-1yewxu8"),d(e,"class","button-content svelte-1yewxu8")},m(o,u){C(o,e,u),h(e,t),h(e,a),h(e,s),O(l,s,null),i=!0},p:Q,i(o){i||(I(l.$$.fragment,o),i=!0)},o(o){E(l.$$.fragment,o),i=!1},d(o){o&&c(e),R(l)}}}function jr(r){let e,t;function n(){return r[11](r[16])}return e=new te({props:{$$slots:{default:[Tr]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){T(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,s){O(e,a,s),t=!0},p(a,s){r=a;const l={};s&524288&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(a){t||(I(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){R(e,a)}}}function Nr(r){let e,t,n="UPVOTED",a,s,l,i;return l=new At({}),{c(){e=$("div"),t=$("div"),t.textContent=n,a=M(),s=$("div"),T(l.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-ctwuaa"&&(t.textContent=n),a=S(u),s=b(u,"DIV",{class:!0});var f=_(s);B(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","label svelte-1yewxu8"),d(s,"class","icon svelte-1yewxu8"),d(e,"class","button-content upvoted svelte-1yewxu8")},m(o,u){C(o,e,u),h(e,t),h(e,a),h(e,s),O(l,s,null),i=!0},p:Q,i(o){i||(I(l.$$.fragment,o),i=!0)},o(o){E(l.$$.fragment,o),i=!1},d(o){o&&c(e),R(l)}}}function Tr(r){let e,t,n="UPVOTE",a,s,l,i;return l=new At({}),{c(){e=$("div"),t=$("div"),t.textContent=n,a=M(),s=$("div"),T(l.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-y6ircw"&&(t.textContent=n),a=S(u),s=b(u,"DIV",{class:!0});var f=_(s);B(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","label svelte-1yewxu8"),d(s,"class","icon svelte-1yewxu8"),d(e,"class","button-content svelte-1yewxu8")},m(o,u){C(o,e,u),h(e,t),h(e,a),h(e,s),O(l,s,null),i=!0},p:Q,i(o){i||(I(l.$$.fragment,o),i=!0)},o(o){E(l.$$.fragment,o),i=!1},d(o){o&&c(e),R(l)}}}function Tn(r){let e,t,n,a=r[16].proposal+"",s,l,i,o=r[16].upvotes+"",u,f,g=r[16].percentage+"",w,D,V,L,k,m,v,p,P,N,q,Y,X,H,j,y,A,G,K,ne,ie;function ge(){return r[8](r[16])}function ke(le,J){return le[16].quorumReached?Lr:Vr}let we=ke(r),me=we(r);function W(){return r[9](r[16])}q=new te({props:{$$slots:{default:[Mr]},$$scope:{ctx:r}}}),q.$on("click",W);function Z(){return r[10](r[16])}X=new te({props:{$$slots:{default:[Sr]},$$scope:{ctx:r}}}),X.$on("click",Z);const ve=[Nr,jr],ue=[];function Ae(le,J){return J&5&&(y=null),y==null&&(y=!!(le[0]&&le[2].votes&&le[2].votes[le[16].proposal].includes(le[0]))),y?0:1}return A=Ae(r,-1),G=ue[A]=ve[A](r),{c(){e=$("div"),t=$("div"),n=$("button"),s=F(a),l=M(),i=$("div"),u=F(o),f=F(" upvotes ~ "),w=F(g),D=F(`%\r
						`),me.c(),V=M(),L=$("div"),k=re("svg"),m=re("rect"),v=re("rect"),P=re("rect"),N=M(),T(q.$$.fragment),Y=M(),T(X.$$.fragment),H=M(),j=$("div"),G.c(),this.h()},l(le){e=b(le,"DIV",{class:!0});var J=_(e);t=b(J,"DIV",{class:!0});var ye=_(t);n=b(ye,"BUTTON",{class:!0});var Je=_(n);s=U(Je,a),Je.forEach(c),ye.forEach(c),l=S(J),i=b(J,"DIV",{class:!0});var pe=_(i);u=U(pe,o),f=U(pe," upvotes ~ "),w=U(pe,g),D=U(pe,`%\r
						`),me.l(pe),pe.forEach(c),V=S(J),L=b(J,"DIV",{class:!0});var Ie=_(L);k=ae(Ie,"svg",{width:!0,height:!0});var qe=_(k);m=ae(qe,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),_(m).forEach(c),v=ae(qe,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),_(v).forEach(c),P=ae(qe,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),_(P).forEach(c),qe.forEach(c),Ie.forEach(c),N=S(J),B(q.$$.fragment,J),Y=S(J),B(X.$$.fragment,J),H=S(J),j=b(J,"DIV",{class:!0});var et=_(j);G.l(et),et.forEach(c),J.forEach(c),this.h()},h(){d(n,"class","unstyle-button"),d(t,"class","title svelte-1yewxu8"),d(i,"class","upvotes svelte-1yewxu8"),d(m,"width","100%"),d(m,"y","5"),d(m,"height","5"),d(m,"fill","#e6e6e6"),d(m,"rx","2"),d(m,"ry","2"),d(v,"width",p=r[16].percentageString),d(v,"y","5"),d(v,"height","5"),d(v,"fill","var(--progress-color)"),d(v,"rx","2"),d(v,"ry","2"),d(P,"width","3"),d(P,"height","15"),d(P,"x",`${ht}%`),d(P,"fill","var(--progress-color)"),d(P,"rx","2"),d(P,"ry","2"),d(k,"width","100%"),d(k,"height","15"),d(L,"class","upvote-bar svelte-1yewxu8"),d(j,"class","upvote-btn svelte-1yewxu8"),fe(j,"disabled",!r[0]||!r[1]),d(e,"class","proposal svelte-1yewxu8"),fe(e,"success",r[16].quorumReached)},m(le,J){C(le,e,J),h(e,t),h(t,n),h(n,s),h(e,l),h(e,i),h(i,u),h(i,f),h(i,w),h(i,D),me.m(i,null),h(e,V),h(e,L),h(L,k),h(k,m),h(k,v),h(k,P),h(e,N),O(q,e,null),h(e,Y),O(X,e,null),h(e,H),h(e,j),ue[A].m(j,null),K=!0,ne||(ie=on(n,"click",ge),ne=!0)},p(le,J){r=le,(!K||J&4)&&a!==(a=r[16].proposal+"")&&ee(s,a),(!K||J&4)&&o!==(o=r[16].upvotes+"")&&ee(u,o),(!K||J&4)&&g!==(g=r[16].percentage+"")&&ee(w,g),we!==(we=ke(r))&&(me.d(1),me=we(r),me&&(me.c(),me.m(i,null))),(!K||J&4&&p!==(p=r[16].percentageString))&&d(v,"width",p);const ye={};J&524288&&(ye.$$scope={dirty:J,ctx:r}),q.$set(ye);const Je={};J&524288&&(Je.$$scope={dirty:J,ctx:r}),X.$set(Je);let pe=A;A=Ae(r,J),A===pe?ue[A].p(r,J):(De(),E(ue[pe],1,1,()=>{ue[pe]=null}),Ce(),G=ue[A],G?G.p(r,J):(G=ue[A]=ve[A](r),G.c()),I(G,1),G.m(j,null)),(!K||J&3)&&fe(j,"disabled",!r[0]||!r[1]),(!K||J&4)&&fe(e,"success",r[16].quorumReached)},i(le){K||(I(q.$$.fragment,le),I(X.$$.fragment,le),I(G),K=!0)},o(le){E(q.$$.fragment,le),E(X.$$.fragment,le),E(G),K=!1},d(le){le&&c(e),me.d(),R(q),R(X),ue[A].d(),ne=!1,ie()}}}function Br(r){let e,t,n,a,s,l,i,o,u,f,g;const w=[Pr,Er],D=[];function V(m,v){return m[2].proposals.length===0?0:1}n=V(r),a=D[n]=w[n](r),i=new te({props:{label:"New Proposal"}}),i.$on("click",r[12]);function L(m){r[13](m)}let k={};return r[3]!==void 0&&(k.open=r[3]),u=new yr({props:k}),Ve.push(()=>ze(u,"open",L)),u.$on("upvote",r[14]),{c(){e=$("div"),t=$("div"),a.c(),s=M(),l=$("div"),T(i.$$.fragment),o=M(),T(u.$$.fragment),this.h()},l(m){e=b(m,"DIV",{class:!0});var v=_(e);t=b(v,"DIV",{class:!0});var p=_(t);a.l(p),p.forEach(c),s=S(v),l=b(v,"DIV",{class:!0});var P=_(l);B(i.$$.fragment,P),P.forEach(c),v.forEach(c),o=S(m),B(u.$$.fragment,m),this.h()},h(){d(t,"class","proposal-period svelte-1yewxu8"),d(l,"class","new-proposal svelte-1yewxu8"),fe(l,"disabled",!r[0]||!r[1]),d(e,"class","proposal-period-wrap svelte-1yewxu8")},m(m,v){C(m,e,v),h(e,t),D[n].m(t,null),h(e,s),h(e,l),O(i,l,null),C(m,o,v),O(u,m,v),g=!0},p(m,[v]){let p=n;n=V(m),n===p?D[n].p(m,v):(De(),E(D[p],1,1,()=>{D[p]=null}),Ce(),a=D[n],a?a.p(m,v):(a=D[n]=w[n](m),a.c()),I(a,1),a.m(t,null)),(!g||v&3)&&fe(l,"disabled",!m[0]||!m[1]);const P={};!f&&v&8&&(f=!0,P.open=m[3],He(()=>f=!1)),u.$set(P)},i(m){g||(I(a),I(i.$$.fragment,m),I(u.$$.fragment,m),g=!0)},o(m){E(a),E(i.$$.fragment,m),E(u.$$.fragment,m),g=!1},d(m){m&&(c(e),c(o)),D[n].d(),R(i),R(u,m)}}}function Or(r,e,t){let{pkh:n}=e,{canVote:a}=e,{periodIndex:s}=e,{period:l}=e,i=!1;const o=ln();function u(p){window.open(`${un}/${p}`,"_blank")}function f(p){window.open(`${cn}/${p}/${s}`,"_blank")}async function g(p){o("upvote",{proposals:p,period:l.info.voting_period.index})}const w=p=>mn(p.proposal),D=p=>u(p.proposal),V=p=>f(p.proposal),L=p=>g([p.proposal]),k=()=>t(3,i=!0);function m(p){i=p,t(3,i)}const v=p=>g(p.detail.proposals);return r.$$set=p=>{"pkh"in p&&t(0,n=p.pkh),"canVote"in p&&t(1,a=p.canVote),"periodIndex"in p&&t(7,s=p.periodIndex),"period"in p&&t(2,l=p.period)},[n,a,l,i,u,f,g,s,w,D,V,L,k,m,v]}class Rr extends $e{constructor(e){super(),be(this,e,Or,Br,_e,{pkh:0,canVote:1,periodIndex:7,period:2})}}function Ar(r){let e,t;return{c(){e=re("svg"),t=re("path"),this.h()},l(n){e=ae(n,"svg",{xmlns:!0,viewBox:!0});var a=_(e);t=ae(a,"path",{d:!0}),_(t).forEach(c),a.forEach(c),this.h()},h(){d(t,"d","M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 32 32")},m(n,a){C(n,e,a),h(e,t)},p:Q,i:Q,o:Q,d(n){n&&c(e)}}}class Fn extends $e{constructor(e){super(),be(this,e,null,Ar,_e,{})}}function qr(r){let e,t;return{c(){e=re("svg"),t=re("path"),this.h()},l(n){e=ae(n,"svg",{xmlns:!0,viewBox:!0});var a=_(e);t=ae(a,"path",{d:!0}),_(t).forEach(c),a.forEach(c),this.h()},h(){d(t,"d","M 16 6 C 14.9375 6 14.003906 6.5625 13.46875 7.40625 C 13.03125 7.15625 12.535156 7 12 7 C 10.355469 7 9 8.355469 9 10 L 9 13.65625 L 8.875 13.8125 C 8.800781 13.898438 8.730469 13.976563 8.65625 14.0625 C 8.144531 14.660156 7.65625 15.292969 7.21875 15.9375 L 6.90625 16.34375 C 6.480469 16.894531 6.21875 17.535156 6.09375 18.1875 C 6.078125 18.261719 6.042969 18.332031 6.03125 18.40625 C 5.855469 19.652344 6.226563 20.949219 7.09375 21.9375 L 9.46875 24.625 C 10.796875 26.136719 12.707031 27 14.71875 27 L 20 27 C 23.855469 27 27 23.855469 27 20 L 27 11 C 27 9.355469 25.644531 8 24 8 C 23.464844 8 22.96875 8.15625 22.53125 8.40625 C 21.996094 7.5625 21.0625 7 20 7 C 19.464844 7 18.96875 7.15625 18.53125 7.40625 C 17.996094 6.5625 17.0625 6 16 6 Z M 16 8 C 16.566406 8 17 8.433594 17 9 L 17 11.1875 C 16.683594 11.074219 16.351563 11 16 11 L 15 11 L 15 9 C 15 8.433594 15.433594 8 16 8 Z M 12 9 C 12.566406 9 13 9.433594 13 10 L 13 11 L 11.59375 11 L 11.3125 11.28125 C 11.3125 11.28125 11.085938 11.511719 11 11.59375 L 11 10 C 11 9.433594 11.433594 9 12 9 Z M 20 9 C 20.566406 9 21 9.433594 21 10 L 21 13 C 21 13.566406 20.566406 14 20 14 C 19.433594 14 19 13.566406 19 13 L 19 10 C 19 9.433594 19.433594 9 20 9 Z M 24 10 C 24.566406 10 25 10.433594 25 11 L 25 13 C 25 13.566406 24.566406 14 24 14 C 23.433594 14 23 13.566406 23 13 L 23 11 C 23 10.433594 23.433594 10 24 10 Z M 12.4375 13 L 16 13 C 16.5625 13 17 13.4375 17 14 C 17 14.5625 16.5625 15 16 15 L 12.875 15 L 12.59375 15.375 L 10.25 18.34375 L 11.8125 19.59375 L 13.65625 17.28125 C 14.015625 17.449219 14.425781 17.699219 14.875 18.0625 C 15.941406 18.929688 17 20.347656 17 23 L 19 23 C 19 20.132813 17.855469 18.15625 16.59375 16.9375 C 17.402344 16.769531 18.101563 16.273438 18.53125 15.59375 C 18.96875 15.84375 19.464844 16 20 16 C 20.765625 16 21.46875 15.699219 22 15.21875 C 22.53125 15.699219 23.234375 16 24 16 C 24.351563 16 24.683594 15.925781 25 15.8125 L 25 20 C 25 22.773438 22.773438 25 20 25 L 14.71875 25 C 13.28125 25 11.917969 24.394531 10.96875 23.3125 L 8.59375 20.59375 C 8.164063 20.105469 7.964844 19.507813 8 18.90625 C 8 18.898438 8.027344 18.832031 8.03125 18.8125 C 8.035156 18.78125 8.027344 18.75 8.03125 18.71875 C 8.078125 18.5 8.230469 18.078125 8.5625 17.53125 C 8.605469 17.460938 8.671875 17.382813 8.71875 17.3125 L 10.1875 15.375 C 11.292969 14.082031 12.214844 13.210938 12.4375 13 Z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 32 32")},m(n,a){C(n,e,a),h(e,t)},p:Q,i:Q,o:Q,d(n){n&&c(e)}}}class Un extends $e{constructor(e){super(),be(this,e,null,qr,_e,{})}}function Wr(r){let e,t=r[2].requiredQuorumPercentage+"",n,a;return{c(){e=F("(needs "),n=F(t),a=F("%)")},l(s){e=U(s,"(needs "),n=U(s,t),a=U(s,"%)")},m(s,l){C(s,e,l),C(s,n,l),C(s,a,l)},p(s,l){l&4&&t!==(t=s[2].requiredQuorumPercentage+"")&&ee(n,t)},d(s){s&&(c(e),c(n),c(a))}}}function Fr(r){let e,t=r[2].requiredQuorumPercentage+"",n,a;return{c(){e=F("("),n=F(t),a=F("% reached)")},l(s){e=U(s,"("),n=U(s,t),a=U(s,"% reached)")},m(s,l){C(s,e,l),C(s,n,l),C(s,a,l)},p(s,l){l&4&&t!==(t=s[2].requiredQuorumPercentage+"")&&ee(n,t)},d(s){s&&(c(e),c(n),c(a))}}}function Ur(r){let e,t=r[2].requiredMajorityPercentage+"",n,a;return{c(){e=F("(required "),n=F(t),a=F("%)")},l(s){e=U(s,"(required "),n=U(s,t),a=U(s,"%)")},m(s,l){C(s,e,l),C(s,n,l),C(s,a,l)},p(s,l){l&4&&t!==(t=s[2].requiredMajorityPercentage+"")&&ee(n,t)},d(s){s&&(c(e),c(n),c(a))}}}function Hr(r){let e,t=r[2].requiredMajorityPercentage+"",n,a;return{c(){e=F("("),n=F(t),a=F("% reached)")},l(s){e=U(s,"("),n=U(s,t),a=U(s,"% reached)")},m(s,l){C(s,e,l),C(s,n,l),C(s,a,l)},p(s,l){l&4&&t!==(t=s[2].requiredMajorityPercentage+"")&&ee(n,t)},d(s){s&&(c(e),c(n),c(a))}}}function zr(r){let e,t,n="EXPLORER",a,s,l,i;return l=new dn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,a=M(),s=$("div"),T(l.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-323t9m"&&(t.textContent=n),a=S(u),s=b(u,"DIV",{class:!0});var f=_(s);B(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","label svelte-3bkjph"),d(s,"class","icon svelte-3bkjph"),d(e,"class","button-content svelte-3bkjph")},m(o,u){C(o,e,u),h(e,t),h(e,a),h(e,s),O(l,s,null),i=!0},p:Q,i(o){i||(I(l.$$.fragment,o),i=!0)},o(o){E(l.$$.fragment,o),i=!1},d(o){o&&c(e),R(l)}}}function Yr(r){let e,t,n="AGORA",a,s,l,i;return l=new fn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,a=M(),s=$("div"),T(l.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1rhz9l5"&&(t.textContent=n),a=S(u),s=b(u,"DIV",{class:!0});var f=_(s);B(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","label svelte-3bkjph"),d(s,"class","icon svelte-3bkjph"),d(e,"class","button-content svelte-3bkjph")},m(o,u){C(o,e,u),h(e,t),h(e,a),h(e,s),O(l,s,null),i=!0},p:Q,i(o){i||(I(l.$$.fragment,o),i=!0)},o(o){E(l.$$.fragment,o),i=!1},d(o){o&&c(e),R(l)}}}function Xr(r){let e,t,n,a,s,l,i,o,u;return t=new te({props:{$$slots:{default:[Qr]},$$scope:{ctx:r}}}),t.$on("click",r[11]),s=new te({props:{$$slots:{default:[Kr]},$$scope:{ctx:r}}}),s.$on("click",r[12]),o=new te({props:{$$slots:{default:[Jr]},$$scope:{ctx:r}}}),o.$on("click",r[13]),{c(){e=$("div"),T(t.$$.fragment),n=M(),a=$("div"),T(s.$$.fragment),l=M(),i=$("div"),T(o.$$.fragment),this.h()},l(f){e=b(f,"DIV",{class:!0});var g=_(e);B(t.$$.fragment,g),g.forEach(c),n=S(f),a=b(f,"DIV",{class:!0});var w=_(a);B(s.$$.fragment,w),w.forEach(c),l=S(f),i=b(f,"DIV",{class:!0});var D=_(i);B(o.$$.fragment,D),D.forEach(c),this.h()},h(){d(e,"class","nay svelte-3bkjph"),d(a,"class","pass svelte-3bkjph"),d(i,"class","yay svelte-3bkjph")},m(f,g){C(f,e,g),O(t,e,null),C(f,n,g),C(f,a,g),O(s,a,null),C(f,l,g),C(f,i,g),O(o,i,null),u=!0},p(f,g){const w={};g&32768&&(w.$$scope={dirty:g,ctx:f}),t.$set(w);const D={};g&32768&&(D.$$scope={dirty:g,ctx:f}),s.$set(D);const V={};g&32768&&(V.$$scope={dirty:g,ctx:f}),o.$set(V)},i(f){u||(I(t.$$.fragment,f),I(s.$$.fragment,f),I(o.$$.fragment,f),u=!0)},o(f){E(t.$$.fragment,f),E(s.$$.fragment,f),E(o.$$.fragment,f),u=!1},d(f){f&&(c(e),c(n),c(a),c(l),c(i)),R(t),R(s),R(o)}}}function Zr(r){let e,t,n,a=r[3].ballot+"",s;return{c(){e=$("div"),t=F("You voted: "),n=$("div"),s=F(a),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=_(e);t=U(i,"You voted: "),n=b(i,"DIV",{class:!0});var o=_(n);s=U(o,a),o.forEach(c),i.forEach(c),this.h()},h(){d(n,"class","ballot svelte-3bkjph"),d(e,"class","existing-vote svelte-3bkjph")},m(l,i){C(l,e,i),h(e,t),h(e,n),h(n,s)},p(l,i){i&8&&a!==(a=l[3].ballot+"")&&ee(s,a)},i:Q,o:Q,d(l){l&&c(e)}}}function Qr(r){let e,t,n="NAY",a,s,l,i;return l=new Fn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,a=M(),s=$("div"),T(l.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1i29d8x"&&(t.textContent=n),a=S(u),s=b(u,"DIV",{class:!0});var f=_(s);B(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","label svelte-3bkjph"),d(s,"class","icon svelte-3bkjph"),d(e,"class","button-content svelte-3bkjph")},m(o,u){C(o,e,u),h(e,t),h(e,a),h(e,s),O(l,s,null),i=!0},p:Q,i(o){i||(I(l.$$.fragment,o),i=!0)},o(o){E(l.$$.fragment,o),i=!1},d(o){o&&c(e),R(l)}}}function Kr(r){let e,t,n="NAY",a,s,l,i;return l=new Un({}),{c(){e=$("div"),t=$("div"),t.textContent=n,a=M(),s=$("div"),T(l.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1i29d8x"&&(t.textContent=n),a=S(u),s=b(u,"DIV",{class:!0});var f=_(s);B(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","label svelte-3bkjph"),d(s,"class","icon svelte-3bkjph"),d(e,"class","button-content svelte-3bkjph")},m(o,u){C(o,e,u),h(e,t),h(e,a),h(e,s),O(l,s,null),i=!0},p:Q,i(o){i||(I(l.$$.fragment,o),i=!0)},o(o){E(l.$$.fragment,o),i=!1},d(o){o&&c(e),R(l)}}}function Jr(r){let e,t,n="NAY",a,s,l,i;return l=new At({}),{c(){e=$("div"),t=$("div"),t.textContent=n,a=M(),s=$("div"),T(l.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1i29d8x"&&(t.textContent=n),a=S(u),s=b(u,"DIV",{class:!0});var f=_(s);B(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","label svelte-3bkjph"),d(s,"class","icon svelte-3bkjph"),d(e,"class","button-content svelte-3bkjph")},m(o,u){C(o,e,u),h(e,t),h(e,a),h(e,s),O(l,s,null),i=!0},p:Q,i(o){i||(I(l.$$.fragment,o),i=!0)},o(o){E(l.$$.fragment,o),i=!1},d(o){o&&c(e),R(l)}}}function Gr(r){let e,t,n,a,s,l=r[2].proposal+"",i,o,u,f,g=r[2].summary.nay+"",w,D,V=r[2].summary.nayPercentage+"",L,k,m,v,p,P,N=r[2].summary.pass+"",q,Y,X=r[2].summary.passPercentage+"",H,j,y,A,G,K,ne=r[2].summary.yayPercentage+"",ie,ge,ke=r[2].summary.nayPercentage+"",we,me,W,Z,ve,ue,Ae,le,J,ye,Je="Quorum",pe,Ie,qe=r[2].quorumPercentage+"",et,qt,Wt,Le,We,Me,bt,Se,kt,je,wt,Ne,yt,Ft,Fe,tt,hn="Supermajority",Ut,Ye,gt=r[2].majorityPercentage+"",Dt,Ht,zt,Xe,Ue,Te,Ct,Be,It,Yt,Ze,Xt,Qe,Zt,rt,nt,Qt,Ke,Ee,Pe,oe,Kt,gn;v=new Fn({}),A=new Un({}),Z=new At({}),Ae=new mt({});function vn(z,x){return z[2].quorumReached?Fr:Wr}let Et=vn(r),Oe=Et(r);function pn(z,x){return z[2].majorityReached?Hr:Ur}let Pt=pn(r),Re=Pt(r);Ze=new te({props:{$$slots:{default:[zr]},$$scope:{ctx:r}}}),Ze.$on("click",r[9]),Qe=new te({props:{$$slots:{default:[Yr]},$$scope:{ctx:r}}}),Qe.$on("click",r[10]),nt=new mt({});const _n=[Zr,Xr],Ge=[];function $n(z,x){return z[3]?0:1}return Ee=$n(r),Pe=Ge[Ee]=_n[Ee](r),{c(){e=$("div"),t=$("div"),n=$("div"),a=$("div"),s=$("button"),i=F(l),o=M(),u=$("div"),f=$("div"),w=F(g),D=F(" ("),L=F(V),k=F(` %)\r
					`),m=$("div"),T(v.$$.fragment),p=M(),P=$("div"),q=F(N),Y=F(" ("),H=F(X),j=F(` %)\r
					`),y=$("div"),T(A.$$.fragment),G=M(),K=$("div"),ie=F(ne),ge=F(" ("),we=F(ke),me=F(` %)\r
					`),W=$("div"),T(Z.$$.fragment),ve=M(),ue=$("div"),T(Ae.$$.fragment),le=M(),J=$("div"),ye=$("div"),ye.textContent=Je,pe=M(),Ie=$("div"),et=F(qe),qt=F(` %\r
					`),Oe.c(),Wt=M(),Le=re("svg"),We=re("rect"),Me=re("rect"),Se=re("rect"),je=re("rect"),Ne=re("rect"),Ft=M(),Fe=$("div"),tt=$("div"),tt.textContent=hn,Ut=M(),Ye=$("div"),Dt=F(gt),Ht=M(),Re.c(),zt=M(),Xe=re("svg"),Ue=re("rect"),Te=re("rect"),Be=re("rect"),Yt=M(),T(Ze.$$.fragment),Xt=M(),T(Qe.$$.fragment),Zt=M(),rt=$("div"),T(nt.$$.fragment),Qt=M(),Ke=$("div"),Pe.c(),this.h()},l(z){e=b(z,"DIV",{class:!0});var x=_(e);t=b(x,"DIV",{class:!0});var vt=_(t);n=b(vt,"DIV",{class:!0});var ce=_(n);a=b(ce,"DIV",{class:!0});var at=_(a);s=b(at,"BUTTON",{class:!0});var bn=_(s);i=U(bn,l),bn.forEach(c),at.forEach(c),o=S(ce),u=b(ce,"DIV",{class:!0});var st=_(u);f=b(st,"DIV",{class:!0});var lt=_(f);w=U(lt,g),D=U(lt," ("),L=U(lt,V),k=U(lt,` %)\r
					`),m=b(lt,"DIV",{class:!0});var kn=_(m);B(v.$$.fragment,kn),kn.forEach(c),lt.forEach(c),p=S(st),P=b(st,"DIV",{class:!0});var it=_(P);q=U(it,N),Y=U(it," ("),H=U(it,X),j=U(it,` %)\r
					`),y=b(it,"DIV",{class:!0});var wn=_(y);B(A.$$.fragment,wn),wn.forEach(c),it.forEach(c),G=S(st),K=b(st,"DIV",{class:!0});var ot=_(K);ie=U(ot,ne),ge=U(ot," ("),we=U(ot,ke),me=U(ot,` %)\r
					`),W=b(ot,"DIV",{class:!0});var yn=_(W);B(Z.$$.fragment,yn),yn.forEach(c),ot.forEach(c),st.forEach(c),ve=S(ce),ue=b(ce,"DIV",{class:!0});var Dn=_(ue);B(Ae.$$.fragment,Dn),Dn.forEach(c),le=S(ce),J=b(ce,"DIV",{class:!0});var ut=_(J);ye=b(ut,"DIV",{class:!0,"data-svelte-h":!0}),se(ye)!=="svelte-j8l648"&&(ye.textContent=Je),pe=S(ut),Ie=b(ut,"DIV",{class:!0});var Vt=_(Ie);et=U(Vt,qe),qt=U(Vt,` %\r
					`),Oe.l(Vt),Vt.forEach(c),Wt=S(ut),Le=ae(ut,"svg",{width:!0,height:!0});var ct=_(Le);We=ae(ct,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),_(We).forEach(c),Me=ae(ct,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),_(Me).forEach(c),Se=ae(ct,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),_(Se).forEach(c),je=ae(ct,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),_(je).forEach(c),Ne=ae(ct,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),_(Ne).forEach(c),ct.forEach(c),ut.forEach(c),Ft=S(ce),Fe=b(ce,"DIV",{class:!0});var ft=_(Fe);tt=b(ft,"DIV",{class:!0,"data-svelte-h":!0}),se(tt)!=="svelte-5p5wbx"&&(tt.textContent=hn),Ut=S(ft),Ye=b(ft,"DIV",{class:!0});var Lt=_(Ye);Dt=U(Lt,gt),Ht=S(Lt),Re.l(Lt),Lt.forEach(c),zt=S(ft),Xe=ae(ft,"svg",{width:!0,height:!0});var Mt=_(Xe);Ue=ae(Mt,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),_(Ue).forEach(c),Te=ae(Mt,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),_(Te).forEach(c),Be=ae(Mt,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),_(Be).forEach(c),Mt.forEach(c),ft.forEach(c),Yt=S(ce),B(Ze.$$.fragment,ce),Xt=S(ce),B(Qe.$$.fragment,ce),Zt=S(ce),rt=b(ce,"DIV",{class:!0});var Cn=_(rt);B(nt.$$.fragment,Cn),Cn.forEach(c),Qt=S(ce),Ke=b(ce,"DIV",{class:!0});var In=_(Ke);Pe.l(In),In.forEach(c),ce.forEach(c),vt.forEach(c),x.forEach(c),this.h()},h(){d(s,"class","unstyle-button"),d(a,"class","title svelte-3bkjph"),d(m,"class","icon svelte-3bkjph"),d(f,"class","yay value svelte-3bkjph"),d(y,"class","icon svelte-3bkjph"),d(P,"class","pass value svelte-3bkjph"),d(W,"class","icon svelte-3bkjph"),d(K,"class","nay value svelte-3bkjph"),d(u,"class","vote-summary svelte-3bkjph"),d(ue,"class","separator svelte-3bkjph"),d(ye,"class","bar-title svelte-3bkjph"),d(Ie,"class","bar-description svelte-3bkjph"),d(We,"width","100%"),d(We,"height","5"),d(We,"y","5"),d(We,"fill","#e6e6e6"),d(We,"rx","2"),d(We,"ry","2"),d(Me,"width",bt=`${r[2].summary.nayPercentage+r[2].summary.passPercentage+r[2].summary.yayPercentage}%`),d(Me,"y","5"),d(Me,"height","5"),d(Me,"fill","var(--yay-color)"),d(Me,"rx","2"),d(Me,"ry","2"),d(Se,"width",kt=`${r[2].summary.nayPercentage+r[2].summary.passPercentage}%`),d(Se,"height","5"),d(Se,"y","5"),d(Se,"fill","var(--pass-color)"),d(Se,"rx","2"),d(Se,"ry","2"),d(je,"width",wt=`${r[2].summary.nayPercentage}%`),d(je,"height","5"),d(je,"y","5"),d(je,"fill","var(--nay-color)"),d(je,"rx","2"),d(je,"ry","2"),d(Ne,"width","3"),d(Ne,"height","15"),d(Ne,"x",yt=`${r[2].requiredQuorumPercentage}%`),d(Ne,"fill","var(--quorum-color)"),d(Ne,"rx","2"),d(Ne,"ry","2"),d(Le,"width","100%"),d(Le,"height","15"),d(J,"class","bar svelte-3bkjph"),d(tt,"class","bar-title svelte-3bkjph"),d(Ye,"class","bar-description svelte-3bkjph"),d(Ue,"width","100%"),d(Ue,"height","5"),d(Ue,"y","5"),d(Ue,"fill","#e6e6e6"),d(Ue,"rx","2"),d(Ue,"ry","2"),d(Te,"width",Ct=`${r[2].majorityPercentage}%`),d(Te,"y","5"),d(Te,"height","5"),d(Te,"fill","var(--majority-color)"),d(Te,"rx","2"),d(Te,"ry","2"),d(Be,"width","3"),d(Be,"height","15"),d(Be,"x",It=`${r[2].requiredMajorityPercentage}%`),d(Be,"fill","var(--majority-color)"),d(Be,"rx","2"),d(Be,"ry","2"),d(Xe,"width","100%"),d(Xe,"height","15"),d(Fe,"class","bar svelte-3bkjph"),d(rt,"class","separator svelte-3bkjph"),d(Ke,"class","vote-section svelte-3bkjph"),fe(Ke,"disabled",!r[0]||!r[1]),d(n,"class","proposal svelte-3bkjph"),d(t,"class","period svelte-3bkjph"),d(e,"class","period-wrap svelte-3bkjph"),fe(e,"quorum-reached",r[2].quorumReached),fe(e,"majority-reached",r[2].majorityReached)},m(z,x){C(z,e,x),h(e,t),h(t,n),h(n,a),h(a,s),h(s,i),h(n,o),h(n,u),h(u,f),h(f,w),h(f,D),h(f,L),h(f,k),h(f,m),O(v,m,null),h(u,p),h(u,P),h(P,q),h(P,Y),h(P,H),h(P,j),h(P,y),O(A,y,null),h(u,G),h(u,K),h(K,ie),h(K,ge),h(K,we),h(K,me),h(K,W),O(Z,W,null),h(n,ve),h(n,ue),O(Ae,ue,null),h(n,le),h(n,J),h(J,ye),h(J,pe),h(J,Ie),h(Ie,et),h(Ie,qt),Oe.m(Ie,null),h(J,Wt),h(J,Le),h(Le,We),h(Le,Me),h(Le,Se),h(Le,je),h(Le,Ne),h(n,Ft),h(n,Fe),h(Fe,tt),h(Fe,Ut),h(Fe,Ye),h(Ye,Dt),h(Ye,Ht),Re.m(Ye,null),h(Fe,zt),h(Fe,Xe),h(Xe,Ue),h(Xe,Te),h(Xe,Be),h(n,Yt),O(Ze,n,null),h(n,Xt),O(Qe,n,null),h(n,Zt),h(n,rt),O(nt,rt,null),h(n,Qt),h(n,Ke),Ge[Ee].m(Ke,null),oe=!0,Kt||(gn=on(s,"click",r[8]),Kt=!0)},p(z,[x]){(!oe||x&4)&&l!==(l=z[2].proposal+"")&&ee(i,l),(!oe||x&4)&&g!==(g=z[2].summary.nay+"")&&ee(w,g),(!oe||x&4)&&V!==(V=z[2].summary.nayPercentage+"")&&ee(L,V),(!oe||x&4)&&N!==(N=z[2].summary.pass+"")&&ee(q,N),(!oe||x&4)&&X!==(X=z[2].summary.passPercentage+"")&&ee(H,X),(!oe||x&4)&&ne!==(ne=z[2].summary.yayPercentage+"")&&ee(ie,ne),(!oe||x&4)&&ke!==(ke=z[2].summary.nayPercentage+"")&&ee(we,ke),(!oe||x&4)&&qe!==(qe=z[2].quorumPercentage+"")&&ee(et,qe),Et===(Et=vn(z))&&Oe?Oe.p(z,x):(Oe.d(1),Oe=Et(z),Oe&&(Oe.c(),Oe.m(Ie,null))),(!oe||x&4&&bt!==(bt=`${z[2].summary.nayPercentage+z[2].summary.passPercentage+z[2].summary.yayPercentage}%`))&&d(Me,"width",bt),(!oe||x&4&&kt!==(kt=`${z[2].summary.nayPercentage+z[2].summary.passPercentage}%`))&&d(Se,"width",kt),(!oe||x&4&&wt!==(wt=`${z[2].summary.nayPercentage}%`))&&d(je,"width",wt),(!oe||x&4&&yt!==(yt=`${z[2].requiredQuorumPercentage}%`))&&d(Ne,"x",yt),(!oe||x&4)&&gt!==(gt=z[2].majorityPercentage+"")&&ee(Dt,gt),Pt===(Pt=pn(z))&&Re?Re.p(z,x):(Re.d(1),Re=Pt(z),Re&&(Re.c(),Re.m(Ye,null))),(!oe||x&4&&Ct!==(Ct=`${z[2].majorityPercentage}%`))&&d(Te,"width",Ct),(!oe||x&4&&It!==(It=`${z[2].requiredMajorityPercentage}%`))&&d(Be,"x",It);const vt={};x&32768&&(vt.$$scope={dirty:x,ctx:z}),Ze.$set(vt);const ce={};x&32768&&(ce.$$scope={dirty:x,ctx:z}),Qe.$set(ce);let at=Ee;Ee=$n(z),Ee===at?Ge[Ee].p(z,x):(De(),E(Ge[at],1,1,()=>{Ge[at]=null}),Ce(),Pe=Ge[Ee],Pe?Pe.p(z,x):(Pe=Ge[Ee]=_n[Ee](z),Pe.c()),I(Pe,1),Pe.m(Ke,null)),(!oe||x&3)&&fe(Ke,"disabled",!z[0]||!z[1]),(!oe||x&4)&&fe(e,"quorum-reached",z[2].quorumReached),(!oe||x&4)&&fe(e,"majority-reached",z[2].majorityReached)},i(z){oe||(I(v.$$.fragment,z),I(A.$$.fragment,z),I(Z.$$.fragment,z),I(Ae.$$.fragment,z),I(Ze.$$.fragment,z),I(Qe.$$.fragment,z),I(nt.$$.fragment,z),I(Pe),oe=!0)},o(z){E(v.$$.fragment,z),E(A.$$.fragment,z),E(Z.$$.fragment,z),E(Ae.$$.fragment,z),E(Ze.$$.fragment,z),E(Qe.$$.fragment,z),E(nt.$$.fragment,z),E(Pe),oe=!1},d(z){z&&c(e),R(v),R(A),R(Z),R(Ae),Oe.d(),Re.d(),R(Ze),R(Qe),R(nt),Ge[Ee].d(),Kt=!1,gn()}}}function xr(r,e,t){let n,{pkh:a}=e,{canVote:s=!1}=e,{periodIndex:l}=e,{period:i}=e;const o=ln();function u(){window.open(`${un}/${i.proposal}`,"_blank")}function f(){window.open(`${cn}/${i.proposal}/${l}`,"_blank")}async function g(v){o("vote",{ballot:v,proposal:i.proposal,period:i.info.voting_period.index})}const w=()=>mn(i.proposal),D=()=>u(),V=()=>f(),L=()=>g("nay"),k=()=>g("pass"),m=()=>g("yay");return r.$$set=v=>{"pkh"in v&&t(0,a=v.pkh),"canVote"in v&&t(1,s=v.canVote),"periodIndex"in v&&t(7,l=v.periodIndex),"period"in v&&t(2,i=v.period)},r.$$.update=()=>{r.$$.dirty&5&&t(3,n=i.ballots.find(v=>v.pkh===a))},[a,s,i,n,u,f,g,l,w,D,V,L,k,m]}class ea extends $e{constructor(e){super(),be(this,e,xr,Gr,_e,{pkh:0,canVote:1,periodIndex:7,period:2})}}function ta(r){let e,t,n,a,s,l,i,o,u,f,g,w;s=new mt({});const D=[sa,aa,ra],V=[];function L(k,m){return k[4]==="applied"?0:k[4]==="failed"?1:2}return i=L(r),o=V[i]=D[i](r),g=new te({props:{$$slots:{default:[la]},$$scope:{ctx:r}}}),g.$on("click",r[6]),{c(){e=$("h5"),t=F("Transaction "),n=F(r[1]),a=M(),T(s.$$.fragment),l=M(),o.c(),u=M(),f=$("div"),T(g.$$.fragment),this.h()},l(k){e=b(k,"H5",{class:!0});var m=_(e);t=U(m,"Transaction "),n=U(m,r[1]),m.forEach(c),a=S(k),B(s.$$.fragment,k),l=S(k),o.l(k),u=S(k),f=b(k,"DIV",{class:!0});var v=_(f);B(g.$$.fragment,v),v.forEach(c),this.h()},h(){d(e,"class","title svelte-1kcf8tg"),d(f,"class","explore"),fe(f,"disabled",r[4]==="building")},m(k,m){C(k,e,m),h(e,t),h(e,n),C(k,a,m),O(s,k,m),C(k,l,m),V[i].m(k,m),C(k,u,m),C(k,f,m),O(g,f,null),w=!0},p(k,m){(!w||m&2)&&ee(n,k[1]);let v=i;i=L(k),i===v?V[i].p(k,m):(De(),E(V[v],1,1,()=>{V[v]=null}),Ce(),o=V[i],o?o.p(k,m):(o=V[i]=D[i](k),o.c()),I(o,1),o.m(u.parentNode,u));const p={};m&512&&(p.$$scope={dirty:m,ctx:k}),g.$set(p),(!w||m&16)&&fe(f,"disabled",k[4]==="building")},i(k){w||(I(s.$$.fragment,k),I(o),I(g.$$.fragment,k),w=!0)},o(k){E(s.$$.fragment,k),E(o),E(g.$$.fragment,k),w=!1},d(k){k&&(c(e),c(a),c(l),c(u),c(f)),R(s,k),V[i].d(k),R(g)}}}function na(r){let e,t;return{c(){e=$("div"),t=F(r[2]),this.h()},l(n){e=b(n,"DIV",{class:!0});var a=_(e);t=U(a,r[2]),a.forEach(c),this.h()},h(){d(e,"class","error-message svelte-1kcf8tg")},m(n,a){C(n,e,a),h(e,t)},p(n,a){a&4&&ee(t,n[2])},i:Q,o:Q,d(n){n&&c(e)}}}function ra(r){let e,t,n,a,s;t=new Rt({props:{message:r[5],progress:"indeterminate"}});let l=r[4]==="building"&&Bn();return{c(){e=$("div"),T(t.$$.fragment),n=M(),l&&l.c(),a=xe(),this.h()},l(i){e=b(i,"DIV",{class:!0});var o=_(e);B(t.$$.fragment,o),o.forEach(c),n=S(i),l&&l.l(i),a=xe(),this.h()},h(){d(e,"class","progress svelte-1kcf8tg")},m(i,o){C(i,e,o),O(t,e,null),C(i,n,o),l&&l.m(i,o),C(i,a,o),s=!0},p(i,o){const u={};o&32&&(u.message=i[5]),t.$set(u),i[4]==="building"?l||(l=Bn(),l.c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},i(i){s||(I(t.$$.fragment,i),s=!0)},o(i){E(t.$$.fragment,i),s=!1},d(i){i&&(c(e),c(n),c(a)),R(t),l&&l.d(i)}}}function aa(r){let e,t="FAILED";return{c(){e=$("div"),e.textContent=t,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-5fqw5f"&&(e.textContent=t),this.h()},h(){d(e,"class","status failed svelte-1kcf8tg")},m(n,a){C(n,e,a)},p:Q,i:Q,o:Q,d(n){n&&c(e)}}}function sa(r){let e,t="CONFIRMED";return{c(){e=$("div"),e.textContent=t,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-vqtzt4"&&(e.textContent=t),this.h()},h(){d(e,"class","status svelte-1kcf8tg")},m(n,a){C(n,e,a)},p:Q,i:Q,o:Q,d(n){n&&c(e)}}}function Bn(r){let e,t="NOTE: You may need to confirm the transaction with your signer.";return{c(){e=$("div"),e.textContent=t,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-2towb7"&&(e.textContent=t),this.h()},h(){d(e,"class","note svelte-1kcf8tg")},m(n,a){C(n,e,a)},d(n){n&&c(e)}}}function la(r){let e;return{c(){e=F("Open Explorer")},l(t){e=U(t,"Open Explorer")},m(t,n){C(t,e,n)},d(t){t&&c(e)}}}function On(r){let e,t;return e=new te({props:{label:"close"}}),e.$on("click",r[7]),{c(){T(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,a){O(e,n,a),t=!0},p:Q,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function ia(r){let e,t,n,a,s;const l=[na,ta],i=[];function o(f,g){return f[2]?0:1}t=o(r),n=i[t]=l[t](r);let u=(r[3]||r[4]==="applied"||r[2])&&On(r);return{c(){e=$("div"),n.c(),a=M(),u&&u.c(),this.h()},l(f){e=b(f,"DIV",{class:!0});var g=_(e);n.l(g),a=S(g),u&&u.l(g),g.forEach(c),this.h()},h(){d(e,"class","transaction-confirmation svelte-1kcf8tg")},m(f,g){C(f,e,g),i[t].m(e,null),h(e,a),u&&u.m(e,null),s=!0},p(f,g){let w=t;t=o(f),t===w?i[t].p(f,g):(De(),E(i[w],1,1,()=>{i[w]=null}),Ce(),n=i[t],n?n.p(f,g):(n=i[t]=l[t](f),n.c()),I(n,1),n.m(e,a)),f[3]||f[4]==="applied"||f[2]?u?(u.p(f,g),g&28&&I(u,1)):(u=On(f),u.c(),I(u,1),u.m(e,null)):u&&(De(),E(u,1,1,()=>{u=null}),Ce())},i(f){s||(I(n),I(u),s=!0)},o(f){E(n),E(u),s=!1},d(f){f&&c(e),i[t].d(),u&&u.d()}}}function oa(r){let e,t,n;return t=new dt({props:{$$slots:{default:[ia]},$$scope:{ctx:r}}}),{c(){e=$("div"),T(t.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0});var s=_(e);B(t.$$.fragment,s),s.forEach(c),this.h()},h(){d(e,"class","center svelte-1kcf8tg")},m(a,s){C(a,e,s),O(t,e,null),n=!0},p(a,s){const l={};s&575&&(l.$$scope={dirty:s,ctx:a}),t.$set(l)},i(a){n||(I(t.$$.fragment,a),n=!0)},o(a){E(t.$$.fragment,a),n=!1},d(a){a&&c(e),R(t)}}}function ua(r){let e,t,n;function a(l){r[8](l)}let s={persistent:r[4]==="building"||r[4]==="confirming",$$slots:{default:[oa]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.open=r[0]),e=new Ot({props:s}),Ve.push(()=>ze(e,"open",a)),{c(){T(e.$$.fragment)},l(l){B(e.$$.fragment,l)},m(l,i){O(e,l,i),n=!0},p(l,[i]){const o={};i&16&&(o.persistent=l[4]==="building"||l[4]==="confirming"),i&575&&(o.$$scope={dirty:i,ctx:l}),!t&&i&1&&(t=!0,o.open=l[0],He(()=>t=!1)),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function ca(r){switch(r){case"building":return"Building transaction...";case"confirming":return"Waiting for confirmation...";case"applied":return"CONFIRMED";case"failed":return"FAILED"}}function fa(r,e,t){let n,{open:a}=e,{opHash:s}=e,{error:l}=e,{allowClose:i=!0}=e,{stage:o="building"}=e;const u=()=>window.open(`https://better-call.dev/${s}`,"_blank"),f=()=>t(0,a=!1);function g(w){a=w,t(0,a)}return r.$$set=w=>{"open"in w&&t(0,a=w.open),"opHash"in w&&t(1,s=w.opHash),"error"in w&&t(2,l=w.error),"allowClose"in w&&t(3,i=w.allowClose),"stage"in w&&t(4,o=w.stage)},r.$$.update=()=>{r.$$.dirty&16&&t(5,n=ca(o))},[a,s,l,i,o,n,u,f,g]}class da extends $e{constructor(e){super(),be(this,e,fa,ua,_e,{open:0,opHash:1,error:2,allowClose:3,stage:4})}}function ma(r){let e,t;return{c(){e=re("svg"),t=re("path"),this.h()},l(n){e=ae(n,"svg",{xmlns:!0,viewBox:!0});var a=_(e);t=ae(a,"path",{d:!0}),_(t).forEach(c),a.forEach(c),this.h()},h(){d(t,"d","M 16 3 C 8.832031 3 3 8.832031 3 16 C 3 23.167969 8.832031 29 16 29 C 23.167969 29 29 23.167969 29 16 L 27 16 C 27 22.085938 22.085938 27 16 27 C 9.914063 27 5 22.085938 5 16 C 5 9.914063 9.914063 5 16 5 C 19.875 5 23.261719 6.984375 25.21875 10 L 20 10 L 20 12 L 28 12 L 28 4 L 26 4 L 26 7.71875 C 23.617188 4.84375 20.019531 3 16 3 Z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 32 32")},m(n,a){C(n,e,a),h(e,t)},p:Q,i:Q,o:Q,d(n){n&&c(e)}}}class Hn extends $e{constructor(e){super(),be(this,e,null,ma,_e,{})}}function ha(r){let e,t,n="Set Delegate Parameters",a,s,l="Set delegate staking parameters - edge and limit.",i,o,u,f,g,w,D,V,L,k,m,v,p,P;function N(H){r[7](H)}let q={rules:r[4],label:"Staking Fee in %",hint:"Edge of baking over staking"};r[0].value.edge!==void 0&&(q.value=r[0].value.edge),o=new $t({props:q}),Ve.push(()=>ze(o,"value",N));function Y(H){r[8](H)}let X={rules:r[5],label:"Staking capacity - multiplier of your stake",hint:"Limit of staking over baking"};return r[0].value.limit!==void 0&&(X.value=r[0].value.limit),g=new $t({props:X}),Ve.push(()=>ze(g,"value",Y)),k=new te({props:{label:"Cancel"}}),k.$on("click",r[9]),p=new te({props:{label:"Set"}}),p.$on("click",r[10]),{c(){e=$("div"),t=$("h3"),t.textContent=n,a=M(),s=$("p"),s.textContent=l,i=M(),T(o.$$.fragment),f=M(),T(g.$$.fragment),D=M(),V=$("div"),L=$("div"),T(k.$$.fragment),m=M(),v=$("div"),T(p.$$.fragment),this.h()},l(H){e=b(H,"DIV",{class:!0});var j=_(e);t=b(j,"H3",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1hc5680"&&(t.textContent=n),a=S(j),s=b(j,"P",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-2weqq6"&&(s.textContent=l),i=S(j),B(o.$$.fragment,j),f=S(j),B(g.$$.fragment,j),D=S(j),V=b(j,"DIV",{class:!0});var y=_(V);L=b(y,"DIV",{class:!0});var A=_(L);B(k.$$.fragment,A),A.forEach(c),m=S(y),v=b(y,"DIV",{class:!0});var G=_(v);B(p.$$.fragment,G),G.forEach(c),y.forEach(c),j.forEach(c),this.h()},h(){d(t,"class","title svelte-1igllg9"),d(s,"class","message svelte-1igllg9"),d(L,"class","control-button svelte-1igllg9"),Nt(L,"grid-column","1"),d(v,"class","control-button svelte-1igllg9"),fe(v,"disabled",r[3]),Nt(v,"grid-column","3"),d(V,"class","controls padding-top svelte-1igllg9"),d(e,"class","prompt-wrap svelte-1igllg9")},m(H,j){C(H,e,j),h(e,t),h(e,a),h(e,s),h(e,i),O(o,e,null),h(e,f),O(g,e,null),h(e,D),h(e,V),h(V,L),O(k,L,null),h(V,m),h(V,v),O(p,v,null),P=!0},p(H,j){const y={};!u&&j&1&&(u=!0,y.value=H[0].value.edge,He(()=>u=!1)),o.$set(y);const A={};!w&&j&1&&(w=!0,A.value=H[0].value.limit,He(()=>w=!1)),g.$set(A),(!P||j&8)&&fe(v,"disabled",H[3])},i(H){P||(I(o.$$.fragment,H),I(g.$$.fragment,H),I(k.$$.fragment,H),I(p.$$.fragment,H),P=!0)},o(H){E(o.$$.fragment,H),E(g.$$.fragment,H),E(k.$$.fragment,H),E(p.$$.fragment,H),P=!1},d(H){H&&c(e),R(o),R(g),R(k),R(p)}}}function ga(r){let e,t;return e=new dt({props:{$$slots:{default:[ha]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,a){O(e,n,a),t=!0},p(n,a){const s={};a&16397&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function va(r){let e,t,n;function a(l){r[11](l)}let s={persistent:!0,$$slots:{default:[ga]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.open=r[1]),e=new Ot({props:s}),Ve.push(()=>ze(e,"open",a)),{c(){T(e.$$.fragment)},l(l){B(e.$$.fragment,l)},m(l,i){O(e,l,i),n=!0},p(l,[i]){const o={};i&16397&&(o.$$scope={dirty:i,ctx:l}),!t&&i&2&&(t=!0,o.open=l[1],He(()=>t=!1)),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function pa(r,e,t){let n;const a={value:{edge:100,limit:1}};let{state:s=a}=e,{isOpen:l=!1}=e,i={resolve:()=>o(),reject:()=>o()};function o(){t(1,l=!1)}const u=[m=>!!m||m==="0"||"Edge is required",m=>!isNaN(Number(m))||"Edge must be a number",m=>Number(m)>=0&&Number(m)<=100||"Edge must be between 0 and 100"],f=[m=>!!m||m==="0"||"Limit is required",m=>!isNaN(Number(m))||"Limit must be a number",m=>Number(m)>=0&&Number(m)<=5||"Limit must be between 0 and 5"];async function g(m){return t(1,l=!0),t(0,s={...a,...m}),new Promise((v,p)=>{t(2,i={resolve:P=>{o(),v(P)},reject:P=>{o(),p(P)}})})}function w(m){r.$$.not_equal(s.value.edge,m)&&(s.value.edge=m,t(0,s))}function D(m){r.$$.not_equal(s.value.limit,m)&&(s.value.limit=m,t(0,s))}const V=()=>i.reject(Wn),L=()=>i.resolve(s.value);function k(m){l=m,t(1,l)}return r.$$set=m=>{"state"in m&&t(0,s=m.state),"isOpen"in m&&t(1,l=m.isOpen)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=rn(s.value.limit,f)!==!0||rn(s.value.edge,u)!==!0)},[s,l,i,n,u,f,g,w,D,V,L,k]}class _a extends $e{constructor(e){super(),be(this,e,pa,va,_e,{state:0,isOpen:1,prompt:6})}get prompt(){return this.$$.ctx[6]}}function $a(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function ba(r){return $a(r,Date.now())}function he(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function jt(r,e){const t=he(r),n=he(e),a=t.getTime()-n.getTime();return a<0?-1:a>0?1:a}const St=43200,Rn=1440;function ka(r,e){const t=he(r),n=he(e),a=t.getFullYear()-n.getFullYear(),s=t.getMonth()-n.getMonth();return a*12+s}function wa(r){const e=he(r);return e.setHours(23,59,59,999),e}function ya(r){const e=he(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Da(r){const e=he(r);return+wa(e)==+ya(e)}function Ca(r,e){const t=he(r),n=he(e),a=jt(t,n),s=Math.abs(ka(t,n));let l;if(s<1)l=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-a*s);let i=jt(t,n)===-a;Da(he(r))&&s===1&&jt(r,n)===1&&(i=!1),l=a*(s-Number(i))}return l===0?0:l}function Ia(r){return e=>{const n=(r?Math[r]:Math.trunc)(e);return n===0?0:n}}function Ea(r,e){return+he(r)-+he(e)}function Pa(r,e,t){const n=Ea(r,e)/1e3;return Ia(t?.roundingMethod)(n)}const Va={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},La=(r,e,t)=>{let n;const a=Va[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function nn(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Ma={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sa={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ja={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Na={date:nn({formats:Ma,defaultWidth:"full"}),time:nn({formats:Sa,defaultWidth:"full"}),dateTime:nn({formats:ja,defaultWidth:"full"})},Ta={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ba=(r,e,t,n)=>Ta[r];function pt(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,i=t?.width?String(t.width):l;a=r.formattingValues[i]||r.formattingValues[l]}else{const l=r.defaultWidth,i=t?.width?String(t.width):r.defaultWidth;a=r.values[i]||r.values[l]}const s=r.argumentCallback?r.argumentCallback(e):e;return a[s]}}const Oa={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ra={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Aa={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qa={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wa={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fa={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ua=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Ha={ordinalNumber:Ua,era:pt({values:Oa,defaultWidth:"wide"}),quarter:pt({values:Ra,defaultWidth:"wide",argumentCallback:r=>r-1}),month:pt({values:Aa,defaultWidth:"wide"}),day:pt({values:qa,defaultWidth:"wide"}),dayPeriod:pt({values:Wa,defaultWidth:"wide",formattingValues:Fa,defaultFormattingWidth:"wide"})};function _t(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(a);if(!s)return null;const l=s[0],i=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],o=Array.isArray(i)?Ya(i,g=>g.test(l)):za(i,g=>g.test(l));let u;u=r.valueCallback?r.valueCallback(o):o,u=t.valueCallback?t.valueCallback(u):u;const f=e.slice(l.length);return{value:u,rest:f}}}function za(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function Ya(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Xa(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],s=e.match(r.parsePattern);if(!s)return null;let l=r.valueCallback?r.valueCallback(s[0]):s[0];l=t.valueCallback?t.valueCallback(l):l;const i=e.slice(a.length);return{value:l,rest:i}}}const Za=/^(\d+)(th|st|nd|rd)?/i,Qa=/\d+/i,Ka={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ja={any:[/^b/i,/^(a|c)/i]},Ga={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xa={any:[/1/i,/2/i,/3/i,/4/i]},es={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ts={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rs={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},as={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ss={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ls={ordinalNumber:Xa({matchPattern:Za,parsePattern:Qa,valueCallback:r=>parseInt(r,10)}),era:_t({matchPatterns:Ka,defaultMatchWidth:"wide",parsePatterns:Ja,defaultParseWidth:"any"}),quarter:_t({matchPatterns:Ga,defaultMatchWidth:"wide",parsePatterns:xa,defaultParseWidth:"any",valueCallback:r=>r+1}),month:_t({matchPatterns:es,defaultMatchWidth:"wide",parsePatterns:ts,defaultParseWidth:"any"}),day:_t({matchPatterns:ns,defaultMatchWidth:"wide",parsePatterns:rs,defaultParseWidth:"any"}),dayPeriod:_t({matchPatterns:as,defaultMatchWidth:"any",parsePatterns:ss,defaultParseWidth:"any"})},is={code:"en-US",formatDistance:La,formatLong:Na,formatRelative:Ba,localize:Ha,match:ls,options:{weekStartsOn:0,firstWeekContainsDate:1}};let os={};function us(){return os}function An(r){const e=he(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function cs(r,e,t){const n=us(),a=t?.locale??n.locale??is,s=2520,l=jt(r,e);if(isNaN(l))throw new RangeError("Invalid time value");const i=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:l});let o,u;l>0?(o=he(e),u=he(r)):(o=he(r),u=he(e));const f=Pa(u,o),g=(An(u)-An(o))/1e3,w=Math.round((f-g)/60);let D;if(w<2)return t?.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,i):f<10?a.formatDistance("lessThanXSeconds",10,i):f<20?a.formatDistance("lessThanXSeconds",20,i):f<40?a.formatDistance("halfAMinute",0,i):f<60?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",1,i):w===0?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",w,i);if(w<45)return a.formatDistance("xMinutes",w,i);if(w<90)return a.formatDistance("aboutXHours",1,i);if(w<Rn){const V=Math.round(w/60);return a.formatDistance("aboutXHours",V,i)}else{if(w<s)return a.formatDistance("xDays",1,i);if(w<St){const V=Math.round(w/Rn);return a.formatDistance("xDays",V,i)}else if(w<St*2)return D=Math.round(w/St),a.formatDistance("aboutXMonths",D,i)}if(D=Ca(u,o),D<12){const V=Math.round(w/St);return a.formatDistance("xMonths",V,i)}else{const V=D%12,L=Math.trunc(D/12);return V<3?a.formatDistance("aboutXYears",L,i):V<9?a.formatDistance("overXYears",L,i):a.formatDistance("almostXYears",L+1,i)}}function fs(r,e){return cs(r,ba(r),e)}function ds(r,e){if(!r)return new Date(0);const n=((r.voting_period.start_position+r.position+r.remaining??-1)-(e??r?.position??1))*Jn;return new Date(Date.now()+n)}function ms(r,e){return r?(r.voting_period.start_position+r.position+r.remaining??0)-(e??0):"N/A"}function hs(r){return(BigInt(r)/10n**6n).toLocaleString()}function gs(r){const{proposals:e,voters:t}=r,n=t.reduce((a,s)=>a+BigInt(s.voting_power),0n);return{...r,proposals:e.map(a=>{const s=Number(BigInt(a.upvotes)*100000n/n)/1e3;return{...a,upvotes:hs(a.upvotes),percentage:Math.round(s*100)/100,percentageString:`${s}%`,quorumReached:BigInt(a.upvotes)>n/100n*ht}}).sort((a,s)=>BigInt(s.upvotes)>BigInt(a.upvotes)?1:-1)}}function vs(r){const{voters:e}=r,t=e.reduce((s,l)=>s+BigInt(l.voting_power),0n),n=BigInt(r.summary.yay)+BigInt(r.summary.nay),a=n+BigInt(r.summary.pass);return{...r,summary:{...r.summary,yayPercentage:Math.round(Number(BigInt(r.summary.yay)*100000n/t)/10)/100,nayPercentage:Math.round(Number(BigInt(r.summary.nay)*100000n/t)/10)/100,passPercentage:Math.round(Number(BigInt(r.summary.pass)*100000n/t)/10)/100},quorumReached:a>t*BigInt(r.quorum)/10000n,quorumPercentage:Math.min(Number(BigInt(r.summary.yay+r.summary.nay+r.summary.pass)*100000n/t)/1e3,100),requiredQuorumPercentage:Number(r.quorum)/100,majorityReached:BigInt(r.summary.yay)>=n*Pn/100n,majorityPercentage:Math.round(Number(BigInt(r.summary.yay)*100000n/n)/10)/100,requiredMajorityPercentage:Number(Pn)}}function ps(r){let e,t,n="EXPLORER",a,s,l,i;return l=new dn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,a=M(),s=$("div"),T(l.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-323t9m"&&(t.textContent=n),a=S(u),s=b(u,"DIV",{class:!0});var f=_(s);B(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","label svelte-2vy38g"),d(s,"class","icon svelte-2vy38g"),d(e,"class","button-content svelte-2vy38g")},m(o,u){C(o,e,u),h(e,t),h(e,a),h(e,s),O(l,s,null),i=!0},p:Q,i(o){i||(I(l.$$.fragment,o),i=!0)},o(o){E(l.$$.fragment,o),i=!1},d(o){o&&c(e),R(l)}}}function _s(r){let e,t,n="AGORA",a,s,l,i;return l=new fn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,a=M(),s=$("div"),T(l.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1rhz9l5"&&(t.textContent=n),a=S(u),s=b(u,"DIV",{class:!0});var f=_(s);B(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","label svelte-2vy38g"),d(s,"class","icon svelte-2vy38g"),d(e,"class","button-content svelte-2vy38g")},m(o,u){C(o,e,u),h(e,t),h(e,a),h(e,s),O(l,s,null),i=!0},p:Q,i(o){i||(I(l.$$.fragment,o),i=!0)},o(o){E(l.$$.fragment,o),i=!1},d(o){o&&c(e),R(l)}}}function $s(r){let e,t,n,a,s,l=r[0].proposal+"",i,o,u,f,g,w,D,V;return u=new te({props:{$$slots:{default:[ps]},$$scope:{ctx:r}}}),u.$on("click",r[5]),g=new te({props:{$$slots:{default:[_s]},$$scope:{ctx:r}}}),g.$on("click",r[6]),{c(){e=$("div"),t=$("div"),n=$("div"),a=$("div"),s=$("button"),i=F(l),o=M(),T(u.$$.fragment),f=M(),T(g.$$.fragment),this.h()},l(L){e=b(L,"DIV",{class:!0});var k=_(e);t=b(k,"DIV",{class:!0});var m=_(t);n=b(m,"DIV",{class:!0});var v=_(n);a=b(v,"DIV",{class:!0});var p=_(a);s=b(p,"BUTTON",{class:!0});var P=_(s);i=U(P,l),P.forEach(c),p.forEach(c),o=S(v),B(u.$$.fragment,v),f=S(v),B(g.$$.fragment,v),v.forEach(c),m.forEach(c),k.forEach(c),this.h()},h(){d(s,"class","unstyle-button"),d(a,"class","title svelte-2vy38g"),d(n,"class","proposal svelte-2vy38g"),d(t,"class","period svelte-2vy38g"),d(e,"class","period-wrap svelte-2vy38g")},m(L,k){C(L,e,k),h(e,t),h(t,n),h(n,a),h(a,s),h(s,i),h(n,o),O(u,n,null),h(n,f),O(g,n,null),w=!0,D||(V=on(s,"click",r[4]),D=!0)},p(L,[k]){(!w||k&1)&&l!==(l=L[0].proposal+"")&&ee(i,l);const m={};k&128&&(m.$$scope={dirty:k,ctx:L}),u.$set(m);const v={};k&128&&(v.$$scope={dirty:k,ctx:L}),g.$set(v)},i(L){w||(I(u.$$.fragment,L),I(g.$$.fragment,L),w=!0)},o(L){E(u.$$.fragment,L),E(g.$$.fragment,L),w=!1},d(L){L&&c(e),R(u),R(g),D=!1,V()}}}function bs(r,e,t){let{periodIndex:n}=e,{period:a}=e;function s(){window.open(`${un}/${a.proposal}`,"_blank")}function l(){window.open(`${cn}/${a.proposal}/${n}`,"_blank")}const i=()=>mn(a.proposal),o=()=>s(),u=()=>l();return r.$$set=f=>{"periodIndex"in f&&t(3,n=f.periodIndex),"period"in f&&t(0,a=f.period)},[a,s,l,n,i,o,u]}class ks extends $e{constructor(e){super(),be(this,e,bs,$s,_e,{periodIndex:3,period:0})}}function ws(r){let e,t,n,a,s,l;return t=new dt({props:{$$slots:{default:[Ls]},$$scope:{ctx:r}}}),s=new dt({props:{$$slots:{default:[qs]},$$scope:{ctx:r}}}),{c(){e=$("div"),T(t.$$.fragment),n=M(),a=$("div"),T(s.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var o=_(e);B(t.$$.fragment,o),o.forEach(c),n=S(i),a=b(i,"DIV",{class:!0});var u=_(a);B(s.$$.fragment,u),u.forEach(c),this.h()},h(){d(e,"class","tools-wrap svelte-ln7895"),d(a,"class","governance svelte-ln7895")},m(i,o){C(i,e,o),O(t,e,null),C(i,n,o),C(i,a,o),O(s,a,null),l=!0},p(i,o){const u={};o[0]&4|o[1]&8&&(u.$$scope={dirty:o,ctx:i}),t.$set(u);const f={};o[0]&32294|o[1]&8&&(f.$$scope={dirty:o,ctx:i}),s.$set(f)},i(i){l||(I(t.$$.fragment,i),I(s.$$.fragment,i),l=!0)},o(i){E(t.$$.fragment,i),E(s.$$.fragment,i),l=!1},d(i){i&&(c(e),c(n),c(a)),R(t),R(s)}}}function ys(r){let e,t,n;return t=new Rt({props:{progress:"indeterminate",message:"Loading account..."}}),{c(){e=$("div"),T(t.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0});var s=_(e);B(t.$$.fragment,s),s.forEach(c),this.h()},h(){d(e,"class","loader svelte-ln7895")},m(a,s){C(a,e,s),O(t,e,null),n=!0},p:Q,i(a){n||(I(t.$$.fragment,a),n=!0)},o(a){E(t.$$.fragment,a),n=!1},d(a){a&&c(e),R(t)}}}function Ds(r){let e,t,n,a,s="Account Management",l,i,o,u,f,g,w,D;t=new te({props:{$$slots:{default:[Is]},$$scope:{ctx:r}}}),t.$on("click",r[16]);const V=[Vs,Ps,Es],L=[];function k(m,v){return m[2]&&m[2].governance.delegate&&m[2].governance.delegate?.pkh===m[2]?.account.id?0:m[2].governance.delegate?1:2}return i=k(r),o=L[i]=V[i](r),f=new mt({}),w=new te({props:{label:"Donate to TzC"}}),w.$on("click",r[20]),{c(){e=$("div"),T(t.$$.fragment),n=M(),a=$("h5"),a.textContent=s,l=M(),o.c(),u=M(),T(f.$$.fragment),g=M(),T(w.$$.fragment),this.h()},l(m){e=b(m,"DIV",{class:!0});var v=_(e);B(t.$$.fragment,v),v.forEach(c),n=S(m),a=b(m,"H5",{class:!0,"data-svelte-h":!0}),se(a)!=="svelte-1v3b9it"&&(a.textContent=s),l=S(m),o.l(m),u=S(m),B(f.$$.fragment,m),g=S(m),B(w.$$.fragment,m),this.h()},h(){d(e,"class","redo svelte-ln7895"),d(a,"class","tools-title svelte-ln7895")},m(m,v){C(m,e,v),O(t,e,null),C(m,n,v),C(m,a,v),C(m,l,v),L[i].m(m,v),C(m,u,v),O(f,m,v),C(m,g,v),O(w,m,v),D=!0},p(m,v){const p={};v[1]&8&&(p.$$scope={dirty:v,ctx:m}),t.$set(p);let P=i;i=k(m),i===P?L[i].p(m,v):(De(),E(L[P],1,1,()=>{L[P]=null}),Ce(),o=L[i],o?o.p(m,v):(o=L[i]=V[i](m),o.c()),I(o,1),o.m(u.parentNode,u))},i(m){D||(I(t.$$.fragment,m),I(o),I(f.$$.fragment,m),I(w.$$.fragment,m),D=!0)},o(m){E(t.$$.fragment,m),E(o),E(f.$$.fragment,m),E(w.$$.fragment,m),D=!1},d(m){m&&(c(e),c(n),c(a),c(l),c(u),c(g)),R(t),L[i].d(m),R(f,m),R(w,m)}}}function Cs(r){let e,t;return e=new Rt({props:{progress:"indeterminate",message:"Loading staking state..."}}),{c(){T(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,a){O(e,n,a),t=!0},p:Q,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function Is(r){let e,t,n;return t=new Hn({}),{c(){e=$("div"),T(t.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0});var s=_(e);B(t.$$.fragment,s),s.forEach(c),this.h()},h(){d(e,"class","icon svelte-ln7895")},m(a,s){C(a,e,s),O(t,e,null),n=!0},p:Q,i(a){n||(I(t.$$.fragment,a),n=!0)},o(a){E(t.$$.fragment,a),n=!1},d(a){a&&c(e),R(t)}}}function Es(r){let e,t="You are not delegating and not a delegate. You have to delegate to stake.",n,a,s;return a=new te({props:{label:"Delegate"}}),a.$on("click",r[17]),{c(){e=$("div"),e.textContent=t,n=M(),T(a.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-kq5dty"&&(e.textContent=t),n=S(l),B(a.$$.fragment,l),this.h()},h(){d(e,"class","note svelte-ln7895")},m(l,i){C(l,e,i),C(l,n,i),O(a,l,i),s=!0},p:Q,i(l){s||(I(a.$$.fragment,l),s=!0)},o(l){E(a.$$.fragment,l),s=!1},d(l){l&&(c(e),c(n)),R(a,l)}}}function Ps(r){let e,t,n,a,s=r[2].governance.delegate.pkh+"",l,i,o,u,f=Tt(r[2].governance.delegate.activeStakingParameters.edge_of_baking_over_staking_billionth)+"",g,w,D,V,L=Bt(r[2].governance.delegate.stakedBalance*BigInt(r[2].governance.delegate.activeStakingParameters.limit_of_staking_over_baking_millionth))+"",k,m,v,p,P,N,q,Y,X,H,j;return p=new te({props:{label:"Stake"}}),p.$on("click",r[18]),N=new te({props:{label:"Unstake"}}),N.$on("click",r[19]),Y=new te({props:{label:"Finalize Unstake"}}),Y.$on("click",r[21]),H=new te({props:{label:"Change Delegate"}}),H.$on("click",r[17]),{c(){e=$("div"),t=$("div"),n=F("Delegated to: "),a=$("b"),l=F(s),i=M(),o=$("div"),u=F("Staking Fee: "),g=F(f),w=M(),D=$("div"),V=F("Total Stake Capacity: "),k=F(L),m=M(),v=$("div"),T(p.$$.fragment),P=M(),T(N.$$.fragment),q=M(),T(Y.$$.fragment),X=M(),T(H.$$.fragment),this.h()},l(y){e=b(y,"DIV",{class:!0});var A=_(e);t=b(A,"DIV",{});var G=_(t);n=U(G,"Delegated to: "),a=b(G,"B",{});var K=_(a);l=U(K,s),K.forEach(c),G.forEach(c),i=S(A),o=b(A,"DIV",{});var ne=_(o);u=U(ne,"Staking Fee: "),g=U(ne,f),ne.forEach(c),w=S(A),D=b(A,"DIV",{});var ie=_(D);V=U(ie,"Total Stake Capacity: "),k=U(ie,L),ie.forEach(c),A.forEach(c),m=S(y),v=b(y,"DIV",{class:!0});var ge=_(v);B(p.$$.fragment,ge),P=S(ge),B(N.$$.fragment,ge),q=S(ge),B(Y.$$.fragment,ge),ge.forEach(c),X=S(y),B(H.$$.fragment,y),this.h()},h(){d(e,"class","delegate-info svelte-ln7895"),d(v,"class","tools svelte-ln7895")},m(y,A){C(y,e,A),h(e,t),h(t,n),h(t,a),h(a,l),h(e,i),h(e,o),h(o,u),h(o,g),h(e,w),h(e,D),h(D,V),h(D,k),C(y,m,A),C(y,v,A),O(p,v,null),h(v,P),O(N,v,null),h(v,q),O(Y,v,null),C(y,X,A),O(H,y,A),j=!0},p(y,A){(!j||A[0]&4)&&s!==(s=y[2].governance.delegate.pkh+"")&&ee(l,s),(!j||A[0]&4)&&f!==(f=Tt(y[2].governance.delegate.activeStakingParameters.edge_of_baking_over_staking_billionth)+"")&&ee(g,f),(!j||A[0]&4)&&L!==(L=Bt(y[2].governance.delegate.stakedBalance*BigInt(y[2].governance.delegate.activeStakingParameters.limit_of_staking_over_baking_millionth))+"")&&ee(k,L)},i(y){j||(I(p.$$.fragment,y),I(N.$$.fragment,y),I(Y.$$.fragment,y),I(H.$$.fragment,y),j=!0)},o(y){E(p.$$.fragment,y),E(N.$$.fragment,y),E(Y.$$.fragment,y),E(H.$$.fragment,y),j=!1},d(y){y&&(c(e),c(m),c(v),c(X)),R(p),R(N),R(Y),R(H,y)}}}function Vs(r){let e,t="<b>You are a baker.🧑‍🍳</b>",n,a,s,l,i=Tt(r[2].governance.delegate.activeStakingParameters.edge_of_baking_over_staking_billionth)+"",o,u,f,g,w=Bt(r[2].governance.delegate.stakedBalance*BigInt(r[2].governance.delegate.activeStakingParameters.limit_of_staking_over_baking_millionth))+"",D,V,L,k,m,v,p,P,N,q,Y,X,H;return L=new te({props:{label:"Set Delegate Parameters"}}),L.$on("click",r[22]),v=new te({props:{label:"Stake"}}),v.$on("click",r[18]),P=new te({props:{label:"Unstake"}}),P.$on("click",r[19]),q=new te({props:{label:"Finalize Unstake"}}),q.$on("click",r[21]),X=new te({props:{label:"Update Consensus Key"}}),X.$on("click",r[25]),{c(){e=$("div"),e.innerHTML=t,n=M(),a=$("div"),s=$("div"),l=F("Staking Fee: "),o=F(i),u=M(),f=$("div"),g=F("Total Stake Capacity: "),D=F(w),V=M(),T(L.$$.fragment),k=M(),m=$("div"),T(v.$$.fragment),p=M(),T(P.$$.fragment),N=M(),T(q.$$.fragment),Y=M(),T(X.$$.fragment),this.h()},l(j){e=b(j,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-3ovq6r"&&(e.innerHTML=t),n=S(j),a=b(j,"DIV",{class:!0});var y=_(a);s=b(y,"DIV",{});var A=_(s);l=U(A,"Staking Fee: "),o=U(A,i),A.forEach(c),u=S(y),f=b(y,"DIV",{});var G=_(f);g=U(G,"Total Stake Capacity: "),D=U(G,w),G.forEach(c),y.forEach(c),V=S(j),B(L.$$.fragment,j),k=S(j),m=b(j,"DIV",{class:!0});var K=_(m);B(v.$$.fragment,K),p=S(K),B(P.$$.fragment,K),N=S(K),B(q.$$.fragment,K),K.forEach(c),Y=S(j),B(X.$$.fragment,j),this.h()},h(){d(e,"class","center svelte-ln7895"),d(a,"class","delegate-info svelte-ln7895"),d(m,"class","tools svelte-ln7895")},m(j,y){C(j,e,y),C(j,n,y),C(j,a,y),h(a,s),h(s,l),h(s,o),h(a,u),h(a,f),h(f,g),h(f,D),C(j,V,y),O(L,j,y),C(j,k,y),C(j,m,y),O(v,m,null),h(m,p),O(P,m,null),h(m,N),O(q,m,null),C(j,Y,y),O(X,j,y),H=!0},p(j,y){(!H||y[0]&4)&&i!==(i=Tt(j[2].governance.delegate.activeStakingParameters.edge_of_baking_over_staking_billionth)+"")&&ee(o,i),(!H||y[0]&4)&&w!==(w=Bt(j[2].governance.delegate.stakedBalance*BigInt(j[2].governance.delegate.activeStakingParameters.limit_of_staking_over_baking_millionth))+"")&&ee(D,w)},i(j){H||(I(L.$$.fragment,j),I(v.$$.fragment,j),I(P.$$.fragment,j),I(q.$$.fragment,j),I(X.$$.fragment,j),H=!0)},o(j){E(L.$$.fragment,j),E(v.$$.fragment,j),E(P.$$.fragment,j),E(q.$$.fragment,j),E(X.$$.fragment,j),H=!1},d(j){j&&(c(e),c(n),c(a),c(V),c(k),c(m),c(Y)),R(L,j),R(v),R(P),R(q),R(X,j)}}}function Ls(r){let e,t,n,a;const s=[Cs,Ds],l=[];function i(o,u){return o[2].isLoadingDelegate?0:1}return t=i(r),n=l[t]=s[t](r),{c(){e=$("div"),n.c(),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);n.l(u),u.forEach(c),this.h()},h(){d(e,"class","staking svelte-ln7895")},m(o,u){C(o,e,u),l[t].m(e,null),a=!0},p(o,u){let f=t;t=i(o),t===f?l[t].p(o,u):(De(),E(l[f],1,1,()=>{l[f]=null}),Ce(),n=l[t],n?n.p(o,u):(n=l[t]=s[t](o),n.c()),I(n,1),n.m(e,null))},i(o){a||(I(n),a=!0)},o(o){E(n),a=!1},d(o){o&&c(e),l[t].d()}}}function Ms(r){let e,t,n,a,s;t=new te({props:{$$slots:{default:[js]},$$scope:{ctx:r}}}),t.$on("click",r[15]);let l=r[1]!==void 0&&qn(r);return{c(){e=$("div"),T(t.$$.fragment),n=M(),l&&l.c(),a=xe(),this.h()},l(i){e=b(i,"DIV",{class:!0});var o=_(e);B(t.$$.fragment,o),o.forEach(c),n=S(i),l&&l.l(i),a=xe(),this.h()},h(){d(e,"class","redo svelte-ln7895")},m(i,o){C(i,e,o),O(t,e,null),C(i,n,o),l&&l.m(i,o),C(i,a,o),s=!0},p(i,o){const u={};o[1]&8&&(u.$$scope={dirty:o,ctx:i}),t.$set(u),i[1]!==void 0?l?(l.p(i,o),o[0]&2&&I(l,1)):(l=qn(i),l.c(),I(l,1),l.m(a.parentNode,a)):l&&(De(),E(l,1,1,()=>{l=null}),Ce())},i(i){s||(I(t.$$.fragment,i),I(l),s=!0)},o(i){E(t.$$.fragment,i),E(l),s=!1},d(i){i&&(c(e),c(n),c(a)),R(t),l&&l.d(i)}}}function Ss(r){let e,t;return e=new Rt({props:{progress:"indeterminate",message:"Loading governance state..."}}),{c(){T(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,a){O(e,n,a),t=!0},p:Q,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function js(r){let e,t,n;return t=new Hn({}),{c(){e=$("div"),T(t.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0});var s=_(e);B(t.$$.fragment,s),s.forEach(c),this.h()},h(){d(e,"class","icon svelte-ln7895")},m(a,s){C(a,e,s),O(t,e,null),n=!0},p:Q,i(a){n||(I(t.$$.fragment,a),n=!0)},o(a){E(t.$$.fragment,a),n=!1},d(a){a&&c(e),R(t)}}}function qn(r){let e,t,n=r[1]?.info.voting_period.kind+"",a,s,l,i,o,u,f=r[1].info.voting_period.index+"",g,w,D,V,L,k,m,v,p,P;function N(y,A){return y[10]?Ts:Ns}let q=N(r),Y=q(r);L=new mt({});const X=[As,Rs,Os,Bs],H=[];function j(y,A){return y[14]!==void 0?0:y[13]!==void 0?1:y[12]!==void 0?2:3}return m=j(r),v=H[m]=X[m](r),{c(){e=$("div"),t=$("h5"),a=F(n),s=F(" Period"),l=M(),i=$("div"),o=$("div"),u=F("#"),g=F(f),w=M(),D=$("div"),Y.c(),V=M(),T(L.$$.fragment),k=M(),v.c(),p=xe(),this.h()},l(y){e=b(y,"DIV",{class:!0});var A=_(e);t=b(A,"H5",{class:!0});var G=_(t);a=U(G,n),s=U(G," Period"),G.forEach(c),A.forEach(c),l=S(y),i=b(y,"DIV",{class:!0});var K=_(i);o=b(K,"DIV",{class:!0});var ne=_(o);u=U(ne,"#"),g=U(ne,f),ne.forEach(c),w=S(K),D=b(K,"DIV",{class:!0});var ie=_(D);Y.l(ie),ie.forEach(c),K.forEach(c),V=S(y),B(L.$$.fragment,y),k=S(y),v.l(y),p=xe(),this.h()},h(){d(t,"class","svelte-ln7895"),d(e,"class","title svelte-ln7895"),d(o,"class","governance-period-number svelte-ln7895"),d(D,"class","governance-period-remaining svelte-ln7895"),d(i,"class","governance-period-header svelte-ln7895")},m(y,A){C(y,e,A),h(e,t),h(t,a),h(t,s),C(y,l,A),C(y,i,A),h(i,o),h(o,u),h(o,g),h(i,w),h(i,D),Y.m(D,null),C(y,V,A),O(L,y,A),C(y,k,A),H[m].m(y,A),C(y,p,A),P=!0},p(y,A){(!P||A[0]&2)&&n!==(n=y[1]?.info.voting_period.kind+"")&&ee(a,n),(!P||A[0]&2)&&f!==(f=y[1].info.voting_period.index+"")&&ee(g,f),q===(q=N(y))&&Y?Y.p(y,A):(Y.d(1),Y=q(y),Y&&(Y.c(),Y.m(D,null)));let G=m;m=j(y),m===G?H[m].p(y,A):(De(),E(H[G],1,1,()=>{H[G]=null}),Ce(),v=H[m],v?v.p(y,A):(v=H[m]=X[m](y),v.c()),I(v,1),v.m(p.parentNode,p))},i(y){P||(I(L.$$.fragment,y),I(v),P=!0)},o(y){E(L.$$.fragment,y),E(v),P=!1},d(y){y&&(c(e),c(l),c(i),c(V),c(k),c(p)),Y.d(),R(L,y),H[m].d(y)}}}function Ns(r){let e,t,n,a;return{c(){e=F("ends in "),t=F(r[9]),n=F(" blocks ~ "),a=F(r[11])},l(s){e=U(s,"ends in "),t=U(s,r[9]),n=U(s," blocks ~ "),a=U(s,r[11])},m(s,l){C(s,e,l),C(s,t,l),C(s,n,l),C(s,a,l)},p(s,l){l[0]&512&&ee(t,s[9]),l[0]&2048&&ee(a,s[11])},d(s){s&&(c(e),c(t),c(n),c(a))}}}function Ts(r){let e;return{c(){e=F("ended")},l(t){e=U(t,"ended")},m(t,n){C(t,e,n)},p:Q,d(t){t&&c(e)}}}function Bs(r){let e,t=r[1].info.voting_period.kind+"",n,a;return{c(){e=$("div"),n=F(t),a=F(" is not supported yet"),this.h()},l(s){e=b(s,"DIV",{class:!0});var l=_(e);n=U(l,t),a=U(l," is not supported yet"),l.forEach(c),this.h()},h(){d(e,"class","error-message svelte-ln7895")},m(s,l){C(s,e,l),h(e,n),h(e,a)},p(s,l){l[0]&2&&t!==(t=s[1].info.voting_period.kind+"")&&ee(n,t)},i:Q,o:Q,d(s){s&&c(e)}}}function Os(r){let e,t;return e=new ks({props:{period:r[12],periodIndex:r[1].info.voting_period.index}}),{c(){T(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,a){O(e,n,a),t=!0},p(n,a){const s={};a[0]&4096&&(s.period=n[12]),a[0]&2&&(s.periodIndex=n[1].info.voting_period.index),e.$set(s)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function Rs(r){let e,t;return e=new ea({props:{period:r[13],periodIndex:r[1].info.voting_period.index,pkh:r[2]?.account.id,canVote:r[5]}}),e.$on("vote",r[23]),e.$on("upvote",r[24]),{c(){T(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,a){O(e,n,a),t=!0},p(n,a){const s={};a[0]&8192&&(s.period=n[13]),a[0]&2&&(s.periodIndex=n[1].info.voting_period.index),a[0]&4&&(s.pkh=n[2]?.account.id),a[0]&32&&(s.canVote=n[5]),e.$set(s)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function As(r){let e,t;return e=new Rr({props:{period:r[14],periodIndex:r[1].info.voting_period.index,pkh:r[2]?.account.id,canVote:r[5]}}),e.$on("vote",r[23]),e.$on("upvote",r[24]),{c(){T(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,a){O(e,n,a),t=!0},p(n,a){const s={};a[0]&16384&&(s.period=n[14]),a[0]&2&&(s.periodIndex=n[1].info.voting_period.index),a[0]&4&&(s.pkh=n[2]?.account.id),a[0]&32&&(s.canVote=n[5]),e.$set(s)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function qs(r){let e,t,n,a;const s=[Ss,Ms],l=[];function i(o,u){return o[2]?.governance?.loadingPeriod?0:1}return t=i(r),n=l[t]=s[t](r),{c(){e=$("div"),n.c(),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);n.l(u),u.forEach(c),this.h()},h(){d(e,"class","governance-period svelte-ln7895")},m(o,u){C(o,e,u),l[t].m(e,null),a=!0},p(o,u){let f=t;t=i(o),t===f?l[t].p(o,u):(De(),E(l[f],1,1,()=>{l[f]=null}),Ce(),n=l[t],n?n.p(o,u):(n=l[t]=s[t](o),n.c()),I(n,1),n.m(e,null))},i(o){a||(I(n),a=!0)},o(o){E(n),a=!1},d(o){o&&c(e),l[t].d()}}}function Ws(r){let e,t,n,a,s,l,i,o,u,f,g;const w=[ys,ws],D=[];function V(p,P){return p[2]&&p[2].isInitializing?0:p[2]?1:-1}~(t=V(r))&&(n=D[t]=w[t](r));let L={};s=new mr({props:L}),r[29](s);let k={};i=new _a({props:k}),r[30](i);function m(p){r[31](p)}let v={opHash:r[8],error:r[6],allowClose:!1,stage:r[7]};return r[0]!==void 0&&(v.open=r[0]),u=new da({props:v}),Ve.push(()=>ze(u,"open",m)),{c(){e=$("div"),n&&n.c(),a=M(),T(s.$$.fragment),l=M(),T(i.$$.fragment),o=M(),T(u.$$.fragment),this.h()},l(p){e=b(p,"DIV",{class:!0});var P=_(e);n&&n.l(P),P.forEach(c),a=S(p),B(s.$$.fragment,p),l=S(p),B(i.$$.fragment,p),o=S(p),B(u.$$.fragment,p),this.h()},h(){d(e,"class","home-wrap svelte-ln7895")},m(p,P){C(p,e,P),~t&&D[t].m(e,null),C(p,a,P),O(s,p,P),C(p,l,P),O(i,p,P),C(p,o,P),O(u,p,P),g=!0},p(p,P){let N=t;t=V(p),t===N?~t&&D[t].p(p,P):(n&&(De(),E(D[N],1,1,()=>{D[N]=null}),Ce()),~t?(n=D[t],n?n.p(p,P):(n=D[t]=w[t](p),n.c()),I(n,1),n.m(e,null)):n=null);const q={};s.$set(q);const Y={};i.$set(Y);const X={};P[0]&256&&(X.opHash=p[8]),P[0]&64&&(X.error=p[6]),P[0]&128&&(X.stage=p[7]),!f&&P[0]&1&&(f=!0,X.open=p[0],He(()=>f=!1)),u.$set(X)},i(p){g||(I(n),I(s.$$.fragment,p),I(i.$$.fragment,p),I(u.$$.fragment,p),g=!0)},o(p){E(n),E(s.$$.fragment,p),E(i.$$.fragment,p),E(u.$$.fragment,p),g=!1},d(p){p&&(c(e),c(a),c(l),c(o)),~t&&D[t].d(),r[29](null),R(s,p),r[30](null),R(i,p),R(u,p)}}}function Fs(r,e,t){let n,a,s,l,i,o,u,f,g,w,D;Xn(r,de,W=>t(2,D=W));let V,L,k,m,v="building",p,P=!1;async function N(){await de.refreshGovernanceState()}async function q(){await de.refreshDelegate()}async function Y(W){try{t(0,P=!0),t(7,v="building");const Z=await W(),ve=await Z.send();t(8,p=ve.ophash),t(7,v="confirming"),await Z.confirmation(),t(7,v="applied")}catch(Z){t(7,v="failed"),t(6,m=Z.message)}}async function X(){const W=await V.prompt({title:"Delegate",message:"Enter the address you want to delegate to",value:"",rules:[Z=>!!Z&&Z!==""||"Address can not be empty",Z=>Gn(Z)===3||"Invalid address"],confirmText:"Delegate"});await Y(async()=>await de.delegate(W)),await de.refreshDelegate()}const H=[W=>!!W||"Amount can not be empty",W=>!isNaN(Number(W))||"Amount must be a number",W=>Number(W)>0||"Amount must be greater than 0",W=>BigInt(W)<(D?.account.balance??0)||"Amount must be less than your balance"];async function j(){const W=await V.prompt({title:"Stake",message:"Enter the amount you want to stake",value:"",rules:H,confirmText:"Stake"}),Z=BigInt(Number(W)*tn);await Y(async()=>await de.stake(Z)),await de.refreshDelegate()}async function y(){const W=await V.prompt({title:"Unstake",message:"Enter the amount you want to unstake",value:"",rules:H,confirmText:"Unstake"}),Z=BigInt(Number(W)*tn);await Y(async()=>await de.unstake(Z)),await de.refreshDelegate()}async function A(){const W=await V.prompt({title:"Donate",message:"Enter the amount you want to donate",value:"",rules:H,confirmText:"Donate"}),Z=BigInt(Number(W)*tn);await Y(async()=>await de.donate(Z)),await de.refreshDelegate()}async function G(){await Y(async()=>await de.finalizeUnstake()),await de.refreshDelegate()}async function K(){const{edge:W,limit:Z}=await L.prompt({value:{edge:(D?.governance.delegate?.activeStakingParameters.edge_of_baking_over_staking_billionth??0)/1e7,limit:(D?.governance.delegate?.activeStakingParameters.limit_of_staking_over_baking_millionth??0)/1e6}});await Y(async()=>await de.setDelegateParameters(W/100,Z)),await de.refreshDelegate()}async function ne(W){await Y(async()=>await de.vote(W.detail.proposal,W.detail.ballot,W.detail.period))}async function ie(W){await Y(async()=>await de.upvote(W.detail.proposals,W.detail.period))}async function ge(){const W=await V.prompt({title:"Update Consensus Key",message:"Enter the new consensus key",value:"",rules:[Z=>!!Z||"Key can not be empty",Z=>xn(Z)===3||"Invalid public key"],confirmText:"Update Consensus Key"});await Y(async()=>await de.updateConesusKey(W)),await de.refreshDelegate()}function ke(W){Ve[W?"unshift":"push"](()=>{V=W,t(3,V)})}function we(W){Ve[W?"unshift":"push"](()=>{L=W,t(4,L)})}function me(W){P=W,t(0,P)}return r.$$.update=()=>{r.$$.dirty[0]&4&&t(1,n=D?.governance?.period),r.$$.dirty[0]&2&&t(28,a=n?.voters??[]),r.$$.dirty[0]&268435460&&t(5,k=a.find(W=>W.pkh===D?.account.id)!==void 0),r.$$.dirty[0]&2&&t(14,s=n?.info.voting_period.kind==="proposal"?gs(n):void 0),r.$$.dirty[0]&2&&t(13,l=["exploration","promotion"].includes(n?.info.voting_period.kind??"unknown")?vs(n):void 0),r.$$.dirty[0]&2&&t(12,i=["testing","adoption"].includes(n?.info.voting_period.kind??"unknown")?n:void 0),r.$$.dirty[0]&2&&t(26,o=n?.block),r.$$.dirty[0]&67108866&&t(27,u=ds(n?.info,o)),r.$$.dirty[0]&134217728&&t(11,f=fs(u,{addSuffix:!0})),r.$$.dirty[0]&134217728&&t(10,g=u<new Date),r.$$.dirty[0]&67108866&&t(9,w=n?.info&&ms(n?.info,o)),r.$$.dirty[0]&1&&(P||(t(6,m=void 0),t(8,p=void 0),t(7,v="building")))},[P,n,D,V,L,k,m,v,p,w,g,f,i,l,s,N,q,X,j,y,A,G,K,ne,ie,ge,o,u,a,ke,we,me]}class Ys extends $e{constructor(e){super(),be(this,e,Fs,Ws,_e,{},null,[-1,-1])}}export{Ys as component};
