import{s as Oe,r as Ue,O as et,P as nn,e as $,a as P,c as b,b as w,g as V,f as c,p as v,q as Ut,Q as Me,i as D,h as d,R as rn,S as ln,T as an,t as B,d as T,j as ne,l as Re,U as cr,V as fn,N as ge,K as ye,L as De,n as J,W as dn,X as mn,k as fr}from"../chunks/scheduler.ByQKukMK.js";import{S as je,i as qe,f as tt,b as j,d as q,m as F,a as k,t as C,e as z,g as Ie,c as Ee}from"../chunks/index.d5sRgTX6.js";import{ad as zt,ae as Sn,af as Ht,ag as on,ah as ir,ai as yt,aj as ce,ak as Lt,al as dr,am as mr,an as vn,ao as _n,ap as gn,aq as Dt,ar as He,as as Ct,at as Yt,au as vr,av as _r,aw as Bn,ax as Mt,ay as St,az as we,aA as gr,aB as kt,aC as pr,aD as We}from"../chunks/Input.DeJJpTIN.js";function hr(r){var e=r==null?0:r.length;return e?r[e-1]:void 0}function $r(r){function e(i){var a=Uint8Array.from(i),o=r(a),s=a.length+4,u=new Uint8Array(s);return u.set(a,0),u.set(o.subarray(0,4),a.length),zt.encode(u)}function t(i){var a=i.slice(0,-4),o=i.slice(-4),s=r(a);if(!(o[0]^s[0]|o[1]^s[1]|o[2]^s[2]|o[3]^s[3]))return a}function n(i){var a=zt.decodeUnsafe(i);if(a!=null)return t(a)}function l(i){var a=zt.decode(i),o=t(a);if(o==null)throw new Error("Invalid checksum");return o}return{encode:e,decode:l,decodeUnsafe:n}}function br(r){return Sn(Sn(r))}const un=$r(br),kr=r=>r&1,wr=r=>({}),Tn=r=>({...r[0]}),yr=r=>r&1,Dr=r=>({}),Nn=r=>({...r[0]}),Cr=r=>r&1,Ir=r=>({}),An=r=>({...r[0]});function Er(r){let e,t=r[0].title+"",n;return{c(){e=$("h3"),n=B(t),this.h()},l(l){e=b(l,"H3",{class:!0});var i=w(e);n=T(i,t),i.forEach(c),this.h()},h(){v(e,"class","title svelte-4inrfn")},m(l,i){D(l,e,i),d(e,n)},p(l,i){i&1&&t!==(t=l[0].title+"")&&ne(n,t)},d(l){l&&c(e)}}}function Rn(r){let e,t=r[0].message+"",n;return{c(){e=$("p"),n=B(t),this.h()},l(l){e=b(l,"P",{class:!0});var i=w(e);n=T(i,t),i.forEach(c),this.h()},h(){v(e,"class","message svelte-4inrfn")},m(l,i){D(l,e,i),d(e,n)},p(l,i){i&1&&t!==(t=l[0].message+"")&&ne(n,t)},d(l){l&&c(e)}}}function Pr(r){let e,t=r[0].message&&Rn(r);return{c(){t&&t.c(),e=Re()},l(n){t&&t.l(n),e=Re()},m(n,l){t&&t.m(n,l),D(n,e,l)},p(n,l){n[0].message?t?t.p(n,l):(t=Rn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&c(e),t&&t.d(n)}}}function Vr(r){let e,t,n;const l=[r[0],{noLabel:!0}];function i(o){r[6](o)}let a={};for(let o=0;o<l.length;o+=1)a=cr(a,l[o]);return r[0].value!==void 0&&(a.value=r[0].value),e=new Lt({props:a}),Ue.push(()=>tt(e,"value",i)),{c(){j(e.$$.fragment)},l(o){q(e.$$.fragment,o)},m(o,s){F(e,o,s),n=!0},p(o,s){const u=s&1?dr(l,[mr(o[0]),l[1]]):{};!t&&s&1&&(t=!0,u.value=o[0].value,et(()=>t=!1)),e.$set(u)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function Lr(r){let e,t,n,l,i,a,o,s,u,f,_;const p=r[5].title,y=nn(p,r,r[10],An),I=y||Er(r),S=r[5].message,E=nn(S,r,r[10],Nn),m=E||Pr(r),g=r[5].value,h=nn(g,r,r[10],Tn),L=h||Vr(r);return o=new ce({props:{label:r[0].cancelText}}),o.$on("click",r[7]),f=new ce({props:{label:r[0].confirmText}}),f.$on("click",r[8]),{c(){e=$("div"),I&&I.c(),t=P(),m&&m.c(),n=P(),L&&L.c(),l=P(),i=$("div"),a=$("div"),j(o.$$.fragment),s=P(),u=$("div"),j(f.$$.fragment),this.h()},l(N){e=b(N,"DIV",{class:!0});var R=w(e);I&&I.l(R),t=V(R),m&&m.l(R),n=V(R),L&&L.l(R),l=V(R),i=b(R,"DIV",{class:!0});var M=w(i);a=b(M,"DIV",{class:!0});var O=w(a);q(o.$$.fragment,O),O.forEach(c),s=V(M),u=b(M,"DIV",{class:!0});var Y=w(u);q(f.$$.fragment,Y),Y.forEach(c),M.forEach(c),R.forEach(c),this.h()},h(){v(a,"class","control-button svelte-4inrfn"),Ut(a,"grid-column","1"),v(u,"class","control-button svelte-4inrfn"),Me(u,"disabled",r[3]),Ut(u,"grid-column","3"),v(i,"class","controls padding-top svelte-4inrfn"),v(e,"class","prompt-wrap svelte-4inrfn")},m(N,R){D(N,e,R),I&&I.m(e,null),d(e,t),m&&m.m(e,null),d(e,n),L&&L.m(e,null),d(e,l),d(e,i),d(i,a),F(o,a,null),d(i,s),d(i,u),F(f,u,null),_=!0},p(N,R){y?y.p&&(!_||R&1025)&&rn(y,p,N,N[10],Cr(R)||!_?ln(N[10]):an(p,N[10],R,Ir),An):I&&I.p&&(!_||R&1)&&I.p(N,_?R:-1),E?E.p&&(!_||R&1025)&&rn(E,S,N,N[10],yr(R)||!_?ln(N[10]):an(S,N[10],R,Dr),Nn):m&&m.p&&(!_||R&1)&&m.p(N,_?R:-1),h?h.p&&(!_||R&1025)&&rn(h,g,N,N[10],kr(R)||!_?ln(N[10]):an(g,N[10],R,wr),Tn):L&&L.p&&(!_||R&1)&&L.p(N,_?R:-1);const M={};R&1&&(M.label=N[0].cancelText),o.$set(M);const O={};R&1&&(O.label=N[0].confirmText),f.$set(O),(!_||R&8)&&Me(u,"disabled",N[3])},i(N){_||(k(I,N),k(m,N),k(L,N),k(o.$$.fragment,N),k(f.$$.fragment,N),_=!0)},o(N){C(I,N),C(m,N),C(L,N),C(o.$$.fragment,N),C(f.$$.fragment,N),_=!1},d(N){N&&c(e),I&&I.d(N),m&&m.d(N),L&&L.d(N),z(o),z(f)}}}function Mr(r){let e,t;return e=new yt({props:{$$slots:{default:[Lr]},$$scope:{ctx:r}}}),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p(n,l){const i={};l&1037&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Sr(r){let e,t,n;function l(a){r[9](a)}let i={persistent:!0,$$slots:{default:[Mr]},$$scope:{ctx:r}};return r[1]!==void 0&&(i.open=r[1]),e=new Ht({props:i}),Ue.push(()=>tt(e,"open",l)),{c(){j(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,o){F(e,a,o),n=!0},p(a,[o]){const s={};o&1037&&(s.$$scope={dirty:o,ctx:a}),!t&&o&2&&(t=!0,s.open=a[1],et(()=>t=!1)),e.$set(s)},i(a){n||(k(e.$$.fragment,a),n=!0)},o(a){C(e.$$.fragment,a),n=!1},d(a){z(e,a)}}}function Br(r,e,t){let n,{$$slots:l={},$$scope:i}=e;const a={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let{state:o=a}=e,{isOpen:s=!1}=e,u={resolve:()=>f(),reject:()=>f()};function f(){t(1,s=!1)}async function _(E){return t(1,s=!0),t(0,o={...a,...E}),new Promise((m,g)=>{t(2,u={resolve:h=>{f(),m(h)},reject:h=>{f(),g(h)}})})}function p(E){r.$$.not_equal(o.value,E)&&(o.value=E,t(0,o))}const y=()=>u.reject(ir),I=()=>u.resolve(o.value);function S(E){s=E,t(1,s)}return r.$$set=E=>{"state"in E&&t(0,o=E.state),"isOpen"in E&&t(1,s=E.isOpen),"$$scope"in E&&t(10,i=E.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=on(o.value,o.rules)!==!0)},[o,s,u,n,_,l,p,y,I,S,i]}class Tr extends je{constructor(e){super(),qe(this,e,Br,Sr,Oe,{state:0,isOpen:1,prompt:4})}get prompt(){return this.$$.ctx[4]}}const cn="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Nr=34,Ar=51,Rr=r=>{let e=0n;for(const t of r)e*=58n,e+=BigInt(cn.indexOf(t));return e},On=r=>{const e=[];for(;r>0n;)e.push(Number(r%256n)),r=r/256n;return e.reverse()},Or=r=>{const e=Nr,t=Rr(r),n=zt.decode(r).length+1,l=BigInt(8*(e-n+4)),i=Ar-r.length;let a=t*58n**BigInt(i);a=a>>l,a+=a===a>>l<<l?0n:1n;let o=(t+1n)*58n**BigInt(i)-(1n<<l)+1n;if(o=o>>l,o>=a){const s=Uint8Array.from(Array.from({...On(a),length:e}).map(p=>p===void 0?0:p)),u=un.encode(s);if(!u.startsWith(r)||u.length!==i+r.length)return null;const f=Uint8Array.from(Array.from({...On(a),length:e}).map(p=>p===void 0?255:p)),_=un.encode(f);return!_.startsWith(r)||_.length!==i+r.length?null:s}return null},jr=r=>{let e="Pt1";for(const n of r){if(cn.includes(n)){e+=n;continue}if(cn.includes(n.toLowerCase())){e+=n.toLowerCase();continue}}const t=Or(e);return t===null?[!1,"Can not generate protocol hash from provided message"]:[!0,un.encode(new Uint8Array(t))]};function qr(r){let e,t,n="New Proposal",l,i,a,o,s=`If you want to make a statement, write it in the <b>statement</b> field; this will generate
					a proposal hash for you.`,u,f,_=`To inject a proper protocol upgrade proposal, write the hash in the <b>new proposal</b>
					field and leave <b>statement</b> blank.`,p,y,I="*<b>Please refrain from using this feature for spamming.</b>",S,E,m="**Remember that you can propose or vote for a proposal only <b>10 times per period</b>.",g,h,L,N,R,M,O,Y,U,W,Z,ae,G,_e,be;function Se(x){r[6](x)}let ke={label:"Statement"};r[1]!==void 0&&(ke.value=r[1]),N=new Lt({props:ke}),Ue.push(()=>tt(N,"value",Se));function Pe(x){r[7](x)}let fe={label:"New Proposal",hint:"You can provide proposal hash",rules:r[5]};return r[2]!==void 0&&(fe.value=r[2]),O=new Lt({props:fe}),Ue.push(()=>tt(O,"value",Pe)),Z=new ce({props:{label:"Cancel"}}),Z.$on("click",r[8]),_e=new ce({props:{label:"Inject"}}),_e.$on("click",r[4]),{c(){e=$("div"),t=$("b"),t.textContent=n,l=P(),i=$("div"),a=P(),o=$("div"),o.innerHTML=s,u=P(),f=$("div"),f.innerHTML=_,p=P(),y=$("div"),y.innerHTML=I,S=P(),E=$("div"),E.innerHTML=m,g=P(),h=$("div"),L=P(),j(N.$$.fragment),M=P(),j(O.$$.fragment),U=P(),W=$("div"),j(Z.$$.fragment),ae=P(),G=$("div"),j(_e.$$.fragment),this.h()},l(x){e=b(x,"DIV",{class:!0});var ee=w(e);t=b(ee,"B",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1e5a96z"&&(t.textContent=n),l=V(ee),i=b(ee,"DIV",{}),w(i).forEach(c),a=V(ee),o=b(ee,"DIV",{class:!0,"data-svelte-h":!0}),ge(o)!=="svelte-1vty4mc"&&(o.innerHTML=s),u=V(ee),f=b(ee,"DIV",{class:!0,"data-svelte-h":!0}),ge(f)!=="svelte-acrdcg"&&(f.innerHTML=_),p=V(ee),y=b(ee,"DIV",{class:!0,"data-svelte-h":!0}),ge(y)!=="svelte-1c5d71w"&&(y.innerHTML=I),S=V(ee),E=b(ee,"DIV",{class:!0,"data-svelte-h":!0}),ge(E)!=="svelte-1e6wult"&&(E.innerHTML=m),g=V(ee),h=b(ee,"DIV",{}),w(h).forEach(c),L=V(ee),q(N.$$.fragment,ee),M=V(ee),q(O.$$.fragment,ee),U=V(ee),W=b(ee,"DIV",{class:!0});var me=w(W);q(Z.$$.fragment,me),ae=V(me),G=b(me,"DIV",{});var pe=w(G);q(_e.$$.fragment,pe),pe.forEach(c),me.forEach(c),ee.forEach(c),this.h()},h(){v(t,"class","title svelte-sbi72s"),v(o,"class","text"),v(f,"class","text"),v(y,"class","text"),v(E,"class","text"),Me(G,"disabled",!r[3]),v(W,"class","controls svelte-sbi72s"),v(e,"class","content svelte-sbi72s")},m(x,ee){D(x,e,ee),d(e,t),d(e,l),d(e,i),d(e,a),d(e,o),d(e,u),d(e,f),d(e,p),d(e,y),d(e,S),d(e,E),d(e,g),d(e,h),d(e,L),F(N,e,null),d(e,M),F(O,e,null),d(e,U),d(e,W),F(Z,W,null),d(W,ae),d(W,G),F(_e,G,null),be=!0},p(x,ee){const me={};!R&&ee&2&&(R=!0,me.value=x[1],et(()=>R=!1)),N.$set(me);const pe={};!Y&&ee&4&&(Y=!0,pe.value=x[2],et(()=>Y=!1)),O.$set(pe),(!be||ee&8)&&Me(G,"disabled",!x[3])},i(x){be||(k(N.$$.fragment,x),k(O.$$.fragment,x),k(Z.$$.fragment,x),k(_e.$$.fragment,x),be=!0)},o(x){C(N.$$.fragment,x),C(O.$$.fragment,x),C(Z.$$.fragment,x),C(_e.$$.fragment,x),be=!1},d(x){x&&c(e),z(N),z(O),z(Z),z(_e)}}}function Fr(r){let e,t,n;return t=new yt({props:{$$slots:{default:[qr]},$$scope:{ctx:r}}}),{c(){e=$("div"),j(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=w(e);q(t.$$.fragment,i),i.forEach(c),this.h()},h(){v(e,"class","center svelte-sbi72s")},m(l,i){D(l,e,i),F(t,e,null),n=!0},p(l,i){const a={};i&1039&&(a.$$scope={dirty:i,ctx:l}),t.$set(a)},i(l){n||(k(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),z(t)}}}function zr(r){let e,t;return e=new Ht({props:{open:r[0],persistent:!0,$$slots:{default:[Fr]},$$scope:{ctx:r}}}),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p(n,[l]){const i={};l&1&&(i.open=n[0]),l&1039&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Wr(r,e,t){let n,{open:l=!1}=e,i="",a="";const o=fn();async function s(){o("upvote",{proposals:[a],period:0}),t(0,l=!1)}const u=[y=>!!y||"proposal can not be empty",y=>y.startsWith("P")||"proposal has to start with P"];function f(y){i=y,t(1,i),t(0,l)}function _(y){a=y,t(2,a),t(0,l),t(1,i)}const p=()=>t(0,l=!1);return r.$$set=y=>{"open"in y&&t(0,l=y.open)},r.$$.update=()=>{if(r.$$.dirty&1&&l&&(t(1,i=""),t(2,a="")),r.$$.dirty&2&&i){const[y,I]=jr(i);y&&t(2,a=I)}r.$$.dirty&4&&t(3,n=u.every(y=>y(a)===!0))},[l,i,a,n,s,u,f,_,p]}class Ur extends je{constructor(e){super(),qe(this,e,Wr,zr,Oe,{open:0})}}function Hr(r){let e,t;return{c(){e=ye("svg"),t=ye("path"),this.h()},l(n){e=De(n,"svg",{xmlns:!0,viewBox:!0});var l=w(e);t=De(l,"path",{d:!0}),w(t).forEach(c),l.forEach(c),this.h()},h(){v(t,"d","M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(n,l){D(n,e,l),d(e,t)},p:J,i:J,o:J,d(n){n&&c(e)}}}class Xt extends je{constructor(e){super(),qe(this,e,null,Hr,Oe,{})}}function Yr(r){let e,t;return{c(){e=ye("svg"),t=ye("path"),this.h()},l(n){e=De(n,"svg",{xmlns:!0,viewBox:!0});var l=w(e);t=De(l,"path",{d:!0}),w(t).forEach(c),l.forEach(c),this.h()},h(){v(t,"d","M 3 6 L 3 25 L 13 25 C 14.101563 25 15 25.898438 15 27 L 17 27 C 17 25.898438 17.898438 25 19 25 L 29 25 L 29 6 L 19 6 C 17.808594 6 16.734375 6.527344 16 7.359375 C 15.265625 6.527344 14.191406 6 13 6 Z M 5 8 L 13 8 C 14.101563 8 15 8.898438 15 10 L 17 10 C 17 8.898438 17.898438 8 19 8 L 27 8 L 27 23 L 19 23 C 17.808594 23 16.734375 23.527344 16 24.359375 C 15.265625 23.527344 14.191406 23 13 23 L 5 23 Z M 15 12 L 15 14 L 17 14 L 17 12 Z M 15 16 L 15 18 L 17 18 L 17 16 Z M 15 20 L 15 22 L 17 22 L 17 20 Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(n,l){D(n,e,l),d(e,t)},p:J,i:J,o:J,d(n){n&&c(e)}}}class pn extends je{constructor(e){super(),qe(this,e,null,Yr,Oe,{})}}function Xr(r){let e,t;return{c(){e=ye("svg"),t=ye("path"),this.h()},l(n){e=De(n,"svg",{xmlns:!0,viewBox:!0});var l=w(e);t=De(l,"path",{d:!0}),w(t).forEach(c),l.forEach(c),this.h()},h(){v(t,"d","M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(n,l){D(n,e,l),d(e,t)},p:J,i:J,o:J,d(n){n&&c(e)}}}class hn extends je{constructor(e){super(),qe(this,e,null,Xr,Oe,{})}}function jn(r,e,t){const n=r.slice();return n[16]=e[t],n}function Zr(r){let e,t,n,l,i=Dt(r[2].proposals),a=[];for(let s=0;s<i.length;s+=1)a[s]=qn(jn(r,i,s));const o=s=>C(a[s],1,1,()=>{a[s]=null});return n=new He({}),{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=P(),t=$("div"),j(n.$$.fragment),this.h()},l(s){for(let f=0;f<a.length;f+=1)a[f].l(s);e=V(s),t=b(s,"DIV",{class:!0});var u=w(t);q(n.$$.fragment,u),u.forEach(c),this.h()},h(){v(t,"class","separator svelte-1yewxu8")},m(s,u){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(s,u);D(s,e,u),D(s,t,u),F(n,t,null),l=!0},p(s,u){if(u&119){i=Dt(s[2].proposals);let f;for(f=0;f<i.length;f+=1){const _=jn(s,i,f);a[f]?(a[f].p(_,u),k(a[f],1)):(a[f]=qn(_),a[f].c(),k(a[f],1),a[f].m(e.parentNode,e))}for(Ie(),f=i.length;f<a.length;f+=1)o(f);Ee()}},i(s){if(!l){for(let u=0;u<i.length;u+=1)k(a[u]);k(n.$$.fragment,s),l=!0}},o(s){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)C(a[u]);C(n.$$.fragment,s),l=!1},d(s){s&&(c(e),c(t)),dn(a,s),z(n)}}}function Qr(r){let e;return{c(){e=B("no proposals")},l(t){e=T(t,"no proposals")},m(t,n){D(t,e,n)},p:J,i:J,o:J,d(t){t&&c(e)}}}function Kr(r){let e,t,n;return{c(){e=B("(needs "),t=B(Ct),n=B("%)")},l(l){e=T(l,"(needs "),t=T(l,Ct),n=T(l,"%)")},m(l,i){D(l,e,i),D(l,t,i),D(l,n,i)},d(l){l&&(c(e),c(t),c(n))}}}function Jr(r){let e,t,n;return{c(){e=B("("),t=B(Ct),n=B("% reached)")},l(l){e=T(l,"("),t=T(l,Ct),n=T(l,"% reached)")},m(l,i){D(l,e,i),D(l,t,i),D(l,n,i)},d(l){l&&(c(e),c(t),c(n))}}}function Gr(r){let e,t,n="EXPLORER",l,i,a,o;return a=new hn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=P(),i=$("div"),j(a.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-323t9m"&&(t.textContent=n),l=V(u),i=b(u,"DIV",{class:!0});var f=w(i);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-1yewxu8"),v(i,"class","icon svelte-1yewxu8"),v(e,"class","button-content svelte-1yewxu8")},m(s,u){D(s,e,u),d(e,t),d(e,l),d(e,i),F(a,i,null),o=!0},p:J,i(s){o||(k(a.$$.fragment,s),o=!0)},o(s){C(a.$$.fragment,s),o=!1},d(s){s&&c(e),z(a)}}}function xr(r){let e,t,n="AGORA",l,i,a,o;return a=new pn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=P(),i=$("div"),j(a.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=V(u),i=b(u,"DIV",{class:!0});var f=w(i);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-1yewxu8"),v(i,"class","icon svelte-1yewxu8"),v(e,"class","button-content svelte-1yewxu8")},m(s,u){D(s,e,u),d(e,t),d(e,l),d(e,i),F(a,i,null),o=!0},p:J,i(s){o||(k(a.$$.fragment,s),o=!0)},o(s){C(a.$$.fragment,s),o=!1},d(s){s&&c(e),z(a)}}}function el(r){let e,t;function n(){return r[11](r[16])}return e=new ce({props:{$$slots:{default:[nl]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){j(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,i){F(e,l,i),t=!0},p(l,i){r=l;const a={};i&524288&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function tl(r){let e,t,n="UPVOTED",l,i,a,o;return a=new Xt({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=P(),i=$("div"),j(a.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-ctwuaa"&&(t.textContent=n),l=V(u),i=b(u,"DIV",{class:!0});var f=w(i);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-1yewxu8"),v(i,"class","icon svelte-1yewxu8"),v(e,"class","button-content upvoted svelte-1yewxu8")},m(s,u){D(s,e,u),d(e,t),d(e,l),d(e,i),F(a,i,null),o=!0},p:J,i(s){o||(k(a.$$.fragment,s),o=!0)},o(s){C(a.$$.fragment,s),o=!1},d(s){s&&c(e),z(a)}}}function nl(r){let e,t,n="UPVOTE",l,i,a,o;return a=new Xt({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=P(),i=$("div"),j(a.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-y6ircw"&&(t.textContent=n),l=V(u),i=b(u,"DIV",{class:!0});var f=w(i);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-1yewxu8"),v(i,"class","icon svelte-1yewxu8"),v(e,"class","button-content svelte-1yewxu8")},m(s,u){D(s,e,u),d(e,t),d(e,l),d(e,i),F(a,i,null),o=!0},p:J,i(s){o||(k(a.$$.fragment,s),o=!0)},o(s){C(a.$$.fragment,s),o=!1},d(s){s&&c(e),z(a)}}}function qn(r){let e,t,n,l=r[16].proposal+"",i,a,o,s=r[16].upvotesFormatted+"",u,f,_=r[16].percentage+"",p,y,I,S,E,m,g,h,L,N,R,M,O,Y,U,W,Z,ae,G,_e,be;function Se(){return r[8](r[16])}function ke(re,Q){return re[16].quorumReached?Jr:Kr}let Pe=ke(r),fe=Pe(r);function x(){return r[9](r[16])}R=new ce({props:{$$slots:{default:[Gr]},$$scope:{ctx:r}}}),R.$on("click",x);function ee(){return r[10](r[16])}O=new ce({props:{$$slots:{default:[xr]},$$scope:{ctx:r}}}),O.$on("click",ee);const me=[tl,el],pe=[];function he(re,Q){return Q&5&&(W=null),W==null&&(W=!!(re[0]&&re[2].votes&&re[2].votes[re[16].proposal].includes(re[0]))),W?0:1}return Z=he(r,-1),ae=pe[Z]=me[Z](r),{c(){e=$("div"),t=$("div"),n=$("button"),i=B(l),a=P(),o=$("div"),u=B(s),f=B(" upvotes ~ "),p=B(_),y=B(`%\r
						`),fe.c(),I=P(),S=$("div"),E=ye("svg"),m=ye("rect"),g=ye("rect"),L=ye("rect"),N=P(),j(R.$$.fragment),M=P(),j(O.$$.fragment),Y=P(),U=$("div"),ae.c(),this.h()},l(re){e=b(re,"DIV",{class:!0});var Q=w(e);t=b(Q,"DIV",{class:!0});var A=w(t);n=b(A,"BUTTON",{class:!0});var oe=w(n);i=T(oe,l),oe.forEach(c),A.forEach(c),a=V(Q),o=b(Q,"DIV",{class:!0});var se=w(o);u=T(se,s),f=T(se," upvotes ~ "),p=T(se,_),y=T(se,`%\r
						`),fe.l(se),se.forEach(c),I=V(Q),S=b(Q,"DIV",{class:!0});var Ce=w(S);E=De(Ce,"svg",{width:!0,height:!0});var X=w(E);m=De(X,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),w(m).forEach(c),g=De(X,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),w(g).forEach(c),L=De(X,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),w(L).forEach(c),X.forEach(c),Ce.forEach(c),N=V(Q),q(R.$$.fragment,Q),M=V(Q),q(O.$$.fragment,Q),Y=V(Q),U=b(Q,"DIV",{class:!0});var le=w(U);ae.l(le),le.forEach(c),Q.forEach(c),this.h()},h(){v(n,"class","unstyle-button"),v(t,"class","title svelte-1yewxu8"),v(o,"class","upvotes svelte-1yewxu8"),v(m,"width","100%"),v(m,"y","5"),v(m,"height","5"),v(m,"fill","#e6e6e6"),v(m,"rx","2"),v(m,"ry","2"),v(g,"width",h=r[16].percentageString),v(g,"y","5"),v(g,"height","5"),v(g,"fill","var(--progress-color)"),v(g,"rx","2"),v(g,"ry","2"),v(L,"width","3"),v(L,"height","15"),v(L,"x",`${Ct}%`),v(L,"fill","var(--progress-color)"),v(L,"rx","2"),v(L,"ry","2"),v(E,"width","100%"),v(E,"height","15"),v(S,"class","upvote-bar svelte-1yewxu8"),v(U,"class","upvote-btn svelte-1yewxu8"),Me(U,"disabled",!r[0]||!r[1]),v(e,"class","proposal svelte-1yewxu8"),Me(e,"success",r[16].quorumReached)},m(re,Q){D(re,e,Q),d(e,t),d(t,n),d(n,i),d(e,a),d(e,o),d(o,u),d(o,f),d(o,p),d(o,y),fe.m(o,null),d(e,I),d(e,S),d(S,E),d(E,m),d(E,g),d(E,L),d(e,N),F(R,e,null),d(e,M),F(O,e,null),d(e,Y),d(e,U),pe[Z].m(U,null),G=!0,_e||(be=mn(n,"click",Se),_e=!0)},p(re,Q){r=re,(!G||Q&4)&&l!==(l=r[16].proposal+"")&&ne(i,l),(!G||Q&4)&&s!==(s=r[16].upvotesFormatted+"")&&ne(u,s),(!G||Q&4)&&_!==(_=r[16].percentage+"")&&ne(p,_),Pe!==(Pe=ke(r))&&(fe.d(1),fe=Pe(r),fe&&(fe.c(),fe.m(o,null))),(!G||Q&4&&h!==(h=r[16].percentageString))&&v(g,"width",h);const A={};Q&524288&&(A.$$scope={dirty:Q,ctx:r}),R.$set(A);const oe={};Q&524288&&(oe.$$scope={dirty:Q,ctx:r}),O.$set(oe);let se=Z;Z=he(r,Q),Z===se?pe[Z].p(r,Q):(Ie(),C(pe[se],1,1,()=>{pe[se]=null}),Ee(),ae=pe[Z],ae?ae.p(r,Q):(ae=pe[Z]=me[Z](r),ae.c()),k(ae,1),ae.m(U,null)),(!G||Q&3)&&Me(U,"disabled",!r[0]||!r[1]),(!G||Q&4)&&Me(e,"success",r[16].quorumReached)},i(re){G||(k(R.$$.fragment,re),k(O.$$.fragment,re),k(ae),G=!0)},o(re){C(R.$$.fragment,re),C(O.$$.fragment,re),C(ae),G=!1},d(re){re&&c(e),fe.d(),z(R),z(O),pe[Z].d(),_e=!1,be()}}}function rl(r){let e,t,n,l,i,a,o,s,u,f,_;const p=[Qr,Zr],y=[];function I(m,g){return m[2].proposals.length===0?0:1}n=I(r),l=y[n]=p[n](r),o=new ce({props:{label:"New Proposal"}}),o.$on("click",r[12]);function S(m){r[13](m)}let E={};return r[3]!==void 0&&(E.open=r[3]),u=new Ur({props:E}),Ue.push(()=>tt(u,"open",S)),u.$on("upvote",r[14]),{c(){e=$("div"),t=$("div"),l.c(),i=P(),a=$("div"),j(o.$$.fragment),s=P(),j(u.$$.fragment),this.h()},l(m){e=b(m,"DIV",{class:!0});var g=w(e);t=b(g,"DIV",{class:!0});var h=w(t);l.l(h),h.forEach(c),i=V(g),a=b(g,"DIV",{class:!0});var L=w(a);q(o.$$.fragment,L),L.forEach(c),g.forEach(c),s=V(m),q(u.$$.fragment,m),this.h()},h(){v(t,"class","proposal-period svelte-1yewxu8"),v(a,"class","new-proposal svelte-1yewxu8"),Me(a,"disabled",!r[0]||!r[1]),v(e,"class","proposal-period-wrap svelte-1yewxu8")},m(m,g){D(m,e,g),d(e,t),y[n].m(t,null),d(e,i),d(e,a),F(o,a,null),D(m,s,g),F(u,m,g),_=!0},p(m,[g]){let h=n;n=I(m),n===h?y[n].p(m,g):(Ie(),C(y[h],1,1,()=>{y[h]=null}),Ee(),l=y[n],l?l.p(m,g):(l=y[n]=p[n](m),l.c()),k(l,1),l.m(t,null)),(!_||g&3)&&Me(a,"disabled",!m[0]||!m[1]);const L={};!f&&g&8&&(f=!0,L.open=m[3],et(()=>f=!1)),u.$set(L)},i(m){_||(k(l),k(o.$$.fragment,m),k(u.$$.fragment,m),_=!0)},o(m){C(l),C(o.$$.fragment,m),C(u.$$.fragment,m),_=!1},d(m){m&&(c(e),c(s)),y[n].d(),z(o),z(u,m)}}}function ll(r,e,t){let{pkh:n}=e,{canVote:l}=e,{periodIndex:i}=e,{period:a}=e,o=!1;const s=fn();function u(h){window.open(`${vn}/${h}`,"_blank")}function f(h){window.open(`${_n}/${h}/${i}`,"_blank")}async function _(h){s("upvote",{proposals:h,period:a.info.voting_period.index})}const p=h=>gn(h.proposal),y=h=>u(h.proposal),I=h=>f(h.proposal),S=h=>_([h.proposal]),E=()=>t(3,o=!0);function m(h){o=h,t(3,o)}const g=h=>_(h.detail.proposals);return r.$$set=h=>{"pkh"in h&&t(0,n=h.pkh),"canVote"in h&&t(1,l=h.canVote),"periodIndex"in h&&t(7,i=h.periodIndex),"period"in h&&t(2,a=h.period)},[n,l,a,o,u,f,_,i,p,y,I,S,E,m,g]}class al extends je{constructor(e){super(),qe(this,e,ll,rl,Oe,{pkh:0,canVote:1,periodIndex:7,period:2})}}function il(r){let e,t;return{c(){e=ye("svg"),t=ye("path"),this.h()},l(n){e=De(n,"svg",{xmlns:!0,viewBox:!0});var l=w(e);t=De(l,"path",{d:!0}),w(t).forEach(c),l.forEach(c),this.h()},h(){v(t,"d","M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(n,l){D(n,e,l),d(e,t)},p:J,i:J,o:J,d(n){n&&c(e)}}}class sr extends je{constructor(e){super(),qe(this,e,null,il,Oe,{})}}function sl(r){let e,t;return{c(){e=ye("svg"),t=ye("path"),this.h()},l(n){e=De(n,"svg",{xmlns:!0,viewBox:!0});var l=w(e);t=De(l,"path",{d:!0}),w(t).forEach(c),l.forEach(c),this.h()},h(){v(t,"d","M 16 6 C 14.9375 6 14.003906 6.5625 13.46875 7.40625 C 13.03125 7.15625 12.535156 7 12 7 C 10.355469 7 9 8.355469 9 10 L 9 13.65625 L 8.875 13.8125 C 8.800781 13.898438 8.730469 13.976563 8.65625 14.0625 C 8.144531 14.660156 7.65625 15.292969 7.21875 15.9375 L 6.90625 16.34375 C 6.480469 16.894531 6.21875 17.535156 6.09375 18.1875 C 6.078125 18.261719 6.042969 18.332031 6.03125 18.40625 C 5.855469 19.652344 6.226563 20.949219 7.09375 21.9375 L 9.46875 24.625 C 10.796875 26.136719 12.707031 27 14.71875 27 L 20 27 C 23.855469 27 27 23.855469 27 20 L 27 11 C 27 9.355469 25.644531 8 24 8 C 23.464844 8 22.96875 8.15625 22.53125 8.40625 C 21.996094 7.5625 21.0625 7 20 7 C 19.464844 7 18.96875 7.15625 18.53125 7.40625 C 17.996094 6.5625 17.0625 6 16 6 Z M 16 8 C 16.566406 8 17 8.433594 17 9 L 17 11.1875 C 16.683594 11.074219 16.351563 11 16 11 L 15 11 L 15 9 C 15 8.433594 15.433594 8 16 8 Z M 12 9 C 12.566406 9 13 9.433594 13 10 L 13 11 L 11.59375 11 L 11.3125 11.28125 C 11.3125 11.28125 11.085938 11.511719 11 11.59375 L 11 10 C 11 9.433594 11.433594 9 12 9 Z M 20 9 C 20.566406 9 21 9.433594 21 10 L 21 13 C 21 13.566406 20.566406 14 20 14 C 19.433594 14 19 13.566406 19 13 L 19 10 C 19 9.433594 19.433594 9 20 9 Z M 24 10 C 24.566406 10 25 10.433594 25 11 L 25 13 C 25 13.566406 24.566406 14 24 14 C 23.433594 14 23 13.566406 23 13 L 23 11 C 23 10.433594 23.433594 10 24 10 Z M 12.4375 13 L 16 13 C 16.5625 13 17 13.4375 17 14 C 17 14.5625 16.5625 15 16 15 L 12.875 15 L 12.59375 15.375 L 10.25 18.34375 L 11.8125 19.59375 L 13.65625 17.28125 C 14.015625 17.449219 14.425781 17.699219 14.875 18.0625 C 15.941406 18.929688 17 20.347656 17 23 L 19 23 C 19 20.132813 17.855469 18.15625 16.59375 16.9375 C 17.402344 16.769531 18.101563 16.273438 18.53125 15.59375 C 18.96875 15.84375 19.464844 16 20 16 C 20.765625 16 21.46875 15.699219 22 15.21875 C 22.53125 15.699219 23.234375 16 24 16 C 24.351563 16 24.683594 15.925781 25 15.8125 L 25 20 C 25 22.773438 22.773438 25 20 25 L 14.71875 25 C 13.28125 25 11.917969 24.394531 10.96875 23.3125 L 8.59375 20.59375 C 8.164063 20.105469 7.964844 19.507813 8 18.90625 C 8 18.898438 8.027344 18.832031 8.03125 18.8125 C 8.035156 18.78125 8.027344 18.75 8.03125 18.71875 C 8.078125 18.5 8.230469 18.078125 8.5625 17.53125 C 8.605469 17.460938 8.671875 17.382813 8.71875 17.3125 L 10.1875 15.375 C 11.292969 14.082031 12.214844 13.210938 12.4375 13 Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(n,l){D(n,e,l),d(e,t)},p:J,i:J,o:J,d(n){n&&c(e)}}}class or extends je{constructor(e){super(),qe(this,e,null,sl,Oe,{})}}function Be(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function ol(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}const Ft=43200,Fn=1440;let ul={};function cl(){return ul}function zn(r){const e=Be(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Wt(r,e){const t=Be(r),n=Be(e),l=t.getTime()-n.getTime();return l<0?-1:l>0?1:l}function fl(r){return ol(r,Date.now())}function dl(r,e){const t=Be(r),n=Be(e),l=t.getFullYear()-n.getFullYear(),i=t.getMonth()-n.getMonth();return l*12+i}function ml(r){return e=>{const n=(r?Math[r]:Math.trunc)(e);return n===0?0:n}}function vl(r,e){return+Be(r)-+Be(e)}function _l(r){const e=Be(r);return e.setHours(23,59,59,999),e}function gl(r){const e=Be(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function pl(r){const e=Be(r);return+_l(e)==+gl(e)}function hl(r,e){const t=Be(r),n=Be(e),l=Wt(t,n),i=Math.abs(dl(t,n));let a;if(i<1)a=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-l*i);let o=Wt(t,n)===-l;pl(Be(r))&&i===1&&Wt(r,n)===1&&(o=!1),a=l*(i-Number(o))}return a===0?0:a}function $l(r,e,t){const n=vl(r,e)/1e3;return ml(t?.roundingMethod)(n)}const bl={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kl=(r,e,t)=>{let n;const l=bl[r];return typeof l=="string"?n=l:e===1?n=l.one:n=l.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function sn(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const wl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yl={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dl={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cl={date:sn({formats:wl,defaultWidth:"full"}),time:sn({formats:yl,defaultWidth:"full"}),dateTime:sn({formats:Dl,defaultWidth:"full"})},Il={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},El=(r,e,t,n)=>Il[r];function Pt(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let l;if(n==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,o=t?.width?String(t.width):a;l=r.formattingValues[o]||r.formattingValues[a]}else{const a=r.defaultWidth,o=t?.width?String(t.width):r.defaultWidth;l=r.values[o]||r.values[a]}const i=r.argumentCallback?r.argumentCallback(e):e;return l[i]}}const Pl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vl={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ll={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ml={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tl=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Nl={ordinalNumber:Tl,era:Pt({values:Pl,defaultWidth:"wide"}),quarter:Pt({values:Vl,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Pt({values:Ll,defaultWidth:"wide"}),day:Pt({values:Ml,defaultWidth:"wide"}),dayPeriod:Pt({values:Sl,defaultWidth:"wide",formattingValues:Bl,defaultFormattingWidth:"wide"})};function Vt(r){return(e,t={})=>{const n=t.width,l=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],i=e.match(l);if(!i)return null;const a=i[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],s=Array.isArray(o)?Rl(o,_=>_.test(a)):Al(o,_=>_.test(a));let u;u=r.valueCallback?r.valueCallback(s):s,u=t.valueCallback?t.valueCallback(u):u;const f=e.slice(a.length);return{value:u,rest:f}}}function Al(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function Rl(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Ol(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const l=n[0],i=e.match(r.parsePattern);if(!i)return null;let a=r.valueCallback?r.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(l.length);return{value:a,rest:o}}}const jl=/^(\d+)(th|st|nd|rd)?/i,ql=/\d+/i,Fl={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zl={any:[/^b/i,/^(a|c)/i]},Wl={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ul={any:[/1/i,/2/i,/3/i,/4/i]},Hl={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yl={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xl={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zl={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ql={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kl={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jl={ordinalNumber:Ol({matchPattern:jl,parsePattern:ql,valueCallback:r=>parseInt(r,10)}),era:Vt({matchPatterns:Fl,defaultMatchWidth:"wide",parsePatterns:zl,defaultParseWidth:"any"}),quarter:Vt({matchPatterns:Wl,defaultMatchWidth:"wide",parsePatterns:Ul,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Vt({matchPatterns:Hl,defaultMatchWidth:"wide",parsePatterns:Yl,defaultParseWidth:"any"}),day:Vt({matchPatterns:Xl,defaultMatchWidth:"wide",parsePatterns:Zl,defaultParseWidth:"any"}),dayPeriod:Vt({matchPatterns:Ql,defaultMatchWidth:"any",parsePatterns:Kl,defaultParseWidth:"any"})},Gl={code:"en-US",formatDistance:kl,formatLong:Cl,formatRelative:El,localize:Nl,match:Jl,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xl(r,e,t){const n=cl(),l=t?.locale??n.locale??Gl,i=2520,a=Wt(r,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:a});let s,u;a>0?(s=Be(e),u=Be(r)):(s=Be(r),u=Be(e));const f=$l(u,s),_=(zn(u)-zn(s))/1e3,p=Math.round((f-_)/60);let y;if(p<2)return t?.includeSeconds?f<5?l.formatDistance("lessThanXSeconds",5,o):f<10?l.formatDistance("lessThanXSeconds",10,o):f<20?l.formatDistance("lessThanXSeconds",20,o):f<40?l.formatDistance("halfAMinute",0,o):f<60?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",1,o):p===0?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",p,o);if(p<45)return l.formatDistance("xMinutes",p,o);if(p<90)return l.formatDistance("aboutXHours",1,o);if(p<Fn){const I=Math.round(p/60);return l.formatDistance("aboutXHours",I,o)}else{if(p<i)return l.formatDistance("xDays",1,o);if(p<Ft){const I=Math.round(p/Fn);return l.formatDistance("xDays",I,o)}else if(p<Ft*2)return y=Math.round(p/Ft),l.formatDistance("aboutXMonths",y,o)}if(y=hl(u,s),y<12){const I=Math.round(p/Ft);return l.formatDistance("xMonths",I,o)}else{const I=y%12,S=Math.trunc(y/12);return I<3?l.formatDistance("aboutXYears",S,o):I<9?l.formatDistance("overXYears",S,o):l.formatDistance("almostXYears",S+1,o)}}function ea(r,e){return xl(r,fl(r),e)}function wt(r){return typeof r=="bigint"&&(r=r.toString()),!r||typeof r!="string"?"N/A":r==="0"?"0 ꜩ":`${r.substring(0,r.length-6)}.${r.substring(r.length-6)} ꜩ`}function ta(r){let e,t=r[2].requiredQuorumPercentage+"",n,l;return{c(){e=B("(needs "),n=B(t),l=B("%)")},l(i){e=T(i,"(needs "),n=T(i,t),l=T(i,"%)")},m(i,a){D(i,e,a),D(i,n,a),D(i,l,a)},p(i,a){a&4&&t!==(t=i[2].requiredQuorumPercentage+"")&&ne(n,t)},d(i){i&&(c(e),c(n),c(l))}}}function na(r){let e,t=r[2].requiredQuorumPercentage+"",n,l;return{c(){e=B("("),n=B(t),l=B("% reached)")},l(i){e=T(i,"("),n=T(i,t),l=T(i,"% reached)")},m(i,a){D(i,e,a),D(i,n,a),D(i,l,a)},p(i,a){a&4&&t!==(t=i[2].requiredQuorumPercentage+"")&&ne(n,t)},d(i){i&&(c(e),c(n),c(l))}}}function ra(r){let e,t=r[2].requiredMajorityPercentage+"",n,l;return{c(){e=B("(required "),n=B(t),l=B("%)")},l(i){e=T(i,"(required "),n=T(i,t),l=T(i,"%)")},m(i,a){D(i,e,a),D(i,n,a),D(i,l,a)},p(i,a){a&4&&t!==(t=i[2].requiredMajorityPercentage+"")&&ne(n,t)},d(i){i&&(c(e),c(n),c(l))}}}function la(r){let e,t=r[2].requiredMajorityPercentage+"",n,l;return{c(){e=B("("),n=B(t),l=B("% reached)")},l(i){e=T(i,"("),n=T(i,t),l=T(i,"% reached)")},m(i,a){D(i,e,a),D(i,n,a),D(i,l,a)},p(i,a){a&4&&t!==(t=i[2].requiredMajorityPercentage+"")&&ne(n,t)},d(i){i&&(c(e),c(n),c(l))}}}function aa(r){let e,t,n="EXPLORER",l,i,a,o;return a=new hn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=P(),i=$("div"),j(a.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-323t9m"&&(t.textContent=n),l=V(u),i=b(u,"DIV",{class:!0});var f=w(i);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-188utik"),v(i,"class","icon svelte-188utik"),v(e,"class","button-content svelte-188utik")},m(s,u){D(s,e,u),d(e,t),d(e,l),d(e,i),F(a,i,null),o=!0},p:J,i(s){o||(k(a.$$.fragment,s),o=!0)},o(s){C(a.$$.fragment,s),o=!1},d(s){s&&c(e),z(a)}}}function ia(r){let e,t,n="AGORA",l,i,a,o;return a=new pn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=P(),i=$("div"),j(a.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=V(u),i=b(u,"DIV",{class:!0});var f=w(i);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-188utik"),v(i,"class","icon svelte-188utik"),v(e,"class","button-content svelte-188utik")},m(s,u){D(s,e,u),d(e,t),d(e,l),d(e,i),F(a,i,null),o=!0},p:J,i(s){o||(k(a.$$.fragment,s),o=!0)},o(s){C(a.$$.fragment,s),o=!1},d(s){s&&c(e),z(a)}}}function sa(r){let e,t,n,l,i,a,o,s,u;return t=new ce({props:{$$slots:{default:[ua]},$$scope:{ctx:r}}}),t.$on("click",r[11]),i=new ce({props:{$$slots:{default:[ca]},$$scope:{ctx:r}}}),i.$on("click",r[12]),s=new ce({props:{$$slots:{default:[fa]},$$scope:{ctx:r}}}),s.$on("click",r[13]),{c(){e=$("div"),j(t.$$.fragment),n=P(),l=$("div"),j(i.$$.fragment),a=P(),o=$("div"),j(s.$$.fragment),this.h()},l(f){e=b(f,"DIV",{class:!0});var _=w(e);q(t.$$.fragment,_),_.forEach(c),n=V(f),l=b(f,"DIV",{class:!0});var p=w(l);q(i.$$.fragment,p),p.forEach(c),a=V(f),o=b(f,"DIV",{class:!0});var y=w(o);q(s.$$.fragment,y),y.forEach(c),this.h()},h(){v(e,"class","nay svelte-188utik"),v(l,"class","pass svelte-188utik"),v(o,"class","yay svelte-188utik")},m(f,_){D(f,e,_),F(t,e,null),D(f,n,_),D(f,l,_),F(i,l,null),D(f,a,_),D(f,o,_),F(s,o,null),u=!0},p(f,_){const p={};_&32768&&(p.$$scope={dirty:_,ctx:f}),t.$set(p);const y={};_&32768&&(y.$$scope={dirty:_,ctx:f}),i.$set(y);const I={};_&32768&&(I.$$scope={dirty:_,ctx:f}),s.$set(I)},i(f){u||(k(t.$$.fragment,f),k(i.$$.fragment,f),k(s.$$.fragment,f),u=!0)},o(f){C(t.$$.fragment,f),C(i.$$.fragment,f),C(s.$$.fragment,f),u=!1},d(f){f&&(c(e),c(n),c(l),c(a),c(o)),z(t),z(i),z(s)}}}function oa(r){let e,t,n,l=r[3].ballot+"",i;return{c(){e=$("div"),t=B("You voted: "),n=$("div"),i=B(l),this.h()},l(a){e=b(a,"DIV",{class:!0});var o=w(e);t=T(o,"You voted: "),n=b(o,"DIV",{class:!0});var s=w(n);i=T(s,l),s.forEach(c),o.forEach(c),this.h()},h(){v(n,"class","ballot svelte-188utik"),v(e,"class","existing-vote svelte-188utik")},m(a,o){D(a,e,o),d(e,t),d(e,n),d(n,i)},p(a,o){o&8&&l!==(l=a[3].ballot+"")&&ne(i,l)},i:J,o:J,d(a){a&&c(e)}}}function ua(r){let e,t,n="NAY",l,i,a,o;return a=new sr({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=P(),i=$("div"),j(a.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1i29d8x"&&(t.textContent=n),l=V(u),i=b(u,"DIV",{class:!0});var f=w(i);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-188utik"),v(i,"class","icon svelte-188utik"),v(e,"class","button-content svelte-188utik")},m(s,u){D(s,e,u),d(e,t),d(e,l),d(e,i),F(a,i,null),o=!0},p:J,i(s){o||(k(a.$$.fragment,s),o=!0)},o(s){C(a.$$.fragment,s),o=!1},d(s){s&&c(e),z(a)}}}function ca(r){let e,t,n="PASS",l,i,a,o;return a=new or({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=P(),i=$("div"),j(a.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-vqo3zw"&&(t.textContent=n),l=V(u),i=b(u,"DIV",{class:!0});var f=w(i);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-188utik"),v(i,"class","icon svelte-188utik"),v(e,"class","button-content svelte-188utik")},m(s,u){D(s,e,u),d(e,t),d(e,l),d(e,i),F(a,i,null),o=!0},p:J,i(s){o||(k(a.$$.fragment,s),o=!0)},o(s){C(a.$$.fragment,s),o=!1},d(s){s&&c(e),z(a)}}}function fa(r){let e,t,n="YAY",l,i,a,o;return a=new Xt({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=P(),i=$("div"),j(a.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-10jairo"&&(t.textContent=n),l=V(u),i=b(u,"DIV",{class:!0});var f=w(i);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-188utik"),v(i,"class","icon svelte-188utik"),v(e,"class","button-content svelte-188utik")},m(s,u){D(s,e,u),d(e,t),d(e,l),d(e,i),F(a,i,null),o=!0},p:J,i(s){o||(k(a.$$.fragment,s),o=!0)},o(s){C(a.$$.fragment,s),o=!1},d(s){s&&c(e),z(a)}}}function da(r){let e,t,n,l,i,a=r[2].proposal+"",o,s,u,f,_=wt(r[2].summary.nay)+"",p,y,I=r[2].summary.nayPercentage+"",S,E,m,g,h,L,N=wt(r[2].summary.pass)+"",R,M,O=r[2].summary.passPercentage+"",Y,U,W,Z,ae,G,_e=wt(r[2].summary.yay)+"",be,Se,ke=r[2].summary.yayPercentage+"",Pe,fe,x,ee,me,pe,he,re,Q,A,oe="Quorum",se,Ce,X=r[2].quorumPercentage+"",le,ie,$e,ue,de,H,te,Te,st,Ae,ut,Ne,Ye,Je,Ge,ct,$n="Supermajority",Zt,nt,It=r[2].majorityPercentage+"",Bt,Qt,Kt,rt,xe,Xe,Tt,Ze,Nt,Jt,lt,Gt,at,xt,dt,ft,en,it,Fe,ze,Ve,tn,bn;g=new sr({}),Z=new or({}),ee=new Xt({}),he=new He({});function kn(K,ve){return K[2].quorumReached?na:ta}let At=kn(r),Qe=At(r);function wn(K,ve){return K[2].majorityReached?la:ra}let Rt=wn(r),Ke=Rt(r);lt=new ce({props:{$$slots:{default:[aa]},$$scope:{ctx:r}}}),lt.$on("click",r[9]),at=new ce({props:{$$slots:{default:[ia]},$$scope:{ctx:r}}}),at.$on("click",r[10]),ft=new He({});const yn=[oa,sa],ot=[];function Dn(K,ve){return K[3]?0:1}return Fe=Dn(r),ze=ot[Fe]=yn[Fe](r),{c(){e=$("div"),t=$("div"),n=$("div"),l=$("div"),i=$("button"),o=B(a),s=P(),u=$("div"),f=$("div"),p=B(_),y=B(" ("),S=B(I),E=B(` %)\r
					`),m=$("div"),j(g.$$.fragment),h=P(),L=$("div"),R=B(N),M=B(" ("),Y=B(O),U=B(` %)\r
					`),W=$("div"),j(Z.$$.fragment),ae=P(),G=$("div"),be=B(_e),Se=B(" ("),Pe=B(ke),fe=B(` %)\r
					`),x=$("div"),j(ee.$$.fragment),me=P(),pe=$("div"),j(he.$$.fragment),re=P(),Q=$("div"),A=$("div"),A.textContent=oe,se=P(),Ce=$("div"),le=B(X),ie=B(` %\r
					`),Qe.c(),$e=P(),ue=ye("svg"),de=ye("rect"),H=ye("rect"),Te=ye("rect"),Ae=ye("rect"),Ne=ye("rect"),Je=P(),Ge=$("div"),ct=$("div"),ct.textContent=$n,Zt=P(),nt=$("div"),Bt=B(It),Qt=P(),Ke.c(),Kt=P(),rt=ye("svg"),xe=ye("rect"),Xe=ye("rect"),Ze=ye("rect"),Jt=P(),j(lt.$$.fragment),Gt=P(),j(at.$$.fragment),xt=P(),dt=$("div"),j(ft.$$.fragment),en=P(),it=$("div"),ze.c(),this.h()},l(K){e=b(K,"DIV",{class:!0});var ve=w(e);t=b(ve,"DIV",{class:!0});var Et=w(t);n=b(Et,"DIV",{class:!0});var Le=w(n);l=b(Le,"DIV",{class:!0});var mt=w(l);i=b(mt,"BUTTON",{class:!0});var Cn=w(i);o=T(Cn,a),Cn.forEach(c),mt.forEach(c),s=V(Le),u=b(Le,"DIV",{class:!0});var vt=w(u);f=b(vt,"DIV",{class:!0});var _t=w(f);p=T(_t,_),y=T(_t," ("),S=T(_t,I),E=T(_t,` %)\r
					`),m=b(_t,"DIV",{class:!0});var In=w(m);q(g.$$.fragment,In),In.forEach(c),_t.forEach(c),h=V(vt),L=b(vt,"DIV",{class:!0});var gt=w(L);R=T(gt,N),M=T(gt," ("),Y=T(gt,O),U=T(gt,` %)\r
					`),W=b(gt,"DIV",{class:!0});var En=w(W);q(Z.$$.fragment,En),En.forEach(c),gt.forEach(c),ae=V(vt),G=b(vt,"DIV",{class:!0});var pt=w(G);be=T(pt,_e),Se=T(pt," ("),Pe=T(pt,ke),fe=T(pt,` %)\r
					`),x=b(pt,"DIV",{class:!0});var Pn=w(x);q(ee.$$.fragment,Pn),Pn.forEach(c),pt.forEach(c),vt.forEach(c),me=V(Le),pe=b(Le,"DIV",{class:!0});var Vn=w(pe);q(he.$$.fragment,Vn),Vn.forEach(c),re=V(Le),Q=b(Le,"DIV",{class:!0});var ht=w(Q);A=b(ht,"DIV",{class:!0,"data-svelte-h":!0}),ge(A)!=="svelte-j8l648"&&(A.textContent=oe),se=V(ht),Ce=b(ht,"DIV",{class:!0});var Ot=w(Ce);le=T(Ot,X),ie=T(Ot,` %\r
					`),Qe.l(Ot),Ot.forEach(c),$e=V(ht),ue=De(ht,"svg",{width:!0,height:!0});var $t=w(ue);de=De($t,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),w(de).forEach(c),H=De($t,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),w(H).forEach(c),Te=De($t,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),w(Te).forEach(c),Ae=De($t,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),w(Ae).forEach(c),Ne=De($t,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),w(Ne).forEach(c),$t.forEach(c),ht.forEach(c),Je=V(Le),Ge=b(Le,"DIV",{class:!0});var bt=w(Ge);ct=b(bt,"DIV",{class:!0,"data-svelte-h":!0}),ge(ct)!=="svelte-5p5wbx"&&(ct.textContent=$n),Zt=V(bt),nt=b(bt,"DIV",{class:!0});var jt=w(nt);Bt=T(jt,It),Qt=V(jt),Ke.l(jt),jt.forEach(c),Kt=V(bt),rt=De(bt,"svg",{width:!0,height:!0});var qt=w(rt);xe=De(qt,"rect",{width:!0,height:!0,y:!0,fill:!0,rx:!0,ry:!0}),w(xe).forEach(c),Xe=De(qt,"rect",{width:!0,y:!0,height:!0,fill:!0,rx:!0,ry:!0}),w(Xe).forEach(c),Ze=De(qt,"rect",{width:!0,height:!0,x:!0,fill:!0,rx:!0,ry:!0}),w(Ze).forEach(c),qt.forEach(c),bt.forEach(c),Jt=V(Le),q(lt.$$.fragment,Le),Gt=V(Le),q(at.$$.fragment,Le),xt=V(Le),dt=b(Le,"DIV",{class:!0});var Ln=w(dt);q(ft.$$.fragment,Ln),Ln.forEach(c),en=V(Le),it=b(Le,"DIV",{class:!0});var Mn=w(it);ze.l(Mn),Mn.forEach(c),Le.forEach(c),Et.forEach(c),ve.forEach(c),this.h()},h(){v(i,"class","unstyle-button"),v(l,"class","title svelte-188utik"),v(m,"class","icon svelte-188utik"),v(f,"class","nay value svelte-188utik"),v(W,"class","icon svelte-188utik"),v(L,"class","pass value svelte-188utik"),v(x,"class","icon svelte-188utik"),v(G,"class","yay value svelte-188utik"),v(u,"class","vote-summary svelte-188utik"),v(pe,"class","separator svelte-188utik"),v(A,"class","bar-title svelte-188utik"),v(Ce,"class","bar-description svelte-188utik"),v(de,"width","100%"),v(de,"height","5"),v(de,"y","5"),v(de,"fill","#e6e6e6"),v(de,"rx","2"),v(de,"ry","2"),v(H,"width",te=`${r[2].summary.nayPercentage+r[2].summary.passPercentage+r[2].summary.yayPercentage}%`),v(H,"y","5"),v(H,"height","5"),v(H,"fill","var(--yay-color)"),v(H,"rx","2"),v(H,"ry","2"),v(Te,"width",st=`${r[2].summary.nayPercentage+r[2].summary.passPercentage}%`),v(Te,"height","5"),v(Te,"y","5"),v(Te,"fill","var(--pass-color)"),v(Te,"rx","2"),v(Te,"ry","2"),v(Ae,"width",ut=`${r[2].summary.nayPercentage}%`),v(Ae,"height","5"),v(Ae,"y","5"),v(Ae,"fill","var(--nay-color)"),v(Ae,"rx","2"),v(Ae,"ry","2"),v(Ne,"width","3"),v(Ne,"height","15"),v(Ne,"x",Ye=`${r[2].requiredQuorumPercentage}%`),v(Ne,"fill","var(--quorum-color)"),v(Ne,"rx","2"),v(Ne,"ry","2"),v(ue,"width","100%"),v(ue,"height","15"),v(Q,"class","bar svelte-188utik"),v(ct,"class","bar-title svelte-188utik"),v(nt,"class","bar-description svelte-188utik"),v(xe,"width","100%"),v(xe,"height","5"),v(xe,"y","5"),v(xe,"fill","#e6e6e6"),v(xe,"rx","2"),v(xe,"ry","2"),v(Xe,"width",Tt=`${r[2].majorityPercentage}%`),v(Xe,"y","5"),v(Xe,"height","5"),v(Xe,"fill","var(--majority-color)"),v(Xe,"rx","2"),v(Xe,"ry","2"),v(Ze,"width","3"),v(Ze,"height","15"),v(Ze,"x",Nt=`${r[2].requiredMajorityPercentage}%`),v(Ze,"fill","var(--majority-color)"),v(Ze,"rx","2"),v(Ze,"ry","2"),v(rt,"width","100%"),v(rt,"height","15"),v(Ge,"class","bar svelte-188utik"),v(dt,"class","separator svelte-188utik"),v(it,"class","vote-section svelte-188utik"),Me(it,"disabled",!r[0]||!r[1]),v(n,"class","proposal svelte-188utik"),v(t,"class","period svelte-188utik"),v(e,"class","period-wrap svelte-188utik"),Me(e,"quorum-reached",r[2].quorumReached),Me(e,"majority-reached",r[2].majorityReached)},m(K,ve){D(K,e,ve),d(e,t),d(t,n),d(n,l),d(l,i),d(i,o),d(n,s),d(n,u),d(u,f),d(f,p),d(f,y),d(f,S),d(f,E),d(f,m),F(g,m,null),d(u,h),d(u,L),d(L,R),d(L,M),d(L,Y),d(L,U),d(L,W),F(Z,W,null),d(u,ae),d(u,G),d(G,be),d(G,Se),d(G,Pe),d(G,fe),d(G,x),F(ee,x,null),d(n,me),d(n,pe),F(he,pe,null),d(n,re),d(n,Q),d(Q,A),d(Q,se),d(Q,Ce),d(Ce,le),d(Ce,ie),Qe.m(Ce,null),d(Q,$e),d(Q,ue),d(ue,de),d(ue,H),d(ue,Te),d(ue,Ae),d(ue,Ne),d(n,Je),d(n,Ge),d(Ge,ct),d(Ge,Zt),d(Ge,nt),d(nt,Bt),d(nt,Qt),Ke.m(nt,null),d(Ge,Kt),d(Ge,rt),d(rt,xe),d(rt,Xe),d(rt,Ze),d(n,Jt),F(lt,n,null),d(n,Gt),F(at,n,null),d(n,xt),d(n,dt),F(ft,dt,null),d(n,en),d(n,it),ot[Fe].m(it,null),Ve=!0,tn||(bn=mn(i,"click",r[8]),tn=!0)},p(K,[ve]){(!Ve||ve&4)&&a!==(a=K[2].proposal+"")&&ne(o,a),(!Ve||ve&4)&&_!==(_=wt(K[2].summary.nay)+"")&&ne(p,_),(!Ve||ve&4)&&I!==(I=K[2].summary.nayPercentage+"")&&ne(S,I),(!Ve||ve&4)&&N!==(N=wt(K[2].summary.pass)+"")&&ne(R,N),(!Ve||ve&4)&&O!==(O=K[2].summary.passPercentage+"")&&ne(Y,O),(!Ve||ve&4)&&_e!==(_e=wt(K[2].summary.yay)+"")&&ne(be,_e),(!Ve||ve&4)&&ke!==(ke=K[2].summary.yayPercentage+"")&&ne(Pe,ke),(!Ve||ve&4)&&X!==(X=K[2].quorumPercentage+"")&&ne(le,X),At===(At=kn(K))&&Qe?Qe.p(K,ve):(Qe.d(1),Qe=At(K),Qe&&(Qe.c(),Qe.m(Ce,null))),(!Ve||ve&4&&te!==(te=`${K[2].summary.nayPercentage+K[2].summary.passPercentage+K[2].summary.yayPercentage}%`))&&v(H,"width",te),(!Ve||ve&4&&st!==(st=`${K[2].summary.nayPercentage+K[2].summary.passPercentage}%`))&&v(Te,"width",st),(!Ve||ve&4&&ut!==(ut=`${K[2].summary.nayPercentage}%`))&&v(Ae,"width",ut),(!Ve||ve&4&&Ye!==(Ye=`${K[2].requiredQuorumPercentage}%`))&&v(Ne,"x",Ye),(!Ve||ve&4)&&It!==(It=K[2].majorityPercentage+"")&&ne(Bt,It),Rt===(Rt=wn(K))&&Ke?Ke.p(K,ve):(Ke.d(1),Ke=Rt(K),Ke&&(Ke.c(),Ke.m(nt,null))),(!Ve||ve&4&&Tt!==(Tt=`${K[2].majorityPercentage}%`))&&v(Xe,"width",Tt),(!Ve||ve&4&&Nt!==(Nt=`${K[2].requiredMajorityPercentage}%`))&&v(Ze,"x",Nt);const Et={};ve&32768&&(Et.$$scope={dirty:ve,ctx:K}),lt.$set(Et);const Le={};ve&32768&&(Le.$$scope={dirty:ve,ctx:K}),at.$set(Le);let mt=Fe;Fe=Dn(K),Fe===mt?ot[Fe].p(K,ve):(Ie(),C(ot[mt],1,1,()=>{ot[mt]=null}),Ee(),ze=ot[Fe],ze?ze.p(K,ve):(ze=ot[Fe]=yn[Fe](K),ze.c()),k(ze,1),ze.m(it,null)),(!Ve||ve&3)&&Me(it,"disabled",!K[0]||!K[1]),(!Ve||ve&4)&&Me(e,"quorum-reached",K[2].quorumReached),(!Ve||ve&4)&&Me(e,"majority-reached",K[2].majorityReached)},i(K){Ve||(k(g.$$.fragment,K),k(Z.$$.fragment,K),k(ee.$$.fragment,K),k(he.$$.fragment,K),k(lt.$$.fragment,K),k(at.$$.fragment,K),k(ft.$$.fragment,K),k(ze),Ve=!0)},o(K){C(g.$$.fragment,K),C(Z.$$.fragment,K),C(ee.$$.fragment,K),C(he.$$.fragment,K),C(lt.$$.fragment,K),C(at.$$.fragment,K),C(ft.$$.fragment,K),C(ze),Ve=!1},d(K){K&&c(e),z(g),z(Z),z(ee),z(he),Qe.d(),Ke.d(),z(lt),z(at),z(ft),ot[Fe].d(),tn=!1,bn()}}}function ma(r,e,t){let n,{pkh:l}=e,{canVote:i=!1}=e,{periodIndex:a}=e,{period:o}=e;const s=fn();function u(){window.open(`${vn}/${o.proposal}`,"_blank")}function f(){window.open(`${_n}/${o.proposal}/${a}`,"_blank")}async function _(g){s("vote",{ballot:g,proposal:o.proposal,period:o.info.voting_period.index})}const p=()=>gn(o.proposal),y=()=>u(),I=()=>f(),S=()=>_("nay"),E=()=>_("pass"),m=()=>_("yay");return r.$$set=g=>{"pkh"in g&&t(0,l=g.pkh),"canVote"in g&&t(1,i=g.canVote),"periodIndex"in g&&t(7,a=g.periodIndex),"period"in g&&t(2,o=g.period)},r.$$.update=()=>{r.$$.dirty&5&&t(3,n=o.ballots.find(g=>g.pkh===l))},[l,i,o,n,u,f,_,a,p,y,I,S,E,m]}class va extends je{constructor(e){super(),qe(this,e,ma,da,Oe,{pkh:0,canVote:1,periodIndex:7,period:2})}}function _a(r){let e,t,n=(r[1]??"~ TBD ~")+"",l,i,a,o,s,u,f,_,p,y;a=new He({});const I=[$a,ha,pa],S=[];function E(m,g){return m[4]==="applied"?0:m[4]==="failed"?1:2}return s=E(r),u=S[s]=I[s](r),p=new ce({props:{$$slots:{default:[ba]},$$scope:{ctx:r}}}),p.$on("click",r[8]),{c(){e=$("h5"),t=B("Transaction "),l=B(n),i=P(),j(a.$$.fragment),o=P(),u.c(),f=P(),_=$("div"),j(p.$$.fragment),this.h()},l(m){e=b(m,"H5",{class:!0});var g=w(e);t=T(g,"Transaction "),l=T(g,n),g.forEach(c),i=V(m),q(a.$$.fragment,m),o=V(m),u.l(m),f=V(m),_=b(m,"DIV",{class:!0});var h=w(_);q(p.$$.fragment,h),h.forEach(c),this.h()},h(){v(e,"class","title svelte-1kcf8tg"),v(_,"class","explore"),Me(_,"disabled",r[4]==="building")},m(m,g){D(m,e,g),d(e,t),d(e,l),D(m,i,g),F(a,m,g),D(m,o,g),S[s].m(m,g),D(m,f,g),D(m,_,g),F(p,_,null),y=!0},p(m,g){(!y||g&2)&&n!==(n=(m[1]??"~ TBD ~")+"")&&ne(l,n);let h=s;s=E(m),s===h?S[s].p(m,g):(Ie(),C(S[h],1,1,()=>{S[h]=null}),Ee(),u=S[s],u?u.p(m,g):(u=S[s]=I[s](m),u.c()),k(u,1),u.m(f.parentNode,f));const L={};g&2048&&(L.$$scope={dirty:g,ctx:m}),p.$set(L),(!y||g&16)&&Me(_,"disabled",m[4]==="building")},i(m){y||(k(a.$$.fragment,m),k(u),k(p.$$.fragment,m),y=!0)},o(m){C(a.$$.fragment,m),C(u),C(p.$$.fragment,m),y=!1},d(m){m&&(c(e),c(i),c(o),c(f),c(_)),z(a,m),S[s].d(m),z(p)}}}function ga(r){let e,t;return{c(){e=$("div"),t=B(r[2]),this.h()},l(n){e=b(n,"DIV",{class:!0});var l=w(e);t=T(l,r[2]),l.forEach(c),this.h()},h(){v(e,"class","error-message svelte-1kcf8tg")},m(n,l){D(n,e,l),d(e,t)},p(n,l){l&4&&ne(t,n[2])},i:J,o:J,d(n){n&&c(e)}}}function pa(r){let e,t,n,l,i;t=new Yt({props:{message:r[5],progress:"indeterminate"}});let a=r[4]==="building"&&Wn();return{c(){e=$("div"),j(t.$$.fragment),n=P(),a&&a.c(),l=Re(),this.h()},l(o){e=b(o,"DIV",{class:!0});var s=w(e);q(t.$$.fragment,s),s.forEach(c),n=V(o),a&&a.l(o),l=Re(),this.h()},h(){v(e,"class","progress svelte-1kcf8tg")},m(o,s){D(o,e,s),F(t,e,null),D(o,n,s),a&&a.m(o,s),D(o,l,s),i=!0},p(o,s){const u={};s&32&&(u.message=o[5]),t.$set(u),o[4]==="building"?a||(a=Wn(),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},i(o){i||(k(t.$$.fragment,o),i=!0)},o(o){C(t.$$.fragment,o),i=!1},d(o){o&&(c(e),c(n),c(l)),z(t),a&&a.d(o)}}}function ha(r){let e,t="FAILED";return{c(){e=$("div"),e.textContent=t,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-5fqw5f"&&(e.textContent=t),this.h()},h(){v(e,"class","status failed svelte-1kcf8tg")},m(n,l){D(n,e,l)},p:J,i:J,o:J,d(n){n&&c(e)}}}function $a(r){let e,t="CONFIRMED";return{c(){e=$("div"),e.textContent=t,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-vqtzt4"&&(e.textContent=t),this.h()},h(){v(e,"class","status svelte-1kcf8tg")},m(n,l){D(n,e,l)},p:J,i:J,o:J,d(n){n&&c(e)}}}function Wn(r){let e,t="NOTE: You may need to confirm the transaction with your signer.";return{c(){e=$("div"),e.textContent=t,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-2towb7"&&(e.textContent=t),this.h()},h(){v(e,"class","note svelte-1kcf8tg")},m(n,l){D(n,e,l)},d(n){n&&c(e)}}}function ba(r){let e;return{c(){e=B("Open Explorer")},l(t){e=T(t,"Open Explorer")},m(t,n){D(t,e,n)},d(t){t&&c(e)}}}function Un(r){let e,t;return e=new ce({props:{label:"close"}}),e.$on("click",r[9]),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:J,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function ka(r){let e,t,n,l,i;const a=[ga,_a],o=[];function s(f,_){return f[2]?0:1}t=s(r),n=o[t]=a[t](r);let u=(r[3]||r[4]==="applied"||r[2])&&Un(r);return{c(){e=$("div"),n.c(),l=P(),u&&u.c(),this.h()},l(f){e=b(f,"DIV",{class:!0});var _=w(e);n.l(_),l=V(_),u&&u.l(_),_.forEach(c),this.h()},h(){v(e,"class","transaction-confirmation svelte-1kcf8tg")},m(f,_){D(f,e,_),o[t].m(e,null),d(e,l),u&&u.m(e,null),i=!0},p(f,_){let p=t;t=s(f),t===p?o[t].p(f,_):(Ie(),C(o[p],1,1,()=>{o[p]=null}),Ee(),n=o[t],n?n.p(f,_):(n=o[t]=a[t](f),n.c()),k(n,1),n.m(e,l)),f[3]||f[4]==="applied"||f[2]?u?(u.p(f,_),_&28&&k(u,1)):(u=Un(f),u.c(),k(u,1),u.m(e,null)):u&&(Ie(),C(u,1,1,()=>{u=null}),Ee())},i(f){i||(k(n),k(u),i=!0)},o(f){C(n),C(u),i=!1},d(f){f&&c(e),o[t].d(),u&&u.d()}}}function wa(r){let e,t,n;return t=new yt({props:{$$slots:{default:[ka]},$$scope:{ctx:r}}}),{c(){e=$("div"),j(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=w(e);q(t.$$.fragment,i),i.forEach(c),this.h()},h(){v(e,"class","center svelte-1kcf8tg")},m(l,i){D(l,e,i),F(t,e,null),n=!0},p(l,i){const a={};i&2175&&(a.$$scope={dirty:i,ctx:l}),t.$set(a)},i(l){n||(k(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),z(t)}}}function ya(r){let e,t,n;function l(a){r[10](a)}let i={persistent:r[4]==="building"||r[4]==="confirming",$$slots:{default:[wa]},$$scope:{ctx:r}};return r[0]!==void 0&&(i.open=r[0]),e=new Ht({props:i}),Ue.push(()=>tt(e,"open",l)),{c(){j(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,o){F(e,a,o),n=!0},p(a,[o]){const s={};o&16&&(s.persistent=a[4]==="building"||a[4]==="confirming"),o&2175&&(s.$$scope={dirty:o,ctx:a}),!t&&o&1&&(t=!0,s.open=a[0],et(()=>t=!1)),e.$set(s)},i(a){n||(k(e.$$.fragment,a),n=!0)},o(a){C(e.$$.fragment,a),n=!1},d(a){z(e,a)}}}function Da(r){switch(r){case"building":return"Building transaction...";case"confirming":return"Waiting for confirmation...";case"applied":return"CONFIRMED";case"failed":return"FAILED"}}function Ca(r,e,t){let n,l,{open:i}=e,{opHash:a}=e,{error:o}=e,{allowClose:s=!0}=e,{stage:u="building"}=e,{explorerTemplate:f}=e;const _=()=>window.open(n,"_blank"),p=()=>t(0,i=!1);function y(I){i=I,t(0,i)}return r.$$set=I=>{"open"in I&&t(0,i=I.open),"opHash"in I&&t(1,a=I.opHash),"error"in I&&t(2,o=I.error),"allowClose"in I&&t(3,s=I.allowClose),"stage"in I&&t(4,u=I.stage),"explorerTemplate"in I&&t(7,f=I.explorerTemplate)},r.$$.update=()=>{r.$$.dirty&130&&t(6,n=f?f.replace("%s",a??""):void 0),r.$$.dirty&16&&t(5,l=Da(u))},[i,a,o,s,u,l,n,f,_,p,y]}class Ia extends je{constructor(e){super(),qe(this,e,Ca,ya,Oe,{open:0,opHash:1,error:2,allowClose:3,stage:4,explorerTemplate:7})}}function Ea(r){let e,t;return{c(){e=ye("svg"),t=ye("path"),this.h()},l(n){e=De(n,"svg",{xmlns:!0,viewBox:!0});var l=w(e);t=De(l,"path",{d:!0}),w(t).forEach(c),l.forEach(c),this.h()},h(){v(t,"d","M 16 3 C 8.832031 3 3 8.832031 3 16 C 3 23.167969 8.832031 29 16 29 C 23.167969 29 29 23.167969 29 16 L 27 16 C 27 22.085938 22.085938 27 16 27 C 9.914063 27 5 22.085938 5 16 C 5 9.914063 9.914063 5 16 5 C 19.875 5 23.261719 6.984375 25.21875 10 L 20 10 L 20 12 L 28 12 L 28 4 L 26 4 L 26 7.71875 C 23.617188 4.84375 20.019531 3 16 3 Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(n,l){D(n,e,l),d(e,t)},p:J,i:J,o:J,d(n){n&&c(e)}}}class ur extends je{constructor(e){super(),qe(this,e,null,Ea,Oe,{})}}function Pa(r){let e,t,n="Set Delegate Parameters",l,i,a="Set delegate staking parameters - edge and limit.",o,s,u,f,_,p,y,I,S,E,m,g,h,L;function N(Y){r[7](Y)}let R={type:"number",rules:r[4],label:"Staking Fee in %",hint:"Edge of baking over staking"};r[0].value.edge!==void 0&&(R.value=r[0].value.edge),s=new Lt({props:R}),Ue.push(()=>tt(s,"value",N));function M(Y){r[8](Y)}let O={type:"number",rules:r[5],label:"Staking capacity - multiplier of your stake",hint:"Limit of staking over baking"};return r[0].value.limit!==void 0&&(O.value=r[0].value.limit),_=new Lt({props:O}),Ue.push(()=>tt(_,"value",M)),E=new ce({props:{label:"Cancel"}}),E.$on("click",r[9]),h=new ce({props:{label:"Set"}}),h.$on("click",r[10]),{c(){e=$("div"),t=$("h3"),t.textContent=n,l=P(),i=$("p"),i.textContent=a,o=P(),j(s.$$.fragment),f=P(),j(_.$$.fragment),y=P(),I=$("div"),S=$("div"),j(E.$$.fragment),m=P(),g=$("div"),j(h.$$.fragment),this.h()},l(Y){e=b(Y,"DIV",{class:!0});var U=w(e);t=b(U,"H3",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1hc5680"&&(t.textContent=n),l=V(U),i=b(U,"P",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-2weqq6"&&(i.textContent=a),o=V(U),q(s.$$.fragment,U),f=V(U),q(_.$$.fragment,U),y=V(U),I=b(U,"DIV",{class:!0});var W=w(I);S=b(W,"DIV",{class:!0});var Z=w(S);q(E.$$.fragment,Z),Z.forEach(c),m=V(W),g=b(W,"DIV",{class:!0});var ae=w(g);q(h.$$.fragment,ae),ae.forEach(c),W.forEach(c),U.forEach(c),this.h()},h(){v(t,"class","title svelte-1igllg9"),v(i,"class","message svelte-1igllg9"),v(S,"class","control-button svelte-1igllg9"),Ut(S,"grid-column","1"),v(g,"class","control-button svelte-1igllg9"),Me(g,"disabled",r[3]),Ut(g,"grid-column","3"),v(I,"class","controls padding-top svelte-1igllg9"),v(e,"class","prompt-wrap svelte-1igllg9")},m(Y,U){D(Y,e,U),d(e,t),d(e,l),d(e,i),d(e,o),F(s,e,null),d(e,f),F(_,e,null),d(e,y),d(e,I),d(I,S),F(E,S,null),d(I,m),d(I,g),F(h,g,null),L=!0},p(Y,U){const W={};!u&&U&1&&(u=!0,W.value=Y[0].value.edge,et(()=>u=!1)),s.$set(W);const Z={};!p&&U&1&&(p=!0,Z.value=Y[0].value.limit,et(()=>p=!1)),_.$set(Z),(!L||U&8)&&Me(g,"disabled",Y[3])},i(Y){L||(k(s.$$.fragment,Y),k(_.$$.fragment,Y),k(E.$$.fragment,Y),k(h.$$.fragment,Y),L=!0)},o(Y){C(s.$$.fragment,Y),C(_.$$.fragment,Y),C(E.$$.fragment,Y),C(h.$$.fragment,Y),L=!1},d(Y){Y&&c(e),z(s),z(_),z(E),z(h)}}}function Va(r){let e,t;return e=new yt({props:{$$slots:{default:[Pa]},$$scope:{ctx:r}}}),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p(n,l){const i={};l&16397&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function La(r){let e,t,n;function l(a){r[11](a)}let i={persistent:!0,$$slots:{default:[Va]},$$scope:{ctx:r}};return r[1]!==void 0&&(i.open=r[1]),e=new Ht({props:i}),Ue.push(()=>tt(e,"open",l)),{c(){j(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,o){F(e,a,o),n=!0},p(a,[o]){const s={};o&16397&&(s.$$scope={dirty:o,ctx:a}),!t&&o&2&&(t=!0,s.open=a[1],et(()=>t=!1)),e.$set(s)},i(a){n||(k(e.$$.fragment,a),n=!0)},o(a){C(e.$$.fragment,a),n=!1},d(a){z(e,a)}}}function Ma(r,e,t){let n;const l={value:{edge:100,limit:1}};let{state:i=l}=e,{isOpen:a=!1}=e,o={resolve:()=>s(),reject:()=>s()};function s(){t(1,a=!1)}const u=[m=>!!m||m.toString()==="0"||"Edge is required",m=>!isNaN(Number(m))||"Edge must be a number",m=>Number(m)>=0&&Number(m)<=100||"Edge must be between 0 and 100"],f=[m=>!!m||m.toString()==="0"||"Limit is required",m=>!isNaN(Number(m))||"Limit must be a number",m=>Number(m)>=0&&Number(m)<=vr||"Limit must be between 0 and 9"];async function _(m){return t(1,a=!0),t(0,i={...l,...m}),new Promise((g,h)=>{t(2,o={resolve:L=>{s(),g(L)},reject:L=>{s(),h(L)}})})}function p(m){r.$$.not_equal(i.value.edge,m)&&(i.value.edge=m,t(0,i))}function y(m){r.$$.not_equal(i.value.limit,m)&&(i.value.limit=m,t(0,i))}const I=()=>o.reject(ir),S=()=>o.resolve(i.value);function E(m){a=m,t(1,a)}return r.$$set=m=>{"state"in m&&t(0,i=m.state),"isOpen"in m&&t(1,a=m.isOpen)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=on(i.value.limit,f)!==!0||on(i.value.edge,u)!==!0)},[i,a,o,n,u,f,_,p,y,I,S,E]}class Sa extends je{constructor(e){super(),qe(this,e,Ma,La,Oe,{state:0,isOpen:1,prompt:6})}get prompt(){return this.$$.ctx[6]}}function Ba(r,e){if(!r)return new Date(0);const n=((r.voting_period.start_position+r.position+r.remaining??-1)-(e??r?.position??1))*_r;return new Date(Date.now()+n)}function Ta(r,e){return r?(r.voting_period.start_position+r.position+r.remaining??0)-(e??0):"N/A"}function Na(r){return(BigInt(r)/10n**6n).toLocaleString()}function Aa(r){const{proposals:e,voters:t}=r,n=t.reduce((l,i)=>l+BigInt(i.voting_power),0n);return{...r,proposals:e.map(l=>{const i=Number(BigInt(l.upvotes.toString())*100000n/n)/1e3;return{...l,upvotes:l.upvotes,upvotesFormatted:Na(l.upvotes.toString()),percentage:Math.round(i*100)/100,percentageString:`${i}%`,quorumReached:BigInt(l.upvotes.toString())>n/100n*Ct}}).sort((l,i)=>BigInt(i.upvotes.toString())>BigInt(l.upvotes.toString())?1:-1)}}function Ra(r){const{voters:e}=r,t=e.reduce((i,a)=>i+BigInt(a.voting_power),0n);let n=BigInt(r.summary.yay)+BigInt(r.summary.nay);const l=n+BigInt(r.summary.pass);return n===0n&&(n=1n),{...r,summary:{...r.summary,yayPercentage:Math.round(Number(BigInt(r.summary.yay)*100000n/t)/10)/100,nayPercentage:Math.round(Number(BigInt(r.summary.nay)*100000n/t)/10)/100,passPercentage:Math.round(Number(BigInt(r.summary.pass)*100000n/t)/10)/100},quorumReached:l>t*BigInt(r.quorum)/10000n,quorumPercentage:Math.min(Number(BigInt(r.summary.yay+r.summary.nay+r.summary.pass)*100000n/t)/1e3,100),requiredQuorumPercentage:Number(r.quorum)/100,majorityReached:BigInt(r.summary.yay)>=n*Bn/100n,majorityPercentage:Math.round(Number(BigInt(r.summary.yay)*100000n/n)/10)/100,requiredMajorityPercentage:Number(Bn)}}function Oa(r){let e,t,n="EXPLORER",l,i,a,o;return a=new hn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=P(),i=$("div"),j(a.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-323t9m"&&(t.textContent=n),l=V(u),i=b(u,"DIV",{class:!0});var f=w(i);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-2vy38g"),v(i,"class","icon svelte-2vy38g"),v(e,"class","button-content svelte-2vy38g")},m(s,u){D(s,e,u),d(e,t),d(e,l),d(e,i),F(a,i,null),o=!0},p:J,i(s){o||(k(a.$$.fragment,s),o=!0)},o(s){C(a.$$.fragment,s),o=!1},d(s){s&&c(e),z(a)}}}function ja(r){let e,t,n="AGORA",l,i,a,o;return a=new pn({}),{c(){e=$("div"),t=$("div"),t.textContent=n,l=P(),i=$("div"),j(a.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);t=b(u,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1rhz9l5"&&(t.textContent=n),l=V(u),i=b(u,"DIV",{class:!0});var f=w(i);q(a.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){v(t,"class","label svelte-2vy38g"),v(i,"class","icon svelte-2vy38g"),v(e,"class","button-content svelte-2vy38g")},m(s,u){D(s,e,u),d(e,t),d(e,l),d(e,i),F(a,i,null),o=!0},p:J,i(s){o||(k(a.$$.fragment,s),o=!0)},o(s){C(a.$$.fragment,s),o=!1},d(s){s&&c(e),z(a)}}}function qa(r){let e,t,n,l,i,a=r[0].proposal+"",o,s,u,f,_,p,y,I;return u=new ce({props:{$$slots:{default:[Oa]},$$scope:{ctx:r}}}),u.$on("click",r[5]),_=new ce({props:{$$slots:{default:[ja]},$$scope:{ctx:r}}}),_.$on("click",r[6]),{c(){e=$("div"),t=$("div"),n=$("div"),l=$("div"),i=$("button"),o=B(a),s=P(),j(u.$$.fragment),f=P(),j(_.$$.fragment),this.h()},l(S){e=b(S,"DIV",{class:!0});var E=w(e);t=b(E,"DIV",{class:!0});var m=w(t);n=b(m,"DIV",{class:!0});var g=w(n);l=b(g,"DIV",{class:!0});var h=w(l);i=b(h,"BUTTON",{class:!0});var L=w(i);o=T(L,a),L.forEach(c),h.forEach(c),s=V(g),q(u.$$.fragment,g),f=V(g),q(_.$$.fragment,g),g.forEach(c),m.forEach(c),E.forEach(c),this.h()},h(){v(i,"class","unstyle-button"),v(l,"class","title svelte-2vy38g"),v(n,"class","proposal svelte-2vy38g"),v(t,"class","period svelte-2vy38g"),v(e,"class","period-wrap svelte-2vy38g")},m(S,E){D(S,e,E),d(e,t),d(t,n),d(n,l),d(l,i),d(i,o),d(n,s),F(u,n,null),d(n,f),F(_,n,null),p=!0,y||(I=mn(i,"click",r[4]),y=!0)},p(S,[E]){(!p||E&1)&&a!==(a=S[0].proposal+"")&&ne(o,a);const m={};E&128&&(m.$$scope={dirty:E,ctx:S}),u.$set(m);const g={};E&128&&(g.$$scope={dirty:E,ctx:S}),_.$set(g)},i(S){p||(k(u.$$.fragment,S),k(_.$$.fragment,S),p=!0)},o(S){C(u.$$.fragment,S),C(_.$$.fragment,S),p=!1},d(S){S&&c(e),z(u),z(_),y=!1,I()}}}function Fa(r,e,t){let{periodIndex:n}=e,{period:l}=e;function i(){window.open(`${vn}/${l.proposal}`,"_blank")}function a(){window.open(`${_n}/${l.proposal}/${n}`,"_blank")}const o=()=>gn(l.proposal),s=()=>i(),u=()=>a();return r.$$set=f=>{"periodIndex"in f&&t(3,n=f.periodIndex),"period"in f&&t(0,l=f.period)},[l,i,a,n,o,s,u]}class za extends je{constructor(e){super(),qe(this,e,Fa,qa,Oe,{periodIndex:3,period:0})}}function Hn(r,e,t){const n=r.slice();return n[41]=e[t],n}function Yn(r,e,t){const n=r.slice();return n[41]=e[t],n}function Wa(r){let e,t,n,l,i,a;return t=new yt({props:{$$slots:{default:[ni]},$$scope:{ctx:r}}}),i=new yt({props:{$$slots:{default:[di]},$$scope:{ctx:r}}}),{c(){e=$("div"),j(t.$$.fragment),n=P(),l=$("div"),j(i.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var s=w(e);q(t.$$.fragment,s),s.forEach(c),n=V(o),l=b(o,"DIV",{class:!0});var u=w(l);q(i.$$.fragment,u),u.forEach(c),this.h()},h(){v(e,"class","tools-wrap svelte-7t4len"),v(l,"class","governance svelte-7t4len")},m(o,s){D(o,e,s),F(t,e,null),D(o,n,s),D(o,l,s),F(i,l,null),a=!0},p(o,s){const u={};s[0]&3588|s[1]&32768&&(u.$$scope={dirty:s,ctx:o}),t.$set(u);const f={};s[0]&258086|s[1]&32768&&(f.$$scope={dirty:s,ctx:o}),i.$set(f)},i(o){a||(k(t.$$.fragment,o),k(i.$$.fragment,o),a=!0)},o(o){C(t.$$.fragment,o),C(i.$$.fragment,o),a=!1},d(o){o&&(c(e),c(n),c(l)),z(t),z(i)}}}function Ua(r){let e,t,n;return t=new Yt({props:{progress:"indeterminate",message:"Loading account..."}}),{c(){e=$("div"),j(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=w(e);q(t.$$.fragment,i),i.forEach(c),this.h()},h(){v(e,"class","loader svelte-7t4len")},m(l,i){D(l,e,i),F(t,e,null),n=!0},p:J,i(l){n||(k(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),z(t)}}}function Ha(r){let e,t,n,l,i="Account Management",a,o,s,u,f,_,p,y;t=new ce({props:{$$slots:{default:[Xa]},$$scope:{ctx:r}}}),t.$on("click",r[19]);const I=[Ka,Qa,Za],S=[];function E(m,g){return m[2]&&m[2].governance.delegate&&m[2].governance.delegate?.pkh===m[2]?.account.id?0:m[2].governance.delegate?1:2}return o=E(r),s=S[o]=I[o](r),f=new He({}),p=new ce({props:{$$slots:{default:[ti]},$$scope:{ctx:r}}}),p.$on("click",r[25]),{c(){e=$("div"),j(t.$$.fragment),n=P(),l=$("h5"),l.textContent=i,a=P(),s.c(),u=P(),j(f.$$.fragment),_=P(),j(p.$$.fragment),this.h()},l(m){e=b(m,"DIV",{class:!0});var g=w(e);q(t.$$.fragment,g),g.forEach(c),n=V(m),l=b(m,"H5",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-1v3b9it"&&(l.textContent=i),a=V(m),s.l(m),u=V(m),q(f.$$.fragment,m),_=V(m),q(p.$$.fragment,m),this.h()},h(){v(e,"class","redo svelte-7t4len"),v(l,"class","tools-title svelte-7t4len")},m(m,g){D(m,e,g),F(t,e,null),D(m,n,g),D(m,l,g),D(m,a,g),S[o].m(m,g),D(m,u,g),F(f,m,g),D(m,_,g),F(p,m,g),y=!0},p(m,g){const h={};g[1]&32768&&(h.$$scope={dirty:g,ctx:m}),t.$set(h);let L=o;o=E(m),o===L?S[o].p(m,g):(Ie(),C(S[L],1,1,()=>{S[L]=null}),Ee(),s=S[o],s?s.p(m,g):(s=S[o]=I[o](m),s.c()),k(s,1),s.m(u.parentNode,u));const N={};g[1]&32768&&(N.$$scope={dirty:g,ctx:m}),p.$set(N)},i(m){y||(k(t.$$.fragment,m),k(s),k(f.$$.fragment,m),k(p.$$.fragment,m),y=!0)},o(m){C(t.$$.fragment,m),C(s),C(f.$$.fragment,m),C(p.$$.fragment,m),y=!1},d(m){m&&(c(e),c(n),c(l),c(a),c(u),c(_)),z(t),S[o].d(m),z(f,m),z(p,m)}}}function Ya(r){let e,t;return e=new Yt({props:{progress:"indeterminate",message:"Loading staking state..."}}),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:J,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Xa(r){let e,t,n;return t=new ur({}),{c(){e=$("div"),j(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=w(e);q(t.$$.fragment,i),i.forEach(c),this.h()},h(){v(e,"class","icon svelte-7t4len")},m(l,i){D(l,e,i),F(t,e,null),n=!0},p:J,i(l){n||(k(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),z(t)}}}function Za(r){let e,t="You are not delegating and not a delegate. You have to delegate to stake.",n,l,i;return l=new ce({props:{label:"Delegate"}}),l.$on("click",r[20]),{c(){e=$("div"),e.textContent=t,n=P(),j(l.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-kq5dty"&&(e.textContent=t),n=V(a),q(l.$$.fragment,a),this.h()},h(){v(e,"class","note svelte-7t4len")},m(a,o){D(a,e,o),D(a,n,o),F(l,a,o),i=!0},p:J,i(a){i||(k(l.$$.fragment,a),i=!0)},o(a){C(l.$$.fragment,a),i=!1},d(a){a&&(c(e),c(n)),z(l,a)}}}function Qa(r){let e,t,n="<b>Balances</b>",l,i,a,o=We(r[2].account.balance)+"",s,u,f,_,p=We(r[2].account.stakedBalance)+"",y,I,S,E,m,g,h,L="<b>Delegate</b>",N,R,M=r[2].governance.delegate.pkh+"",O,Y,U,W,Z,ae,G,_e,be,Se,ke=BigInt(r[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"",Pe,fe,x,ee,me,pe,he,re,Q,A,oe,se,Ce,X,le,ie=r[2].account.finalizableBalance>0n&&Xn(r);m=new He({});let $e=r[9]&&Zn(r);me=new He({}),re=new ce({props:{label:"Stake"}}),re.$on("click",r[23]);let ue=r[2].account.stakedBalance>0n&&Kn(r),de=r[2].account.finalizableBalance>0n&&Jn(r);return se=new ce({props:{label:"Change Delegate"}}),se.$on("click",r[20]),X=new ce({props:{label:"Cancel Delegation"}}),X.$on("click",r[22]),{c(){e=$("div"),t=$("div"),t.innerHTML=n,l=P(),i=$("div"),a=B("Delegating: "),s=B(o),u=P(),f=$("div"),_=B("Staking: "),y=B(p),I=P(),ie&&ie.c(),S=P(),E=$("div"),j(m.$$.fragment),g=P(),h=$("div"),h.innerHTML=L,N=P(),R=$("div"),O=B(M),Y=P(),U=$("div"),W=B("Staking Fee: "),Z=B(r[11]),ae=P(),G=$("div"),_e=B("Total Stake Capacity: "),be=B(r[10]),Se=B(" (multiplier: "),Pe=B(ke),fe=B("x)"),x=P(),$e&&$e.c(),ee=P(),j(me.$$.fragment),pe=P(),he=$("div"),j(re.$$.fragment),Q=P(),ue&&ue.c(),A=P(),de&&de.c(),oe=P(),j(se.$$.fragment),Ce=P(),j(X.$$.fragment),this.h()},l(H){e=b(H,"DIV",{class:!0});var te=w(e);t=b(te,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-tn9pn6"&&(t.innerHTML=n),l=V(te),i=b(te,"DIV",{});var Te=w(i);a=T(Te,"Delegating: "),s=T(Te,o),Te.forEach(c),u=V(te),f=b(te,"DIV",{});var st=w(f);_=T(st,"Staking: "),y=T(st,p),st.forEach(c),I=V(te),ie&&ie.l(te),S=V(te),E=b(te,"DIV",{class:!0});var Ae=w(E);q(m.$$.fragment,Ae),Ae.forEach(c),g=V(te),h=b(te,"DIV",{class:!0,"data-svelte-h":!0}),ge(h)!=="svelte-s38838"&&(h.innerHTML=L),N=V(te),R=b(te,"DIV",{class:!0});var ut=w(R);O=T(ut,M),ut.forEach(c),Y=V(te),U=b(te,"DIV",{});var Ne=w(U);W=T(Ne,"Staking Fee: "),Z=T(Ne,r[11]),Ne.forEach(c),ae=V(te),G=b(te,"DIV",{});var Ye=w(G);_e=T(Ye,"Total Stake Capacity: "),be=T(Ye,r[10]),Se=T(Ye," (multiplier: "),Pe=T(Ye,ke),fe=T(Ye,"x)"),Ye.forEach(c),x=V(te),$e&&$e.l(te),te.forEach(c),ee=V(H),q(me.$$.fragment,H),pe=V(H),he=b(H,"DIV",{class:!0});var Je=w(he);q(re.$$.fragment,Je),Q=V(Je),ue&&ue.l(Je),A=V(Je),de&&de.l(Je),Je.forEach(c),oe=V(H),q(se.$$.fragment,H),Ce=V(H),q(X.$$.fragment,H),this.h()},h(){v(t,"class","center pv-1 svelte-7t4len"),v(E,"class","pv-1"),v(h,"class","center pv-1 svelte-7t4len"),v(R,"class","delegate-address center pb-1 svelte-7t4len"),v(e,"class","delegate-info svelte-7t4len"),v(he,"class","tools svelte-7t4len")},m(H,te){D(H,e,te),d(e,t),d(e,l),d(e,i),d(i,a),d(i,s),d(e,u),d(e,f),d(f,_),d(f,y),d(e,I),ie&&ie.m(e,null),d(e,S),d(e,E),F(m,E,null),d(e,g),d(e,h),d(e,N),d(e,R),d(R,O),d(e,Y),d(e,U),d(U,W),d(U,Z),d(e,ae),d(e,G),d(G,_e),d(G,be),d(G,Se),d(G,Pe),d(G,fe),d(e,x),$e&&$e.m(e,null),D(H,ee,te),F(me,H,te),D(H,pe,te),D(H,he,te),F(re,he,null),d(he,Q),ue&&ue.m(he,null),d(he,A),de&&de.m(he,null),D(H,oe,te),F(se,H,te),D(H,Ce,te),F(X,H,te),le=!0},p(H,te){(!le||te[0]&4)&&o!==(o=We(H[2].account.balance)+"")&&ne(s,o),(!le||te[0]&4)&&p!==(p=We(H[2].account.stakedBalance)+"")&&ne(y,p),H[2].account.finalizableBalance>0n?ie?ie.p(H,te):(ie=Xn(H),ie.c(),ie.m(e,S)):ie&&(ie.d(1),ie=null),(!le||te[0]&4)&&M!==(M=H[2].governance.delegate.pkh+"")&&ne(O,M),(!le||te[0]&2048)&&ne(Z,H[11]),(!le||te[0]&1024)&&ne(be,H[10]),(!le||te[0]&4)&&ke!==(ke=BigInt(H[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"")&&ne(Pe,ke),H[9]?$e?($e.p(H,te),te[0]&512&&k($e,1)):($e=Zn(H),$e.c(),k($e,1),$e.m(e,null)):$e&&(Ie(),C($e,1,1,()=>{$e=null}),Ee()),H[2].account.stakedBalance>0n?ue?(ue.p(H,te),te[0]&4&&k(ue,1)):(ue=Kn(H),ue.c(),k(ue,1),ue.m(he,A)):ue&&(Ie(),C(ue,1,1,()=>{ue=null}),Ee()),H[2].account.finalizableBalance>0n?de?(de.p(H,te),te[0]&4&&k(de,1)):(de=Jn(H),de.c(),k(de,1),de.m(he,null)):de&&(Ie(),C(de,1,1,()=>{de=null}),Ee())},i(H){le||(k(m.$$.fragment,H),k($e),k(me.$$.fragment,H),k(re.$$.fragment,H),k(ue),k(de),k(se.$$.fragment,H),k(X.$$.fragment,H),le=!0)},o(H){C(m.$$.fragment,H),C($e),C(me.$$.fragment,H),C(re.$$.fragment,H),C(ue),C(de),C(se.$$.fragment,H),C(X.$$.fragment,H),le=!1},d(H){H&&(c(e),c(ee),c(pe),c(he),c(oe),c(Ce)),ie&&ie.d(),z(m),$e&&$e.d(),z(me,H),z(re),ue&&ue.d(),de&&de.d(),z(se,H),z(X,H)}}}function Ka(r){let e,t,n,l,i="<b>Balances</b>",a,o,s,u=We(r[2].account.balance)+"",f,_,p,y,I=We(r[2].account.stakedBalance)+"",S,E,m,g,h="<b>Delegate Parameters</b>",L,N,R,M,O,Y,U,W,Z,ae=BigInt(r[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"",G,_e,be,Se,ke,Pe,fe,x,ee,me;function pe(X,le){return X[2]?.governance.delegate?.isDeactivated?Ga:Ja}let he=pe(r),re=he(r),Q=r[2].account.finalizableBalance>0n&&Gn(r),A=r[9]&&xn(r);ke=new He({});const oe=[ei,xa],se=[];function Ce(X,le){return X[2]?.governance.delegate?.isDeactivated?0:1}return fe=Ce(r),x=se[fe]=oe[fe](r),{c(){e=$("div"),re.c(),t=P(),n=$("div"),l=$("div"),l.innerHTML=i,a=P(),o=$("div"),s=B("Delegating: "),f=B(u),_=P(),p=$("div"),y=B("Staking: "),S=B(I),E=P(),Q&&Q.c(),m=P(),g=$("div"),g.innerHTML=h,L=P(),N=$("div"),R=B("Staking Fee: "),M=B(r[11]),O=P(),Y=$("div"),U=B("Total Stake Capacity: "),W=B(r[10]),Z=B(" (multiplier: "),G=B(ae),_e=B("x)"),be=P(),A&&A.c(),Se=P(),j(ke.$$.fragment),Pe=P(),x.c(),ee=Re(),this.h()},l(X){e=b(X,"DIV",{class:!0});var le=w(e);re.l(le),le.forEach(c),t=V(X),n=b(X,"DIV",{class:!0});var ie=w(n);l=b(ie,"DIV",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-tn9pn6"&&(l.innerHTML=i),a=V(ie),o=b(ie,"DIV",{});var $e=w(o);s=T($e,"Delegating: "),f=T($e,u),$e.forEach(c),_=V(ie),p=b(ie,"DIV",{});var ue=w(p);y=T(ue,"Staking: "),S=T(ue,I),ue.forEach(c),E=V(ie),Q&&Q.l(ie),m=V(ie),g=b(ie,"DIV",{class:!0,"data-svelte-h":!0}),ge(g)!=="svelte-1et9d10"&&(g.innerHTML=h),L=V(ie),N=b(ie,"DIV",{});var de=w(N);R=T(de,"Staking Fee: "),M=T(de,r[11]),de.forEach(c),O=V(ie),Y=b(ie,"DIV",{});var H=w(Y);U=T(H,"Total Stake Capacity: "),W=T(H,r[10]),Z=T(H," (multiplier: "),G=T(H,ae),_e=T(H,"x)"),H.forEach(c),be=V(ie),A&&A.l(ie),ie.forEach(c),Se=V(X),q(ke.$$.fragment,X),Pe=V(X),x.l(X),ee=Re(),this.h()},h(){v(e,"class","center svelte-7t4len"),v(l,"class","center pv-1 svelte-7t4len"),v(g,"class","center pv-1 svelte-7t4len"),v(n,"class","delegate-info svelte-7t4len")},m(X,le){D(X,e,le),re.m(e,null),D(X,t,le),D(X,n,le),d(n,l),d(n,a),d(n,o),d(o,s),d(o,f),d(n,_),d(n,p),d(p,y),d(p,S),d(n,E),Q&&Q.m(n,null),d(n,m),d(n,g),d(n,L),d(n,N),d(N,R),d(N,M),d(n,O),d(n,Y),d(Y,U),d(Y,W),d(Y,Z),d(Y,G),d(Y,_e),d(n,be),A&&A.m(n,null),D(X,Se,le),F(ke,X,le),D(X,Pe,le),se[fe].m(X,le),D(X,ee,le),me=!0},p(X,le){he!==(he=pe(X))&&(re.d(1),re=he(X),re&&(re.c(),re.m(e,null))),(!me||le[0]&4)&&u!==(u=We(X[2].account.balance)+"")&&ne(f,u),(!me||le[0]&4)&&I!==(I=We(X[2].account.stakedBalance)+"")&&ne(S,I),X[2].account.finalizableBalance>0n?Q?Q.p(X,le):(Q=Gn(X),Q.c(),Q.m(n,m)):Q&&(Q.d(1),Q=null),(!me||le[0]&2048)&&ne(M,X[11]),(!me||le[0]&1024)&&ne(W,X[10]),(!me||le[0]&4)&&ae!==(ae=BigInt(X[2]?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0)/1000000n+"")&&ne(G,ae),X[9]?A?(A.p(X,le),le[0]&512&&k(A,1)):(A=xn(X),A.c(),k(A,1),A.m(n,null)):A&&(Ie(),C(A,1,1,()=>{A=null}),Ee());let ie=fe;fe=Ce(X),fe===ie?se[fe].p(X,le):(Ie(),C(se[ie],1,1,()=>{se[ie]=null}),Ee(),x=se[fe],x?x.p(X,le):(x=se[fe]=oe[fe](X),x.c()),k(x,1),x.m(ee.parentNode,ee))},i(X){me||(k(A),k(ke.$$.fragment,X),k(x),me=!0)},o(X){C(A),C(ke.$$.fragment,X),C(x),me=!1},d(X){X&&(c(e),c(t),c(n),c(Se),c(Pe),c(ee)),re.d(),Q&&Q.d(),A&&A.d(),z(ke,X),se[fe].d(X)}}}function Xn(r){let e,t,n=We(r[2].account.finalizableBalance)+"",l;return{c(){e=$("div"),t=B("Finalizable: "),l=B(n)},l(i){e=b(i,"DIV",{});var a=w(e);t=T(a,"Finalizable: "),l=T(a,n),a.forEach(c)},m(i,a){D(i,e,a),d(e,t),d(e,l)},p(i,a){a[0]&4&&n!==(n=We(i[2].account.finalizableBalance)+"")&&ne(l,n)},d(i){i&&c(e)}}}function Zn(r){let e,t,n=Dt(r[9]),l=[];for(let a=0;a<n.length;a+=1)l[a]=Qn(Hn(r,n,a));const i=a=>C(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=Re()},l(a){for(let o=0;o<l.length;o+=1)l[o].l(a);e=Re()},m(a,o){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(a,o);D(a,e,o),t=!0},p(a,o){if(o[0]&516){n=Dt(a[9]);let s;for(s=0;s<n.length;s+=1){const u=Hn(a,n,s);l[s]?(l[s].p(u,o),k(l[s],1)):(l[s]=Qn(u),l[s].c(),k(l[s],1),l[s].m(e.parentNode,e))}for(Ie(),s=n.length;s<l.length;s+=1)i(s);Ee()}},i(a){if(!t){for(let o=0;o<n.length;o+=1)k(l[o]);t=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)C(l[o]);t=!1},d(a){a&&c(e),dn(l,a)}}}function Qn(r){let e,t,n,l,i=r[41].cycle+"",a,o,s,u,f,_=Mt(r[41].edge_of_baking_over_staking_billionth)+"",p,y,I,S,E=St((r[2]?.governance.delegate?.stakedBalance??0n)*BigInt(r[41].limit_of_staking_over_baking_millionth))+"",m,g,h=BigInt(r[41].limit_of_staking_over_baking_millionth)/1000000n+"",L,N,R;return e=new He({}),{c(){j(e.$$.fragment),t=P(),n=$("b"),l=B("Pending cycle "),a=B(i),o=B(":"),s=P(),u=$("div"),f=B("Staking Fee: "),p=B(_),y=P(),I=$("div"),S=B("Total Stake Capacity: "),m=B(E),g=B(" (mutliplier: "),L=B(h),N=B(`x)\r
										`)},l(M){q(e.$$.fragment,M),t=V(M),n=b(M,"B",{});var O=w(n);l=T(O,"Pending cycle "),a=T(O,i),o=T(O,":"),O.forEach(c),s=V(M),u=b(M,"DIV",{});var Y=w(u);f=T(Y,"Staking Fee: "),p=T(Y,_),Y.forEach(c),y=V(M),I=b(M,"DIV",{});var U=w(I);S=T(U,"Total Stake Capacity: "),m=T(U,E),g=T(U," (mutliplier: "),L=T(U,h),N=T(U,`x)\r
										`),U.forEach(c)},m(M,O){F(e,M,O),D(M,t,O),D(M,n,O),d(n,l),d(n,a),d(n,o),D(M,s,O),D(M,u,O),d(u,f),d(u,p),D(M,y,O),D(M,I,O),d(I,S),d(I,m),d(I,g),d(I,L),d(I,N),R=!0},p(M,O){(!R||O[0]&512)&&i!==(i=M[41].cycle+"")&&ne(a,i),(!R||O[0]&512)&&_!==(_=Mt(M[41].edge_of_baking_over_staking_billionth)+"")&&ne(p,_),(!R||O[0]&516)&&E!==(E=St((M[2]?.governance.delegate?.stakedBalance??0n)*BigInt(M[41].limit_of_staking_over_baking_millionth))+"")&&ne(m,E),(!R||O[0]&512)&&h!==(h=BigInt(M[41].limit_of_staking_over_baking_millionth)/1000000n+"")&&ne(L,h)},i(M){R||(k(e.$$.fragment,M),R=!0)},o(M){C(e.$$.fragment,M),R=!1},d(M){M&&(c(t),c(n),c(s),c(u),c(y),c(I)),z(e,M)}}}function Kn(r){let e,t;return e=new ce({props:{label:"Unstake"}}),e.$on("click",r[24]),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:J,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Jn(r){let e,t;return e=new ce({props:{label:"Finalize Unstake"}}),e.$on("click",r[26]),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:J,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Ja(r){let e,t="You are a baker.🧑‍🍳";return{c(){e=$("b"),e.textContent=t},l(n){e=b(n,"B",{"data-svelte-h":!0}),ge(e)!=="svelte-14sgvug"&&(e.textContent=t)},m(n,l){D(n,e,l)},d(n){n&&c(e)}}}function Ga(r){let e,t="You are an INACTIVE baker.🧑‍🍳";return{c(){e=$("b"),e.textContent=t},l(n){e=b(n,"B",{"data-svelte-h":!0}),ge(e)!=="svelte-1bjdurz"&&(e.textContent=t)},m(n,l){D(n,e,l)},d(n){n&&c(e)}}}function Gn(r){let e,t,n=We(r[2].account.finalizableBalance)+"",l;return{c(){e=$("div"),t=B("Finalizable: "),l=B(n)},l(i){e=b(i,"DIV",{});var a=w(e);t=T(a,"Finalizable: "),l=T(a,n),a.forEach(c)},m(i,a){D(i,e,a),d(e,t),d(e,l)},p(i,a){a[0]&4&&n!==(n=We(i[2].account.finalizableBalance)+"")&&ne(l,n)},d(i){i&&c(e)}}}function xn(r){let e,t,n,l;e=new He({});let i=Dt(r[9]),a=[];for(let s=0;s<i.length;s+=1)a[s]=er(Yn(r,i,s));const o=s=>C(a[s],1,1,()=>{a[s]=null});return{c(){j(e.$$.fragment),t=P();for(let s=0;s<a.length;s+=1)a[s].c();n=Re()},l(s){q(e.$$.fragment,s),t=V(s);for(let u=0;u<a.length;u+=1)a[u].l(s);n=Re()},m(s,u){F(e,s,u),D(s,t,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(s,u);D(s,n,u),l=!0},p(s,u){if(u[0]&516){i=Dt(s[9]);let f;for(f=0;f<i.length;f+=1){const _=Yn(s,i,f);a[f]?(a[f].p(_,u),k(a[f],1)):(a[f]=er(_),a[f].c(),k(a[f],1),a[f].m(n.parentNode,n))}for(Ie(),f=i.length;f<a.length;f+=1)o(f);Ee()}},i(s){if(!l){k(e.$$.fragment,s);for(let u=0;u<i.length;u+=1)k(a[u]);l=!0}},o(s){C(e.$$.fragment,s),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)C(a[u]);l=!1},d(s){s&&(c(t),c(n)),z(e,s),dn(a,s)}}}function er(r){let e,t,n=r[41].cycle+"",l,i,a,o,s,u=Mt(r[41].edge_of_baking_over_staking_billionth)+"",f,_,p,y,I=St((r[2]?.governance.delegate?.stakedBalance??0n)*BigInt(r[41].limit_of_staking_over_baking_millionth))+"",S,E,m=BigInt(r[41].limit_of_staking_over_baking_millionth)/1000000n+"",g,h,L,N,R;return N=new He({}),{c(){e=$("b"),t=B("Pending cycle "),l=B(n),i=B(":"),a=P(),o=$("div"),s=B("Staking Fee: "),f=B(u),_=P(),p=$("div"),y=B("Total Stake Capacity: "),S=B(I),E=B(" (mutliplier: "),g=B(m),h=B("x)"),L=P(),j(N.$$.fragment)},l(M){e=b(M,"B",{});var O=w(e);t=T(O,"Pending cycle "),l=T(O,n),i=T(O,":"),O.forEach(c),a=V(M),o=b(M,"DIV",{});var Y=w(o);s=T(Y,"Staking Fee: "),f=T(Y,u),Y.forEach(c),_=V(M),p=b(M,"DIV",{});var U=w(p);y=T(U,"Total Stake Capacity: "),S=T(U,I),E=T(U," (mutliplier: "),g=T(U,m),h=T(U,"x)"),U.forEach(c),L=V(M),q(N.$$.fragment,M)},m(M,O){D(M,e,O),d(e,t),d(e,l),d(e,i),D(M,a,O),D(M,o,O),d(o,s),d(o,f),D(M,_,O),D(M,p,O),d(p,y),d(p,S),d(p,E),d(p,g),d(p,h),D(M,L,O),F(N,M,O),R=!0},p(M,O){(!R||O[0]&512)&&n!==(n=M[41].cycle+"")&&ne(l,n),(!R||O[0]&512)&&u!==(u=Mt(M[41].edge_of_baking_over_staking_billionth)+"")&&ne(f,u),(!R||O[0]&516)&&I!==(I=St((M[2]?.governance.delegate?.stakedBalance??0n)*BigInt(M[41].limit_of_staking_over_baking_millionth))+"")&&ne(S,I),(!R||O[0]&512)&&m!==(m=BigInt(M[41].limit_of_staking_over_baking_millionth)/1000000n+"")&&ne(g,m)},i(M){R||(k(N.$$.fragment,M),R=!0)},o(M){C(N.$$.fragment,M),R=!1},d(M){M&&(c(e),c(a),c(o),c(_),c(p),c(L)),z(N,M)}}}function xa(r){let e,t,n,l,i,a,o,s,u;e=new ce({props:{label:"Set Delegate Parameters"}}),e.$on("click",r[27]),l=new ce({props:{label:"Stake"}}),l.$on("click",r[23]);let f=r[2].account.stakedBalance>0n&&tr(r),_=r[2].account.finalizableBalance>0n&&nr(r);return s=new ce({props:{label:"Update Consensus Key"}}),s.$on("click",r[30]),{c(){j(e.$$.fragment),t=P(),n=$("div"),j(l.$$.fragment),i=P(),f&&f.c(),a=P(),_&&_.c(),o=P(),j(s.$$.fragment),this.h()},l(p){q(e.$$.fragment,p),t=V(p),n=b(p,"DIV",{class:!0});var y=w(n);q(l.$$.fragment,y),i=V(y),f&&f.l(y),a=V(y),_&&_.l(y),y.forEach(c),o=V(p),q(s.$$.fragment,p),this.h()},h(){v(n,"class","tools svelte-7t4len")},m(p,y){F(e,p,y),D(p,t,y),D(p,n,y),F(l,n,null),d(n,i),f&&f.m(n,null),d(n,a),_&&_.m(n,null),D(p,o,y),F(s,p,y),u=!0},p(p,y){p[2].account.stakedBalance>0n?f?(f.p(p,y),y[0]&4&&k(f,1)):(f=tr(p),f.c(),k(f,1),f.m(n,a)):f&&(Ie(),C(f,1,1,()=>{f=null}),Ee()),p[2].account.finalizableBalance>0n?_?(_.p(p,y),y[0]&4&&k(_,1)):(_=nr(p),_.c(),k(_,1),_.m(n,null)):_&&(Ie(),C(_,1,1,()=>{_=null}),Ee())},i(p){u||(k(e.$$.fragment,p),k(l.$$.fragment,p),k(f),k(_),k(s.$$.fragment,p),u=!0)},o(p){C(e.$$.fragment,p),C(l.$$.fragment,p),C(f),C(_),C(s.$$.fragment,p),u=!1},d(p){p&&(c(t),c(n),c(o)),z(e,p),z(l),f&&f.d(),_&&_.d(),z(s,p)}}}function ei(r){let e,t,n,l,i=r[2].account.stakedBalance>0n&&rr(r),a=r[2].account.finalizableBalance>0n&&lr(r);return n=new ce({props:{label:"Reactivate Baker"}}),n.$on("click",r[21]),{c(){i&&i.c(),e=P(),a&&a.c(),t=P(),j(n.$$.fragment)},l(o){i&&i.l(o),e=V(o),a&&a.l(o),t=V(o),q(n.$$.fragment,o)},m(o,s){i&&i.m(o,s),D(o,e,s),a&&a.m(o,s),D(o,t,s),F(n,o,s),l=!0},p(o,s){o[2].account.stakedBalance>0n?i?(i.p(o,s),s[0]&4&&k(i,1)):(i=rr(o),i.c(),k(i,1),i.m(e.parentNode,e)):i&&(Ie(),C(i,1,1,()=>{i=null}),Ee()),o[2].account.finalizableBalance>0n?a?(a.p(o,s),s[0]&4&&k(a,1)):(a=lr(o),a.c(),k(a,1),a.m(t.parentNode,t)):a&&(Ie(),C(a,1,1,()=>{a=null}),Ee())},i(o){l||(k(i),k(a),k(n.$$.fragment,o),l=!0)},o(o){C(i),C(a),C(n.$$.fragment,o),l=!1},d(o){o&&(c(e),c(t)),i&&i.d(o),a&&a.d(o),z(n,o)}}}function tr(r){let e,t;return e=new ce({props:{label:"Unstake"}}),e.$on("click",r[24]),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:J,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function nr(r){let e,t;return e=new ce({props:{label:"Finalize Unstake"}}),e.$on("click",r[26]),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:J,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function rr(r){let e,t;return e=new ce({props:{label:"Unstake"}}),e.$on("click",r[24]),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:J,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function lr(r){let e,t;return e=new ce({props:{label:"Finalize Unstake"}}),e.$on("click",r[26]),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:J,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function ti(r){let e,t="<div></div> <div>🌱</div> <div>Donate to TzC</div> <div>🌱</div>";return{c(){e=$("div"),e.innerHTML=t,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-bsbnwv"&&(e.innerHTML=t),this.h()},h(){v(e,"class","donate-btn svelte-7t4len")},m(n,l){D(n,e,l)},p:J,d(n){n&&c(e)}}}function ni(r){let e,t,n,l;const i=[Ya,Ha],a=[];function o(s,u){return s[2].isLoadingDelegate?0:1}return t=o(r),n=a[t]=i[t](r),{c(){e=$("div"),n.c(),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);n.l(u),u.forEach(c),this.h()},h(){v(e,"class","staking svelte-7t4len")},m(s,u){D(s,e,u),a[t].m(e,null),l=!0},p(s,u){let f=t;t=o(s),t===f?a[t].p(s,u):(Ie(),C(a[f],1,1,()=>{a[f]=null}),Ee(),n=a[t],n?n.p(s,u):(n=a[t]=i[t](s),n.c()),k(n,1),n.m(e,null))},i(s){l||(k(n),l=!0)},o(s){C(n),l=!1},d(s){s&&c(e),a[t].d()}}}function ri(r){let e,t,n,l,i;t=new ce({props:{$$slots:{default:[ai]},$$scope:{ctx:r}}}),t.$on("click",r[18]);let a=r[1]!==void 0&&ar(r);return{c(){e=$("div"),j(t.$$.fragment),n=P(),a&&a.c(),l=Re(),this.h()},l(o){e=b(o,"DIV",{class:!0});var s=w(e);q(t.$$.fragment,s),s.forEach(c),n=V(o),a&&a.l(o),l=Re(),this.h()},h(){v(e,"class","redo svelte-7t4len")},m(o,s){D(o,e,s),F(t,e,null),D(o,n,s),a&&a.m(o,s),D(o,l,s),i=!0},p(o,s){const u={};s[1]&32768&&(u.$$scope={dirty:s,ctx:o}),t.$set(u),o[1]!==void 0?a?(a.p(o,s),s[0]&2&&k(a,1)):(a=ar(o),a.c(),k(a,1),a.m(l.parentNode,l)):a&&(Ie(),C(a,1,1,()=>{a=null}),Ee())},i(o){i||(k(t.$$.fragment,o),k(a),i=!0)},o(o){C(t.$$.fragment,o),C(a),i=!1},d(o){o&&(c(e),c(n),c(l)),z(t),a&&a.d(o)}}}function li(r){let e,t;return e=new Yt({props:{progress:"indeterminate",message:"Loading governance state..."}}),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:J,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function ai(r){let e,t,n;return t=new ur({}),{c(){e=$("div"),j(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=w(e);q(t.$$.fragment,i),i.forEach(c),this.h()},h(){v(e,"class","icon svelte-7t4len")},m(l,i){D(l,e,i),F(t,e,null),n=!0},p:J,i(l){n||(k(t.$$.fragment,l),n=!0)},o(l){C(t.$$.fragment,l),n=!1},d(l){l&&c(e),z(t)}}}function ar(r){let e,t,n=r[1]?.info.voting_period.kind+"",l,i,a,o,s,u,f=r[1].info.voting_period.index+"",_,p,y,I,S,E,m,g,h,L;function N(W,Z){return W[13]?si:ii}let R=N(r),M=R(r);S=new He({});const O=[fi,ci,ui,oi],Y=[];function U(W,Z){return W[17]!==void 0?0:W[16]!==void 0?1:W[15]!==void 0?2:3}return m=U(r),g=Y[m]=O[m](r),{c(){e=$("div"),t=$("h5"),l=B(n),i=B(" Period"),a=P(),o=$("div"),s=$("div"),u=B("#"),_=B(f),p=P(),y=$("div"),M.c(),I=P(),j(S.$$.fragment),E=P(),g.c(),h=Re(),this.h()},l(W){e=b(W,"DIV",{class:!0});var Z=w(e);t=b(Z,"H5",{class:!0});var ae=w(t);l=T(ae,n),i=T(ae," Period"),ae.forEach(c),Z.forEach(c),a=V(W),o=b(W,"DIV",{class:!0});var G=w(o);s=b(G,"DIV",{class:!0});var _e=w(s);u=T(_e,"#"),_=T(_e,f),_e.forEach(c),p=V(G),y=b(G,"DIV",{class:!0});var be=w(y);M.l(be),be.forEach(c),G.forEach(c),I=V(W),q(S.$$.fragment,W),E=V(W),g.l(W),h=Re(),this.h()},h(){v(t,"class","svelte-7t4len"),v(e,"class","title svelte-7t4len"),v(s,"class","governance-period-number svelte-7t4len"),v(y,"class","governance-period-remaining svelte-7t4len"),v(o,"class","governance-period-header svelte-7t4len")},m(W,Z){D(W,e,Z),d(e,t),d(t,l),d(t,i),D(W,a,Z),D(W,o,Z),d(o,s),d(s,u),d(s,_),d(o,p),d(o,y),M.m(y,null),D(W,I,Z),F(S,W,Z),D(W,E,Z),Y[m].m(W,Z),D(W,h,Z),L=!0},p(W,Z){(!L||Z[0]&2)&&n!==(n=W[1]?.info.voting_period.kind+"")&&ne(l,n),(!L||Z[0]&2)&&f!==(f=W[1].info.voting_period.index+"")&&ne(_,f),R===(R=N(W))&&M?M.p(W,Z):(M.d(1),M=R(W),M&&(M.c(),M.m(y,null)));let ae=m;m=U(W),m===ae?Y[m].p(W,Z):(Ie(),C(Y[ae],1,1,()=>{Y[ae]=null}),Ee(),g=Y[m],g?g.p(W,Z):(g=Y[m]=O[m](W),g.c()),k(g,1),g.m(h.parentNode,h))},i(W){L||(k(S.$$.fragment,W),k(g),L=!0)},o(W){C(S.$$.fragment,W),C(g),L=!1},d(W){W&&(c(e),c(a),c(o),c(I),c(E),c(h)),M.d(),z(S,W),Y[m].d(W)}}}function ii(r){let e,t,n,l;return{c(){e=B("ends in "),t=B(r[12]),n=B(" blocks ~ "),l=B(r[14])},l(i){e=T(i,"ends in "),t=T(i,r[12]),n=T(i," blocks ~ "),l=T(i,r[14])},m(i,a){D(i,e,a),D(i,t,a),D(i,n,a),D(i,l,a)},p(i,a){a[0]&4096&&ne(t,i[12]),a[0]&16384&&ne(l,i[14])},d(i){i&&(c(e),c(t),c(n),c(l))}}}function si(r){let e;return{c(){e=B("ended")},l(t){e=T(t,"ended")},m(t,n){D(t,e,n)},p:J,d(t){t&&c(e)}}}function oi(r){let e,t=r[1].info.voting_period.kind+"",n,l;return{c(){e=$("div"),n=B(t),l=B(" is not supported yet"),this.h()},l(i){e=b(i,"DIV",{class:!0});var a=w(e);n=T(a,t),l=T(a," is not supported yet"),a.forEach(c),this.h()},h(){v(e,"class","error-message svelte-7t4len")},m(i,a){D(i,e,a),d(e,n),d(e,l)},p(i,a){a[0]&2&&t!==(t=i[1].info.voting_period.kind+"")&&ne(n,t)},i:J,o:J,d(i){i&&c(e)}}}function ui(r){let e,t;return e=new za({props:{period:r[15],periodIndex:r[1].info.voting_period.index}}),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p(n,l){const i={};l[0]&32768&&(i.period=n[15]),l[0]&2&&(i.periodIndex=n[1].info.voting_period.index),e.$set(i)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function ci(r){let e,t;return e=new va({props:{period:r[16],periodIndex:r[1].info.voting_period.index,pkh:r[2]?.account.id,canVote:r[5]}}),e.$on("vote",r[28]),e.$on("upvote",r[29]),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p(n,l){const i={};l[0]&65536&&(i.period=n[16]),l[0]&2&&(i.periodIndex=n[1].info.voting_period.index),l[0]&4&&(i.pkh=n[2]?.account.id),l[0]&32&&(i.canVote=n[5]),e.$set(i)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function fi(r){let e,t;return e=new al({props:{period:r[17],periodIndex:r[1].info.voting_period.index,pkh:r[2]?.account.id,canVote:r[5]}}),e.$on("vote",r[28]),e.$on("upvote",r[29]),{c(){j(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p(n,l){const i={};l[0]&131072&&(i.period=n[17]),l[0]&2&&(i.periodIndex=n[1].info.voting_period.index),l[0]&4&&(i.pkh=n[2]?.account.id),l[0]&32&&(i.canVote=n[5]),e.$set(i)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function di(r){let e,t,n,l;const i=[li,ri],a=[];function o(s,u){return s[2]?.governance?.loadingPeriod?0:1}return t=o(r),n=a[t]=i[t](r),{c(){e=$("div"),n.c(),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=w(e);n.l(u),u.forEach(c),this.h()},h(){v(e,"class","governance-period svelte-7t4len")},m(s,u){D(s,e,u),a[t].m(e,null),l=!0},p(s,u){let f=t;t=o(s),t===f?a[t].p(s,u):(Ie(),C(a[f],1,1,()=>{a[f]=null}),Ee(),n=a[t],n?n.p(s,u):(n=a[t]=i[t](s),n.c()),k(n,1),n.m(e,null))},i(s){l||(k(n),l=!0)},o(s){C(n),l=!1},d(s){s&&c(e),a[t].d()}}}function mi(r){let e,t,n,l,i,a,o,s,u,f,_;const p=[Ua,Wa],y=[];function I(h,L){return h[2]&&h[2].isInitializing?0:h[2]?1:-1}~(t=I(r))&&(n=y[t]=p[t](r));let S={};i=new Tr({props:S}),r[34](i);let E={};o=new Sa({props:E}),r[35](o);function m(h){r[36](h)}let g={opHash:r[8],explorerTemplate:r[2]?.account.explorer??"",error:r[6],allowClose:!1,stage:r[7]};return r[0]!==void 0&&(g.open=r[0]),u=new Ia({props:g}),Ue.push(()=>tt(u,"open",m)),{c(){e=$("div"),n&&n.c(),l=P(),j(i.$$.fragment),a=P(),j(o.$$.fragment),s=P(),j(u.$$.fragment),this.h()},l(h){e=b(h,"DIV",{class:!0});var L=w(e);n&&n.l(L),L.forEach(c),l=V(h),q(i.$$.fragment,h),a=V(h),q(o.$$.fragment,h),s=V(h),q(u.$$.fragment,h),this.h()},h(){v(e,"class","home-wrap svelte-7t4len")},m(h,L){D(h,e,L),~t&&y[t].m(e,null),D(h,l,L),F(i,h,L),D(h,a,L),F(o,h,L),D(h,s,L),F(u,h,L),_=!0},p(h,L){let N=t;t=I(h),t===N?~t&&y[t].p(h,L):(n&&(Ie(),C(y[N],1,1,()=>{y[N]=null}),Ee()),~t?(n=y[t],n?n.p(h,L):(n=y[t]=p[t](h),n.c()),k(n,1),n.m(e,null)):n=null);const R={};i.$set(R);const M={};o.$set(M);const O={};L[0]&256&&(O.opHash=h[8]),L[0]&4&&(O.explorerTemplate=h[2]?.account.explorer??""),L[0]&64&&(O.error=h[6]),L[0]&128&&(O.stage=h[7]),!f&&L[0]&1&&(f=!0,O.open=h[0],et(()=>f=!1)),u.$set(O)},i(h){_||(k(n),k(i.$$.fragment,h),k(o.$$.fragment,h),k(u.$$.fragment,h),_=!0)},o(h){C(n),C(i.$$.fragment,h),C(o.$$.fragment,h),C(u.$$.fragment,h),_=!1},d(h){h&&(c(e),c(l),c(a),c(s)),~t&&y[t].d(),r[34](null),z(i,h),r[35](null),z(o,h),z(u,h)}}}function vi(r,e,t){let n,l,i,a,o,s,u,f,_,p,y,I,S,E;fr(r,we,A=>t(2,E=A));let m,g,h,L,N="building",R,M=!1;async function O(){await we.refreshGovernanceState()}async function Y(){await we.refreshDelegate()}async function U(A){try{t(0,M=!0),t(7,N="building");const oe=await A(),se=await oe.send();t(8,R=se.ophash),t(7,N="confirming"),await oe.confirmation(),t(7,N="applied")}catch(oe){t(7,N="failed"),t(6,L=oe.message)}}async function W(){const A=await m.prompt({title:"Delegate",message:"Enter the address you want to delegate to",value:"",rules:[oe=>oe===""||gr(oe)===3||"Invalid address"],confirmText:"Delegate"});await U(async()=>await we.delegate(A)),await we.refreshDelegate()}async function Z(){await U(async()=>await we.delegate(E?.account.id)),await we.refreshDelegate()}async function ae(){await U(async()=>await we.delegate()),await we.refreshDelegate()}const G=[A=>!!A||"Amount can not be empty",A=>!isNaN(Number(A))||"Amount must be a number",A=>Number(A)>0||"Amount must be greater than 0",A=>Number(A)<Number((E?.account.fullBalance??0n)-(E?.account.stakedBalance??0n))/kt||"Amount must be less than your balance"];async function _e(){const A=await m.prompt({title:"Stake",message:"Enter the amount you want to stake",value:"0",rules:G,confirmText:"Stake"}),oe=BigInt(Math.floor(Number(A)*kt));await U(async()=>await we.stake(oe)),await Promise.allSettled([we.refreshDelegate(),we.refreshBalance()])}const be=[A=>!!A||"Amount can not be empty",A=>!isNaN(Number(A))||"Amount must be a number",A=>Number(A)>0||"Amount must be greater than 0",A=>Number(A)<Number(E?.account.stakedBalance??0n)/kt||"Amount must be less than your balance"];async function Se(){const A=await m.prompt({title:"Unstake",message:"Enter the amount you want to unstake",value:"0",rules:be,confirmText:"Unstake"}),oe=BigInt(Math.floor(Number(A)*kt));await U(async()=>await we.unstake(oe)),await Promise.allSettled([we.refreshDelegate(),we.refreshBalance()])}const ke=[A=>!!A||"Amount can not be empty",A=>!isNaN(Number(A))||"Amount must be a number",A=>Number(A)>0||"Amount must be greater than 0",A=>Number(A)<Number(E?.account.balance??0n)/kt||"Amount must be less than your balance"];async function Pe(){const A=await m.prompt({title:"Donate",message:"Enter the amount TEZ you want to donate",value:"1",rules:ke,confirmText:"Donate"}),oe=BigInt(Number(A)*kt);await U(async()=>await we.donate(oe)),await we.refreshBalance()}async function fe(){await U(async()=>await we.finalizeUnstake()),await Promise.allSettled([we.refreshDelegate(),we.refreshBalance()])}async function x(){const A=E?.governance.delegate?.activeStakingParameters,oe=E?.governance.delegate?.pendingStakingParameters;let se=A?A.edge_of_baking_over_staking_billionth/1e7:0;const Ce=hr(oe);Ce&&(se=Ce.edge_of_baking_over_staking_billionth/1e7);let X=A?A.limit_of_staking_over_baking_millionth/1e6:0;Ce&&(X=Ce.limit_of_staking_over_baking_millionth/1e6);const{edge:le,limit:ie}=await g.prompt({value:{edge:se,limit:X}});await U(async()=>await we.setDelegateParameters(le/100,ie)),await we.refreshDelegate()}async function ee(A){await U(async()=>await we.vote(A.detail.proposal,A.detail.ballot,A.detail.period))}async function me(A){await U(async()=>await we.upvote(A.detail.proposals,A.detail.period))}async function pe(){const A=await m.prompt({title:"Update Consensus Key",message:"Enter the new consensus key",value:"",rules:[oe=>!!oe||"Key can not be empty",oe=>pr(oe)===3||"Invalid public key"],confirmText:"Update Consensus Key"});await U(async()=>await we.updateConesusKey(A)),await we.refreshDelegate()}function he(A){Ue[A?"unshift":"push"](()=>{m=A,t(3,m)})}function re(A){Ue[A?"unshift":"push"](()=>{g=A,t(4,g)})}function Q(A){M=A,t(0,M)}return r.$$.update=()=>{r.$$.dirty[0]&4&&t(1,n=E?.governance?.period),r.$$.dirty[0]&2&&t(33,l=n?.voters??[]),r.$$.dirty[0]&4|r.$$.dirty[1]&4&&t(5,h=l.find(A=>A.pkh===E?.account.id)!==void 0),r.$$.dirty[0]&2&&t(17,i=n?.info.voting_period.kind==="proposal"?Aa(n):void 0),r.$$.dirty[0]&2&&t(16,a=["exploration","promotion"].includes(n?.info.voting_period.kind??"unknown")?Ra(n):void 0),r.$$.dirty[0]&2&&t(15,o=["testing","adoption"].includes(n?.info.voting_period.kind??"unknown")?n:void 0),r.$$.dirty[0]&2&&t(31,s=n?.block),r.$$.dirty[0]&2|r.$$.dirty[1]&1&&t(32,u=Ba(n?.info,s)),r.$$.dirty[1]&2&&t(14,f=ea(u,{addSuffix:!0})),r.$$.dirty[1]&2&&t(13,_=u<new Date),r.$$.dirty[0]&2|r.$$.dirty[1]&1&&t(12,p=n?.info&&Ta(n?.info,s)),r.$$.dirty[0]&1&&(M||(t(6,L=void 0),t(8,R=void 0),t(7,N="building"))),r.$$.dirty[0]&4&&t(11,y=Mt(E?.governance.delegate?.activeStakingParameters?.edge_of_baking_over_staking_billionth??0)),r.$$.dirty[0]&4&&t(10,I=St((E?.governance.delegate?.stakedBalance??0n)*BigInt(E?.governance.delegate?.activeStakingParameters?.limit_of_staking_over_baking_millionth??0))),r.$$.dirty[0]&4&&t(9,S=E?.governance.delegate?.pendingStakingParameters??[])},[M,n,E,m,g,h,L,N,R,S,I,y,p,_,f,o,a,i,O,Y,W,Z,ae,_e,Se,Pe,fe,x,ee,me,pe,s,u,l,he,re,Q]}class hi extends je{constructor(e){super(),qe(this,e,vi,mi,Oe,{},null,[-1,-1])}}export{hi as component};
