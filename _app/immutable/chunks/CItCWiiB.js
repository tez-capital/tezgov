import"./CWj6FrbW.js";import{a9 as ae,k as q,y as te,aa as le,ab as me,a2 as he,b as E,p as we,f as D,d as c,s as I,m as s,a3 as p,r as f,t as F,a4 as ye,c as pe,a6 as ke}from"./C-S9Tcds.js";import{l as ne,s as Y,e as C,d as ge}from"./DwdxVzkQ.js";import{p as u,r as xe,b as Ee,i as H}from"./BOcg6rm_.js";import{r as Le,a as Se,C as Ae,s as $}from"./BINBZkZd.js";import{a as N}from"./BujL7lQb.js";import{v as ee,A as Ie,c as B}from"./DQ8GHELM.js";import"./D2L-7Bwy.js";import{v as Ce}from"./DNF-pnf_.js";function Ne(e,a,r){ae(()=>{var l=q(()=>a(e,r?.())||{});if(l?.destroy)return()=>l.destroy()})}function Be(e,a,r=a){var l=me();ne(e,"input",v=>{var i=v?e.defaultValue:e.value;if(i=Z(e)?j(i):i,r(i),l&&i!==(i=a())){var k=e.selectionStart,d=e.selectionEnd;e.value=i??"",d!==null&&(e.selectionStart=k,e.selectionEnd=Math.min(d,e.value.length))}}),(te&&e.defaultValue!==e.value||q(a)==null&&e.value)&&r(Z(e)?j(e.value):e.value),le(()=>{var v=a();Z(e)&&v===j(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function We(e,a,r=a){ne(e,"change",l=>{var v=l?e.defaultChecked:e.checked;r(v)}),(te&&e.defaultChecked!==e.checked||q(a)==null)&&r(e.checked),le(()=>{var l=a();e.checked=!!l})}function Z(e){var a=e.type;return a==="number"||a==="range"}function j(e){return e===""?null:+e}var De=he('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16 6.59375 L 15.28125 7.28125 L 2.78125 19.78125 L 4.21875 21.21875 L 16 9.4375 L 27.78125 21.21875 L 29.21875 19.78125 L 16.71875 7.28125 Z"></path></svg>');function Me(e){var a=De();E(e,a)}var Re=(e,a)=>["Enter"," "].includes(e.key)&&a(),Te=D('<div class="label-wrap svelte-wa8ont"><label> </label></div>'),Ve=(e,a,r)=>a(()=>r(Number(r())+1)),Fe=(e,a,r)=>a(()=>r(Number(r())-1)),He=D('<div class="arrows svelte-wa8ont"><button class="unstyle-button arrow svelte-wa8ont" aria-label="Decrease value"><!></button> <button class="unstyle-button arrow svelte-wa8ont" aria-label="Decrease value"><!></button></div>'),Ze=D("<span> </span>"),je=D('<div role="button" tabindex="0"><div><input/> <!> <!> <!></div></div>');function Xe(e,a){we(a,!0);let r=u(a,"id",19,Ce),l=u(a,"value",31,()=>""),v=u(a,"label",3,""),i=u(a,"invalid",3,!1),k=u(a,"disabled",3,!1),d=u(a,"hint",3,""),z=u(a,"type",3,"text"),G=u(a,"rules",19,()=>[]),J=u(a,"no_label",3,!1),re=xe(a,["$$slots","$$events","$$legacy","id","value","label","invalid","disabled","hint","type","rules","no_label"]),g=p(()=>ee(l(),G())!==!0),M=p(()=>i()===!0?d():s(g)?ee(l(),G()).toString():""),L=ye(!1);function K(t){ke(L,t,!0)}let R;function S(){R.focus()}function se(t){t.type=z()}let O,P;function A(t){t(),P=setTimeout(()=>{O=setInterval(t,50)},500)}function h(){clearTimeout(P),clearInterval(O)}var b=je();let Q;b.__click=S,b.__keydown=[Re,S];var T=c(b);let U;var w=c(T);Le(w);var oe=()=>K(!0),ve=()=>K(!1);Se(w,t=>({id:r(),...re,onfocus:oe,onblur:ve,[Ae]:t}),[()=>({shift:!J()})],"svelte-wa8ont"),Ee(w,t=>R=t,()=>R),ae(()=>Be(w,l)),Ne(w,t=>se?.(t));var W=I(w,2);{var ie=t=>{var o=Te(),n=c(o);let y;var x=c(n,!0);f(n),f(o),F(V=>{$(n,"for",r()),y=N(n,1,"label svelte-wa8ont",null,y,V),Y(x,v())},[()=>({"label-shifted":s(L)||l().toString(),"invalid-text":s(g)})]),E(t,o)};H(W,t=>{J()||t(ie)})}var X=I(W,2);{var ue=t=>{var o=He(),n=c(o);n.__mousedown=[Ve,A,l],n.__mouseup=h;var y=p(()=>B(["Enter"," "],()=>A(()=>l(Number(l())+1))));n.__keydown=function(...m){s(y)?.apply(this,m)};var x=p(()=>B(["Enter"," "],h));n.__keyup=function(...m){s(x)?.apply(this,m)};var V=c(n);Me(V),f(n);var _=I(n,2);_.__mousedown=[Fe,A,l],_.__mouseup=h;var ce=p(()=>B(["Enter"," "],()=>A(()=>l(Number(l())-1))));_.__keydown=function(...m){s(ce)?.apply(this,m)};var fe=p(()=>B(["Enter"," "],h));_.__keyup=function(...m){s(fe)?.apply(this,m)};var be=c(_);Ie(be),f(_),f(o),C("mouseleave",n,h),C("focus",n,S),C("mouseleave",_,h),C("focus",_,S),E(t,o)};H(X,t=>{z()==="number"&&t(ue)})}var de=I(X,2);{var _e=t=>{var o=Ze();let n;var y=c(o,!0);f(o),F(x=>{n=N(o,1,"hint svelte-wa8ont",null,n,x),Y(y,s(M)||d())},[()=>({hidden:k()||!s(M)&&!d(),"invalid-text":s(g),"hint-visible":s(L)||s(g)})]),E(t,o)};H(de,t=>{(d()||s(M))&&t(_e)})}f(T),f(b),F((t,o)=>{Q=N(b,1,"input-wrap svelte-wa8ont",null,Q,t),$(b,"aria-disabled",k()),U=N(T,1,"input-wrap-internal svelte-wa8ont",null,U,o)},[()=>({"input-wrap-hint-margin":d()!==void 0,focused:s(L),disabled:k()}),()=>({invalid:s(g)})]),E(e,b),pe()}ge(["click","keydown","mousedown","mouseup","keyup"]);export{Xe as I,We as b};
