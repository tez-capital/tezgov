import{o as d,q as U,v as k,E,w as R,x,y as z}from"./D8c3ok0p.js";function F(e,o,t){d&&U();var r=e,a,n;k(()=>{a!==(a=o())&&(n&&(x(n),n=null),a&&(n=R(()=>t(r,a))))},E),d&&(r=z)}const s="en",L=["en","es"],w="PARAGLIDE_LOCALE",j=3456e4,b=["cookie","globalVariable","baseLocale"];globalThis.__paraglide={};let c,h=!1,f=()=>{let e;for(const o of b)if(o==="cookie"?e=_():o==="baseLocale"?e=s:o==="globalVariable"&&c!==void 0?e=c:y(o)&&i.has(o)&&(e=i.get(o).getLocale()),e!==void 0){const t=S(e);return h||(c=t,h=!0,v(t,{reload:!1})),t}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")},v=(e,o)=>{const t={reload:!0,...o};let r;try{r=f()}catch{}for(const a of b)if(a==="globalVariable")c=e;else if(a==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const n=window.location.hostname;document.cookie=`${w}=${e}; path=/; max-age=${j}; domain=${n}`}else{if(a==="baseLocale")continue;y(a)&&i.has(a)&&i.get(a).setLocale(e)}t.reload&&window.location&&e!==r&&window.location.reload()},u=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function l(e){return e?L.includes(e):!1}function S(e){if(l(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${L.join(", ")}`);return e}function _(){if(typeof document>"u"||!document.cookie)return;const o=document.cookie.match(new RegExp(`(^| )${w}=([^;]+)`))?.[2];if(l(o))return o}let m,g;function $(e){const o=typeof e=="string"?e:e.href;if(m===o)return g;let t;return t=A(e),m=o,g=t,t}function A(e){const t=new URL(e,"http://dummy.com").pathname.split("/").filter(Boolean);if(t.length>0){const r=t[0];if(l(r))return r}return s}function p(e,o){return C(e,o)}function C(e,o){const t=typeof e=="string"?new URL(e,u()):new URL(e),r=o?.locale??f();if($(t)===r)return t;const n=t.pathname.split("/").filter(Boolean);return n.length>0&&l(n[0])&&n.shift(),r===s?t.pathname="/"+n.join("/"):t.pathname="/"+r+"/"+n.join("/"),t}function I(e){return O(e)}function O(e){const o=typeof e=="string"?new URL(e,u()):new URL(e),t=o.pathname.split("/").filter(Boolean);return t.length>0&&l(t[0])&&(o.pathname="/"+t.slice(1).join("/")),o}function N(e,o){const t=f(),r=o?.locale??t,a=new URL(e,u()),n=p(a,{locale:r});return e.startsWith("/")&&a.origin===n.origin?r!==t&&p(a,{locale:t}).origin!==n.origin?n.href:n.pathname+n.search+n.hash:n.href}const i=new Map;function y(e){return typeof e=="string"&&/^custom-[A-Za-z0-9]+$/.test(e)}export{N as a,F as c,I as d,L as l};
