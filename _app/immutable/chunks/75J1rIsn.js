import"./CWj6FrbW.js";import{p as W,a6 as P,a7 as z,a8 as u,f as k,d as o,s as g,m as t,r as i,t as y,a5 as X,b as v,a9 as C,a as T,c as Y}from"./zf1WrKjG.js";import{b as A,s as D}from"./C4ZcjmJS.js";import{i as j,s as Z}from"./CG0HDjPF.js";import{s as L,a as $}from"./BkPAUj_K.js";import{O as ee}from"./DYoLSZhE.js";import{I as te}from"./DK2Fnc-n.js";import{U as ae}from"./BUnv9UM3.js";import{v as re}from"./BMLMmTrz.js";import{B as N}from"./Bb7xfo9i.js";var se=k('<h3 class="title svelte-4mtex8"> </h3>'),le=k('<p class="message svelte-4mtex8"> </p>'),oe=k('<div class="prompt-wrap sl-card svelte-4mtex8"><!> <!> <!> <div class="controls padding-top svelte-4mtex8"><div class="control-button svelte-4mtex8"><!></div> <div><!></div></div></div>');function ge(R,n){W(n,!0);const E={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let a=P(z(E)),d=P(!1),x=P(z({resolve:()=>p(),reject:()=>p()}));function p(){u(d,!1)}async function S(m){return u(d,!0),u(a,{...E,...m},!0),new Promise((w,c)=>{u(x,{resolve:l=>{p(),w(l)},reject:l=>{p(),c(l)}},!0)})}let q=X(()=>re(t(a).value,t(a).rules)!==!0);return ee(R,{persistent:!0,get open(){return t(d)},set open(m){u(d,m,!0)},children:(m,w)=>{var c=oe(),l=o(c);{var F=e=>{var r=C(),s=T(r);A(s,()=>n.title,()=>t(a)),v(e,r)},G=e=>{var r=se(),s=o(r,!0);i(r),y(()=>D(s,t(a).title)),v(e,r)};j(l,e=>{n.title?e(F):e(G,!1)})}var B=g(l,2);{var H=e=>{var r=C(),s=T(r);A(s,()=>n.message,()=>t(a)),v(e,r)},J=e=>{var r=C(),s=T(r);{var Q=b=>{var h=le(),V=o(h,!0);i(h),y(()=>D(V,t(a).message)),v(b,h)};j(s,b=>{t(a).message&&b(Q)},!0)}v(e,r)};j(B,e=>{n.message?e(H):e(J,!1)})}var I=g(B,2);te(I,Z(()=>t(a),{no_label:!0,get value(){return t(a).value},set value(e){t(a).value=e}}));var O=g(I,2),f=o(O);L(f,"",{},{"grid-column":"1"});var K=o(f);N(K,{get label(){return t(a).cancelText},onclick:()=>t(x).reject(ae)}),i(f);var _=g(f,2);let U;L(_,"",{},{"grid-column":"3"});var M=o(_);N(M,{get label(){return t(a).confirmText},onclick:()=>t(x).resolve(t(a).value)}),i(_),i(O),i(c),y(e=>U=$(_,1,"control-button svelte-4mtex8",null,U,e),[()=>({disabled:t(q)})]),v(m,c)},$$slots:{default:!0}}),Y({prompt:S})}export{ge as P};
