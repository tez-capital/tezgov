import"./CWj6FrbW.js";import{p as X,a6 as P,a7 as z,a8 as u,f as k,d as o,s as g,m as t,r as i,t as y,a5 as Y,b as v,a9 as C,a as T,c as Z}from"./BRl2jpNx.js";import{b as A,s as D}from"./sbBntvV9.js";import{i as j,s as $}from"./Bho5j6Xg.js";import{s as L,a as ee}from"./CX-b4V96.js";import{O as te}from"./DE1kpdRr.js";import{I as ae}from"./93aSxJ1j.js";import{U as re}from"./BUnv9UM3.js";import{v as se}from"./CZTjl2wc.js";import{B as N}from"./ottDYDBR.js";var le=k('<h3 class="title svelte-1h9feib"> </h3>'),oe=k('<p class="message svelte-1h9feib"> </p>'),ie=k('<div class="prompt-wrap sl-card svelte-1h9feib"><!> <!> <!> <div class="controls padding-top svelte-1h9feib"><div class="control-button svelte-1h9feib"><!></div> <div><!></div></div></div>');function be(R,n){X(n,!0);const E={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let a=P(z(E)),f=P(!1),b=P(z({resolve:()=>d(),reject:()=>d()}));function d(){u(f,!1)}async function S(m){return u(f,!0),u(a,{...E,...m},!0),new Promise((w,c)=>{u(b,{resolve:l=>{d(),w(l)},reject:l=>{d(),c(l)}},!0)})}let q=Y(()=>se(t(a).value,t(a).rules)!==!0);var F={prompt:S};return te(R,{persistent:!0,get open(){return t(f)},set open(m){u(f,m,!0)},children:(m,w)=>{var c=ie(),l=o(c);{var G=e=>{var r=C(),s=T(r);A(s,()=>n.title,()=>t(a)),v(e,r)},H=e=>{var r=le(),s=o(r,!0);i(r),y(()=>D(s,t(a).title)),v(e,r)};j(l,e=>{n.title?e(G):e(H,!1)})}var B=g(l,2);{var J=e=>{var r=C(),s=T(r);A(s,()=>n.message,()=>t(a)),v(e,r)},K=e=>{var r=C(),s=T(r);{var V=h=>{var x=oe(),W=o(x,!0);i(x),y(()=>D(W,t(a).message)),v(h,x)};j(s,h=>{t(a).message&&h(V)},!0)}v(e,r)};j(B,e=>{n.message?e(J):e(K,!1)})}var I=g(B,2);ae(I,$(()=>t(a),{no_label:!0,get value(){return t(a).value},set value(e){t(a).value=e}}));var O=g(I,2),p=o(O);L(p,"",{},{"grid-column":"1"});var M=o(p);N(M,{get label(){return t(a).cancelText},onclick:()=>t(b).reject(re)}),i(p);var _=g(p,2);let U;L(_,"",{},{"grid-column":"3"});var Q=o(_);N(Q,{get label(){return t(a).confirmText},onclick:()=>t(b).resolve(t(a).value)}),i(_),i(O),i(c),y(e=>U=ee(_,1,"control-button svelte-1h9feib",null,U,e),[()=>({disabled:t(q)})]),v(m,c)},$$slots:{default:!0}}),Z(F)}export{be as P};
