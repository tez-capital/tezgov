import{b as he,a as L,f as M}from"./DljAxy3Z.js";import{aC as te,e as z,aD as le,y as re,ad as se,K as S,aE as ye,aF as ke,p as pe,c as _,s as N,m as s,a2 as w,r as f,t as W,a3 as we,a as ge,a5 as Ee}from"./BlY1XL9l.js";import{s as $,e as D,d as xe}from"./CcIOLF5O.js";import{p as d,r as Se,b as Le,i as Z}from"./D8UL9bPb.js";import{a as Ae,C as Ie,b as ee}from"./BtqFYaCn.js";import{a as B}from"./CNTQov_x.js";import{v as ae,A as Ce,c as F}from"./DKXWUxSp.js";import"./O2sXIbCd.js";import{v as Ne}from"./CirM8hdF.js";function De(e,a,v){te(()=>{var l=z(()=>a(e,v?.())||{});if(l?.destroy)return()=>l.destroy()})}function Be(e,a,v=a){var l=new WeakSet;le(e,"input",async i=>{var n=i?e.defaultValue:e.value;if(n=j(e)?q(n):n,v(n),S!==null&&l.add(S),await ye(),n!==(n=a())){var y=e.selectionStart,u=e.selectionEnd,g=e.value.length;if(e.value=n??"",u!==null){var b=e.value.length;y===u&&u===g&&b>g?(e.selectionStart=b,e.selectionEnd=b):(e.selectionStart=y,e.selectionEnd=Math.min(u,b))}}}),(re&&e.defaultValue!==e.value||z(a)==null&&e.value)&&(v(j(e)?q(e.value):e.value),S!==null&&l.add(S)),se(()=>{var i=a();if(e===document.activeElement){var n=ke??S;if(l.has(n))return}j(e)&&i===q(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Pe(e,a,v=a){le(e,"change",l=>{var i=l?e.defaultChecked:e.checked;v(i)}),(re&&e.defaultChecked!==e.checked||z(a)==null)&&v(e.checked),se(()=>{var l=a();e.checked=!!l})}function j(e){var a=e.type;return a==="number"||a==="range"}function q(e){return e===""?null:+e}var Fe=he('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16 6.59375 L 15.28125 7.28125 L 2.78125 19.78125 L 4.21875 21.21875 L 16 9.4375 L 27.78125 21.21875 L 29.21875 19.78125 L 16.71875 7.28125 Z"></path></svg>');function Me(e){var a=Fe();L(e,a)}var Re=M('<div class="label-wrap svelte-u3edo6"><label> </label></div>'),Te=M('<div class="arrows svelte-u3edo6"><button class="unstyle-button arrow svelte-u3edo6" aria-label="Decrease value"><!></button> <button class="unstyle-button arrow svelte-u3edo6" aria-label="Decrease value"><!></button></div>'),Ve=M("<span> </span>"),He=M('<div role="button" tabindex="0"><div><input/> <!> <!> <!></div></div>');function Qe(e,a){pe(a,!0);let v=d(a,"id",19,Ne),l=d(a,"value",31,()=>""),i=d(a,"label",3,""),n=d(a,"invalid",3,!1),y=d(a,"disabled",3,!1),u=d(a,"hint",3,""),g=d(a,"type",3,"text"),b=d(a,"rules",19,()=>[]),G=d(a,"no_label",3,!1),ne=Se(a,["$$slots","$$events","$$legacy","id","value","label","invalid","disabled","hint","type","rules","no_label"]),E=w(()=>n()||ae(l(),b())!==!0),R=w(()=>n()===!0?u():s(E)?ae(l(),b()).toString():""),A=we(!1);function J(t){Ee(A,t,!0)}let T;function I(){T.focus()}function oe(t){t.type=g()}let O,P;function C(t){t(),P=setTimeout(()=>{O=setInterval(t,50)},500)}function k(){clearTimeout(P),clearInterval(O)}var m=He();let Q;m.__click=I,m.__keydown=t=>["Enter"," "].includes(t.key)&&I();var V=_(m);let U;var x=_(V),ve=()=>J(!0),ie=()=>J(!1);Ae(x,()=>({id:v(),...ne,onfocus:ve,onblur:ie,[Ie]:{shift:!G()}}),void 0,void 0,void 0,"svelte-u3edo6",!0),Le(x,t=>T=t,()=>T),te(()=>Be(x,l)),De(x,t=>oe?.(t));var X=N(x,2);{var ue=t=>{var o=Re(),r=_(o);let p;var H=_(r,!0);f(r),f(o),W(K=>{ee(r,"for",v()),p=B(r,1,"label svelte-u3edo6",null,p,K),$(H,i())},[()=>({"label-shifted":s(A)||l().toString(),"invalid-text":s(E)})]),L(t,o)};Z(X,t=>{G()||t(ue)})}var Y=N(X,2);{var de=t=>{var o=Te(),r=_(o);r.__mousedown=()=>C(()=>l(Number(l())+1)),r.__mouseup=k;var p=w(()=>F(["Enter"," "],()=>C(()=>l(Number(l())+1))));r.__keydown=function(...h){s(p)?.apply(this,h)};var H=w(()=>F(["Enter"," "],k));r.__keyup=function(...h){s(H)?.apply(this,h)};var K=_(r);Me(K),f(r);var c=N(r,2);c.__mousedown=()=>C(()=>l(Number(l())-1)),c.__mouseup=k;var fe=w(()=>F(["Enter"," "],()=>C(()=>l(Number(l())-1))));c.__keydown=function(...h){s(fe)?.apply(this,h)};var be=w(()=>F(["Enter"," "],k));c.__keyup=function(...h){s(be)?.apply(this,h)};var me=_(c);Ce(me),f(c),f(o),D("mouseleave",r,k),D("focus",r,I),D("mouseleave",c,k),D("focus",c,I),L(t,o)};Z(Y,t=>{g()==="number"&&t(de)})}var ce=N(Y,2);{var _e=t=>{var o=Ve();let r;var p=_(o,!0);f(o),W(()=>{r=B(o,1,"hint svelte-u3edo6",null,r,{hidden:y()||!s(R)&&!u(),"invalid-text":s(E),"hint-visible":s(A)||s(E)}),$(p,s(R)||u())}),L(t,o)};Z(ce,t=>{(u()||s(R))&&t(_e)})}f(V),f(m),W(()=>{Q=B(m,1,"input-wrap svelte-u3edo6",null,Q,{"input-wrap-hint-margin":u()!==void 0,focused:s(A),disabled:y()}),ee(m,"aria-disabled",y()),U=B(V,1,"input-wrap-internal svelte-u3edo6",null,U,{invalid:s(E)})}),L(e,m),ge()}xe(["click","keydown","mousedown","mouseup","keyup"]);export{Qe as I,Pe as b};
