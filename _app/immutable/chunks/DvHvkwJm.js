import"./CWj6FrbW.js";import{p as V,a4 as P,a5 as O,a6 as c,f as T,d as o,s as g,m as t,r as i,t as y,a3 as W,b as u,a7 as U,a as z,c as X}from"./C-S9Tcds.js";import{b as A,s as D}from"./DwdxVzkQ.js";import{i as C,s as Y}from"./BOcg6rm_.js";import{s as L,a as Z}from"./6JxTeoFN.js";import{O as $}from"./CLr1T2cw.js";import{I as ee}from"./D5LGFbxf.js";import{U as te}from"./BUnv9UM3.js";import{v as ae}from"./DQ8GHELM.js";import{B as N}from"./CNZpNcpS.js";var se=T('<h3 class="title svelte-4mtex8"> </h3>'),re=T('<p class="message svelte-4mtex8"> </p>'),le=T('<div class="prompt-wrap sl-card svelte-4mtex8"><!> <!> <!> <div class="controls padding-top svelte-4mtex8"><div class="control-button svelte-4mtex8"><!></div> <div><!></div></div></div>');function _e(R,v){V(v,!0);const j={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let a=P(O(j)),d=P(!1),x=P(O({resolve:()=>p(),reject:()=>p()}));function p(){c(d,!1)}async function S(n){return c(d,!0),c(a,{...j,...n},!0),new Promise((k,m)=>{c(x,{resolve:l=>{p(),k(l)},reject:l=>{p(),m(l)}},!0)})}let q=W(()=>ae(t(a).value,t(a).rules)!==!0);return $(R,{persistent:!0,get open(){return t(d)},set open(n){c(d,n,!0)},children:(n,k)=>{var m=le(),l=o(m);{var F=e=>{var s=U(),r=z(s);A(r,()=>v.title,()=>t(a)),u(e,s)},G=e=>{var s=se(),r=o(s,!0);i(s),y(()=>D(r,t(a).title)),u(e,s)};C(l,e=>{v.title?e(F):e(G,!1)})}var E=g(l,2);{var H=e=>{var s=U(),r=z(s);A(r,()=>v.message,()=>t(a)),u(e,s)},J=(e,s)=>{{var r=b=>{var h=re(),Q=o(h,!0);i(h),y(()=>D(Q,t(a).message)),u(b,h)};C(e,b=>{t(a).message&&b(r)},s)}};C(E,e=>{v.message?e(H):e(J,!1)})}var w=g(E,2);ee(w,Y(()=>t(a),{no_label:!0,get value(){return t(a).value},set value(e){t(a).value=e}}));var B=g(w,2),f=o(B);L(f,"",{},{"grid-column":"1"});var K=o(f);N(K,{get label(){return t(a).cancelText},onclick:()=>t(x).reject(te)}),i(f);var _=g(f,2);let I;L(_,"",{},{"grid-column":"3"});var M=o(_);N(M,{get label(){return t(a).confirmText},onclick:()=>t(x).resolve(t(a).value)}),i(_),i(B),i(m),y(e=>I=Z(_,1,"control-button svelte-4mtex8",null,I,e),[()=>({disabled:t(q)})]),u(n,m)},$$slots:{default:!0}}),X({prompt:S})}export{_e as P};
