import"./CWj6FrbW.js";import{ab as te,j as G,ac as le,y as re,ad as se,L as S,ae as he,af as ye,a4 as ke,b as A,p as we,f as T,d as c,s as B,m as n,a5 as p,r as f,t as W,a6 as pe,c as ge,a8 as xe}from"./BRl2jpNx.js";import{s as $,e as D,d as Ee}from"./sbBntvV9.js";import{p as d,r as Le,b as Se,i as Z}from"./Bho5j6Xg.js";import{a as Ae,C as Ie,s as ee}from"./caPnfjq9.js";import{a as M}from"./C21x82-N.js";import{v as ae,A as Ce,c as R}from"./CZTjl2wc.js";import"./B13X35xP.js";import{v as Ne}from"./CirM8hdF.js";function Be(e,a,s){te(()=>{var l=G(()=>a(e,s?.())||{});if(l?.destroy)return()=>l.destroy()})}function De(e,a,s=a){var l=new WeakSet;le(e,"input",async i=>{var v=i?e.defaultValue:e.value;if(v=q(e)?z(v):v,s(v),S!==null&&l.add(S),await he(),v!==(v=a())){var y=e.selectionStart,u=e.selectionEnd,g=e.value.length;if(e.value=v??"",u!==null){var b=e.value.length;y===u&&u===g&&b>g?(e.selectionStart=b,e.selectionEnd=b):(e.selectionStart=y,e.selectionEnd=Math.min(u,b))}}}),(re&&e.defaultValue!==e.value||G(a)==null&&e.value)&&(s(q(e)?z(e.value):e.value),S!==null&&l.add(S)),se(()=>{var i=a();if(e===document.activeElement){var v=ye??S;if(l.has(v))return}q(e)&&i===z(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Xe(e,a,s=a){le(e,"change",l=>{var i=l?e.defaultChecked:e.checked;s(i)}),(re&&e.defaultChecked!==e.checked||G(a)==null)&&s(e.checked),se(()=>{var l=a();e.checked=!!l})}function q(e){var a=e.type;return a==="number"||a==="range"}function z(e){return e===""?null:+e}var Me=ke('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16 6.59375 L 15.28125 7.28125 L 2.78125 19.78125 L 4.21875 21.21875 L 16 9.4375 L 27.78125 21.21875 L 29.21875 19.78125 L 16.71875 7.28125 Z"></path></svg>');function Re(e){var a=Me();A(e,a)}var Te=(e,a)=>["Enter"," "].includes(e.key)&&a(),Ve=T('<div class="label-wrap svelte-u3edo6"><label> </label></div>'),je=(e,a,s)=>a(()=>s(Number(s())+1)),Fe=(e,a,s)=>a(()=>s(Number(s())-1)),He=T('<div class="arrows svelte-u3edo6"><button class="unstyle-button arrow svelte-u3edo6" aria-label="Decrease value"><!></button> <button class="unstyle-button arrow svelte-u3edo6" aria-label="Decrease value"><!></button></div>'),We=T("<span> </span>"),Ze=T('<div role="button" tabindex="0"><div><input/> <!> <!> <!></div></div>');function Ye(e,a){we(a,!0);let s=d(a,"id",19,Ne),l=d(a,"value",31,()=>""),i=d(a,"label",3,""),v=d(a,"invalid",3,!1),y=d(a,"disabled",3,!1),u=d(a,"hint",3,""),g=d(a,"type",3,"text"),b=d(a,"rules",19,()=>[]),J=d(a,"no_label",3,!1),ne=Le(a,["$$slots","$$events","$$legacy","id","value","label","invalid","disabled","hint","type","rules","no_label"]),x=p(()=>v()||ae(l(),b())!==!0),V=p(()=>v()===!0?u():n(x)?ae(l(),b()).toString():""),I=pe(!1);function K(t){xe(I,t,!0)}let j;function C(){j.focus()}function oe(t){t.type=g()}let O,P;function N(t){t(),P=setTimeout(()=>{O=setInterval(t,50)},500)}function k(){clearTimeout(P),clearInterval(O)}var m=Ze();let Q;m.__click=C,m.__keydown=[Te,C];var F=c(m);let U;var E=c(F),ve=()=>K(!0),ie=()=>K(!1);Ae(E,t=>({id:s(),...ne,onfocus:ve,onblur:ie,[Ie]:t}),[()=>({shift:!J()})],void 0,"svelte-u3edo6",!0),Se(E,t=>j=t,()=>j),te(()=>De(E,l)),Be(E,t=>oe?.(t));var X=B(E,2);{var ue=t=>{var o=Ve(),r=c(o);let w;var L=c(r,!0);f(r),f(o),W(H=>{ee(r,"for",s()),w=M(r,1,"label svelte-u3edo6",null,w,H),$(L,i())},[()=>({"label-shifted":n(I)||l().toString(),"invalid-text":n(x)})]),A(t,o)};Z(X,t=>{J()||t(ue)})}var Y=B(X,2);{var de=t=>{var o=He(),r=c(o);r.__mousedown=[je,N,l],r.__mouseup=k;var w=p(()=>R(["Enter"," "],()=>N(()=>l(Number(l())+1))));r.__keydown=function(...h){n(w)?.apply(this,h)};var L=p(()=>R(["Enter"," "],k));r.__keyup=function(...h){n(L)?.apply(this,h)};var H=c(r);Re(H),f(r);var _=B(r,2);_.__mousedown=[Fe,N,l],_.__mouseup=k;var fe=p(()=>R(["Enter"," "],()=>N(()=>l(Number(l())-1))));_.__keydown=function(...h){n(fe)?.apply(this,h)};var be=p(()=>R(["Enter"," "],k));_.__keyup=function(...h){n(be)?.apply(this,h)};var me=c(_);Ce(me),f(_),f(o),D("mouseleave",r,k),D("focus",r,C),D("mouseleave",_,k),D("focus",_,C),A(t,o)};Z(Y,t=>{g()==="number"&&t(de)})}var _e=B(Y,2);{var ce=t=>{var o=We();let r;var w=c(o,!0);f(o),W(L=>{r=M(o,1,"hint svelte-u3edo6",null,r,L),$(w,n(V)||u())},[()=>({hidden:y()||!n(V)&&!u(),"invalid-text":n(x),"hint-visible":n(I)||n(x)})]),A(t,o)};Z(_e,t=>{(u()||n(V))&&t(ce)})}f(F),f(m),W((t,o)=>{Q=M(m,1,"input-wrap svelte-u3edo6",null,Q,t),ee(m,"aria-disabled",y()),U=M(F,1,"input-wrap-internal svelte-u3edo6",null,U,o)},[()=>({"input-wrap-hint-margin":u()!==void 0,focused:n(I),disabled:y()}),()=>({invalid:n(x)})]),A(e,m),ge()}Ee(["click","keydown","mousedown","mouseup","keyup"]);export{Ye as I,Xe as b};
