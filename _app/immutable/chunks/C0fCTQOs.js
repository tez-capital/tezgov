import{f as k,a as o,c as P}from"./DljAxy3Z.js";import{p as X,a3 as y,a4 as z,a5 as f,c as i,s as g,m as e,r as v,t as C,a2 as Y,f as T,a as Z}from"./BlY1XL9l.js";import{s as A}from"./CcIOLF5O.js";import{B as D,s as L}from"./BtqFYaCn.js";import{i as j,s as $}from"./D8UL9bPb.js";import{s as N,a as ee}from"./CNTQov_x.js";import{O as te}from"./tlcAfby8.js";import{I as ae}from"./Bvy74EuI.js";import{U as re}from"./BUnv9UM3.js";import{v as se}from"./DKXWUxSp.js";var le=k('<h3 class="title svelte-1h9feib"> </h3>'),oe=k('<p class="message svelte-1h9feib"> </p>'),ie=k('<div class="prompt-wrap sl-card svelte-1h9feib"><!> <!> <!> <div class="controls padding-top svelte-1h9feib"><div class="control-button svelte-1h9feib"><!></div> <div><!></div></div></div>');function he(R,n){X(n,!0);const E={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let a=y(z(E)),u=y(!1),h=y(z({resolve:()=>p(),reject:()=>p()}));function p(){f(u,!1)}async function S(m){return f(u,!0),f(a,{...E,...m},!0),new Promise((w,c)=>{f(h,{resolve:l=>{p(),w(l)},reject:l=>{p(),c(l)}},!0)})}let q=Y(()=>se(e(a).value,e(a).rules)!==!0);var F={prompt:S};return te(R,{persistent:!0,get open(){return e(u)},set open(m){f(u,m,!0)},children:(m,w)=>{var c=ie(),l=i(c);{var G=t=>{var r=P(),s=T(r);L(s,()=>n.title,()=>e(a)),o(t,r)},H=t=>{var r=le(),s=i(r,!0);v(r),C(()=>A(s,e(a).title)),o(t,r)};j(l,t=>{n.title?t(G):t(H,!1)})}var B=g(l,2);{var J=t=>{var r=P(),s=T(r);L(s,()=>n.message,()=>e(a)),o(t,r)},K=t=>{var r=P(),s=T(r);{var V=b=>{var x=oe(),W=i(x,!0);v(x),C(()=>A(W,e(a).message)),o(b,x)};j(s,b=>{e(a).message&&b(V)},!0)}o(t,r)};j(B,t=>{n.message?t(J):t(K,!1)})}var I=g(B,2);ae(I,$(()=>e(a),{no_label:!0,get value(){return e(a).value},set value(t){e(a).value=t}}));var O=g(I,2),d=i(O);N(d,"",{},{"grid-column":"1"});var M=i(d);D(M,{get label(){return e(a).cancelText},onclick:()=>e(h).reject(re)}),v(d);var _=g(d,2);let U;N(_,"",{},{"grid-column":"3"});var Q=i(_);D(Q,{get label(){return e(a).confirmText},onclick:()=>e(h).resolve(e(a).value)}),v(_),v(O),v(c),C(()=>U=ee(_,1,"control-button svelte-1h9feib",null,U,{disabled:e(q)})),o(m,c)},$$slots:{default:!0}}),Z(F)}export{he as P};
