import"./CWj6FrbW.js";import{aB as te,j as Z,aC as le,y as ne,aD as re,L as E,az as he,aE as we,a4 as ye,b as L,p as ke,f as M,d as c,s as C,m as s,a5 as k,r as f,t as z,a6 as pe,c as ge,a8 as xe}from"./BucwnMp7.js";import{s as $,e as N,d as Ee}from"./DkqiWVyQ.js";import{p as u,r as Le,b as Se,i as F}from"./Dg85xj2B.js";import{r as Ae,a as Ie,C as Ce,s as ee}from"./BxctuUku.js";import{a as B}from"./BqcbnRK_.js";import{v as ae,A as Ne,c as D}from"./Ca6cb_bM.js";import"./CGY1vk6v.js";import{v as Be}from"./CirM8hdF.js";function De(e,a,r){te(()=>{var l=Z(()=>a(e,r?.())||{});if(l?.destroy)return()=>l.destroy()})}function Me(e,a,r=a){var l=new WeakSet;le(e,"input",async v=>{var i=v?e.defaultValue:e.value;if(i=H(e)?W(i):i,r(i),E!==null&&l.add(E),await he(),i!==(i=a())){var p=e.selectionStart,d=e.selectionEnd;e.value=i??"",d!==null&&(e.selectionStart=p,e.selectionEnd=Math.min(d,e.value.length))}}),(ne&&e.defaultValue!==e.value||Z(a)==null&&e.value)&&(r(H(e)?W(e.value):e.value),E!==null&&l.add(E)),re(()=>{var v=a();if(e===document.activeElement){var i=we??E;if(l.has(i))return}H(e)&&v===W(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function Ye(e,a,r=a){le(e,"change",l=>{var v=l?e.defaultChecked:e.checked;r(v)}),(ne&&e.defaultChecked!==e.checked||Z(a)==null)&&r(e.checked),re(()=>{var l=a();e.checked=!!l})}function H(e){var a=e.type;return a==="number"||a==="range"}function W(e){return e===""?null:+e}var Re=ye('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16 6.59375 L 15.28125 7.28125 L 2.78125 19.78125 L 4.21875 21.21875 L 16 9.4375 L 27.78125 21.21875 L 29.21875 19.78125 L 16.71875 7.28125 Z"></path></svg>');function Te(e){var a=Re();L(e,a)}var Ve=(e,a)=>["Enter"," "].includes(e.key)&&a(),je=M('<div class="label-wrap svelte-wa8ont"><label> </label></div>'),ze=(e,a,r)=>a(()=>r(Number(r())+1)),Fe=(e,a,r)=>a(()=>r(Number(r())-1)),He=M('<div class="arrows svelte-wa8ont"><button class="unstyle-button arrow svelte-wa8ont" aria-label="Decrease value"><!></button> <button class="unstyle-button arrow svelte-wa8ont" aria-label="Decrease value"><!></button></div>'),We=M("<span> </span>"),Ze=M('<div role="button" tabindex="0"><div><input/> <!> <!> <!></div></div>');function $e(e,a){ke(a,!0);let r=u(a,"id",19,Be),l=u(a,"value",31,()=>""),v=u(a,"label",3,""),i=u(a,"invalid",3,!1),p=u(a,"disabled",3,!1),d=u(a,"hint",3,""),q=u(a,"type",3,"text"),G=u(a,"rules",19,()=>[]),J=u(a,"no_label",3,!1),se=Le(a,["$$slots","$$events","$$legacy","id","value","label","invalid","disabled","hint","type","rules","no_label"]),g=k(()=>i()||ae(l(),G())!==!0),R=k(()=>i()===!0?d():s(g)?ae(l(),G()).toString():""),S=pe(!1);function K(t){xe(S,t,!0)}let T;function A(){T.focus()}function oe(t){t.type=q()}let O,P;function I(t){t(),P=setTimeout(()=>{O=setInterval(t,50)},500)}function h(){clearTimeout(P),clearInterval(O)}var b=Ze();let Q;b.__click=A,b.__keydown=[Ve,A];var V=c(b);let U;var w=c(V);Ae(w);var ie=()=>K(!0),ve=()=>K(!1);Ie(w,t=>({id:r(),...se,onfocus:ie,onblur:ve,[Ce]:t}),[()=>({shift:!J()})],void 0,"svelte-wa8ont"),Se(w,t=>T=t,()=>T),te(()=>Me(w,l)),De(w,t=>oe?.(t));var X=C(w,2);{var ue=t=>{var o=je(),n=c(o);let y;var x=c(n,!0);f(n),f(o),z(j=>{ee(n,"for",r()),y=B(n,1,"label svelte-wa8ont",null,y,j),$(x,v())},[()=>({"label-shifted":s(S)||l().toString(),"invalid-text":s(g)})]),L(t,o)};F(X,t=>{J()||t(ue)})}var Y=C(X,2);{var de=t=>{var o=He(),n=c(o);n.__mousedown=[ze,I,l],n.__mouseup=h;var y=k(()=>D(["Enter"," "],()=>I(()=>l(Number(l())+1))));n.__keydown=function(...m){s(y)?.apply(this,m)};var x=k(()=>D(["Enter"," "],h));n.__keyup=function(...m){s(x)?.apply(this,m)};var j=c(n);Te(j),f(n);var _=C(n,2);_.__mousedown=[Fe,I,l],_.__mouseup=h;var fe=k(()=>D(["Enter"," "],()=>I(()=>l(Number(l())-1))));_.__keydown=function(...m){s(fe)?.apply(this,m)};var be=k(()=>D(["Enter"," "],h));_.__keyup=function(...m){s(be)?.apply(this,m)};var me=c(_);Ne(me),f(_),f(o),N("mouseleave",n,h),N("focus",n,A),N("mouseleave",_,h),N("focus",_,A),L(t,o)};F(Y,t=>{q()==="number"&&t(de)})}var _e=C(Y,2);{var ce=t=>{var o=We();let n;var y=c(o,!0);f(o),z(x=>{n=B(o,1,"hint svelte-wa8ont",null,n,x),$(y,s(R)||d())},[()=>({hidden:p()||!s(R)&&!d(),"invalid-text":s(g),"hint-visible":s(S)||s(g)})]),L(t,o)};F(_e,t=>{(d()||s(R))&&t(ce)})}f(V),f(b),z((t,o)=>{Q=B(b,1,"input-wrap svelte-wa8ont",null,Q,t),ee(b,"aria-disabled",p()),U=B(V,1,"input-wrap-internal svelte-wa8ont",null,U,o)},[()=>({"input-wrap-hint-margin":d()!==void 0,focused:s(S),disabled:p()}),()=>({invalid:s(g)})]),L(e,b),ge()}Ee(["click","keydown","mousedown","mouseup","keyup"]);export{$e as I,Ye as b};
