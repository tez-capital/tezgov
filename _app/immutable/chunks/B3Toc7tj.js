function I(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function _(e,...t){if(!I(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function k(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function D(e,t){_(e);const s=t.outputLen;if(e.length<s)throw new Error("digestInto() expects output buffer of length at least "+s)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),w=(e,t)=>e<<32-t|e>>>t;function M(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function H(e){return typeof e=="string"&&(e=M(e)),_(e),e}class z{clone(){return this._cloneInto()}}function S(e){const t=i=>e().update(H(i)).digest(),s=e();return t.outputLen=s.outputLen,t.blockLen=s.blockLen,t.create=()=>e(),t}function T(e,t,s,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,s,i);const h=BigInt(32),f=BigInt(4294967295),r=Number(s>>h&f),o=Number(s&f),a=i?4:0,n=i?0:4;e.setUint32(t+a,r,i),e.setUint32(t+n,o,i)}const F=(e,t,s)=>e&t^~e&s,V=(e,t,s)=>e&t^e&s^t&s;class G extends z{constructor(t,s,i,h){super(),this.blockLen=t,this.outputLen=s,this.padOffset=i,this.isLE=h,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=C(this.buffer)}update(t){k(this);const{view:s,buffer:i,blockLen:h}=this;t=H(t);const f=t.length;for(let r=0;r<f;){const o=Math.min(h-this.pos,f-r);if(o===h){const a=C(t);for(;h<=f-r;r+=h)this.process(a,r);continue}i.set(t.subarray(r,r+o),this.pos),this.pos+=o,r+=o,this.pos===h&&(this.process(s,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){k(this),D(t,this),this.finished=!0;const{buffer:s,view:i,blockLen:h,isLE:f}=this;let{pos:r}=this;s[r++]=128,this.buffer.subarray(r).fill(0),this.padOffset>h-r&&(this.process(i,0),r=0);for(let c=r;c<h;c++)s[c]=0;T(i,h-8,BigInt(this.length*8),f),this.process(i,0);const o=C(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const n=a/4,l=this.get();if(n>l.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<n;c++)o.setUint32(4*c,l[c],f)}digest(){const{buffer:t,outputLen:s}=this;this.digestInto(t);const i=t.slice(0,s);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:s,buffer:i,length:h,finished:f,destroyed:r,pos:o}=this;return t.length=h,t.pos=o,t.finished=f,t.destroyed=r,h%s&&t.buffer.set(i),t}}const N=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),U=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),E=new Uint32Array(64);class R extends G{constructor(){super(64,32,8,!1),this.A=U[0]|0,this.B=U[1]|0,this.C=U[2]|0,this.D=U[3]|0,this.E=U[4]|0,this.F=U[5]|0,this.G=U[6]|0,this.H=U[7]|0}get(){const{A:t,B:s,C:i,D:h,E:f,F:r,G:o,H:a}=this;return[t,s,i,h,f,r,o,a]}set(t,s,i,h,f,r,o,a){this.A=t|0,this.B=s|0,this.C=i|0,this.D=h|0,this.E=f|0,this.F=r|0,this.G=o|0,this.H=a|0}process(t,s){for(let c=0;c<16;c++,s+=4)E[c]=t.getUint32(s,!1);for(let c=16;c<64;c++){const u=E[c-15],x=E[c-2],b=w(u,7)^w(u,18)^u>>>3,d=w(x,17)^w(x,19)^x>>>10;E[c]=d+E[c-7]+b+E[c-16]|0}let{A:i,B:h,C:f,D:r,E:o,F:a,G:n,H:l}=this;for(let c=0;c<64;c++){const u=w(o,6)^w(o,11)^w(o,25),x=l+u+F(o,a,n)+N[c]+E[c]|0,d=(w(i,2)^w(i,13)^w(i,22))+V(i,h,f)|0;l=n,n=a,a=o,o=r+x|0,r=f,f=h,h=i,i=x+d|0}i=i+this.A|0,h=h+this.B|0,f=f+this.C|0,r=r+this.D|0,o=o+this.E|0,a=a+this.F|0,n=n+this.G|0,l=l+this.H|0,this.set(i,h,f,r,o,a,n,l)}roundClean(){E.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const L=S(()=>new R);function j(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let n=0;n<t.length;n++)t[n]=255;for(let n=0;n<e.length;n++){const l=e.charAt(n),c=l.charCodeAt(0);if(t[c]!==255)throw new TypeError(l+" is ambiguous");t[c]=n}const s=e.length,i=e.charAt(0),h=Math.log(s)/Math.log(256),f=Math.log(256)/Math.log(s);function r(n){if(n instanceof Uint8Array||(ArrayBuffer.isView(n)?n=new Uint8Array(n.buffer,n.byteOffset,n.byteLength):Array.isArray(n)&&(n=Uint8Array.from(n))),!(n instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(n.length===0)return"";let l=0,c=0,u=0;const x=n.length;for(;u!==x&&n[u]===0;)u++,l++;const b=(x-u)*f+1>>>0,d=new Uint8Array(b);for(;u!==x;){let p=n[u],g=0;for(let A=b-1;(p!==0||g<c)&&A!==-1;A--,g++)p+=256*d[A]>>>0,d[A]=p%s>>>0,p=p/s>>>0;if(p!==0)throw new Error("Non-zero carry");c=g,u++}let y=b-c;for(;y!==b&&d[y]===0;)y++;let m=i.repeat(l);for(;y<b;++y)m+=e.charAt(d[y]);return m}function o(n){if(typeof n!="string")throw new TypeError("Expected String");if(n.length===0)return new Uint8Array;let l=0,c=0,u=0;for(;n[l]===i;)c++,l++;const x=(n.length-l)*h+1>>>0,b=new Uint8Array(x);for(;l<n.length;){const p=n.charCodeAt(l);if(p>255)return;let g=t[p];if(g===255)return;let A=0;for(let B=x-1;(g!==0||A<u)&&B!==-1;B--,A++)g+=s*b[B]>>>0,b[B]=g%256>>>0,g=g/256>>>0;if(g!==0)throw new Error("Non-zero carry");u=A,l++}let d=x-u;for(;d!==x&&b[d]===0;)d++;const y=new Uint8Array(c+(x-d));let m=c;for(;d!==x;)y[m++]=b[d++];return y}function a(n){const l=o(n);if(l)return l;throw new Error("Non-base"+s+" character")}return{encode:r,decodeUnsafe:o,decode:a}}var O="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const v=j(O);function W(e){function t(f){var r=Uint8Array.from(f),o=e(r),a=r.length+4,n=new Uint8Array(a);return n.set(r,0),n.set(o.subarray(0,4),r.length),v.encode(n)}function s(f){var r=f.slice(0,-4),o=f.slice(-4),a=e(r);if(!(o[0]^a[0]|o[1]^a[1]|o[2]^a[2]|o[3]^a[3]))return r}function i(f){var r=v.decodeUnsafe(f);if(r!=null)return s(r)}function h(f){var r=v.decode(f),o=s(r);if(o==null)throw new Error("Invalid checksum");return o}return{encode:t,decode:h,decodeUnsafe:i}}function K(e){return L(L(e))}const q=W(K);export{v as a,q as b};
