import"./CWj6FrbW.js";import{p as X,a6 as P,a7 as z,a8 as u,f as k,d as o,s as g,m as t,r as i,t as y,a5 as Y,b as v,a9 as C,a as T,c as Z}from"./BucwnMp7.js";import{b as A,s as D}from"./DkqiWVyQ.js";import{i as j,s as $}from"./Dg85xj2B.js";import{s as L,a as ee}from"./BJILF9Ph.js";import{O as te}from"./tvk5sLbf.js";import{I as ae}from"./CqhnzJ6n.js";import{U as re}from"./BUnv9UM3.js";import{v as se}from"./Ca6cb_bM.js";import{B as N}from"./Cefcyyvb.js";var le=k('<h3 class="title svelte-4mtex8"> </h3>'),oe=k('<p class="message svelte-4mtex8"> </p>'),ie=k('<div class="prompt-wrap sl-card svelte-4mtex8"><!> <!> <!> <div class="controls padding-top svelte-4mtex8"><div class="control-button svelte-4mtex8"><!></div> <div><!></div></div></div>');function xe(R,n){X(n,!0);const E={title:"Prompt",message:"",hint:"",value:"",rules:[],confirmText:"Confirm",cancelText:"Cancel"};let a=P(z(E)),d=P(!1),x=P(z({resolve:()=>p(),reject:()=>p()}));function p(){u(d,!1)}async function S(m){return u(d,!0),u(a,{...E,...m},!0),new Promise((w,c)=>{u(x,{resolve:l=>{p(),w(l)},reject:l=>{p(),c(l)}},!0)})}let q=Y(()=>se(t(a).value,t(a).rules)!==!0);var F={prompt:S};return te(R,{persistent:!0,get open(){return t(d)},set open(m){u(d,m,!0)},children:(m,w)=>{var c=ie(),l=o(c);{var G=e=>{var r=C(),s=T(r);A(s,()=>n.title,()=>t(a)),v(e,r)},H=e=>{var r=le(),s=o(r,!0);i(r),y(()=>D(s,t(a).title)),v(e,r)};j(l,e=>{n.title?e(G):e(H,!1)})}var B=g(l,2);{var J=e=>{var r=C(),s=T(r);A(s,()=>n.message,()=>t(a)),v(e,r)},K=e=>{var r=C(),s=T(r);{var V=b=>{var h=oe(),W=o(h,!0);i(h),y(()=>D(W,t(a).message)),v(b,h)};j(s,b=>{t(a).message&&b(V)},!0)}v(e,r)};j(B,e=>{n.message?e(J):e(K,!1)})}var I=g(B,2);ae(I,$(()=>t(a),{no_label:!0,get value(){return t(a).value},set value(e){t(a).value=e}}));var O=g(I,2),f=o(O);L(f,"",{},{"grid-column":"1"});var M=o(f);N(M,{get label(){return t(a).cancelText},onclick:()=>t(x).reject(re)}),i(f);var _=g(f,2);let U;L(_,"",{},{"grid-column":"3"});var Q=o(_);N(Q,{get label(){return t(a).confirmText},onclick:()=>t(x).resolve(t(a).value)}),i(_),i(O),i(c),y(e=>U=ee(_,1,"control-button svelte-4mtex8",null,U,e),[()=>({disabled:t(q)})]),v(m,c)},$$slots:{default:!0}}),Z(F)}export{xe as P};
