import{E as l,z as u,A as w,O as a,B as h}from"./main-e89bcb8e.js";import{S as y}from"./SessionBase-ab544b34.js";import{connect_beacon_wallet as _,disconnect_beacon_wallet as d}from"./beacon-e9aec055.js";import"./taquito.es6-f7fa50a3.js";import"./DAppClient-4c6461c3.js";class c extends y{constructor(t,e,o,s,n){super(t,o,s,n),this.wallet=e}get AccountType(){return l.Beacon}get Icon(){return new u("/assets/svg/beacon-wallet-icon.svg",w.raw)}static async create(t,e){const o=h[t];if(!o)throw new Error("Invalid network specification!");const{account:s,tezos:n,forger:r,managerKey:i,wallet:p}=await _(o.id??t,{...e,rpc:(e==null?void 0:e.rpc)??o.rpc});return new c(s??"",p,n,r,{networkId:t,managerKey:i})}static async create_from_cache(){}logout(){d()}async switch_wallet(){return c.create(this.NetworkId,{rpc:this.Tezos.rpc.getRpcUrl(),useCached:!1})}async vote(t){const e=await this.forge_ballot(t),o=async()=>{const s=this.Tezos.wallet.context,n=await this.wallet.sendOperations([e]);return s.operationFactory.createOperation(n)};return new a(o,"Vote",{account:this.Account,ballot:t})}async propose(t){const e=await this.forge_proposals(t),o=async()=>{const s=this.Tezos.wallet.context,n=await this.wallet.sendOperations([e]);return s.operationFactory.createOperation(n)};return new a(o,"Propose",{account:this.Account,proposals:t})}async set_deposits_limit(t){const e=await this.forge_set_deposit_op(t),o=async()=>{const s=this.Tezos.wallet.context,n=await this.wallet.sendOperations([e]);return s.operationFactory.createOperation(n)};return new a(o,"Set Deposit",{account:this.Account,limit:t.toString()})}async update_consensus_key(t){const e=await this.forge_update_consensus_key_op(t),o=async()=>{const s=this.Tezos.wallet.context,n=await this.wallet.sendOperations([e]);return s.operationFactory.createOperation(n)};return new a(o,"Set Deposit",{account:this.Account,"Consensus Key":t})}}export{c as BeaconSession};
