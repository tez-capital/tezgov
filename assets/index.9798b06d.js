import{s as h,u,b as l,c,d as o}from"./taquito-http-utils.es6.9e4fbe23.js";import"./main.24e8a7db.js";async function N(e){const r=b(e),s=[p(r,e)];e.timeout&&e.timeout>0&&s.push(new Promise(a=>{setTimeout(()=>{const i=e.timeoutErrorMessage?e.timeoutErrorMessage:"timeout of "+e.timeout+"ms exceeded";a(n(i,e,"ECONNABORTED",r))},e.timeout)}));const t=await Promise.race(s);return new Promise((a,i)=>{t instanceof Error?i(t):Object.prototype.toString.call(e.settle)==="[object Function]"?e.settle(a,i,t):h(a,i,t)})}async function p(e,r){let s;try{s=await fetch(e)}catch{return n("Network Error",r,"ERR_NETWORK",e)}const t={ok:s.ok,status:s.status,statusText:s.statusText,headers:new Headers(s.headers),config:r,request:e};if(s.status>=200&&s.status!==204)switch(r.responseType){case"arraybuffer":t.data=await s.arrayBuffer();break;case"blob":t.data=await s.blob();break;case"json":t.data=await s.json();break;case"formData":t.data=await s.formData();break;default:t.data=await s.text();break}return t}function b(e){const r=new Headers(e.headers);if(e.auth){const d=e.auth.username||"",m=e.auth.password?decodeURI(encodeURIComponent(e.auth.password)):"";r.set("Authorization",`Basic ${btoa(d+":"+m)}`)}const s=e.method.toUpperCase(),t={headers:r,method:s};s!=="GET"&&s!=="HEAD"&&(t.body=e.data,u.isFormData(t.body)&&u.isStandardBrowserEnv()&&r.delete("Content-Type")),e.mode&&(t.mode=e.mode),e.cache&&(t.cache=e.cache),e.integrity&&(t.integrity=e.integrity),e.redirect&&(t.redirect=e.redirect),e.referrer&&(t.referrer=e.referrer),u.isUndefined(e.withCredentials)||(t.credentials=e.withCredentials?"include":"omit");const a=l(e.baseURL,e.url),i=c(a,e.params,e.paramsSerializer);return new Request(i,t)}function n(e,r,s,t,a){if(o.AxiosError&&typeof o.AxiosError=="function")return new o.AxiosError(e,o.AxiosError[s],r,t,a);var i=new Error(e);return w(i,r,s,t,a)}function w(e,r,s,t,a){return e.config=r,s&&(e.code=s),e.request=t,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}export{N as default};
