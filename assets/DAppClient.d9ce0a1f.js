import{m as sn,P as _o,H as bo}from"./main.998bb14c.js";import{c as tn,w as Ct,d as Nr,a as yt,b as et,e as Ve}from"./index.9e4ab327.js";function Ro(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const o=Object.getOwnPropertyDescriptor(n,r);o&&Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}function xi(i){return Object.keys(i)}var tt;(function(i){i.PENDING="pending",i.RESOLVED="resolved",i.REJECTED="rejected"})(tt||(tt={}));const Ki=()=>{throw new Error("ExposedPromise not initialized yet.")};class _e{constructor(){this._resolve=Ki,this._reject=Ki,this._status=tt.PENDING,this._promise=new Promise((e,t)=>{this._resolve=n=>{this.isSettled()||(this._promiseResult=n,e(n),this._status=tt.RESOLVED)},this._reject=n=>{this.isSettled()||(this._promiseError=n,t(n),this._status=tt.REJECTED)}})}get promise(){return this._promise}get resolve(){return this._resolve}get reject(){return this._reject}get status(){return this._status}get promiseResult(){return this._promiseResult}get promiseError(){return this._promiseError}static resolve(e){const t=new _e;return t.resolve(e),t}static reject(e){const t=new _e;return t.reject(e),t}isPending(){return this.status===tt.PENDING}isResolved(){return this.status===tt.RESOLVED}isRejected(){return this.status===tt.REJECTED}isSettled(){return this.isResolved()||this.isRejected()}}var Kt={},Ir={},$t={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.sharedKey=i.generateKeyPair=i.generateKeyPairFromSeed=i.scalarMultBase=i.scalarMult=i.SHARED_KEY_LENGTH=i.SECRET_KEY_LENGTH=i.PUBLIC_KEY_LENGTH=void 0;const e=tn,t=Ct;i.PUBLIC_KEY_LENGTH=32,i.SECRET_KEY_LENGTH=32,i.SHARED_KEY_LENGTH=32;function n(N){const A=new Float64Array(16);if(N)for(let m=0;m<N.length;m++)A[m]=N[m];return A}const r=new Uint8Array(32);r[0]=9;const o=n([56129,1]);function a(N){let A=1;for(let m=0;m<16;m++){let s=N[m]+A+65535;A=Math.floor(s/65536),N[m]=s-A*65536}N[0]+=A-1+37*(A-1)}function l(N,A,m){const s=~(m-1);for(let f=0;f<16;f++){const g=s&(N[f]^A[f]);N[f]^=g,A[f]^=g}}function d(N,A){const m=n(),s=n();for(let f=0;f<16;f++)s[f]=A[f];a(s),a(s),a(s);for(let f=0;f<2;f++){m[0]=s[0]-65517;for(let E=1;E<15;E++)m[E]=s[E]-65535-(m[E-1]>>16&1),m[E-1]&=65535;m[15]=s[15]-32767-(m[14]>>16&1);const g=m[15]>>16&1;m[14]&=65535,l(s,m,1-g)}for(let f=0;f<16;f++)N[2*f]=s[f]&255,N[2*f+1]=s[f]>>8}function u(N,A){for(let m=0;m<16;m++)N[m]=A[2*m]+(A[2*m+1]<<8);N[15]&=32767}function c(N,A,m){for(let s=0;s<16;s++)N[s]=A[s]+m[s]}function h(N,A,m){for(let s=0;s<16;s++)N[s]=A[s]-m[s]}function w(N,A,m){let s,f,g=0,E=0,p=0,v=0,I=0,T=0,P=0,K=0,L=0,G=0,_=0,J=0,ie=0,re=0,B=0,X=0,te=0,ee=0,se=0,b=0,R=0,y=0,x=0,C=0,M=0,H=0,q=0,ae=0,ue=0,W=0,De=0,ce=m[0],ye=m[1],we=m[2],Ae=m[3],me=m[4],ve=m[5],be=m[6],Re=m[7],Te=m[8],Se=m[9],xe=m[10],Ne=m[11],Ie=m[12],Oe=m[13],Ce=m[14],Pe=m[15];s=A[0],g+=s*ce,E+=s*ye,p+=s*we,v+=s*Ae,I+=s*me,T+=s*ve,P+=s*be,K+=s*Re,L+=s*Te,G+=s*Se,_+=s*xe,J+=s*Ne,ie+=s*Ie,re+=s*Oe,B+=s*Ce,X+=s*Pe,s=A[1],E+=s*ce,p+=s*ye,v+=s*we,I+=s*Ae,T+=s*me,P+=s*ve,K+=s*be,L+=s*Re,G+=s*Te,_+=s*Se,J+=s*xe,ie+=s*Ne,re+=s*Ie,B+=s*Oe,X+=s*Ce,te+=s*Pe,s=A[2],p+=s*ce,v+=s*ye,I+=s*we,T+=s*Ae,P+=s*me,K+=s*ve,L+=s*be,G+=s*Re,_+=s*Te,J+=s*Se,ie+=s*xe,re+=s*Ne,B+=s*Ie,X+=s*Oe,te+=s*Ce,ee+=s*Pe,s=A[3],v+=s*ce,I+=s*ye,T+=s*we,P+=s*Ae,K+=s*me,L+=s*ve,G+=s*be,_+=s*Re,J+=s*Te,ie+=s*Se,re+=s*xe,B+=s*Ne,X+=s*Ie,te+=s*Oe,ee+=s*Ce,se+=s*Pe,s=A[4],I+=s*ce,T+=s*ye,P+=s*we,K+=s*Ae,L+=s*me,G+=s*ve,_+=s*be,J+=s*Re,ie+=s*Te,re+=s*Se,B+=s*xe,X+=s*Ne,te+=s*Ie,ee+=s*Oe,se+=s*Ce,b+=s*Pe,s=A[5],T+=s*ce,P+=s*ye,K+=s*we,L+=s*Ae,G+=s*me,_+=s*ve,J+=s*be,ie+=s*Re,re+=s*Te,B+=s*Se,X+=s*xe,te+=s*Ne,ee+=s*Ie,se+=s*Oe,b+=s*Ce,R+=s*Pe,s=A[6],P+=s*ce,K+=s*ye,L+=s*we,G+=s*Ae,_+=s*me,J+=s*ve,ie+=s*be,re+=s*Re,B+=s*Te,X+=s*Se,te+=s*xe,ee+=s*Ne,se+=s*Ie,b+=s*Oe,R+=s*Ce,y+=s*Pe,s=A[7],K+=s*ce,L+=s*ye,G+=s*we,_+=s*Ae,J+=s*me,ie+=s*ve,re+=s*be,B+=s*Re,X+=s*Te,te+=s*Se,ee+=s*xe,se+=s*Ne,b+=s*Ie,R+=s*Oe,y+=s*Ce,x+=s*Pe,s=A[8],L+=s*ce,G+=s*ye,_+=s*we,J+=s*Ae,ie+=s*me,re+=s*ve,B+=s*be,X+=s*Re,te+=s*Te,ee+=s*Se,se+=s*xe,b+=s*Ne,R+=s*Ie,y+=s*Oe,x+=s*Ce,C+=s*Pe,s=A[9],G+=s*ce,_+=s*ye,J+=s*we,ie+=s*Ae,re+=s*me,B+=s*ve,X+=s*be,te+=s*Re,ee+=s*Te,se+=s*Se,b+=s*xe,R+=s*Ne,y+=s*Ie,x+=s*Oe,C+=s*Ce,M+=s*Pe,s=A[10],_+=s*ce,J+=s*ye,ie+=s*we,re+=s*Ae,B+=s*me,X+=s*ve,te+=s*be,ee+=s*Re,se+=s*Te,b+=s*Se,R+=s*xe,y+=s*Ne,x+=s*Ie,C+=s*Oe,M+=s*Ce,H+=s*Pe,s=A[11],J+=s*ce,ie+=s*ye,re+=s*we,B+=s*Ae,X+=s*me,te+=s*ve,ee+=s*be,se+=s*Re,b+=s*Te,R+=s*Se,y+=s*xe,x+=s*Ne,C+=s*Ie,M+=s*Oe,H+=s*Ce,q+=s*Pe,s=A[12],ie+=s*ce,re+=s*ye,B+=s*we,X+=s*Ae,te+=s*me,ee+=s*ve,se+=s*be,b+=s*Re,R+=s*Te,y+=s*Se,x+=s*xe,C+=s*Ne,M+=s*Ie,H+=s*Oe,q+=s*Ce,ae+=s*Pe,s=A[13],re+=s*ce,B+=s*ye,X+=s*we,te+=s*Ae,ee+=s*me,se+=s*ve,b+=s*be,R+=s*Re,y+=s*Te,x+=s*Se,C+=s*xe,M+=s*Ne,H+=s*Ie,q+=s*Oe,ae+=s*Ce,ue+=s*Pe,s=A[14],B+=s*ce,X+=s*ye,te+=s*we,ee+=s*Ae,se+=s*me,b+=s*ve,R+=s*be,y+=s*Re,x+=s*Te,C+=s*Se,M+=s*xe,H+=s*Ne,q+=s*Ie,ae+=s*Oe,ue+=s*Ce,W+=s*Pe,s=A[15],X+=s*ce,te+=s*ye,ee+=s*we,se+=s*Ae,b+=s*me,R+=s*ve,y+=s*be,x+=s*Re,C+=s*Te,M+=s*Se,H+=s*xe,q+=s*Ne,ae+=s*Ie,ue+=s*Oe,W+=s*Ce,De+=s*Pe,g+=38*te,E+=38*ee,p+=38*se,v+=38*b,I+=38*R,T+=38*y,P+=38*x,K+=38*C,L+=38*M,G+=38*H,_+=38*q,J+=38*ae,ie+=38*ue,re+=38*W,B+=38*De,f=1,s=g+f+65535,f=Math.floor(s/65536),g=s-f*65536,s=E+f+65535,f=Math.floor(s/65536),E=s-f*65536,s=p+f+65535,f=Math.floor(s/65536),p=s-f*65536,s=v+f+65535,f=Math.floor(s/65536),v=s-f*65536,s=I+f+65535,f=Math.floor(s/65536),I=s-f*65536,s=T+f+65535,f=Math.floor(s/65536),T=s-f*65536,s=P+f+65535,f=Math.floor(s/65536),P=s-f*65536,s=K+f+65535,f=Math.floor(s/65536),K=s-f*65536,s=L+f+65535,f=Math.floor(s/65536),L=s-f*65536,s=G+f+65535,f=Math.floor(s/65536),G=s-f*65536,s=_+f+65535,f=Math.floor(s/65536),_=s-f*65536,s=J+f+65535,f=Math.floor(s/65536),J=s-f*65536,s=ie+f+65535,f=Math.floor(s/65536),ie=s-f*65536,s=re+f+65535,f=Math.floor(s/65536),re=s-f*65536,s=B+f+65535,f=Math.floor(s/65536),B=s-f*65536,s=X+f+65535,f=Math.floor(s/65536),X=s-f*65536,g+=f-1+37*(f-1),f=1,s=g+f+65535,f=Math.floor(s/65536),g=s-f*65536,s=E+f+65535,f=Math.floor(s/65536),E=s-f*65536,s=p+f+65535,f=Math.floor(s/65536),p=s-f*65536,s=v+f+65535,f=Math.floor(s/65536),v=s-f*65536,s=I+f+65535,f=Math.floor(s/65536),I=s-f*65536,s=T+f+65535,f=Math.floor(s/65536),T=s-f*65536,s=P+f+65535,f=Math.floor(s/65536),P=s-f*65536,s=K+f+65535,f=Math.floor(s/65536),K=s-f*65536,s=L+f+65535,f=Math.floor(s/65536),L=s-f*65536,s=G+f+65535,f=Math.floor(s/65536),G=s-f*65536,s=_+f+65535,f=Math.floor(s/65536),_=s-f*65536,s=J+f+65535,f=Math.floor(s/65536),J=s-f*65536,s=ie+f+65535,f=Math.floor(s/65536),ie=s-f*65536,s=re+f+65535,f=Math.floor(s/65536),re=s-f*65536,s=B+f+65535,f=Math.floor(s/65536),B=s-f*65536,s=X+f+65535,f=Math.floor(s/65536),X=s-f*65536,g+=f-1+37*(f-1),N[0]=g,N[1]=E,N[2]=p,N[3]=v,N[4]=I,N[5]=T,N[6]=P,N[7]=K,N[8]=L,N[9]=G,N[10]=_,N[11]=J,N[12]=ie,N[13]=re,N[14]=B,N[15]=X}function O(N,A){w(N,A,A)}function U(N,A){const m=n();for(let s=0;s<16;s++)m[s]=A[s];for(let s=253;s>=0;s--)O(m,m),s!==2&&s!==4&&w(m,m,A);for(let s=0;s<16;s++)N[s]=m[s]}function j(N,A){const m=new Uint8Array(32),s=new Float64Array(80),f=n(),g=n(),E=n(),p=n(),v=n(),I=n();for(let L=0;L<31;L++)m[L]=N[L];m[31]=N[31]&127|64,m[0]&=248,u(s,A);for(let L=0;L<16;L++)g[L]=s[L];f[0]=p[0]=1;for(let L=254;L>=0;--L){const G=m[L>>>3]>>>(L&7)&1;l(f,g,G),l(E,p,G),c(v,f,E),h(f,f,E),c(E,g,p),h(g,g,p),O(p,v),O(I,f),w(f,E,f),w(E,g,v),c(v,f,E),h(f,f,E),O(g,f),h(E,p,I),w(f,E,o),c(f,f,p),w(E,E,f),w(f,p,I),w(p,g,s),O(g,v),l(f,g,G),l(E,p,G)}for(let L=0;L<16;L++)s[L+16]=f[L],s[L+32]=E[L],s[L+48]=g[L],s[L+64]=p[L];const T=s.subarray(32),P=s.subarray(16);U(T,T),w(P,P,T);const K=new Uint8Array(32);return d(K,P),K}i.scalarMult=j;function V(N){return j(N,r)}i.scalarMultBase=V;function Y(N){if(N.length!==i.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${i.SECRET_KEY_LENGTH} bytes`);const A=new Uint8Array(N);return{publicKey:V(A),secretKey:A}}i.generateKeyPairFromSeed=Y;function Z(N){const A=(0,e.randomBytes)(32,N),m=Y(A);return(0,t.wipe)(A),m}i.generateKeyPair=Z;function S(N,A,m=!1){if(N.length!==i.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(A.length!==i.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const s=j(N,A);if(m){let f=0;for(let g=0;g<s.length;g++)f|=s[g];if(f===0)throw new Error("X25519: invalid shared key")}return s}i.sharedKey=S})($t);var Gt={},On={};Object.defineProperty(On,"__esModule",{value:!0});var ke=Nr,fi=Ct,To=20;function So(i,e,t){for(var n=1634760805,r=t[3]<<24|t[2]<<16|t[1]<<8|t[0],o=t[7]<<24|t[6]<<16|t[5]<<8|t[4],a=t[11]<<24|t[10]<<16|t[9]<<8|t[8],l=t[15]<<24|t[14]<<16|t[13]<<8|t[12],d=857760878,u=e[3]<<24|e[2]<<16|e[1]<<8|e[0],c=e[7]<<24|e[6]<<16|e[5]<<8|e[4],h=e[11]<<24|e[10]<<16|e[9]<<8|e[8],w=e[15]<<24|e[14]<<16|e[13]<<8|e[12],O=2036477234,U=t[19]<<24|t[18]<<16|t[17]<<8|t[16],j=t[23]<<24|t[22]<<16|t[21]<<8|t[20],V=t[27]<<24|t[26]<<16|t[25]<<8|t[24],Y=t[31]<<24|t[30]<<16|t[29]<<8|t[28],Z=1797285236,S=n,N=r,A=o,m=a,s=l,f=d,g=u,E=c,p=h,v=w,I=O,T=U,P=j,K=V,L=Y,G=Z,_,J=0;J<To;J+=2)_=S+P|0,s^=_<<7|_>>>32-7,_=s+S|0,p^=_<<9|_>>>32-9,_=p+s|0,P^=_<<13|_>>>32-13,_=P+p|0,S^=_<<18|_>>>32-18,_=f+N|0,v^=_<<7|_>>>32-7,_=v+f|0,K^=_<<9|_>>>32-9,_=K+v|0,N^=_<<13|_>>>32-13,_=N+K|0,f^=_<<18|_>>>32-18,_=I+g|0,L^=_<<7|_>>>32-7,_=L+I|0,A^=_<<9|_>>>32-9,_=A+L|0,g^=_<<13|_>>>32-13,_=g+A|0,I^=_<<18|_>>>32-18,_=G+T|0,m^=_<<7|_>>>32-7,_=m+G|0,E^=_<<9|_>>>32-9,_=E+m|0,T^=_<<13|_>>>32-13,_=T+E|0,G^=_<<18|_>>>32-18,_=S+m|0,N^=_<<7|_>>>32-7,_=N+S|0,A^=_<<9|_>>>32-9,_=A+N|0,m^=_<<13|_>>>32-13,_=m+A|0,S^=_<<18|_>>>32-18,_=f+s|0,g^=_<<7|_>>>32-7,_=g+f|0,E^=_<<9|_>>>32-9,_=E+g|0,s^=_<<13|_>>>32-13,_=s+E|0,f^=_<<18|_>>>32-18,_=I+v|0,T^=_<<7|_>>>32-7,_=T+I|0,p^=_<<9|_>>>32-9,_=p+T|0,v^=_<<13|_>>>32-13,_=v+p|0,I^=_<<18|_>>>32-18,_=G+L|0,P^=_<<7|_>>>32-7,_=P+G|0,K^=_<<9|_>>>32-9,_=K+P|0,L^=_<<13|_>>>32-13,_=L+K|0,G^=_<<18|_>>>32-18;ke.writeUint32LE(S+n|0,i,0),ke.writeUint32LE(N+r|0,i,4),ke.writeUint32LE(A+o|0,i,8),ke.writeUint32LE(m+a|0,i,12),ke.writeUint32LE(s+l|0,i,16),ke.writeUint32LE(f+d|0,i,20),ke.writeUint32LE(g+u|0,i,24),ke.writeUint32LE(E+c|0,i,28),ke.writeUint32LE(p+h|0,i,32),ke.writeUint32LE(v+w|0,i,36),ke.writeUint32LE(I+O|0,i,40),ke.writeUint32LE(T+U|0,i,44),ke.writeUint32LE(P+j|0,i,48),ke.writeUint32LE(K+V|0,i,52),ke.writeUint32LE(L+Y|0,i,56),ke.writeUint32LE(G+Z|0,i,60)}function Or(i,e,t,n,r){if(r===void 0&&(r=0),i.length!==32)throw new Error("Salsa20: key size must be 32 bytes");if(n.length<t.length)throw new Error("Salsa20: destination is shorter than source");var o,a;if(r===0){if(e.length!==8)throw new Error("Salsa20 nonce must be 8 bytes");o=new Uint8Array(16),o.set(e),a=e.length}else{if(e.length!==16)throw new Error("Salsa20 nonce with counter must be 16 bytes");o=e,a=16-r}for(var l=new Uint8Array(64),d=0;d<t.length;d+=64){So(l,o,i);for(var u=d;u<d+64&&u<t.length;u++)n[u]=t[u]^l[u-d];No(o,a,o.length-a)}return fi.wipe(l),r===0&&fi.wipe(o),n}On.streamXOR=Or;function xo(i,e,t,n){return n===void 0&&(n=0),fi.wipe(t),Or(i,e,t,t,n)}On.stream=xo;function No(i,e,t){for(var n=1;t--;)n=n+(i[e]&255)|0,i[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("Salsa20: counter overflow")}Object.defineProperty(Gt,"__esModule",{value:!0});var pt=Nr,Io=On,Cr=Ct;function Pr(i,e,t,n,r){if(r===void 0&&(r=0),r===0){if(e.length!==24)throw new Error("XSalsa20 nonce must be 24 bytes")}else if(e.length!==32)throw new Error("XSalsa20 nonce with counter must be 32 bytes");var o=kr(i,e.subarray(0,16),new Uint8Array(32)),a=Io.streamXOR(o,e.subarray(16),t,n,r);return Cr.wipe(o),a}Gt.streamXOR=Pr;function Oo(i,e,t,n){return n===void 0&&(n=0),Cr.wipe(t),Pr(i,e,t,t,n)}Gt.stream=Oo;var Co=20;function kr(i,e,t){for(var n=1634760805,r=i[3]<<24|i[2]<<16|i[1]<<8|i[0],o=i[7]<<24|i[6]<<16|i[5]<<8|i[4],a=i[11]<<24|i[10]<<16|i[9]<<8|i[8],l=i[15]<<24|i[14]<<16|i[13]<<8|i[12],d=857760878,u=e[3]<<24|e[2]<<16|e[1]<<8|e[0],c=e[7]<<24|e[6]<<16|e[5]<<8|e[4],h=e[11]<<24|e[10]<<16|e[9]<<8|e[8],w=e[15]<<24|e[14]<<16|e[13]<<8|e[12],O=2036477234,U=i[19]<<24|i[18]<<16|i[17]<<8|i[16],j=i[23]<<24|i[22]<<16|i[21]<<8|i[20],V=i[27]<<24|i[26]<<16|i[25]<<8|i[24],Y=i[31]<<24|i[30]<<16|i[29]<<8|i[28],Z=1797285236,S,N=0;N<Co;N+=2)S=n+j|0,l^=S<<7|S>>>32-7,S=l+n|0,h^=S<<9|S>>>32-9,S=h+l|0,j^=S<<13|S>>>32-13,S=j+h|0,n^=S<<18|S>>>32-18,S=d+r|0,w^=S<<7|S>>>32-7,S=w+d|0,V^=S<<9|S>>>32-9,S=V+w|0,r^=S<<13|S>>>32-13,S=r+V|0,d^=S<<18|S>>>32-18,S=O+u|0,Y^=S<<7|S>>>32-7,S=Y+O|0,o^=S<<9|S>>>32-9,S=o+Y|0,u^=S<<13|S>>>32-13,S=u+o|0,O^=S<<18|S>>>32-18,S=Z+U|0,a^=S<<7|S>>>32-7,S=a+Z|0,c^=S<<9|S>>>32-9,S=c+a|0,U^=S<<13|S>>>32-13,S=U+c|0,Z^=S<<18|S>>>32-18,S=n+a|0,r^=S<<7|S>>>32-7,S=r+n|0,o^=S<<9|S>>>32-9,S=o+r|0,a^=S<<13|S>>>32-13,S=a+o|0,n^=S<<18|S>>>32-18,S=d+l|0,u^=S<<7|S>>>32-7,S=u+d|0,c^=S<<9|S>>>32-9,S=c+u|0,l^=S<<13|S>>>32-13,S=l+c|0,d^=S<<18|S>>>32-18,S=O+w|0,U^=S<<7|S>>>32-7,S=U+O|0,h^=S<<9|S>>>32-9,S=h+U|0,w^=S<<13|S>>>32-13,S=w+h|0,O^=S<<18|S>>>32-18,S=Z+Y|0,j^=S<<7|S>>>32-7,S=j+Z|0,V^=S<<9|S>>>32-9,S=V+j|0,Y^=S<<13|S>>>32-13,S=Y+V|0,Z^=S<<18|S>>>32-18;return pt.writeUint32LE(n,t,0),pt.writeUint32LE(d,t,4),pt.writeUint32LE(O,t,8),pt.writeUint32LE(Z,t,12),pt.writeUint32LE(u,t,16),pt.writeUint32LE(c,t,20),pt.writeUint32LE(h,t,24),pt.writeUint32LE(w,t,28),t}Gt.hsalsa=kr;var ht={},Lr={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});function Po(i,e,t){return~(i-1)&e|i-1&t}qt.select=Po;function ko(i,e){return(i|0)-(e|0)-1>>>31&1}qt.lessOrEqual=ko;function Mr(i,e){if(i.length!==e.length)return 0;for(var t=0,n=0;n<i.length;n++)t|=i[n]^e[n];return 1&t-1>>>8}qt.compare=Mr;function Lo(i,e){return i.length===0||e.length===0?!1:Mr(i,e)!==0}qt.equal=Lo;(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=qt,t=Ct;i.DIGEST_LENGTH=16;var n=function(){function a(l){this.digestLength=i.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var d=l[0]|l[1]<<8;this._r[0]=d&8191;var u=l[2]|l[3]<<8;this._r[1]=(d>>>13|u<<3)&8191;var c=l[4]|l[5]<<8;this._r[2]=(u>>>10|c<<6)&7939;var h=l[6]|l[7]<<8;this._r[3]=(c>>>7|h<<9)&8191;var w=l[8]|l[9]<<8;this._r[4]=(h>>>4|w<<12)&255,this._r[5]=w>>>1&8190;var O=l[10]|l[11]<<8;this._r[6]=(w>>>14|O<<2)&8191;var U=l[12]|l[13]<<8;this._r[7]=(O>>>11|U<<5)&8065;var j=l[14]|l[15]<<8;this._r[8]=(U>>>8|j<<8)&8191,this._r[9]=j>>>5&127,this._pad[0]=l[16]|l[17]<<8,this._pad[1]=l[18]|l[19]<<8,this._pad[2]=l[20]|l[21]<<8,this._pad[3]=l[22]|l[23]<<8,this._pad[4]=l[24]|l[25]<<8,this._pad[5]=l[26]|l[27]<<8,this._pad[6]=l[28]|l[29]<<8,this._pad[7]=l[30]|l[31]<<8}return a.prototype._blocks=function(l,d,u){for(var c=this._fin?0:2048,h=this._h[0],w=this._h[1],O=this._h[2],U=this._h[3],j=this._h[4],V=this._h[5],Y=this._h[6],Z=this._h[7],S=this._h[8],N=this._h[9],A=this._r[0],m=this._r[1],s=this._r[2],f=this._r[3],g=this._r[4],E=this._r[5],p=this._r[6],v=this._r[7],I=this._r[8],T=this._r[9];u>=16;){var P=l[d+0]|l[d+1]<<8;h+=P&8191;var K=l[d+2]|l[d+3]<<8;w+=(P>>>13|K<<3)&8191;var L=l[d+4]|l[d+5]<<8;O+=(K>>>10|L<<6)&8191;var G=l[d+6]|l[d+7]<<8;U+=(L>>>7|G<<9)&8191;var _=l[d+8]|l[d+9]<<8;j+=(G>>>4|_<<12)&8191,V+=_>>>1&8191;var J=l[d+10]|l[d+11]<<8;Y+=(_>>>14|J<<2)&8191;var ie=l[d+12]|l[d+13]<<8;Z+=(J>>>11|ie<<5)&8191;var re=l[d+14]|l[d+15]<<8;S+=(ie>>>8|re<<8)&8191,N+=re>>>5|c;var B=0,X=B;X+=h*A,X+=w*(5*T),X+=O*(5*I),X+=U*(5*v),X+=j*(5*p),B=X>>>13,X&=8191,X+=V*(5*E),X+=Y*(5*g),X+=Z*(5*f),X+=S*(5*s),X+=N*(5*m),B+=X>>>13,X&=8191;var te=B;te+=h*m,te+=w*A,te+=O*(5*T),te+=U*(5*I),te+=j*(5*v),B=te>>>13,te&=8191,te+=V*(5*p),te+=Y*(5*E),te+=Z*(5*g),te+=S*(5*f),te+=N*(5*s),B+=te>>>13,te&=8191;var ee=B;ee+=h*s,ee+=w*m,ee+=O*A,ee+=U*(5*T),ee+=j*(5*I),B=ee>>>13,ee&=8191,ee+=V*(5*v),ee+=Y*(5*p),ee+=Z*(5*E),ee+=S*(5*g),ee+=N*(5*f),B+=ee>>>13,ee&=8191;var se=B;se+=h*f,se+=w*s,se+=O*m,se+=U*A,se+=j*(5*T),B=se>>>13,se&=8191,se+=V*(5*I),se+=Y*(5*v),se+=Z*(5*p),se+=S*(5*E),se+=N*(5*g),B+=se>>>13,se&=8191;var b=B;b+=h*g,b+=w*f,b+=O*s,b+=U*m,b+=j*A,B=b>>>13,b&=8191,b+=V*(5*T),b+=Y*(5*I),b+=Z*(5*v),b+=S*(5*p),b+=N*(5*E),B+=b>>>13,b&=8191;var R=B;R+=h*E,R+=w*g,R+=O*f,R+=U*s,R+=j*m,B=R>>>13,R&=8191,R+=V*A,R+=Y*(5*T),R+=Z*(5*I),R+=S*(5*v),R+=N*(5*p),B+=R>>>13,R&=8191;var y=B;y+=h*p,y+=w*E,y+=O*g,y+=U*f,y+=j*s,B=y>>>13,y&=8191,y+=V*m,y+=Y*A,y+=Z*(5*T),y+=S*(5*I),y+=N*(5*v),B+=y>>>13,y&=8191;var x=B;x+=h*v,x+=w*p,x+=O*E,x+=U*g,x+=j*f,B=x>>>13,x&=8191,x+=V*s,x+=Y*m,x+=Z*A,x+=S*(5*T),x+=N*(5*I),B+=x>>>13,x&=8191;var C=B;C+=h*I,C+=w*v,C+=O*p,C+=U*E,C+=j*g,B=C>>>13,C&=8191,C+=V*f,C+=Y*s,C+=Z*m,C+=S*A,C+=N*(5*T),B+=C>>>13,C&=8191;var M=B;M+=h*T,M+=w*I,M+=O*v,M+=U*p,M+=j*E,B=M>>>13,M&=8191,M+=V*g,M+=Y*f,M+=Z*s,M+=S*m,M+=N*A,B+=M>>>13,M&=8191,B=(B<<2)+B|0,B=B+X|0,X=B&8191,B=B>>>13,te+=B,h=X,w=te,O=ee,U=se,j=b,V=R,Y=y,Z=x,S=C,N=M,d+=16,u-=16}this._h[0]=h,this._h[1]=w,this._h[2]=O,this._h[3]=U,this._h[4]=j,this._h[5]=V,this._h[6]=Y,this._h[7]=Z,this._h[8]=S,this._h[9]=N},a.prototype.finish=function(l,d){d===void 0&&(d=0);var u=new Uint16Array(10),c,h,w,O;if(this._leftover){for(O=this._leftover,this._buffer[O++]=1;O<16;O++)this._buffer[O]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(c=this._h[1]>>>13,this._h[1]&=8191,O=2;O<10;O++)this._h[O]+=c,c=this._h[O]>>>13,this._h[O]&=8191;for(this._h[0]+=c*5,c=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=c,c=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=c,u[0]=this._h[0]+5,c=u[0]>>>13,u[0]&=8191,O=1;O<10;O++)u[O]=this._h[O]+c,c=u[O]>>>13,u[O]&=8191;for(u[9]-=1<<13,h=(c^1)-1,O=0;O<10;O++)u[O]&=h;for(h=~h,O=0;O<10;O++)this._h[O]=this._h[O]&h|u[O];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,w=this._h[0]+this._pad[0],this._h[0]=w&65535,O=1;O<8;O++)w=(this._h[O]+this._pad[O]|0)+(w>>>16)|0,this._h[O]=w&65535;return l[d+0]=this._h[0]>>>0,l[d+1]=this._h[0]>>>8,l[d+2]=this._h[1]>>>0,l[d+3]=this._h[1]>>>8,l[d+4]=this._h[2]>>>0,l[d+5]=this._h[2]>>>8,l[d+6]=this._h[3]>>>0,l[d+7]=this._h[3]>>>8,l[d+8]=this._h[4]>>>0,l[d+9]=this._h[4]>>>8,l[d+10]=this._h[5]>>>0,l[d+11]=this._h[5]>>>8,l[d+12]=this._h[6]>>>0,l[d+13]=this._h[6]>>>8,l[d+14]=this._h[7]>>>0,l[d+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(l){var d=0,u=l.length,c;if(this._leftover){c=16-this._leftover,c>u&&(c=u);for(var h=0;h<c;h++)this._buffer[this._leftover+h]=l[d+h];if(u-=c,d+=c,this._leftover+=c,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(u>=16&&(c=u-u%16,this._blocks(l,d,c),d+=c,u-=c),u){for(var h=0;h<u;h++)this._buffer[this._leftover+h]=l[d+h];this._leftover+=u}return this},a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var l=new Uint8Array(16);return this.finish(l),l},a.prototype.clean=function(){return t.wipe(this._buffer),t.wipe(this._r),t.wipe(this._h),t.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a}();i.Poly1305=n;function r(a,l){var d=new n(a);d.update(l);var u=d.digest();return d.clean(),u}i.oneTimeAuth=r;function o(a,l){return a.length!==i.DIGEST_LENGTH||l.length!==i.DIGEST_LENGTH?!1:e.equal(a,l)}i.equal=o})(Lr);Object.defineProperty(ht,"__esModule",{value:!0});ht.generateKey=ht.openSecretBox=ht.secretBox=void 0;const An=Gt,vi=Lr,Bt=Ct,Mo=tn;function Uo(i,e,t){if(e.length!==24)throw new Error("secretBox nonce must be 24 bytes");const n=new Uint8Array(64),r=new Uint8Array(24+8);r.set(e),(0,An.stream)(i,r,n,8);const o=new Uint8Array(16+t.length);for(let l=0;l<32&&l<t.length;l++)o[16+l]=t[l]^n[32+l];t.length>32&&(0,An.streamXOR)(i,r,t.subarray(32),o.subarray(16+32),8);const a=(0,vi.oneTimeAuth)(n.subarray(0,32),o.subarray(16));for(let l=0;l<a.length;l++)o[l]=a[l];return(0,Bt.wipe)(a),(0,Bt.wipe)(n),(0,Bt.wipe)(r),o}ht.secretBox=Uo;function Do(i,e,t){if(e.length!==24)throw new Error("secretBox nonce must be 24 bytes");if(t.length<16)throw new Error("secretBox data must be at least 16 bytes");const n=new Uint8Array(64),r=new Uint8Array(24+8);r.set(e),(0,An.stream)(i,r,n,8);const o=(0,vi.oneTimeAuth)(n.subarray(0,32),t.subarray(16));if(!(0,vi.equal)(o,t.subarray(0,16)))return null;const a=t.subarray(16),l=new Uint8Array(a.length);for(let d=0;d<32&&d<a.length;d++)l[d]=a[d]^n[32+d];return a.length>32&&(0,An.streamXOR)(i,r,a.subarray(32),l.subarray(32),8),(0,Bt.wipe)(o),(0,Bt.wipe)(n),(0,Bt.wipe)(r),l}ht.openSecretBox=Do;function Bo(i){return(0,Mo.randomBytes)(32,i)}ht.generateKey=Bo;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.openBox=i.box=i.precomputeSharedKey=i.generateKeyPair=void 0;const e=$t,t=Gt,n=ht,r=Ct;var o=$t;Object.defineProperty(i,"generateKeyPair",{enumerable:!0,get:function(){return o.generateKeyPair}});const a=new Uint8Array(16);function l(c,h){const w=(0,e.scalarMult)(h,c);return(0,t.hsalsa)(w,a,w),w}i.precomputeSharedKey=l;function d(c,h,w,O){const U=l(c,h),j=(0,n.secretBox)(U,w,O);return(0,r.wipe)(U),j}i.box=d;function u(c,h,w,O){const U=l(c,h),j=(0,n.openSecretBox)(U,w,O);return(0,r.wipe)(U),j}i.openBox=u})(Ir);(function(i){var e=sn&&sn.__createBinding||(Object.create?function(n,r,o,a){a===void 0&&(a=o);var l=Object.getOwnPropertyDescriptor(r,o);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(n,a,l)}:function(n,r,o,a){a===void 0&&(a=o),n[a]=r[o]}),t=sn&&sn.__exportStar||function(n,r){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&e(r,n,o)};Object.defineProperty(i,"__esModule",{value:!0}),t(Ir,i),t(ht,i)})(Kt);var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});var ji="utf8: invalid string",st="utf8: invalid source encoding";function Ko(i){for(var e=new Uint8Array(Ur(i)),t=0,n=0;n<i.length;n++){var r=i.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=192|r>>6,e[t++]=128|r&63):r<55296?(e[t++]=224|r>>12,e[t++]=128|r>>6&63,e[t++]=128|r&63):(n++,r=(r&1023)<<10,r|=i.charCodeAt(n)&1023,r+=65536,e[t++]=240|r>>18,e[t++]=128|r>>12&63,e[t++]=128|r>>6&63,e[t++]=128|r&63)}return e}var wt=Cn.encode=Ko;function Ur(i){for(var e=0,t=0;t<i.length;t++){var n=i.charCodeAt(t);if(n<128)e+=1;else if(n<2048)e+=2;else if(n<55296)e+=3;else if(n<=57343){if(t>=i.length-1)throw new Error(ji);t++,e+=4}else throw new Error(ji)}return e}Cn.encodedLength=Ur;function jo(i){for(var e=[],t=0;t<i.length;t++){var n=i[t];if(n&128){var r=void 0;if(n<224){if(t>=i.length)throw new Error(st);var o=i[++t];if((o&192)!==128)throw new Error(st);n=(n&31)<<6|o&63,r=128}else if(n<240){if(t>=i.length-1)throw new Error(st);var o=i[++t],a=i[++t];if((o&192)!==128||(a&192)!==128)throw new Error(st);n=(n&15)<<12|(o&63)<<6|a&63,r=2048}else if(n<248){if(t>=i.length-2)throw new Error(st);var o=i[++t],a=i[++t],l=i[++t];if((o&192)!==128||(a&192)!==128||(l&192)!==128)throw new Error(st);n=(n&15)<<18|(o&63)<<12|(a&63)<<6|l&63,r=65536}else throw new Error(st);if(n<r||n>=55296&&n<=57343)throw new Error(st);if(n>=65536){if(n>1114111)throw new Error(st);n-=65536,e.push(String.fromCharCode(55296|n>>10)),n=56320|n&1023}}e.push(String.fromCharCode(n))}return e.join("")}Cn.decode=jo;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});function Go(){for(var i=0,e=0;e<arguments.length;e++)i+=arguments[e].length;for(var t=new Uint8Array(i),n=0,e=0;e<arguments.length;e++){var r=arguments[e];t.set(r,n),n+=r.length}return t}var qo=Dr.concat=Go,rt=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const pi=24;function ft(i){return Buffer.from(i).toString("hex")}function Dt(i){return rt(this,void 0,void 0,function*(){return ft(typeof i=="string"?et.hash(wt(i),32):et.hash(i,32))})}function Gi(i){return rt(this,void 0,void 0,function*(){return Ve.generateKeyPairFromSeed(et.hash(wt(i),32))})}function Br(i,e){return rt(this,void 0,void 0,function*(){const t=Buffer.from(tn.randomBytes(pi)),n=Buffer.concat([t,Buffer.from(Kt.secretBox(e,t,Buffer.from(i,"utf8")))]);return ft(n)})}function Kr(i,e){return rt(this,void 0,void 0,function*(){const t=i.slice(0,pi),n=i.slice(pi),r=Kt.openSecretBox(e,t,n);if(!r)throw new Error("Decryption failed");return Buffer.from(r).toString("utf8")})}function Ho(i,e){return rt(this,void 0,void 0,function*(){const t=Ve.convertPublicKeyToX25519(Buffer.from(e)),n=Kt.generateKeyPair(),o=new et.BLAKE2b(24).update(n.publicKey,32).update(t,32).digest(),a=typeof i=="string"?wt(i):i,l=Kt.box(t,n.secretKey,o,a);return ft(qo(n.publicKey,l))})}function jr(i,e,t){return rt(this,void 0,void 0,function*(){const n=Ve.convertSecretKeyToX25519(Buffer.from(t)),r=Ve.convertPublicKeyToX25519(Buffer.from(e)),o=typeof i=="string"?wt(i):i,a=o.slice(0,32),l=o.slice(32),u=new et.BLAKE2b(24).update(a,32).update(r,32).digest(),c=Kt.openBox(a,n,u,l);if(!c)throw new Error("Decryption failed");return Buffer.from(c).toString()})}function Qo(i){return rt(this,void 0,void 0,function*(){const e={edpk:{length:54,prefix:Buffer.from(new Uint8Array([6,161,159]))},sppk:{length:55,prefix:Buffer.from(new Uint8Array([6,161,161]))},p2pk:{length:55,prefix:Buffer.from(new Uint8Array([6,161,164]))}};let t,n;if(i.length===64)t=e.edpk.prefix,n=i;else{const o=Object.entries(e);for(let a=0;a<o.length;a++){const[l,d]=o[a];if(i.startsWith(l)&&i.length===d.length){t=d.prefix;const u=yt.decode(i);n=u.slice(l.length,u.length).toString("hex");break}}}if(!t||!n)throw new Error(`invalid publicKey: ${i}`);const r=et.hash(Buffer.from(n,"hex"),20);return yt.encode(Buffer.concat([t,Buffer.from(r)]))})}function qi(i,e){return`@${i}:${e}`}const Fo=i=>rt(void 0,void 0,void 0,function*(){if(i.length%2!==0)return wt(i);let e=i;i.startsWith("0x")&&(e=i.slice(2));const t=Buffer.from(e,"hex");return t.length===e.length/2?t:wt(i)}),Vo=(i,e=32)=>rt(void 0,void 0,void 0,function*(){return et.hash(i,e)}),Wo=(i,e)=>rt(void 0,void 0,void 0,function*(){const t=yield Fo(i),n=new Uint8Array([9,245,205,134,18]),r=yield Vo(t),o=Ve.sign(e.secretKey,r);return yt.encode(Buffer.concat([Buffer.from(n),Buffer.from(o)]))});var Jo=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};function vt(){return Jo(this,void 0,void 0,function*(){const i=tn.randomBytes(16);return[i.slice(0,4),i.slice(4,6),i.slice(6,8),i.slice(8,10),i.slice(10,16)].map(function(e){return Buffer.from(e).toString("hex")}).join("-")})}const _n=24,bn=16;var $;(function(i){i.BlockchainRequest="blockchain_request",i.PermissionRequest="permission_request",i.SignPayloadRequest="sign_payload_request",i.OperationRequest="operation_request",i.BroadcastRequest="broadcast_request",i.BlockchainResponse="blockchain_response",i.PermissionResponse="permission_response",i.SignPayloadResponse="sign_payload_response",i.OperationResponse="operation_response",i.BroadcastResponse="broadcast_response",i.Acknowledge="acknowledge",i.Disconnect="disconnect",i.Error="error"})($||($={}));var nt;(function(i){i.SIGN="sign",i.OPERATION_REQUEST="operation_request",i.ENCRYPT="encrypt",i.NOTIFICATION="notification",i.THRESHOLD="threshold"})(nt||(nt={}));var Ee;(function(i){i.MAINNET="mainnet",i.GHOSTNET="ghostnet",i.MONDAYNET="mondaynet",i.DAILYNET="dailynet",i.DELPHINET="delphinet",i.EDONET="edonet",i.FLORENCENET="florencenet",i.GRANADANET="granadanet",i.HANGZHOUNET="hangzhounet",i.ITHACANET="ithacanet",i.JAKARTANET="jakartanet",i.KATHMANDUNET="kathmandunet",i.CUSTOM="custom"})(Ee||(Ee={}));var Hi;(function(i){i.ENDORSEMENT="endorsement",i.SEED_NONCE_REVELATION="seed_nonce_revelation",i.DOUBLE_ENDORSEMENT_EVIDENCE="double_endorsement_evidence",i.DOUBLE_BAKING_EVIDENCE="double_baking_evidence",i.ACTIVATE_ACCOUNT="activate_account",i.PROPOSALS="proposals",i.BALLOT="ballot",i.REVEAL="reveal",i.TRANSACTION="transaction",i.ORIGINATION="origination",i.DELEGATION="delegation"})(Hi||(Hi={}));var ze;(function(i){i.WEBSITE="website",i.EXTENSION="extension",i.P2P="p2p"})(ze||(ze={}));var ut;(function(i){i.BACKGROUND="toBackground",i.PAGE="toPage",i.EXTENSION="toExtension"})(ut||(ut={}));var le;(function(i){i.BROADCAST_ERROR="BROADCAST_ERROR",i.NETWORK_NOT_SUPPORTED="NETWORK_NOT_SUPPORTED",i.NO_ADDRESS_ERROR="NO_ADDRESS_ERROR",i.NO_PRIVATE_KEY_FOUND_ERROR="NO_PRIVATE_KEY_FOUND_ERROR",i.NOT_GRANTED_ERROR="NOT_GRANTED_ERROR",i.PARAMETERS_INVALID_ERROR="PARAMETERS_INVALID_ERROR",i.TOO_MANY_OPERATIONS="TOO_MANY_OPERATIONS",i.TRANSACTION_INVALID_ERROR="TRANSACTION_INVALID_ERROR",i.SIGNATURE_TYPE_NOT_SUPPORTED="SIGNATURE_TYPE_NOT_SUPPORTED",i.ABORTED_ERROR="ABORTED_ERROR",i.UNKNOWN_ERROR="UNKNOWN_ERROR"})(le||(le={}));var Je;(function(i){i.NOT_CONNECTED="NOT_CONNECTED",i.CONNECTING="CONNECTING",i.CONNECTED="CONNECTED"})(Je||(Je={}));var It;(function(i){i.CHROME_MESSAGE="chrome_message",i.POST_MESSAGE="post_message",i.LEDGER="ledger",i.P2P="p2p"})(It||(It={}));var z;(function(i){i.TRANSPORT_P2P_PEERS_DAPP="beacon:communication-peers-dapp",i.TRANSPORT_P2P_PEERS_WALLET="beacon:communication-peers-wallet",i.TRANSPORT_POSTMESSAGE_PEERS_DAPP="beacon:postmessage-peers-dapp",i.TRANSPORT_POSTMESSAGE_PEERS_WALLET="beacon:postmessage-peers-wallet",i.ACCOUNTS="beacon:accounts",i.ACTIVE_ACCOUNT="beacon:active-account",i.PUSH_TOKENS="beacon:push-tokens",i.BEACON_SDK_SECRET_SEED="beacon:sdk-secret-seed",i.APP_METADATA_LIST="beacon:app-metadata-list",i.PERMISSION_LIST="beacon:permissions",i.BEACON_SDK_VERSION="beacon:sdk_version",i.MATRIX_PRESERVED_STATE="beacon:sdk-matrix-preserved-state",i.MATRIX_PEER_ROOM_IDS="beacon:matrix-peer-rooms",i.MATRIX_SELECTED_NODE="beacon:matrix-selected-node",i.MULTI_NODE_SETUP_DONE="beacon:multi-node-setup"})(z||(z={}));const Bn={[z.TRANSPORT_P2P_PEERS_DAPP]:[],[z.TRANSPORT_P2P_PEERS_WALLET]:[],[z.TRANSPORT_POSTMESSAGE_PEERS_DAPP]:[],[z.TRANSPORT_POSTMESSAGE_PEERS_WALLET]:[],[z.ACCOUNTS]:[],[z.ACTIVE_ACCOUNT]:void 0,[z.PUSH_TOKENS]:[],[z.BEACON_SDK_SECRET_SEED]:void 0,[z.APP_METADATA_LIST]:[],[z.PERMISSION_LIST]:[],[z.BEACON_SDK_VERSION]:void 0,[z.MATRIX_PRESERVED_STATE]:{},[z.MATRIX_PEER_ROOM_IDS]:{},[z.MATRIX_SELECTED_NODE]:void 0,[z.MULTI_NODE_SETUP_DONE]:void 0};var gt;(function(i){i.RAW="raw",i.OPERATION="operation",i.MICHELINE="micheline"})(gt||(gt={}));var Rn;(function(i){i.LIGHT="light",i.DARK="dark"})(Rn||(Rn={}));var gi;(function(i){i.EUROPE_EAST="europe-east",i.EUROPE_WEST="europe-west",i.NORTH_AMERICA_EAST="north-america-east",i.NORTH_AMERICA_WEST="north-america-west",i.CENTRAL_AMERICA="central-america",i.SOUTH_AMERICA="south-america",i.ASIA_EAST="asia-east",i.ASIA_WEST="asia-west",i.AFRICA="africa",i.AUSTRALIA="australia"})(gi||(gi={}));const Xo="3.3.0",Gr="3",an=[i=>{}];let oe={postMessage:(i,e)=>{console.log("GOT MOCK POST MESSAGE",i),an.forEach(t=>{t({data:i})})},addEventListener:(i,e)=>{an.push(e)},removeEventListener:(i,e)=>{an.splice(an.indexOf(t=>t===e),1)},location:{origin:"*"}};try{typeof window<"u"&&(oe=window)}catch(i){console.log(`not defined: ${i}`)}var cn=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class Yo{constructor(e){if(this._beaconId=new _e,this._keyPair=new _e,!e.name)throw new Error("Name not set");if(!e.storage)throw new Error("Storage not set");this.name=e.name,this.iconUrl=e.iconUrl,this.appUrl=e.appUrl,this.storage=e.storage,oe.beaconCreatedClientInstance?console.error("[BEACON] It looks like you created multiple Beacon SDK Client instances. This can lead to problems. Only create one instance and re-use it everywhere."):oe.beaconCreatedClientInstance=!0,this.initSDK().catch(console.error)}get beaconId(){return this._beaconId.promise}get keyPair(){return this._keyPair.promise}destroy(){return cn(this,void 0,void 0,function*(){yield this.removeBeaconEntriesFromStorage(),oe.beaconCreatedClientInstance=!1})}initSDK(){return cn(this,void 0,void 0,function*(){return this.storage.set(z.BEACON_SDK_VERSION,Xo).catch(console.error),this.loadOrCreateBeaconSecret().catch(console.error),this.keyPair.then(e=>{this._beaconId.resolve(ft(e.publicKey))})})}removeBeaconEntriesFromStorage(){return cn(this,void 0,void 0,function*(){const e=Object.values(z);yield Promise.all(e.map(t=>this.storage.delete(t)))})}loadOrCreateBeaconSecret(){return cn(this,void 0,void 0,function*(){const e=yield this.storage.get(z.BEACON_SDK_SECRET_SEED);if(e&&typeof e=="string")this._keyPair.resolve(yield Gi(e));else{const t=yield vt();yield this.storage.set(z.BEACON_SDK_SECRET_SEED,t),this._keyPair.resolve(yield Gi(t))}})}}var Qt=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class Ni{constructor(e,t){this.storage=e,this.storageKey=t}getAll(){return Qt(this,void 0,void 0,function*(){return this.storage.get(this.storageKey)})}getOne(e){return Qt(this,void 0,void 0,function*(){const t=yield this.storage.get(this.storageKey);return t.find(e)})}addOne(e,t,n=!0){return Qt(this,void 0,void 0,function*(){const r=yield this.storage.get(this.storageKey);if(!r.some(t))r.push(e);else if(n)for(let o=0;o<r.length;o++)t(r[o])&&(r[o]=e);return this.storage.set(this.storageKey,r)})}remove(e){return Qt(this,void 0,void 0,function*(){const t=yield this.storage.get(this.storageKey),n=t.filter(r=>!e(r));return this.storage.set(this.storageKey,n)})}removeAll(){return Qt(this,void 0,void 0,function*(){return this.storage.delete(this.storageKey)})}}var Zo=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const Ei=(i,e)=>Zo(void 0,void 0,void 0,function*(){const t=[i,e.type];e.name&&t.push(`name:${e.name}`),e.rpcUrl&&t.push(`rpc:${e.rpcUrl}`);const n=Buffer.from(et.hash(wt(t.join("-")),10));return yt.encode(n)});var zo=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class $o{static hasPermission(e,t,n){return zo(this,void 0,void 0,function*(){switch(e.type){case $.PermissionRequest:case $.BroadcastRequest:return!0;case $.OperationRequest:{const r=yield Ei(e.sourceAddress,e.network),o=yield t(r);return o?o.scopes.includes(nt.OPERATION_REQUEST):!1}case $.SignPayloadRequest:{const o=(yield n()).filter(a=>a.address===e.sourceAddress);return o.length===0?!1:o.some(a=>a.scopes.includes(nt.SIGN))}default:throw new Error("Message not handled")}})}}var _t=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class es{constructor(e){this.storageManager=new Ni(e,z.ACCOUNTS)}getAccounts(){return _t(this,void 0,void 0,function*(){return this.storageManager.getAll()})}getAccount(e){return _t(this,void 0,void 0,function*(){return this.storageManager.getOne(t=>t.accountIdentifier===e)})}addAccount(e){return _t(this,void 0,void 0,function*(){return this.storageManager.addOne(e,t=>t.accountIdentifier===e.accountIdentifier)})}removeAccount(e){return _t(this,void 0,void 0,function*(){return this.storageManager.remove(t=>t.accountIdentifier===e)})}removeAccounts(e){return _t(this,void 0,void 0,function*(){return this.storageManager.remove(t=>e.includes(t.accountIdentifier))})}removeAllAccounts(){return _t(this,void 0,void 0,function*(){return this.storageManager.removeAll()})}hasPermission(e){return _t(this,void 0,void 0,function*(){return $o.hasPermission(e,this.getAccount.bind(this),this.getAccounts.bind(this))})}}var ts=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const jt=i=>ts(void 0,void 0,void 0,function*(){const e=Buffer.from(et.hash(Buffer.from(i,"hex"),5));return yt.encode(e)});let qr=!!oe.beaconSdkDebugEnabled;qr&&console.log("[BEACON]: Debug mode is ON (turned on either by the developer or a browser extension)");const ns=()=>qr;class is{constructor(){}debug(e,t,...n){this._log("debug",e,t,n)}log(e,t,...n){this._log("log",e,t,n)}warn(e,t,...n){this._log("warn",e,t,n)}error(e,t,...n){this._log("error",e,t,n)}_log(e,t,n,r=[]){if(!ns())return;let o=`[BEACON] ${new Date().toISOString()} [${t}](${n})`,a=r;switch(r[0]&&typeof r[0]=="string"&&(o+=` ${r[0]}`,a=r.slice(1)),e){case"error":console.group(o),console.error(...a);break;case"warn":console.group(o),console.warn(...a);break;case"debug":console.groupCollapsed(o),console.debug(...a);break;default:console.group(o),console.log(...a)}console.groupEnd()}}class je{constructor(e){this.name=e}debug(e,...t){ln.debug(this.name,e,t)}log(e,...t){ln.log(this.name,e,t)}warn(e,...t){ln.warn(this.name,e,t)}error(e,...t){ln.error(this.name,e,t)}}new je("");let ln=new is;var Ge=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const rs=new je("Client");class os extends Yo{constructor(e){var t;super(e),this.rateLimit=2,this.rateLimitWindowInSeconds=5,this.requestCounter=[],this._transport=new _e,this.accountManager=new es(e.storage),this.matrixNodes=(t=e.matrixNodes)!==null&&t!==void 0?t:{},this.handleResponse=(n,r)=>{throw new Error(`not overwritten${JSON.stringify(n)} - ${JSON.stringify(r)}`)}}get transport(){return this._transport.promise}get connectionStatus(){var e,t;return(t=(e=this._transport.promiseResult)===null||e===void 0?void 0:e.connectionStatus)!==null&&t!==void 0?t:Je.NOT_CONNECTED}get ready(){return this.transport.then(()=>{})}getAccounts(){return Ge(this,void 0,void 0,function*(){return this.accountManager.getAccounts()})}getAccount(e){return Ge(this,void 0,void 0,function*(){return this.accountManager.getAccount(e)})}removeAccount(e){return Ge(this,void 0,void 0,function*(){return this.accountManager.removeAccount(e)})}removeAllAccounts(){return Ge(this,void 0,void 0,function*(){return this.accountManager.removeAllAccounts()})}addRequestAndCheckIfRateLimited(){return Ge(this,void 0,void 0,function*(){const e=new Date().getTime();return this.requestCounter=this.requestCounter.filter(t=>t+this.rateLimitWindowInSeconds*1e3>e),this.requestCounter.push(e),this.requestCounter.length>this.rateLimit})}init(e){return Ge(this,void 0,void 0,function*(){return this._transport.status===tt.RESOLVED?(yield this.transport).type:(yield this.setTransport(e),e.type)})}getOwnAppMetadata(){return Ge(this,void 0,void 0,function*(){return{senderId:yield jt(yield this.beaconId),name:this.name,icon:this.iconUrl}})}getPeers(){return Ge(this,void 0,void 0,function*(){return(yield this.transport).getPeers()})}addPeer(e){return Ge(this,void 0,void 0,function*(){return(yield this.transport).addPeer(e)})}destroy(){const e=Object.create(null,{destroy:{get:()=>super.destroy}});return Ge(this,void 0,void 0,function*(){this._transport.status===tt.RESOLVED&&(yield(yield this.transport).disconnect()),yield e.destroy.call(this)})}setTransport(e){return Ge(this,void 0,void 0,function*(){e?this._transport.isSettled()?this._transport=_e.resolve(e):this._transport.resolve(e):this._transport.isSettled()&&(this._transport=new _e)})}addListener(e){return Ge(this,void 0,void 0,function*(){e.addListener((t,n)=>Ge(this,void 0,void 0,function*(){if(typeof t=="string"){const r=yield new Ot().deserialize(t);this.handleResponse(r,n)}})).catch(t=>rs.error("addListener",t))})}sendDisconnectToPeer(e,t){return Ge(this,void 0,void 0,function*(){const n={id:yield vt(),version:e.version,senderId:yield jt(yield this.beaconId),type:$.Disconnect},r=yield new Ot().serialize(n);yield(t!=null?t:yield this.transport).send(r,e)})}}class Qe{constructor(e,t){this.name="BeaconError",this.title="Error",this.message=`[${e}]:${t}`,this.description=t}get fullDescription(){return{description:this.description}}static getError(e,t){switch(e){case le.BROADCAST_ERROR:return new ss;case le.NETWORK_NOT_SUPPORTED:return new as;case le.NO_ADDRESS_ERROR:return new cs;case le.NO_PRIVATE_KEY_FOUND_ERROR:return new ls;case le.NOT_GRANTED_ERROR:return new ds;case le.PARAMETERS_INVALID_ERROR:return new us;case le.TOO_MANY_OPERATIONS:return new hs;case le.TRANSACTION_INVALID_ERROR:return new fs(t);case le.SIGNATURE_TYPE_NOT_SUPPORTED:return new ys;case le.ABORTED_ERROR:return new gs;case le.UNKNOWN_ERROR:return new Hr}}}class ss extends Qe{constructor(){super(le.BROADCAST_ERROR,"The transaction could not be broadcast to the network. Please try again."),this.name="BroadcastBeaconError",this.title="Broadcast Error"}}class as extends Qe{constructor(){super(le.NETWORK_NOT_SUPPORTED,"The wallet does not support this network. Please select another one."),this.name="NetworkNotSupportedBeaconError",this.title="Network Error"}}class cs extends Qe{constructor(){super(le.NO_ADDRESS_ERROR,"The wallet does not have an account set up. Please make sure to set up your wallet and try again."),this.name="NoAddressBeaconError",this.title="No Address"}}class ls extends Qe{constructor(){super(le.NO_PRIVATE_KEY_FOUND_ERROR,"The account you are trying to interact with is not available. Please make sure to add the account to your wallet and try again."),this.name="NoPrivateKeyBeaconError",this.title="Account Not Found"}}class ds extends Qe{constructor(){super(le.NOT_GRANTED_ERROR,"You do not have the necessary permissions to perform this action. Please initiate another permission request and give the necessary permissions."),this.name="NotGrantedBeaconError",this.title="Permission Not Granted"}}class us extends Qe{constructor(){super(le.PARAMETERS_INVALID_ERROR,"Some of the parameters you provided are invalid and the request could not be completed. Please check your inputs and try again."),this.name="ParametersInvalidBeaconError",this.title="Parameters Invalid"}}class hs extends Qe{constructor(){super(le.TOO_MANY_OPERATIONS,"The request contains too many transactions. Please include fewer operations and try again."),this.name="TooManyOperationsBeaconError",this.title="Too Many Operations"}}class fs extends Qe{constructor(e){super(le.TRANSACTION_INVALID_ERROR,"The transaction is invalid and the node did not accept it."),this.data=e,this.name="TransactionInvalidBeaconError",this.title="Transaction Invalid",this.data=e}get fullDescription(){return{description:this.description,data:JSON.stringify(this.data,void 0,2)}}}class Hr extends Qe{constructor(){super(le.UNKNOWN_ERROR,"An unknown error occured. Please try again or report it to a developer."),this.name="UnknownBeaconError",this.title="Error"}}var Xe=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const at=new je("Transport");class Qr{constructor(e,t,n){this.type=It.POST_MESSAGE,this._isConnected=Je.NOT_CONNECTED,this.listeners=[],this.name=e,this.client=t,this.peerManager=n}get connectionStatus(){return this._isConnected}static isAvailable(){return Xe(this,void 0,void 0,function*(){return Promise.resolve(!1)})}connect(){return Xe(this,void 0,void 0,function*(){at.log("connect"),this._isConnected=Je.CONNECTED})}disconnect(){return Xe(this,void 0,void 0,function*(){at.log("disconnect"),this._isConnected=Je.NOT_CONNECTED})}send(e,t){return Xe(this,void 0,void 0,function*(){if(t)return this.client.sendMessage(e,t);{const r=(yield this.getPeers()).map(o=>this.client.sendMessage(e,o));return(yield Promise.all(r))[0]}})}addListener(e){return Xe(this,void 0,void 0,function*(){at.debug("addListener"),this.listeners.push(e)})}removeListener(e){return Xe(this,void 0,void 0,function*(){at.log("removeListener"),this.listeners=this.listeners.filter(t=>t!==e)})}getPeers(){return Xe(this,void 0,void 0,function*(){return this.peerManager.getPeers()})}addPeer(e,t=!0){return Xe(this,void 0,void 0,function*(){at.log("addPeer","adding peer",e),yield this.peerManager.addPeer(e),yield this.listen(e.publicKey)})}removePeer(e){return Xe(this,void 0,void 0,function*(){at.log("removePeer","removing peer",e),yield this.peerManager.removePeer(e.publicKey),this.client&&(yield this.client.unsubscribeFromEncryptedMessage(e.publicKey))})}removeAllPeers(){return Xe(this,void 0,void 0,function*(){at.log("removeAllPeers"),yield this.peerManager.removeAllPeers(),this.client&&(yield this.client.unsubscribeFromEncryptedMessages())})}notifyListeners(e,t){return Xe(this,void 0,void 0,function*(){this.listeners.length===0?at.warn("notifyListeners","0 listeners notified!",this):at.log("notifyListeners",`Notifying ${this.listeners.length} listeners`,this),this.listeners.forEach(n=>{n(e,t)})})}}globalThis&&globalThis.__awaiter;var dn=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class vs{constructor(e){this.prefix=e}static isSupported(){return dn(this,void 0,void 0,function*(){return Promise.resolve(Boolean(typeof window<"u")&&Boolean(window.localStorage))})}get(e){return dn(this,void 0,void 0,function*(){const t=localStorage.getItem(this.getPrefixedKey(e));if(t)try{return JSON.parse(t)}catch{return t}else return typeof Bn[e]=="object"?JSON.parse(JSON.stringify(Bn[e])):Bn[e]})}set(e,t){return dn(this,void 0,void 0,function*(){return typeof t=="string"?localStorage.setItem(this.getPrefixedKey(e),t):localStorage.setItem(this.getPrefixedKey(e),JSON.stringify(t))})}delete(e){return dn(this,void 0,void 0,function*(){return Promise.resolve(localStorage.removeItem(this.getPrefixedKey(e)))})}getPrefixedKey(e){return this.prefix?`${this.prefix}-${e}`:e}}globalThis&&globalThis.__awaiter;new je("STORAGE");var Qi=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class Ot{serialize(e){return Qi(this,void 0,void 0,function*(){const t=JSON.stringify(e);return yt.encode(Buffer.from(t))})}deserialize(e){return Qi(this,void 0,void 0,function*(){if(typeof e!="string")throw new Error("Encoded payload needs to be a string");return JSON.parse(yt.decode(e).toString())})}}var kt=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class ps{constructor(e){this.storageManager=new Ni(e,z.APP_METADATA_LIST)}getAppMetadataList(){return kt(this,void 0,void 0,function*(){return this.storageManager.getAll()})}getAppMetadata(e){return kt(this,void 0,void 0,function*(){return this.storageManager.getOne(t=>t.senderId===e)})}addAppMetadata(e){return kt(this,void 0,void 0,function*(){return this.storageManager.addOne(e,t=>t.senderId===e.senderId)})}removeAppMetadata(e){return kt(this,void 0,void 0,function*(){return this.storageManager.remove(t=>t.senderId===e)})}removeAppMetadatas(e){return kt(this,void 0,void 0,function*(){return this.storageManager.remove(t=>e.includes(t.senderId))})}removeAllAppMetadata(){return kt(this,void 0,void 0,function*(){return this.storageManager.removeAll()})}}globalThis&&globalThis.__awaiter;class gs extends Qe{constructor(){super(le.ABORTED_ERROR,"The action was aborted by the user."),this.name="UnknownBeaconError",this.title="Aborted"}}var bt=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class Tn{constructor(e,t){this.storageManager=new Ni(e,t)}hasPeer(e){return bt(this,void 0,void 0,function*(){return!!(yield this.getPeer(e))})}getPeers(){return bt(this,void 0,void 0,function*(){return this.storageManager.getAll()})}getPeer(e){return bt(this,void 0,void 0,function*(){return this.storageManager.getOne(t=>t.publicKey===e)})}addPeer(e){return bt(this,void 0,void 0,function*(){return this.storageManager.addOne(e,t=>t.publicKey===e.publicKey)})}removePeer(e){return bt(this,void 0,void 0,function*(){return this.storageManager.remove(t=>t.publicKey===e)})}removePeers(e){return bt(this,void 0,void 0,function*(){return this.storageManager.remove(t=>e.includes(t.publicKey))})}removeAllPeers(){return bt(this,void 0,void 0,function*(){return this.storageManager.removeAll()})}}var Kn={},jn={},Fi;function Es(){return Fi||(Fi=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.X25519Session=i.SECRET_SEED_LENGTH=i.SAVED_STATE_LENGTH=i.ACCEPT_MESSAGE_LENGTH=i.OFFER_MESSAGE_LENGTH=void 0;const e=tn,t=Ct,n=$t,r=Fr();i.OFFER_MESSAGE_LENGTH=n.PUBLIC_KEY_LENGTH,i.ACCEPT_MESSAGE_LENGTH=n.PUBLIC_KEY_LENGTH,i.SAVED_STATE_LENGTH=n.SECRET_KEY_LENGTH,i.SECRET_SEED_LENGTH=n.SECRET_KEY_LENGTH;class o{constructor(l,d){this.offerMessageLength=i.OFFER_MESSAGE_LENGTH,this.acceptMessageLength=i.ACCEPT_MESSAGE_LENGTH,this.sharedKeyLength=n.SHARED_KEY_LENGTH,this.savedStateLength=i.SAVED_STATE_LENGTH,this._seed=l||(0,e.randomBytes)(n.SECRET_KEY_LENGTH,d)}saveState(){return new Uint8Array(this._seed)}restoreState(l){return this._seed=new Uint8Array(l),this}clean(){this._seed&&(0,t.wipe)(this._seed),this._keyPair&&((0,t.wipe)(this._keyPair.secretKey),(0,t.wipe)(this._keyPair.publicKey)),this._sharedKey&&(0,t.wipe)(this._sharedKey),this._sessionKeys&&((0,t.wipe)(this._sessionKeys.receive),(0,t.wipe)(this._sessionKeys.send))}offer(){return this._keyPair=(0,n.generateKeyPairFromSeed)(this._seed),new Uint8Array(this._keyPair.publicKey)}accept(l){if(this._keyPair)throw new Error("X25519Session: accept shouldn't be called by offering party");if(l.length!==this.offerMessageLength)throw new Error("X25519Session: incorrect offer message length");if(this._sharedKey)throw new Error("X25519Session: accept was already called");const d=(0,n.generateKeyPairFromSeed)(this._seed);return this._sharedKey=(0,n.sharedKey)(d.secretKey,l),this._sessionKeys=(0,r.clientSessionKeysFromSharedKey)(this._sharedKey,d.publicKey,l),(0,t.wipe)(d.secretKey),d.publicKey}finish(l){if(l.length!==this.acceptMessageLength)throw new Error("X25519Session: incorrect accept message length");if(!this._keyPair)throw new Error("X25519Session: no offer state");if(this._sharedKey)throw new Error("X25519Session: finish was already called");return this._sharedKey=(0,n.sharedKey)(this._keyPair.secretKey,l),this._sessionKeys=(0,r.serverSessionKeysFromSharedKey)(this._sharedKey,this._keyPair.publicKey,l),this}getSharedKey(){if(!this._sharedKey)throw new Error("X25519Session: no shared key established");return new Uint8Array(this._sharedKey)}getSessionKeys(){if(!this._sessionKeys)throw new Error("X25519Session: no shared key established");return{receive:new Uint8Array(this._sessionKeys.receive),send:new Uint8Array(this._sessionKeys.send)}}}i.X25519Session=o}(jn)),jn}var Vi;function Fr(){return Vi||(Vi=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.clientSessionKeys=i.serverSessionKeys=i.clientSessionKeysFromSharedKey=i.serverSessionKeysFromSharedKey=i.X25519Session=void 0;const e=et,t=$t;var n=Es();Object.defineProperty(i,"X25519Session",{enumerable:!0,get:function(){return n.X25519Session}});const r=32;function o(u,c,h,w=e.BLAKE2b){const O=new w;if(O.digestLength!==r*2)throw new Error("X25519: incorrect digest length");const U=O.update(u).update(h).update(c).digest();return{send:U.subarray(0,r),receive:U.subarray(r)}}i.serverSessionKeysFromSharedKey=o;function a(u,c,h,w=e.BLAKE2b){const O=new w;if(O.digestLength!==r*2)throw new Error("X25519: incorrect digest length");const U=O.update(u).update(c).update(h).digest();return{receive:U.subarray(0,r),send:U.subarray(r)}}i.clientSessionKeysFromSharedKey=a;function l(u,c,h=e.BLAKE2b){const w=(0,t.sharedKey)(u.secretKey,c);return o(w,u.publicKey,c,h)}i.serverSessionKeys=l;function d(u,c,h=e.BLAKE2b){const w=(0,t.sharedKey)(u.secretKey,c);return a(w,u.publicKey,c,h)}i.clientSessionKeys=d}(Kn)),Kn}var Wi=Fr(),Ft=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class Vr{constructor(e){this.keyPair=e}getPublicKey(){return Ft(this,void 0,void 0,function*(){return ft(this.keyPair.publicKey)})}getPublicKeyHash(){return Ft(this,void 0,void 0,function*(){return Dt(this.keyPair.publicKey)})}createCryptoBoxServer(e,t){return Ft(this,void 0,void 0,function*(){return Wi.serverSessionKeys({publicKey:Ve.convertPublicKeyToX25519(t.publicKey),secretKey:Ve.convertSecretKeyToX25519(t.secretKey)},Ve.convertPublicKeyToX25519(Buffer.from(e,"hex")))})}createCryptoBoxClient(e,t){return Ft(this,void 0,void 0,function*(){return Wi.clientSessionKeys({publicKey:Ve.convertPublicKeyToX25519(t.publicKey),secretKey:Ve.convertSecretKeyToX25519(t.secretKey)},Ve.convertPublicKeyToX25519(Buffer.from(e,"hex")))})}encryptMessageAsymmetric(e,t){return Ft(this,void 0,void 0,function*(){return Ho(t,Buffer.from(e,"hex"))})}}var Rt=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class ms extends Vr{constructor(e,t){super(t),this.name=e,this.init().catch(console.error)}start(){return Rt(this,void 0,void 0,function*(){yield Promise.resolve()})}getPairingRequestInfo(){return Rt(this,void 0,void 0,function*(){return{id:yield vt(),type:"postmessage-pairing-request",name:this.name,version:Gr,publicKey:yield this.getPublicKey()}})}getPairingResponseInfo(e){return Rt(this,void 0,void 0,function*(){return{id:e.id,type:"postmessage-pairing-response",name:this.name,version:e.version,publicKey:yield this.getPublicKey()}})}unsubscribeFromEncryptedMessage(e){return Rt(this,void 0,void 0,function*(){!this.activeListeners.get(e)||this.activeListeners.delete(e)})}unsubscribeFromEncryptedMessages(){return Rt(this,void 0,void 0,function*(){this.activeListeners.clear()})}decryptMessage(e,t){return Rt(this,void 0,void 0,function*(){const n=yield this.createCryptoBoxServer(e,this.keyPair),r=Buffer.from(t,"hex");if(r.length>=_n+bn)try{return yield Kr(r,n.receive)}catch{}throw new Error("Could not decrypt message")})}encryptMessage(e,t){return Rt(this,void 0,void 0,function*(){const n=yield this.createCryptoBoxClient(e,this.keyPair);return Br(t,n.send)})}}class ys extends Qe{constructor(){super(le.SIGNATURE_TYPE_NOT_SUPPORTED,"The wallet is not able to sign payloads of this type."),this.name="SignatureTypeNotSupportedBeaconError",this.title="Signature Type Not Supported"}}var Wr={exports:{}},Ii={exports:{}},Jr=function(e,t){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return e.apply(t,r)}},ws=Jr,Pt=Object.prototype.toString;function Oi(i){return Pt.call(i)==="[object Array]"}function mi(i){return typeof i>"u"}function As(i){return i!==null&&!mi(i)&&i.constructor!==null&&!mi(i.constructor)&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function _s(i){return Pt.call(i)==="[object ArrayBuffer]"}function bs(i){return typeof FormData<"u"&&i instanceof FormData}function Rs(i){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&i.buffer instanceof ArrayBuffer,e}function Ts(i){return typeof i=="string"}function Ss(i){return typeof i=="number"}function Xr(i){return i!==null&&typeof i=="object"}function mn(i){if(Pt.call(i)!=="[object Object]")return!1;var e=Object.getPrototypeOf(i);return e===null||e===Object.prototype}function xs(i){return Pt.call(i)==="[object Date]"}function Ns(i){return Pt.call(i)==="[object File]"}function Is(i){return Pt.call(i)==="[object Blob]"}function Yr(i){return Pt.call(i)==="[object Function]"}function Os(i){return Xr(i)&&Yr(i.pipe)}function Cs(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}function Ps(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function ks(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Ci(i,e){if(!(i===null||typeof i>"u"))if(typeof i!="object"&&(i=[i]),Oi(i))for(var t=0,n=i.length;t<n;t++)e.call(null,i[t],t,i);else for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.call(null,i[r],r,i)}function yi(){var i={};function e(r,o){mn(i[o])&&mn(r)?i[o]=yi(i[o],r):mn(r)?i[o]=yi({},r):Oi(r)?i[o]=r.slice():i[o]=r}for(var t=0,n=arguments.length;t<n;t++)Ci(arguments[t],e);return i}function Ls(i,e,t){return Ci(e,function(r,o){t&&typeof r=="function"?i[o]=ws(r,t):i[o]=r}),i}function Ms(i){return i.charCodeAt(0)===65279&&(i=i.slice(1)),i}var Fe={isArray:Oi,isArrayBuffer:_s,isBuffer:As,isFormData:bs,isArrayBufferView:Rs,isString:Ts,isNumber:Ss,isObject:Xr,isPlainObject:mn,isUndefined:mi,isDate:xs,isFile:Ns,isBlob:Is,isFunction:Yr,isStream:Os,isURLSearchParams:Cs,isStandardBrowserEnv:ks,forEach:Ci,merge:yi,extend:Ls,trim:Ps,stripBOM:Ms},Lt=Fe;function Ji(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Zr=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(Lt.isURLSearchParams(t))r=t.toString();else{var o=[];Lt.forEach(t,function(d,u){d===null||typeof d>"u"||(Lt.isArray(d)?u=u+"[]":d=[d],Lt.forEach(d,function(h){Lt.isDate(h)?h=h.toISOString():Lt.isObject(h)&&(h=JSON.stringify(h)),o.push(Ji(u)+"="+Ji(h))}))}),r=o.join("&")}if(r){var a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e},Us=Fe;function Pn(){this.handlers=[]}Pn.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Pn.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Pn.prototype.forEach=function(e){Us.forEach(this.handlers,function(n){n!==null&&e(n)})};var Ds=Pn,Bs=Fe,Ks=function(e,t){Bs.forEach(e,function(r,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[o])})},zr=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Gn,Xi;function $r(){if(Xi)return Gn;Xi=1;var i=zr;return Gn=function(t,n,r,o,a){var l=new Error(t);return i(l,n,r,o,a)},Gn}var qn,Yi;function js(){if(Yi)return qn;Yi=1;var i=$r();return qn=function(t,n,r){var o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):n(i("Request failed with status code "+r.status,r.config,null,r.request,r))},qn}var Hn,Zi;function Gs(){if(Zi)return Hn;Zi=1;var i=Fe;return Hn=i.isStandardBrowserEnv()?function(){return{write:function(n,r,o,a,l,d){var u=[];u.push(n+"="+encodeURIComponent(r)),i.isNumber(o)&&u.push("expires="+new Date(o).toGMTString()),i.isString(a)&&u.push("path="+a),i.isString(l)&&u.push("domain="+l),d===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Hn}var Qn,zi;function qs(){return zi||(zi=1,Qn=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),Qn}var Fn,$i;function Hs(){return $i||($i=1,Fn=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}),Fn}var Vn,er;function Qs(){if(er)return Vn;er=1;var i=qs(),e=Hs();return Vn=function(n,r){return n&&!i(r)?e(n,r):r},Vn}var Wn,tr;function Fs(){if(tr)return Wn;tr=1;var i=Fe,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Wn=function(n){var r={},o,a,l;return n&&i.forEach(n.split(`
`),function(u){if(l=u.indexOf(":"),o=i.trim(u.substr(0,l)).toLowerCase(),a=i.trim(u.substr(l+1)),o){if(r[o]&&e.indexOf(o)>=0)return;o==="set-cookie"?r[o]=(r[o]?r[o]:[]).concat([a]):r[o]=r[o]?r[o]+", "+a:a}}),r},Wn}var Jn,nr;function Vs(){if(nr)return Jn;nr=1;var i=Fe;return Jn=i.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function o(a){var l=a;return t&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(l){var d=i.isString(l)?o(l):l;return d.protocol===r.protocol&&d.host===r.host}}():function(){return function(){return!0}}(),Jn}var Xn,ir;function kn(){if(ir)return Xn;ir=1;function i(e){this.message=e}return i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,Xn=i,Xn}var Yn,rr;function or(){if(rr)return Yn;rr=1;var i=Fe,e=js(),t=Gs(),n=Zr,r=Qs(),o=Fs(),a=Vs(),l=$r(),d=Ln(),u=kn();return Yn=function(h){return new Promise(function(O,U){var j=h.data,V=h.headers,Y=h.responseType,Z;function S(){h.cancelToken&&h.cancelToken.unsubscribe(Z),h.signal&&h.signal.removeEventListener("abort",Z)}i.isFormData(j)&&delete V["Content-Type"];var N=new XMLHttpRequest;if(h.auth){var A=h.auth.username||"",m=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";V.Authorization="Basic "+btoa(A+":"+m)}var s=r(h.baseURL,h.url);N.open(h.method.toUpperCase(),n(s,h.params,h.paramsSerializer),!0),N.timeout=h.timeout;function f(){if(!!N){var E="getAllResponseHeaders"in N?o(N.getAllResponseHeaders()):null,p=!Y||Y==="text"||Y==="json"?N.responseText:N.response,v={data:p,status:N.status,statusText:N.statusText,headers:E,config:h,request:N};e(function(T){O(T),S()},function(T){U(T),S()},v),N=null}}if("onloadend"in N?N.onloadend=f:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(f)},N.onabort=function(){!N||(U(l("Request aborted",h,"ECONNABORTED",N)),N=null)},N.onerror=function(){U(l("Network Error",h,null,N)),N=null},N.ontimeout=function(){var p=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded",v=h.transitional||d.transitional;h.timeoutErrorMessage&&(p=h.timeoutErrorMessage),U(l(p,h,v.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",N)),N=null},i.isStandardBrowserEnv()){var g=(h.withCredentials||a(s))&&h.xsrfCookieName?t.read(h.xsrfCookieName):void 0;g&&(V[h.xsrfHeaderName]=g)}"setRequestHeader"in N&&i.forEach(V,function(p,v){typeof j>"u"&&v.toLowerCase()==="content-type"?delete V[v]:N.setRequestHeader(v,p)}),i.isUndefined(h.withCredentials)||(N.withCredentials=!!h.withCredentials),Y&&Y!=="json"&&(N.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&N.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&N.upload&&N.upload.addEventListener("progress",h.onUploadProgress),(h.cancelToken||h.signal)&&(Z=function(E){!N||(U(!E||E&&E.type?new u("canceled"):E),N.abort(),N=null)},h.cancelToken&&h.cancelToken.subscribe(Z),h.signal&&(h.signal.aborted?Z():h.signal.addEventListener("abort",Z))),j||(j=null),N.send(j)})},Yn}var Zn,sr;function Ln(){if(sr)return Zn;sr=1;var i=Fe,e=Ks,t=zr,n={"Content-Type":"application/x-www-form-urlencoded"};function r(d,u){!i.isUndefined(d)&&i.isUndefined(d["Content-Type"])&&(d["Content-Type"]=u)}function o(){var d;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(d=or()),d}function a(d,u,c){if(i.isString(d))try{return(u||JSON.parse)(d),i.trim(d)}catch(h){if(h.name!=="SyntaxError")throw h}return(c||JSON.stringify)(d)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:o(),transformRequest:[function(u,c){return e(c,"Accept"),e(c,"Content-Type"),i.isFormData(u)||i.isArrayBuffer(u)||i.isBuffer(u)||i.isStream(u)||i.isFile(u)||i.isBlob(u)?u:i.isArrayBufferView(u)?u.buffer:i.isURLSearchParams(u)?(r(c,"application/x-www-form-urlencoded;charset=utf-8"),u.toString()):i.isObject(u)||c&&c["Content-Type"]==="application/json"?(r(c,"application/json"),a(u)):u}],transformResponse:[function(u){var c=this.transitional||l.transitional,h=c&&c.silentJSONParsing,w=c&&c.forcedJSONParsing,O=!h&&this.responseType==="json";if(O||w&&i.isString(u)&&u.length)try{return JSON.parse(u)}catch(U){if(O)throw U.name==="SyntaxError"?t(U,this,"E_JSON_PARSE"):U}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return i.forEach(["delete","get","head"],function(u){l.headers[u]={}}),i.forEach(["post","put","patch"],function(u){l.headers[u]=i.merge(n)}),Zn=l,Zn}var Ws=Fe,Js=Ln(),Xs=function(e,t,n){var r=this||Js;return Ws.forEach(n,function(a){e=a.call(r,e,t)}),e},zn,ar;function eo(){return ar||(ar=1,zn=function(e){return!!(e&&e.__CANCEL__)}),zn}var cr=Fe,$n=Xs,Ys=eo(),Zs=Ln(),zs=kn();function ei(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new zs("canceled")}var $s=function(e){ei(e),e.headers=e.headers||{},e.data=$n.call(e,e.data,e.headers,e.transformRequest),e.headers=cr.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),cr.forEach(["delete","get","head","post","put","patch","common"],function(r){delete e.headers[r]});var t=e.adapter||Zs.adapter;return t(e).then(function(r){return ei(e),r.data=$n.call(e,r.data,r.headers,e.transformResponse),r},function(r){return Ys(r)||(ei(e),r&&r.response&&(r.response.data=$n.call(e,r.response.data,r.response.headers,e.transformResponse))),Promise.reject(r)})},qe=Fe,to=function(e,t){t=t||{};var n={};function r(c,h){return qe.isPlainObject(c)&&qe.isPlainObject(h)?qe.merge(c,h):qe.isPlainObject(h)?qe.merge({},h):qe.isArray(h)?h.slice():h}function o(c){if(qe.isUndefined(t[c])){if(!qe.isUndefined(e[c]))return r(void 0,e[c])}else return r(e[c],t[c])}function a(c){if(!qe.isUndefined(t[c]))return r(void 0,t[c])}function l(c){if(qe.isUndefined(t[c])){if(!qe.isUndefined(e[c]))return r(void 0,e[c])}else return r(void 0,t[c])}function d(c){if(c in t)return r(e[c],t[c]);if(c in e)return r(void 0,e[c])}var u={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d};return qe.forEach(Object.keys(e).concat(Object.keys(t)),function(h){var w=u[h]||o,O=w(h);qe.isUndefined(O)&&w!==d||(n[h]=O)}),n},ti,lr;function no(){return lr||(lr=1,ti={version:"0.24.0"}),ti}var ea=no().version,Pi={};["object","boolean","number","function","string","symbol"].forEach(function(i,e){Pi[i]=function(n){return typeof n===i||"a"+(e<1?"n ":" ")+i}});var dr={};Pi.transitional=function(e,t,n){function r(o,a){return"[Axios v"+ea+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,l){if(e===!1)throw new Error(r(a," has been removed"+(t?" in "+t:"")));return t&&!dr[a]&&(dr[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,a,l):!0}};function ta(i,e,t){if(typeof i!="object")throw new TypeError("options must be an object");for(var n=Object.keys(i),r=n.length;r-- >0;){var o=n[r],a=e[o];if(a){var l=i[o],d=l===void 0||a(l,o,i);if(d!==!0)throw new TypeError("option "+o+" must be "+d);continue}if(t!==!0)throw Error("Unknown option "+o)}}var na={assertOptions:ta,validators:Pi},io=Fe,ia=Zr,ur=Ds,hr=$s,Mn=to,ro=na,Mt=ro.validators;function nn(i){this.defaults=i,this.interceptors={request:new ur,response:new ur}}nn.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Mn(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;t!==void 0&&ro.assertOptions(t,{silentJSONParsing:Mt.transitional(Mt.boolean),forcedJSONParsing:Mt.transitional(Mt.boolean),clarifyTimeoutError:Mt.transitional(Mt.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(e)===!1||(r=r&&w.synchronous,n.unshift(w.fulfilled,w.rejected))});var o=[];this.interceptors.response.forEach(function(w){o.push(w.fulfilled,w.rejected)});var a;if(!r){var l=[hr,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),a=Promise.resolve(e);l.length;)a=a.then(l.shift(),l.shift());return a}for(var d=e;n.length;){var u=n.shift(),c=n.shift();try{d=u(d)}catch(h){c(h);break}}try{a=hr(d)}catch(h){return Promise.reject(h)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};nn.prototype.getUri=function(e){return e=Mn(this.defaults,e),ia(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};io.forEach(["delete","get","head","options"],function(e){nn.prototype[e]=function(t,n){return this.request(Mn(n||{},{method:e,url:t,data:(n||{}).data}))}});io.forEach(["post","put","patch"],function(e){nn.prototype[e]=function(t,n,r){return this.request(Mn(r||{},{method:e,url:t,data:n}))}});var ra=nn,ni,fr;function oa(){if(fr)return ni;fr=1;var i=kn();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(a){n=a});var r=this;this.promise.then(function(o){if(!!r._listeners){var a,l=r._listeners.length;for(a=0;a<l;a++)r._listeners[a](o);r._listeners=null}}),this.promise.then=function(o){var a,l=new Promise(function(d){r.subscribe(d),a=d}).then(o);return l.cancel=function(){r.unsubscribe(a)},l},t(function(a){r.reason||(r.reason=new i(a),n(r.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(!!this._listeners){var r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}},e.source=function(){var n,r=new e(function(a){n=a});return{token:r,cancel:n}},ni=e,ni}var ii,vr;function sa(){return vr||(vr=1,ii=function(e){return function(n){return e.apply(null,n)}}),ii}var ri,pr;function aa(){return pr||(pr=1,ri=function(e){return typeof e=="object"&&e.isAxiosError===!0}),ri}var gr=Fe,ca=Jr,yn=ra,la=to,da=Ln();function oo(i){var e=new yn(i),t=ca(yn.prototype.request,e);return gr.extend(t,yn.prototype,e),gr.extend(t,e),t.create=function(r){return oo(la(i,r))},t}var ot=oo(da);ot.Axios=yn;ot.Cancel=kn();ot.CancelToken=oa();ot.isCancel=eo();ot.VERSION=no().version;ot.all=function(e){return Promise.all(e)};ot.spread=sa();ot.isAxiosError=aa();Ii.exports=ot;Ii.exports.default=ot;(function(i){i.exports=Ii.exports})(Wr);const wi=_o(Wr.exports);var Sn;(function(i){i.TEXT="m.text"})(Sn||(Sn={}));class ki{constructor(e,t,n,r){this.type=e,this.sender=t,this.content=n,this.timestamp=r}static from(e){if(fa(e))return new ki(e.content.msgtype,e.sender,e.content.body,e.origin_server_ts)}}const ua=i=>i.type==="m.room.create"&&i.content instanceof Object&&"creator"in i.content,ha=i=>i.type==="m.room.member"&&i.content instanceof Object&&"membership"in i.content&&i.content.membership==="join",so=i=>i.type==="m.room.message",fa=i=>so(i)&&i.content instanceof Object&&"msgtype"in i.content&&i.content.msgtype===Sn.TEXT;var Me;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.JOINED=1]="JOINED",i[i.INVITED=2]="INVITED",i[i.LEFT=3]="LEFT"})(Me||(Me={}));class ge{constructor(e,t=Me.UNKNOWN,n=[],r=[]){this.id=e,this.status=t,this.members=n,this.messages=r}static fromSync(e){var t,n,r;if(!e)return[];function o(a,l){return Object.entries(a).map(([d,u])=>l(d,u))}return[...o((t=e.join)!==null&&t!==void 0?t:{},ge.fromJoined),...o((n=e.invite)!==null&&n!==void 0?n:{},ge.fromInvited),...o((r=e.leave)!==null&&r!==void 0?r:{},ge.fromLeft)]}static from(e,t){return typeof e=="string"?new ge(e,t||Me.UNKNOWN):t!==void 0?new ge(e.id,t,e.members,e.messages):e}static merge(e,t){return!t||t.id!==e.id?ge.from(e):new ge(e.id,e.status,[...t.members,...e.members].filter((n,r,o)=>o.indexOf(n)===r),[...t.messages,...e.messages])}static fromJoined(e,t){const n=[...t.state.events,...t.timeline.events],r=ge.getMembersFromEvents(n),o=ge.getMessagesFromEvents(n);return new ge(e,Me.JOINED,r,o)}static fromInvited(e,t){const n=ge.getMembersFromEvents(t.invite_state.events);return new ge(e,Me.INVITED,n)}static fromLeft(e,t){const n=[...t.state.events,...t.timeline.events],r=ge.getMembersFromEvents(n),o=ge.getMessagesFromEvents(n);return new ge(e,Me.LEFT,r,o)}static getMembersFromEvents(e){return ge.getUniqueEvents(e.filter(t=>ua(t)||ha(t))).map(t=>t.sender).filter((t,n,r)=>r.indexOf(t)===n)}static getMessagesFromEvents(e){return ge.getUniqueEvents(e.filter(so)).map(t=>ki.from(t)).filter(Boolean)}static getUniqueEvents(e){const t={},n=[];return e.forEach((r,o)=>{const a=r.event_id;(a===void 0||!(a in t))&&(a!==void 0&&(t[a]=o),n.push(r))}),n}}var un=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const Er=["syncToken","rooms"];class va{constructor(e){this.storage=e,this.state={isRunning:!1,userId:void 0,deviceId:void 0,txnNo:0,accessToken:void 0,syncToken:void 0,pollingTimeout:void 0,pollingRetries:0,rooms:{}},this.onStateChangedListeners=new Map,this.waitReadyPromise=new Promise((t,n)=>un(this,void 0,void 0,function*(){try{yield this.initFromStorage(),t()}catch(r){n(r)}}))}get(e){return this.state[e]}getRoom(e){const t=ge.from(e,Me.UNKNOWN);return this.state.rooms[t.id]||t}update(e){return un(this,void 0,void 0,function*(){yield this.waitReady();const t=Object.assign({},this.state);this.setState(e),this.updateStorage(e),this.notifyListeners(t,this.state,e)})}onStateChanged(e,...t){t.length>0?t.forEach(n=>{this.onStateChangedListeners.set(n,e)}):this.onStateChangedListeners.set("all",e)}waitReady(){return un(this,void 0,void 0,function*(){return this.waitReadyPromise})}initFromStorage(){return un(this,void 0,void 0,function*(){const e=yield this.storage.get(z.MATRIX_PRESERVED_STATE);this.setState(e)})}prepareData(e){const n=["rooms"].some(r=>e[r]!==void 0)?JSON.parse(JSON.stringify(e)):e;return Object.values(n.rooms||{}).forEach(r=>{r.messages=[]}),n}updateStorage(e){if(Object.entries(e).filter(([n,r])=>Er.includes(n)&&Boolean(r)).length>0){const n={};Er.forEach(r=>{n[r]=this.state[r]}),this.storage.set(z.MATRIX_PRESERVED_STATE,this.prepareData(n))}}setState(e){this.state={isRunning:e.isRunning||this.state.isRunning,userId:e.userId||this.state.userId,deviceId:e.deviceId||this.state.deviceId,txnNo:e.txnNo||this.state.txnNo,accessToken:e.accessToken||this.state.accessToken,syncToken:e.syncToken||this.state.syncToken,pollingTimeout:e.pollingTimeout||this.state.pollingTimeout,pollingRetries:e.pollingRetries||this.state.pollingRetries,rooms:this.mergeRooms(this.state.rooms,e.rooms)}}mergeRooms(e,t){if(!t)return e;const n=Array.isArray(t)?t:Object.values(t),r=Object.assign({},e);return n.forEach(o=>{r[o.id]=ge.merge(o,e[o.id])}),r}notifyListeners(e,t,n){const r=this.onStateChangedListeners.get("all");r&&r(e,t,n),xi(n).filter(o=>n[o]!==void 0).forEach(o=>{const a=this.onStateChangedListeners.get(o);a&&a(e,t,n)})}}var Vt=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const pa=new je("MatrixHttpClient"),ga="/_matrix/client/r0";class Ea{constructor(e){this.baseUrl=e,this.cancelTokenSource=wi.CancelToken.source()}get(e,t,n){return Vt(this,void 0,void 0,function*(){return this.send("GET",e,n,t)})}post(e,t,n,r){return Vt(this,void 0,void 0,function*(){return this.send("POST",e,n,r,t)})}put(e,t,n,r){return Vt(this,void 0,void 0,function*(){return this.send("PUT",e,n,r,t)})}cancelAllRequests(){return Vt(this,void 0,void 0,function*(){return this.cancelTokenSource.cancel("Manually cancelled")})}send(e,t,n,r,o){return Vt(this,void 0,void 0,function*(){const a=n?this.getHeaders(n):void 0,l=r?this.getParams(r):void 0;let d;try{d=yield wi.request({method:e,url:t,baseURL:this.apiUrl(ga),headers:a,data:o,params:l,cancelToken:this.cancelTokenSource.token})}catch(u){const c=u;throw pa.error("send",c.code,c.message,c.response.data),u.response.data}return d.data})}getHeaders(e){const t={},n=[];if(e.accessToken&&n.push(["Authorization",`Bearer ${e.accessToken}`]),n.length!==0){for(const[r,o]of n)t[r]=o;return t}}getParams(e){if(!e)return;const t=Object.assign(e,{});return xi(t).forEach(n=>t[n]===void 0&&delete t[n]),t}apiUrl(...e){const t=this.baseUrl.endsWith("/")?this.baseUrl.substr(0,this.baseUrl.length-1):this.baseUrl,n=e.map(r=>r.startsWith("/")?r.substr(1):r);return[t,...n].join("/")}}var hn=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class ma{constructor(e){this.httpClient=e}createRoom(e,t={}){return hn(this,void 0,void 0,function*(){return this.httpClient.post("/createRoom",t,{accessToken:e})})}inviteToRoom(e,t,n){return hn(this,void 0,void 0,function*(){return n.status!==Me.JOINED&&n.status!==Me.UNKNOWN?Promise.reject(`User is not a member of room ${n.id}.`):this.httpClient.post(`/rooms/${encodeURIComponent(n.id)}/invite`,{user_id:t},{accessToken:e})})}joinRoom(e,t){return hn(this,void 0,void 0,function*(){return t.status===Me.JOINED?Promise.resolve({room_id:t.id}):this.httpClient.post(`/rooms/${encodeURIComponent(t.id)}/join`,{},{accessToken:e})})}getJoinedRooms(e){return hn(this,void 0,void 0,function*(){return this.httpClient.get("/joined_rooms",void 0,{accessToken:e})})}}var ya=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class wa{constructor(e){this.httpClient=e}login(e,t,n){return ya(this,void 0,void 0,function*(){return this.httpClient.post("/login",{type:"m.login.password",identifier:{type:"m.id.user",user:e},password:t,device_id:n})})}}var oi=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class Aa{constructor(e){this.httpClient=e,this.cachedPromises=new Map}sync(e,t){return oi(this,void 0,void 0,function*(){return this.withCache("sync",()=>this.httpClient.get("/sync",{timeout:t?t.pollingTimeout:void 0,since:t?t.syncToken:void 0},{accessToken:e}))})}sendMessage(e,t,n,r){return oi(this,void 0,void 0,function*(){return new Promise((o,a)=>this.scheduleEvent({accessToken:e,roomId:t,type:"m.room.message",content:n,txnId:r,onSuccess:o,onError:a}))})}scheduleEvent(e){this.sendEvent(e)}sendEvent(e){return oi(this,void 0,void 0,function*(){const{roomId:t,type:n,txnId:r,content:o,accessToken:a}=e;try{const l=yield this.httpClient.put(`/rooms/${encodeURIComponent(t)}/send/${n}/${encodeURIComponent(r)}`,o,{accessToken:a});e.onSuccess(l)}catch(l){e.onError(l)}})}withCache(e,t){let n=this.cachedPromises.get(e);return n||(n=t().finally(()=>{this.cachedPromises.delete(e)}),this.cachedPromises.set(e,n)),n}}class _a{constructor(){this.events={}}on(e,t){return typeof this.events[e]!="object"&&(this.events[e]=[]),this.events[e].push(t),()=>this.removeListener(e,t)}removeListener(e,t){if(typeof this.events[e]!="object")return;if(!t){this.events[e]=[];return}const n=this.events[e].indexOf(t);n>-1&&this.events[e].splice(n,1)}removeAllListeners(){Object.keys(this.events).forEach(e=>this.events[e].splice(0,this.events[e].length))}emit(e,...t){typeof this.events[e]=="object"&&[...this.events[e]].forEach(n=>n.apply(this,t))}once(e,t){const n=this.on(e,(...r)=>{n(),t.apply(this,r)});return n}}var He;(function(i){i.INVITE="invite",i.MESSAGE="message"})(He||(He={}));class ba extends _a{constructor(){super(...arguments),this.eventEmitProviders=new Map([[He.INVITE,()=>[this.isInvite,this.emitInvite.bind(this)]],[He.MESSAGE,()=>[this.isMessage,this.emitMessage.bind(this)]]])}onStateChanged(e,t,n){for(const r of xi(He))this.emitIfEvent(He[r],n)}emitIfEvent(e,t){const n=this.eventEmitProviders.get(e);if(n){const[r,o]=n();r(t)&&o(e,t)}}emitClientEvent(e,t,n){this.emit(e,{type:e,content:t,timestamp:n})}isInvite(e){return e.rooms?e.rooms.some(t=>t.status===Me.INVITED):!1}emitInvite(e,t){t.rooms.filter(n=>n.status===Me.INVITED).map(n=>[n.id,n.members]).forEach(([n,r])=>{this.emitClientEvent(e,{roomId:n,members:r})})}isMessage(e){return e.rooms?e.rooms.some(t=>t.messages.length>0):!1}emitMessage(e,t){t.rooms.filter(n=>n.messages.length>0).map(n=>n.messages.map(r=>[n.id,r,r.timestamp])).reduce((n,r)=>n.concat(r),[]).forEach(([n,r,o])=>{this.emitClientEvent(e,{roomId:n,message:r},o)})}}var fe=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const si=new je("MatrixClient"),Ra=3,Ta=5e3;class Li{constructor(e,t,n,r,o,a){this.store=e,this.eventEmitter=t,this.userService=n,this.roomService=r,this.eventService=o,this.httpClient=a,this.isActive=!0,this._isReady=new _e,this.store.onStateChanged((l,d,u)=>{this.eventEmitter.onStateChanged(l,d,u)},"rooms")}static create(e){const t=new va(e.storage),n=new ba,r=new Ea(e.baseUrl),o=new wa(r),a=new ma(r),l=new Aa(r);return new Li(t,n,o,a,l,r)}get joinedRooms(){return new Promise(e=>fe(this,void 0,void 0,function*(){yield this.isConnected(),e(Object.values(this.store.get("rooms")).filter(t=>t.status===Me.JOINED))}))}get invitedRooms(){return new Promise(e=>fe(this,void 0,void 0,function*(){yield this.isConnected(),e(Object.values(this.store.get("rooms")).filter(t=>t.status===Me.INVITED))}))}get leftRooms(){return new Promise(e=>fe(this,void 0,void 0,function*(){yield this.isConnected(),e(Object.values(this.store.get("rooms")).filter(t=>t.status===Me.LEFT))}))}start(e){return fe(this,void 0,void 0,function*(){const t=yield this.userService.login(e.id,e.password,e.deviceId);yield this.store.update({accessToken:t.access_token});const n=new Promise((r,o)=>fe(this,void 0,void 0,function*(){yield this.poll(0,a=>fe(this,void 0,void 0,function*(){this.store.get("isRunning")||r(),yield this.store.update({isRunning:!0,syncToken:a.next_batch,pollingTimeout:3e4,pollingRetries:0,rooms:ge.fromSync(a.rooms)})}),a=>fe(this,void 0,void 0,function*(){this.store.get("isRunning")||o(a),yield this.store.update({isRunning:!1,pollingRetries:this.store.get("pollingRetries")+1})}))}));return n.then(()=>{this._isReady.resolve()}).catch(console.error),n})}isConnected(){return fe(this,void 0,void 0,function*(){return this._isReady.promise})}stop(){return fe(this,void 0,void 0,function*(){return si.log("MATRIX CLIENT STOPPED"),this.isActive=!1,this._isReady=new _e,this.httpClient.cancelAllRequests()})}subscribe(e,t){this.eventEmitter.on(e,t)}unsubscribe(e,t){t&&this.eventEmitter.removeListener(e,t)}unsubscribeAll(e){this.eventEmitter.removeListener(e)}getRoomById(e){return fe(this,void 0,void 0,function*(){return yield this.isConnected(),this.store.getRoom(e)})}createTrustedPrivateRoom(...e){return fe(this,void 0,void 0,function*(){return yield this.isConnected(),this.requiresAuthorization("createRoom",t=>fe(this,void 0,void 0,function*(){return(yield this.roomService.createRoom(t,{room_version:"5",invite:e,preset:"public_chat",is_direct:!0})).room_id}))})}inviteToRooms(e,...t){return fe(this,void 0,void 0,function*(){yield this.isConnected(),yield this.requiresAuthorization("invite",n=>Promise.all(t.map(r=>{const o=this.store.getRoom(r);this.roomService.inviteToRoom(n,e,o).catch(a=>si.warn("inviteToRooms",a))})))})}joinRooms(...e){return fe(this,void 0,void 0,function*(){yield this.isConnected(),yield this.requiresAuthorization("join",t=>Promise.all(e.map(n=>{const r=this.store.getRoom(n);return this.roomService.joinRoom(t,r)})))})}sendTextMessage(e,t){return fe(this,void 0,void 0,function*(){yield this.isConnected(),yield this.requiresAuthorization("send",n=>fe(this,void 0,void 0,function*(){const r=yield this.createTxnId();return this.eventService.sendMessage(n,e,{msgtype:"m.text",body:t},r)}))})}poll(e,t,n){return fe(this,void 0,void 0,function*(){const r=this.store,o=this.sync.bind(this),a=(l,d)=>fe(this,void 0,void 0,function*(){let u=0;try{const c=yield o();t(c)}catch(c){n(c),u=r.get("pollingRetries"),this.isActive&&si.log(`Retry syncing... ${u} retries so far`)}finally{this.isActive?setTimeout(()=>fe(this,void 0,void 0,function*(){yield a(l,d)}),u>Ra?Ta+e:e):d(new Error("Syncing stopped manually."))}});return new Promise(a)})}sync(){return fe(this,void 0,void 0,function*(){return this.requiresAuthorization("sync",e=>fe(this,void 0,void 0,function*(){return this.eventService.sync(e,{pollingTimeout:this.store.get("pollingTimeout"),syncToken:this.store.get("syncToken")})}))})}requiresAuthorization(e,t){return fe(this,void 0,void 0,function*(){const n=this.store.get("accessToken");return n?t(n):Promise.reject(`${e} requires authorization but no access token has been provided.`)})}createTxnId(){return fe(this,void 0,void 0,function*(){const e=new Date().getTime(),t=this.store.get("txnNo");return yield this.store.update({txnNo:t+1}),`m${e}.${t}`})}}var ne=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const Q=new je("P2PCommunicationClient"),mr={[gi.EUROPE_WEST]:["beacon-node-1.diamond.papers.tech","beacon-node-1.sky.papers.tech","beacon-node-2.sky.papers.tech","beacon-node-1.hope.papers.tech","beacon-node-1.hope-2.papers.tech","beacon-node-1.hope-3.papers.tech","beacon-node-1.hope-4.papers.tech","beacon-node-1.hope-5.papers.tech"]};class Sa extends Vr{constructor(e,t,n,r,o,a,l){super(t),this.name=e,this.replicationCount=n,this.storage=r,this.iconUrl=a,this.appUrl=l,this.client=new _e,this.activeListeners=new Map,this.ignoredRooms=[],this.loginCounter=0,Q.log("constructor","P2PCommunicationClient created"),this.ENABLED_RELAY_SERVERS=mr,o&&(this.ENABLED_RELAY_SERVERS=Object.assign(Object.assign({},mr),o))}getPairingRequestInfo(){return ne(this,void 0,void 0,function*(){const e={id:yield vt(),type:"p2p-pairing-request",name:this.name,version:Gr,publicKey:yield this.getPublicKey(),relayServer:(yield this.getRelayServer()).server};return this.iconUrl&&(e.icon=this.iconUrl),this.appUrl&&(e.appUrl=this.appUrl),e})}getPairingResponseInfo(e){return ne(this,void 0,void 0,function*(){const t={id:e.id,type:"p2p-pairing-response",name:this.name,version:e.version,publicKey:yield this.getPublicKey(),relayServer:(yield this.getRelayServer()).server};return this.iconUrl&&(t.icon=this.iconUrl),this.appUrl&&(t.appUrl=this.appUrl),t})}findBestRegion(){return ne(this,void 0,void 0,function*(){if(this.selectedRegion)return this.selectedRegion;const e=Object.keys(this.ENABLED_RELAY_SERVERS),t=[];e.forEach(r=>{var o;const a=(o=this.ENABLED_RELAY_SERVERS[r])!==null&&o!==void 0?o:[],l=Math.floor(Math.random()*a.length);t.push(this.getBeaconInfo(a[l]).then(d=>({region:r,server:a[l],response:d})).catch(d=>new Promise((u,c)=>{setTimeout(()=>c(d),2e3)})))});const n=yield Promise.race(t);return this.selectedRegion=n.region,n.region})}getRelayServer(){return ne(this,void 0,void 0,function*(){if(this.relayServer){const o=yield this.relayServer.promise;if(Date.now()-o.localTimestamp<60*1e3)return{server:o.server,timestamp:o.timestamp};const a=yield this.getBeaconInfo(o.server);return this.relayServer.resolve({server:o.server,timestamp:a.timestamp,localTimestamp:new Date().getTime()}),{server:o.server,timestamp:a.timestamp}}else this.relayServer=new _e;const e=yield this.storage.get(z.MATRIX_SELECTED_NODE);if(e&&e.length>0){const o=yield this.getBeaconInfo(e);return this.relayServer.resolve({server:e,timestamp:o.timestamp,localTimestamp:new Date().getTime()}),{server:e,timestamp:o.timestamp}}const t=yield this.findBestRegion(),n=this.ENABLED_RELAY_SERVERS[t];if(!n)throw new Error(`No servers found for region ${t}`);const r=[...n];for(;r.length>0;){const o=Math.floor(Math.random()*r.length),a=r[o];try{const l=yield this.getBeaconInfo(a);return this.storage.set(z.MATRIX_SELECTED_NODE,a).catch(d=>Q.log(d)),this.relayServer.resolve({server:a,timestamp:l.timestamp,localTimestamp:new Date().getTime()}),{server:a,timestamp:l.timestamp}}catch{Q.log(`Ignoring server "${a}", trying another one...`),r.splice(o,1)}}throw this.relayServer.reject("No matrix server reachable!"),new Error("No matrix server reachable!")})}getBeaconInfo(e){return ne(this,void 0,void 0,function*(){return wi.get(`https://${e}/_synapse/client/beacon/info`).then(t=>({region:t.data.region,known_servers:t.data.known_servers,timestamp:Math.floor(t.data.timestamp)}))})}tryJoinRooms(e,t=1){return ne(this,void 0,void 0,function*(){try{yield(yield this.client.promise).joinRooms(e)}catch(n){t<=10&&n.errcode==="M_FORBIDDEN"?(Q.log("Retrying to join...",n),setTimeout(()=>ne(this,void 0,void 0,function*(){yield this.tryJoinRooms(e,t+1)}),200)):Q.log(`Failed to join after ${t} tries.`,n)}})}start(){var e,t;return ne(this,void 0,void 0,function*(){Q.log("start","starting client"),Q.log("start","connecting to server");const n=yield this.getRelayServer(),r=Li.create({baseUrl:`https://${n.server}`,storage:this.storage});if(this.initialListener=c=>ne(this,void 0,void 0,function*(){this.initialEvent&&this.initialEvent.timestamp&&c&&c.timestamp?this.initialEvent.timestamp<c.timestamp&&(this.initialEvent=c):this.initialEvent=c}),r.subscribe(He.MESSAGE,this.initialListener),r.subscribe(He.INVITE,c=>ne(this,void 0,void 0,function*(){let h;c.content.members.length===1&&(h=c.content.members[0]),yield this.tryJoinRooms(c.content.roomId),h&&(yield this.updateRelayServer(h),yield this.updatePeerRoom(h,c.content.roomId))})),!n.timestamp)throw new Error("No timestamp received from relay server");const o=Math.floor(n.timestamp),a=`login:${Math.floor(o/(5*60))}`;Q.log("start",`login ${a}, ${yield this.getPublicKeyHash()} on ${n.server}`);const l=et.hash(wt(a),32),d=(e=this.keyPair.secretKey)!==null&&e!==void 0?e:this.keyPair.privateKey,u=Ve.sign(d,l);try{yield r.start({id:yield this.getPublicKeyHash(),password:`ed:${ft(u)}:${yield this.getPublicKey()}`,deviceId:ft(this.keyPair.publicKey)})}catch{if(Q.error("start","Could not log in, retrying"),yield this.reset(),!this.selectedRegion)throw new Error("No region selected.");if(this.loginCounter<=((t=this.ENABLED_RELAY_SERVERS[this.selectedRegion])!==null&&t!==void 0?t:[]).length){this.loginCounter++,this.start();return}else throw Q.error("start","Tried to log in to every known beacon node, but no login was successful."),new Error("Could not connect to any beacon nodes. Try again later.")}Q.log("start","login successful, client is ready"),this.client.resolve(r)})}stop(){return ne(this,void 0,void 0,function*(){Q.log("stop","stopping client"),this.client.isResolved()&&(yield(yield this.client.promise).stop().catch(e=>Q.error(e))),yield this.reset()})}reset(){return ne(this,void 0,void 0,function*(){Q.log("reset","resetting connection"),yield this.storage.delete(z.MATRIX_PEER_ROOM_IDS).catch(e=>Q.log(e)),yield this.storage.delete(z.MATRIX_PRESERVED_STATE).catch(e=>Q.log(e)),yield this.storage.delete(z.MATRIX_SELECTED_NODE).catch(e=>Q.log(e)),this.relayServer=void 0,this.client=new _e,this.initialEvent=void 0,this.initialListener=void 0})}listenForEncryptedMessage(e,t){return ne(this,void 0,void 0,function*(){if(this.activeListeners.has(e))return;Q.log("listenForEncryptedMessage",`start listening for encrypted messages from publicKey ${e}`);const n=yield this.createCryptoBoxServer(e,this.keyPair),r=l=>ne(this,void 0,void 0,function*(){if(this.isTextMessage(l.content)&&(yield this.isSender(l,e))){let d;yield this.updateRelayServer(l.content.message.sender),yield this.updatePeerRoom(l.content.message.sender,l.content.roomId);try{d=Buffer.from(l.content.message.content,"hex")}catch{}if(d&&d.length>=_n+bn)try{const u=yield Kr(d,n.receive);Q.log("listenForEncryptedMessage",`received a message from ${e}`,u),t(u)}catch{}}});this.activeListeners.set(e,r),(yield this.client.promise).subscribe(He.MESSAGE,r);const o=this.initialEvent;o&&o.timestamp&&new Date().getTime()-o.timestamp<5*60*1e3?(Q.log("listenForEncryptedMessage","Handling previous event"),yield r(o)):Q.log("listenForEncryptedMessage","No previous event found");const a=this.initialListener;a&&(yield this.client.promise).unsubscribe(He.MESSAGE,a),this.initialListener=void 0,this.initialEvent=void 0})}unsubscribeFromEncryptedMessage(e){return ne(this,void 0,void 0,function*(){const t=this.activeListeners.get(e);!t||((yield this.client.promise).unsubscribe(He.MESSAGE,t),this.activeListeners.delete(e))})}unsubscribeFromEncryptedMessages(){return ne(this,void 0,void 0,function*(){(yield this.client.promise).unsubscribeAll(He.MESSAGE),this.activeListeners.clear()})}sendMessage(e,t){return ne(this,void 0,void 0,function*(){const n=yield this.createCryptoBoxClient(t.publicKey,this.keyPair),r=yield Dt(Buffer.from(t.publicKey,"hex")),o=qi(r,t.relayServer),a=yield this.getRelevantRoom(o);yield this.waitForJoin(a);const l=yield Br(e,n.send);Q.log("sendMessage","sending encrypted message",t.publicKey,a,e),(yield this.client.promise).sendTextMessage(a,l).catch(d=>ne(this,void 0,void 0,function*(){if(d.errcode==="M_FORBIDDEN"){Q.log("sendMessage","M_FORBIDDEN",a,d),yield this.deleteRoomIdFromRooms(a);const u=yield this.getRelevantRoom(o);Q.log("sendMessage","Old room deleted, new room created",u),(yield this.client.promise).sendTextMessage(u,l).catch(c=>ne(this,void 0,void 0,function*(){Q.log("sendMessage","inner error",u,c)}))}else Q.log("sendMessage","unexpected error",d)}))})}updatePeerRoom(e,t){return ne(this,void 0,void 0,function*(){Q.log("updatePeerRoom",e,t);const n=e.split(":");if(n.length<2||!n[0].startsWith("@"))throw new Error("Invalid sender");const r=yield this.storage.get(z.MATRIX_PEER_ROOM_IDS),o=r[e];o===t&&Q.debug("updatePeerRoom","rooms are the same, not updating"),Q.debug("updatePeerRoom","current room",o,"new room",t),o&&o[1]&&(Q.log("updatePeerRoom",`adding room "${o[1]}" to ignored array`),this.ignoredRooms.push(o[1])),r[e]=t,yield this.storage.set(z.MATRIX_PEER_ROOM_IDS,r)})}deleteRoomIdFromRooms(e){return ne(this,void 0,void 0,function*(){const t=yield this.storage.get(z.MATRIX_PEER_ROOM_IDS),n=Object.entries(t).filter(r=>r[1]!==e).reduce((r,o)=>Object.assign(Object.assign({},r),{[o[0]]:o[1]}),{});yield this.storage.set(z.MATRIX_PEER_ROOM_IDS,n),this.ignoredRooms.push(e)})}listenForChannelOpening(e){return ne(this,void 0,void 0,function*(){Q.debug("listenForChannelOpening"),(yield this.client.promise).subscribe(He.MESSAGE,t=>ne(this,void 0,void 0,function*(){if(this.isTextMessage(t.content)&&(yield this.isChannelOpenMessage(t.content))){Q.log("listenForChannelOpening","channel opening received, trying to decrypt",JSON.stringify(t)),yield this.updateRelayServer(t.content.message.sender),yield this.updatePeerRoom(t.content.message.sender,t.content.roomId);const n=t.content.message.content.split(":"),r=Buffer.from(n[n.length-1],"hex");if(r.length>=_n+bn)try{const o=JSON.parse(yield jr(r,this.keyPair.publicKey,this.keyPair.secretKey));Q.log("listenForChannelOpening","channel opening received and decrypted",JSON.stringify(o)),e(Object.assign(Object.assign({},o),{senderId:yield jt(o.publicKey)}))}catch{}}}))})}waitForJoin(e,t=0){return ne(this,void 0,void 0,function*(){const n=yield(yield this.client.promise).getRoomById(e);if(Q.log("waitForJoin",`Currently ${n.members.length} members, we need at least 2`),!(n.members.length>=2||n.members.length===0)){if(t<=200)return Q.log(`Waiting for join... Try: ${t}`),new Promise(r=>{setTimeout(()=>ne(this,void 0,void 0,function*(){r(this.waitForJoin(e,t+1))}),100*(t>50?10:1))});throw new Error(`No one joined after ${t} tries.`)}})}sendPairingResponse(e){return ne(this,void 0,void 0,function*(){Q.log("sendPairingResponse");const t=yield Dt(Buffer.from(e.publicKey,"hex")),n=qi(t,e.relayServer),r=yield(yield this.client.promise).createTrustedPrivateRoom(n);Q.debug("sendPairingResponse",`Connecting to room "${r}"`),yield this.updatePeerRoom(n,r),yield this.waitForJoin(r),Q.debug("sendPairingResponse","Successfully joined room.");const o=typeof e.version>"u"?yield this.getPublicKey():JSON.stringify(yield this.getPairingResponseInfo(e));Q.debug("sendPairingResponse","Sending pairing response",o);const a=yield this.encryptMessageAsymmetric(e.publicKey,o),l=["@channel-open",n,a].join(":");(yield this.client.promise).sendTextMessage(r,l).catch(d=>ne(this,void 0,void 0,function*(){if(d.errcode==="M_FORBIDDEN"){Q.log("sendPairingResponse","M_FORBIDDEN",r,d),yield this.deleteRoomIdFromRooms(r);const u=yield this.getRelevantRoom(n);Q.log("sendPairingResponse","Old room deleted, new room created",u),(yield this.client.promise).sendTextMessage(u,l).catch(c=>ne(this,void 0,void 0,function*(){Q.log("sendPairingResponse","inner error",u,c)}))}else Q.log("sendPairingResponse","unexpected error",d)}))})}isTextMessage(e){return e.message.type===Sn.TEXT}updateRelayServer(e){return ne(this,void 0,void 0,function*(){Q.log("updateRelayServer",e);const t=e.split(":");if(t.length<2||!t[0].startsWith("@"))throw new Error("Invalid sender");const n=t.shift(),r=t.join(":"),o=localStorage.getItem("beacon:communication-peers-dapp")?new Tn(this.storage,z.TRANSPORT_P2P_PEERS_DAPP):new Tn(this.storage,z.TRANSPORT_P2P_PEERS_WALLET),l=(yield o.getPeers()).map(d=>ne(this,void 0,void 0,function*(){`@${yield Dt(Buffer.from(d.publicKey,"hex"))}`===n&&d.relayServer!==r&&(d.relayServer=r,yield o.addPeer(d))}));yield Promise.all(l)})}isChannelOpenMessage(e){return ne(this,void 0,void 0,function*(){return e.message.content.startsWith(`@channel-open:@${yield Dt(Buffer.from(yield this.getPublicKey(),"hex"))}`)})}isSender(e,t){return ne(this,void 0,void 0,function*(){return e.content.message.sender.startsWith(`@${yield Dt(Buffer.from(t,"hex"))}`)})}getRelevantRoom(e){return ne(this,void 0,void 0,function*(){const t=yield this.storage.get(z.MATRIX_PEER_ROOM_IDS);let n=t[e];if(!n){Q.log("getRelevantRoom",`No room found for peer ${e}, checking joined ones.`);const r=yield this.getRelevantJoinedRoom(e);n=r.id,t[e]=r.id,yield this.storage.set(z.MATRIX_PEER_ROOM_IDS,t)}return Q.log("getRelevantRoom",`Using room ${n}`),n})}getRelevantJoinedRoom(e){return ne(this,void 0,void 0,function*(){const t=yield(yield this.client.promise).joinedRooms;Q.log("checking joined rooms",t,e);const n=t.filter(o=>!this.ignoredRooms.some(a=>o.id===a)).filter(o=>o.members.some(a=>a===e));let r;if(n.length===0||this.ignoredRooms.length>0){Q.log("getRelevantJoinedRoom","no relevant rooms found, creating new one");const o=yield(yield this.client.promise).createTrustedPrivateRoom(e);r=yield(yield this.client.promise).getRoomById(o),Q.log("getRelevantJoinedRoom",`waiting for other party to join room: ${r.id}`),yield this.waitForJoin(o),Q.log("getRelevantJoinedRoom",`new room created and peer invited: ${r.id}`)}else r=n[0],Q.log("getRelevantJoinedRoom",`channel already open, reusing room ${r.id}`);return r})}}var Tt=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const ai=new je("P2PTransport");class xa extends Qr{constructor(e,t,n,r,o,a,l){super(e,new Sa(e,t,1,n,r,a,l),new Tn(n,o)),this.type=It.P2P}static isAvailable(){return Tt(this,void 0,void 0,function*(){return Promise.resolve(!0)})}connect(){const e=Object.create(null,{connect:{get:()=>super.connect}});return Tt(this,void 0,void 0,function*(){if(this._isConnected!==Je.NOT_CONNECTED)return;ai.log("connect"),this._isConnected=Je.CONNECTING,yield this.client.start();const t=yield this.getPeers();if(t.length>0){ai.log("connect",`connecting to ${t.length} peers`);const n=t.map(r=>Tt(this,void 0,void 0,function*(){return this.listen(r.publicKey)}));Promise.all(n).catch(r=>ai.error("connect",r))}return yield this.startOpenChannelListener(),e.connect.call(this)})}disconnect(){const e=Object.create(null,{disconnect:{get:()=>super.disconnect}});return Tt(this,void 0,void 0,function*(){return yield this.client.stop(),e.disconnect.call(this)})}startOpenChannelListener(){return Tt(this,void 0,void 0,function*(){})}getPairingRequestInfo(){return Tt(this,void 0,void 0,function*(){return this.client.getPairingRequestInfo()})}listen(e){return Tt(this,void 0,void 0,function*(){yield this.client.listenForEncryptedMessage(e,t=>{const n={origin:ze.P2P,id:e};this.notifyListeners(t,n).catch(r=>{throw r})}).catch(t=>{throw t})})}}var ct=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class Na extends ms{constructor(){super(...arguments),this.activeListeners=new Map}init(){return ct(this,void 0,void 0,function*(){this.subscribeToMessages().catch(console.error)})}listenForEncryptedMessage(e,t){return ct(this,void 0,void 0,function*(){if(this.activeListeners.has(e))return;const n=(r,o)=>ct(this,void 0,void 0,function*(){try{const a=yield this.decryptMessage(e,r.encryptedPayload);t(a,o)}catch{}});this.activeListeners.set(e,n)})}sendMessage(e,t){var n;return ct(this,void 0,void 0,function*(){const r=yield this.encryptMessage(t.publicKey,e),o=(n=t)===null||n===void 0?void 0:n.extensionId,a={target:ut.EXTENSION,encryptedPayload:r,targetId:o};oe.postMessage(a,oe.location.origin)})}listenForChannelOpening(e){return ct(this,void 0,void 0,function*(){const t=n=>ct(this,void 0,void 0,function*(){var r,o;if(n.source!==oe||n.origin!==oe.location.origin)return;const a=(r=n==null?void 0:n.data)===null||r===void 0?void 0:r.message;if(a&&a.target===ut.PAGE&&(yield this.isChannelOpenMessage(a))){const l=Buffer.from(a.payload,"hex");if(l.length>=_n+bn)try{const d=JSON.parse(yield jr(l,this.keyPair.publicKey,this.keyPair.secretKey));e(Object.assign(Object.assign({},d),{senderId:yield jt(d.publicKey),extensionId:(o=n==null?void 0:n.data)===null||o===void 0?void 0:o.sender.id}))}catch{}}});oe.addEventListener("message",t)})}sendPairingRequest(e){return ct(this,void 0,void 0,function*(){const t={target:ut.EXTENSION,payload:yield new Ot().serialize(yield this.getPairingRequestInfo()),targetId:e};oe.postMessage(t,oe.location.origin)})}isChannelOpenMessage(e){return ct(this,void 0,void 0,function*(){return typeof e=="object"&&e.hasOwnProperty("payload")})}subscribeToMessages(){return ct(this,void 0,void 0,function*(){oe.addEventListener("message",e=>{if(!(e.source!==oe||e.origin!==oe.location.origin)&&typeof e=="object"&&e){const t=e.data;t.message&&t.message.target===ut.PAGE&&this.activeListeners.forEach(n=>{n(t.message,{origin:ze.EXTENSION,id:t.sender.id||""})})}})})}}var St=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const Wt=new je("PostMessageTransport");let yr=!1,Jt,it;const Ia=i=>{it||(it=[]),it.some(e=>e.id===i.id)||(it.push(i),oe.postMessage("extensionsUpdated",oe.location.origin))};class rn extends Qr{constructor(e,t,n,r){super(e,new Na(e,t),new Tn(n,r)),this.type=It.POST_MESSAGE}static isAvailable(){return St(this,void 0,void 0,function*(){return new Promise(e=>{const t=r=>{const o=r.data;o&&o.payload==="pong"&&(e(!0),oe.removeEventListener("message",t))};oe.addEventListener("message",t);const n={target:ut.EXTENSION,payload:"ping"};oe.postMessage(n,oe.location.origin)})})}static getAvailableExtensions(){return St(this,void 0,void 0,function*(){return Jt||it||(it=[],Jt=new Promise(e=>{rn.listenForExtensions(),setTimeout(()=>{e(it!=null?it:[])},1e3)}).finally(()=>{Jt=void 0}),Jt)})}static listenForExtensions(){if(yr)return;const e=n=>{if(n.source!==oe||n.origin!==oe.location.origin)return;const r=n.data,o=r.sender;r&&r.payload==="pong"&&o&&(Wt.log("getAvailableExtensions",`extension "${o.name}" is available`,o),Ia(o))};oe.addEventListener("message",e);const t={target:ut.EXTENSION,payload:"ping"};oe.postMessage(t,oe.location.origin),yr=!0}connect(){const e=Object.create(null,{connect:{get:()=>super.connect}});return St(this,void 0,void 0,function*(){if(Wt.log("connect"),this._isConnected!==Je.NOT_CONNECTED)return;this._isConnected=Je.CONNECTING;const t=yield this.getPeers();if(t.length>0){Wt.log("connect",`connecting to ${t.length} peers`);const n=t.map(r=>St(this,void 0,void 0,function*(){return this.listen(r.publicKey)}));Promise.all(n).catch(r=>Wt.error("connect",r))}yield this.startOpenChannelListener(),yield e.connect.call(this)})}startOpenChannelListener(){return St(this,void 0,void 0,function*(){})}getPairingRequestInfo(){return St(this,void 0,void 0,function*(){return this.client.getPairingRequestInfo()})}listen(e){return St(this,void 0,void 0,function*(){Wt.log("listen",e),yield this.client.listenForEncryptedMessage(e,(t,n)=>{const r={origin:ze.EXTENSION,id:n.id};this.notifyListeners(t,r).catch(o=>{throw o})}).catch(t=>{throw t})})}}const wr={default:{css:`:host {
  --animation-duration: 300ms;
  all: initial;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

.beacon-modal__wrapper {
  position: relative;
  top: 0;
  display: inline-block;
  z-index: 2147483000;
  max-width: 500px;
  width: 80%;
  padding: 24px;
}

@media (min-height: 700px) {
  .beacon-modal__wrapper {
    top: 50%;
    transform: translateY(-50%);
  }
}

.theme__light .beacon-modal__base,
.theme__light .beacon-modal__close__wrapper {
  background: #fff;
}

.theme__dark .beacon-modal__base,
.theme__dark .beacon-modal__close__wrapper {
  background: #27334c;
}

.beacon-modal__base,
.beacon-modal__close__wrapper {
  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1);
}

.beacon-modal__base {
  margin: 0 auto;
  border-radius: 32px;
  overflow: hidden;
}

.beacon-modal__header {
  padding: 16px 0;
  width: 100%;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
}

.beacon-modal__headerLogo {
  width: 100%;
  max-width: 320px;
  margin: 20px auto;
  height: 100%;
}

a,
button {
  cursor: pointer;
}

.beacon-modal__close__wrapper {
  position: absolute;
  top: 44px;
  right: 24px;
  z-index: 10000;
  cursor: pointer;
  border-radius: 100%;
}

.beacon-modal__close__icon {
  width: 16px;
  height: 16px;
  position: relative;
  top: 0;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
  margin: 8px;
}

.beacon-modal__close__line1 {
  position: absolute;
  width: 90%;
}

.beacon-modal__close__line2 {
  position: absolute;
  width: 90%;
  transform: rotate(90deg);
}

.theme__light .beacon-modal__close__line2,
.theme__light .beacon-modal__close__line1 {
  border: 1px solid #000;
}

.theme__dark .beacon-modal__close__line2,
.theme__dark .beacon-modal__close__line1 {
  border: 1px solid #fff;
}

.beacon-alert__base {
  position: fixed;
  overflow-y: scroll;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2147482999;
  background-color: rgb(17 17 17 / 0.84);
  text-align: center;
  -ms-overflow-style: none;
  scrollbar-width: none;
  font-family: Roboto, Helvetica, sans-serif;
}

.beacon-alert__base::-webkit-scrollbar {
  display: none;
}

.beacon-alert__title {
  text-align: center;
}

.beacon-alert__text,
.beacon-alert__title {
  margin: 0 auto;
  padding: 0 0 24px;
}

.margin__bottom {
  margin-bottom: 16px;
}

.beacon-alert__title {
  font-size: 18px;
}

.theme__light .beacon-alert__title {
  color: #3b3d40;
}

.theme__dark .beacon-alert__title,
.theme__dark .beacon-alert__text {
  color: #7c99d6;
}

.beacon-alert__text {
  color: #000;
  font-size: 14px;
}

.beacon-modal__button,
.beacon-modal__button--outline {
  height: 36px;
  font-size: 14px;
  letter-spacing: 0.84px;
  margin-bottom: 4px;
  margin-inline-end: 2px;
  margin-inline-start: 2px;
  margin-left: 2px;
  margin-right: 2px;
  margin-top: 4px;
  padding-inline-end: 15.4px;
  padding-inline-start: 15.4px;
  padding-left: 15.4px;
  padding-right: 15.4px;
  overflow-wrap: break-word;
  pointer-events: auto;
  text-align: center;
  border-radius: 4px;
  border: 2px solid #3880ff;
}

.beacon-modal__button {
  background: #3880ff;
  color: #fff;
}

.beacon-modal__button--outline {
  background: #fff;
  color: #444444;
  border: 1px solid #444444;
}

.beacon-alert__image {
  width: 200px;
  height: 200px;
  box-sizing: border-box;
  box-shadow: 0 10px 20px 0 rgba(17, 17, 17, 0.12);
  border: 1px solid rgba(17, 17, 17, 0.04);
  border-radius: 16px;
}
.connect__btn {
  margin: 24px 0;
  width: 100%;
}

#beacon-modal__content {
  padding: 24px;
}

#beacon-switch {
  margin-top: 24px;
}

#beacon-title {
  margin: 0 0 24px;
}

a {
  text-decoration: none;
}

pre {
  white-space: pre-wrap; /* css-3 */
  white-space: -moz-pre-wrap; /* Mozilla, since 1999 */
  white-space: -pre-wrap; /* Opera 4-6 */
  white-space: -o-pre-wrap; /* Opera 7 */
  word-wrap: break-word; /* Internet Explorer 5.5+ */
  padding: 16px;
  background: #ececec;
  line-height: 1.25rem;
}
`},pair:{css:`#beacon-main-text {
  display: initial;
}
.beacon-selection__container {
  padding: 16px 16px 0;
}
.beacon-selection__list {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  text-decoration: none;
  padding-bottom: 12px;
  align-items: center;
}
.beacon-list__title {
  text-align: left;
  font-size: 12px;
}
.beacon-list__wrapper:nth-child(-n + 3) {
  padding: 0 0 1rem;
}
.theme__light .beacon-list__title {
  color: #7c828b;
}
.theme__dark .beacon-list__title,
.theme__dark #beacon--disclaimer {
  color: #7c99d6;
}

.beacon-selection__name {
  font-size: 1rem;
  font-weight: 600;
  text-align: left;
}
.theme__light .beacon-selection__name,
.theme__light .beacon--selection__name__lg {
  color: #3b3d40;
}
.theme__dark .beacon-selection__name,
.theme__dark .beacon--selection__name__lg {
  color: #6183ff;
}
.beacon-selection__img {
  width: 48px;
  height: 48px;
  box-shadow: 0 4px 12px 0 rgba(17, 17, 17, 0.24);
  border-radius: 16px;
  background-color: #fff;
}
.beacon--selection__name__lg {
  font-size: 1.5rem;
  font-weight: 600;
  text-align: center;
  padding: 1rem 0;
}
.beacon--selected__container {
  padding: 2rem 0 0;
}
#beacon--qr__copy__container {
  height: 0;
}
#beacon--qr__copy {
  display: none;
  position: relative;
  margin-top: auto;
  margin-left: auto;
  margin-right: auto;
}
#beacon--qr__container {
  margin-left: auto;
  margin-right: auto;
}
#beacon--qr__container:hover #beacon--qr__copy {
  display: block;
}

.disabled p {
  text-align: left;
  margin: 0;
  font-size: 10px;
  font-weight: 300;
  opacity: 0.48;
}

#beacon--disclaimer {
  text-align: left;
  padding-top: 24px;
  font-size: 0.875rem;
}
.progress-line,
.progress-line:before {
  height: 3px;
  width: -webkit-fill-available;
  margin-left: -24px;
  margin-right: -24px;
}
.progress-line {
  background-color: #a7c4f7;
  display: -webkit-flex;
  display: flex;
}
.progress-line:before {
  background-color: #3880ff;
  content: '';
  -webkit-animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;
  animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}
@-webkit-keyframes running-progress {
  0% {
    margin-left: 0px;
    margin-right: 100%;
  }
  50% {
    margin-left: 25%;
    margin-right: 0%;
  }
  100% {
    margin-left: 100%;
    margin-right: 0;
  }
}
@keyframes running-progress {
  0% {
    margin-left: 0px;
    margin-right: 100%;
  }
  50% {
    margin-left: 25%;
    margin-right: 0%;
  }
  100% {
    margin-left: 100%;
    margin-right: 0;
  }
}
`}},xn=(i,e)=>e.test(i.navigator.userAgent),Oa=(i,e)=>i.matchMedia(e).matches,Ai=i=>Oa(i,"(any-pointer:coarse)"),Ca=i=>!!(xn(i,/iPad/i)||xn(i,/Macintosh/i)&&Ai(i)),ao=i=>xn(i,/iPhone|iPod/i)||Ca(i),co=i=>xn(i,/android|sink/i);var Mi={exports:{}};(function(i,e){var t=function(){var n=function(A,m){var s=236,f=17,g=A,E=o[m],p=null,v=0,I=null,T=[],P={},K=function(b,R){v=g*4+17,p=function(y){for(var x=new Array(y),C=0;C<y;C+=1){x[C]=new Array(y);for(var M=0;M<y;M+=1)x[C][M]=null}return x}(v),L(0,0),L(v-7,0),L(0,v-7),J(),_(),re(b,R),g>=7&&ie(b),I==null&&(I=te(g,E,T)),B(I,R)},L=function(b,R){for(var y=-1;y<=7;y+=1)if(!(b+y<=-1||v<=b+y))for(var x=-1;x<=7;x+=1)R+x<=-1||v<=R+x||(0<=y&&y<=6&&(x==0||x==6)||0<=x&&x<=6&&(y==0||y==6)||2<=y&&y<=4&&2<=x&&x<=4?p[b+y][R+x]=!0:p[b+y][R+x]=!1)},G=function(){for(var b=0,R=0,y=0;y<8;y+=1){K(!0,y);var x=l.getLostPoint(P);(y==0||b>x)&&(b=x,R=y)}return R},_=function(){for(var b=8;b<v-8;b+=1)p[b][6]==null&&(p[b][6]=b%2==0);for(var R=8;R<v-8;R+=1)p[6][R]==null&&(p[6][R]=R%2==0)},J=function(){for(var b=l.getPatternPosition(g),R=0;R<b.length;R+=1)for(var y=0;y<b.length;y+=1){var x=b[R],C=b[y];if(p[x][C]==null)for(var M=-2;M<=2;M+=1)for(var H=-2;H<=2;H+=1)M==-2||M==2||H==-2||H==2||M==0&&H==0?p[x+M][C+H]=!0:p[x+M][C+H]=!1}},ie=function(b){for(var R=l.getBCHTypeNumber(g),y=0;y<18;y+=1){var x=!b&&(R>>y&1)==1;p[Math.floor(y/3)][y%3+v-8-3]=x}for(var y=0;y<18;y+=1){var x=!b&&(R>>y&1)==1;p[y%3+v-8-3][Math.floor(y/3)]=x}},re=function(b,R){for(var y=E<<3|R,x=l.getBCHTypeInfo(y),C=0;C<15;C+=1){var M=!b&&(x>>C&1)==1;C<6?p[C][8]=M:C<8?p[C+1][8]=M:p[v-15+C][8]=M}for(var C=0;C<15;C+=1){var M=!b&&(x>>C&1)==1;C<8?p[8][v-C-1]=M:C<9?p[8][15-C-1+1]=M:p[8][15-C-1]=M}p[v-8][8]=!b},B=function(b,R){for(var y=-1,x=v-1,C=7,M=0,H=l.getMaskFunction(R),q=v-1;q>0;q-=2)for(q==6&&(q-=1);;){for(var ae=0;ae<2;ae+=1)if(p[x][q-ae]==null){var ue=!1;M<b.length&&(ue=(b[M]>>>C&1)==1);var W=H(x,q-ae);W&&(ue=!ue),p[x][q-ae]=ue,C-=1,C==-1&&(M+=1,C=7)}if(x+=y,x<0||v<=x){x-=y,y=-y;break}}},X=function(b,R){for(var y=0,x=0,C=0,M=new Array(R.length),H=new Array(R.length),q=0;q<R.length;q+=1){var ae=R[q].dataCount,ue=R[q].totalCount-ae;x=Math.max(x,ae),C=Math.max(C,ue),M[q]=new Array(ae);for(var W=0;W<M[q].length;W+=1)M[q][W]=255&b.getBuffer()[W+y];y+=ae;var De=l.getErrorCorrectPolynomial(ue),ce=u(M[q],De.getLength()-1),ye=ce.mod(De);H[q]=new Array(De.getLength()-1);for(var W=0;W<H[q].length;W+=1){var we=W+ye.getLength()-H[q].length;H[q][W]=we>=0?ye.getAt(we):0}}for(var Ae=0,W=0;W<R.length;W+=1)Ae+=R[W].totalCount;for(var me=new Array(Ae),ve=0,W=0;W<x;W+=1)for(var q=0;q<R.length;q+=1)W<M[q].length&&(me[ve]=M[q][W],ve+=1);for(var W=0;W<C;W+=1)for(var q=0;q<R.length;q+=1)W<H[q].length&&(me[ve]=H[q][W],ve+=1);return me},te=function(b,R,y){for(var x=c.getRSBlocks(b,R),C=h(),M=0;M<y.length;M+=1){var H=y[M];C.put(H.getMode(),4),C.put(H.getLength(),l.getLengthInBits(H.getMode(),b)),H.write(C)}for(var q=0,M=0;M<x.length;M+=1)q+=x[M].dataCount;if(C.getLengthInBits()>q*8)throw"code length overflow. ("+C.getLengthInBits()+">"+q*8+")";for(C.getLengthInBits()+4<=q*8&&C.put(0,4);C.getLengthInBits()%8!=0;)C.putBit(!1);for(;!(C.getLengthInBits()>=q*8||(C.put(s,8),C.getLengthInBits()>=q*8));)C.put(f,8);return X(C,x)};P.addData=function(b,R){R=R||"Byte";var y=null;switch(R){case"Numeric":y=w(b);break;case"Alphanumeric":y=O(b);break;case"Byte":y=U(b);break;case"Kanji":y=j(b);break;default:throw"mode:"+R}T.push(y),I=null},P.isDark=function(b,R){if(b<0||v<=b||R<0||v<=R)throw b+","+R;return p[b][R]},P.getModuleCount=function(){return v},P.make=function(){if(g<1){for(var b=1;b<40;b++){for(var R=c.getRSBlocks(b,E),y=h(),x=0;x<T.length;x++){var C=T[x];y.put(C.getMode(),4),y.put(C.getLength(),l.getLengthInBits(C.getMode(),b)),C.write(y)}for(var M=0,x=0;x<R.length;x++)M+=R[x].dataCount;if(y.getLengthInBits()<=M*8)break}g=b}K(!1,G())},P.createTableTag=function(b,R){b=b||2,R=typeof R>"u"?b*4:R;var y="";y+='<table style="',y+=" border-width: 0px; border-style: none;",y+=" border-collapse: collapse;",y+=" padding: 0px; margin: "+R+"px;",y+='">',y+="<tbody>";for(var x=0;x<P.getModuleCount();x+=1){y+="<tr>";for(var C=0;C<P.getModuleCount();C+=1)y+='<td style="',y+=" border-width: 0px; border-style: none;",y+=" border-collapse: collapse;",y+=" padding: 0px; margin: 0px;",y+=" width: "+b+"px;",y+=" height: "+b+"px;",y+=" background-color: ",y+=P.isDark(x,C)?"#000000":"#ffffff",y+=";",y+='"/>';y+="</tr>"}return y+="</tbody>",y+="</table>",y},P.createSvgTag=function(b,R,y,x){var C={};typeof arguments[0]=="object"&&(C=arguments[0],b=C.cellSize,R=C.margin,y=C.alt,x=C.title),b=b||2,R=typeof R>"u"?b*4:R,y=typeof y=="string"?{text:y}:y||{},y.text=y.text||null,y.id=y.text?y.id||"qrcode-description":null,x=typeof x=="string"?{text:x}:x||{},x.text=x.text||null,x.id=x.text?x.id||"qrcode-title":null;var M=P.getModuleCount()*b+R*2,H,q,ae,ue,W="",De;for(De="l"+b+",0 0,"+b+" -"+b+",0 0,-"+b+"z ",W+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',W+=C.scalable?"":' width="'+M+'px" height="'+M+'px"',W+=' viewBox="0 0 '+M+" "+M+'" ',W+=' preserveAspectRatio="xMinYMin meet"',W+=x.text||y.text?' role="img" aria-labelledby="'+ee([x.id,y.id].join(" ").trim())+'"':"",W+=">",W+=x.text?'<title id="'+ee(x.id)+'">'+ee(x.text)+"</title>":"",W+=y.text?'<description id="'+ee(y.id)+'">'+ee(y.text)+"</description>":"",W+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',W+='<path d="',ae=0;ae<P.getModuleCount();ae+=1)for(ue=ae*b+R,H=0;H<P.getModuleCount();H+=1)P.isDark(ae,H)&&(q=H*b+R,W+="M"+q+","+ue+De);return W+='" stroke="transparent" fill="black"/>',W+="</svg>",W},P.createDataURL=function(b,R){b=b||2,R=typeof R>"u"?b*4:R;var y=P.getModuleCount()*b+R*2,x=R,C=y-R;return N(y,y,function(M,H){if(x<=M&&M<C&&x<=H&&H<C){var q=Math.floor((M-x)/b),ae=Math.floor((H-x)/b);return P.isDark(ae,q)?0:1}else return 1})},P.createImgTag=function(b,R,y){b=b||2,R=typeof R>"u"?b*4:R;var x=P.getModuleCount()*b+R*2,C="";return C+="<img",C+=' src="',C+=P.createDataURL(b,R),C+='"',C+=' width="',C+=x,C+='"',C+=' height="',C+=x,C+='"',y&&(C+=' alt="',C+=ee(y),C+='"'),C+="/>",C};var ee=function(b){for(var R="",y=0;y<b.length;y+=1){var x=b.charAt(y);switch(x){case"<":R+="&lt;";break;case">":R+="&gt;";break;case"&":R+="&amp;";break;case'"':R+="&quot;";break;default:R+=x;break}}return R},se=function(b){var R=1;b=typeof b>"u"?R*2:b;var y=P.getModuleCount()*R+b*2,x=b,C=y-b,M,H,q,ae,ue,W={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},De={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},ce="";for(M=0;M<y;M+=2){for(q=Math.floor((M-x)/R),ae=Math.floor((M+1-x)/R),H=0;H<y;H+=1)ue="\u2588",x<=H&&H<C&&x<=M&&M<C&&P.isDark(q,Math.floor((H-x)/R))&&(ue=" "),x<=H&&H<C&&x<=M+1&&M+1<C&&P.isDark(ae,Math.floor((H-x)/R))?ue+=" ":ue+="\u2588",ce+=b<1&&M+1>=C?De[ue]:W[ue];ce+=`
`}return y%2&&b>0?ce.substring(0,ce.length-y-1)+Array(y+1).join("\u2580"):ce.substring(0,ce.length-1)};return P.createASCII=function(b,R){if(b=b||1,b<2)return se(R);b-=1,R=typeof R>"u"?b*2:R;var y=P.getModuleCount()*b+R*2,x=R,C=y-R,M,H,q,ae,ue=Array(b+1).join("\u2588\u2588"),W=Array(b+1).join("  "),De="",ce="";for(M=0;M<y;M+=1){for(q=Math.floor((M-x)/b),ce="",H=0;H<y;H+=1)ae=1,x<=H&&H<C&&x<=M&&M<C&&P.isDark(q,Math.floor((H-x)/b))&&(ae=0),ce+=ae?ue:W;for(q=0;q<b;q+=1)De+=ce+`
`}return De.substring(0,De.length-1)},P.renderTo2dContext=function(b,R){R=R||2;for(var y=P.getModuleCount(),x=0;x<y;x++)for(var C=0;C<y;C++)b.fillStyle=P.isDark(x,C)?"black":"white",b.fillRect(x*R,C*R,R,R)},P};n.stringToBytesFuncs={default:function(A){for(var m=[],s=0;s<A.length;s+=1){var f=A.charCodeAt(s);m.push(f&255)}return m}},n.stringToBytes=n.stringToBytesFuncs.default,n.createStringToBytes=function(A,m){var s=function(){for(var g=Z(A),E=function(){var _=g.read();if(_==-1)throw"eof";return _},p=0,v={};;){var I=g.read();if(I==-1)break;var T=E(),P=E(),K=E(),L=String.fromCharCode(I<<8|T),G=P<<8|K;v[L]=G,p+=1}if(p!=m)throw p+" != "+m;return v}(),f="?".charCodeAt(0);return function(g){for(var E=[],p=0;p<g.length;p+=1){var v=g.charCodeAt(p);if(v<128)E.push(v);else{var I=s[g.charAt(p)];typeof I=="number"?(I&255)==I?E.push(I):(E.push(I>>>8),E.push(I&255)):E.push(f)}}return E}};var r={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},o={L:1,M:0,Q:3,H:2},a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},l=function(){var A=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],m=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,s=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,f=1<<14|1<<12|1<<10|1<<4|1<<1,g={},E=function(p){for(var v=0;p!=0;)v+=1,p>>>=1;return v};return g.getBCHTypeInfo=function(p){for(var v=p<<10;E(v)-E(m)>=0;)v^=m<<E(v)-E(m);return(p<<10|v)^f},g.getBCHTypeNumber=function(p){for(var v=p<<12;E(v)-E(s)>=0;)v^=s<<E(v)-E(s);return p<<12|v},g.getPatternPosition=function(p){return A[p-1]},g.getMaskFunction=function(p){switch(p){case a.PATTERN000:return function(v,I){return(v+I)%2==0};case a.PATTERN001:return function(v,I){return v%2==0};case a.PATTERN010:return function(v,I){return I%3==0};case a.PATTERN011:return function(v,I){return(v+I)%3==0};case a.PATTERN100:return function(v,I){return(Math.floor(v/2)+Math.floor(I/3))%2==0};case a.PATTERN101:return function(v,I){return v*I%2+v*I%3==0};case a.PATTERN110:return function(v,I){return(v*I%2+v*I%3)%2==0};case a.PATTERN111:return function(v,I){return(v*I%3+(v+I)%2)%2==0};default:throw"bad maskPattern:"+p}},g.getErrorCorrectPolynomial=function(p){for(var v=u([1],0),I=0;I<p;I+=1)v=v.multiply(u([1,d.gexp(I)],0));return v},g.getLengthInBits=function(p,v){if(1<=v&&v<10)switch(p){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:return 8;case r.MODE_KANJI:return 8;default:throw"mode:"+p}else if(v<27)switch(p){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw"mode:"+p}else if(v<41)switch(p){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw"mode:"+p}else throw"type:"+v},g.getLostPoint=function(p){for(var v=p.getModuleCount(),I=0,T=0;T<v;T+=1)for(var P=0;P<v;P+=1){for(var K=0,L=p.isDark(T,P),G=-1;G<=1;G+=1)if(!(T+G<0||v<=T+G))for(var _=-1;_<=1;_+=1)P+_<0||v<=P+_||G==0&&_==0||L==p.isDark(T+G,P+_)&&(K+=1);K>5&&(I+=3+K-5)}for(var T=0;T<v-1;T+=1)for(var P=0;P<v-1;P+=1){var J=0;p.isDark(T,P)&&(J+=1),p.isDark(T+1,P)&&(J+=1),p.isDark(T,P+1)&&(J+=1),p.isDark(T+1,P+1)&&(J+=1),(J==0||J==4)&&(I+=3)}for(var T=0;T<v;T+=1)for(var P=0;P<v-6;P+=1)p.isDark(T,P)&&!p.isDark(T,P+1)&&p.isDark(T,P+2)&&p.isDark(T,P+3)&&p.isDark(T,P+4)&&!p.isDark(T,P+5)&&p.isDark(T,P+6)&&(I+=40);for(var P=0;P<v;P+=1)for(var T=0;T<v-6;T+=1)p.isDark(T,P)&&!p.isDark(T+1,P)&&p.isDark(T+2,P)&&p.isDark(T+3,P)&&p.isDark(T+4,P)&&!p.isDark(T+5,P)&&p.isDark(T+6,P)&&(I+=40);for(var ie=0,P=0;P<v;P+=1)for(var T=0;T<v;T+=1)p.isDark(T,P)&&(ie+=1);var re=Math.abs(100*ie/v/v-50)/5;return I+=re*10,I},g}(),d=function(){for(var A=new Array(256),m=new Array(256),s=0;s<8;s+=1)A[s]=1<<s;for(var s=8;s<256;s+=1)A[s]=A[s-4]^A[s-5]^A[s-6]^A[s-8];for(var s=0;s<255;s+=1)m[A[s]]=s;var f={};return f.glog=function(g){if(g<1)throw"glog("+g+")";return m[g]},f.gexp=function(g){for(;g<0;)g+=255;for(;g>=256;)g-=255;return A[g]},f}();function u(A,m){if(typeof A.length>"u")throw A.length+"/"+m;var s=function(){for(var g=0;g<A.length&&A[g]==0;)g+=1;for(var E=new Array(A.length-g+m),p=0;p<A.length-g;p+=1)E[p]=A[p+g];return E}(),f={};return f.getAt=function(g){return s[g]},f.getLength=function(){return s.length},f.multiply=function(g){for(var E=new Array(f.getLength()+g.getLength()-1),p=0;p<f.getLength();p+=1)for(var v=0;v<g.getLength();v+=1)E[p+v]^=d.gexp(d.glog(f.getAt(p))+d.glog(g.getAt(v)));return u(E,0)},f.mod=function(g){if(f.getLength()-g.getLength()<0)return f;for(var E=d.glog(f.getAt(0))-d.glog(g.getAt(0)),p=new Array(f.getLength()),v=0;v<f.getLength();v+=1)p[v]=f.getAt(v);for(var v=0;v<g.getLength();v+=1)p[v]^=d.gexp(d.glog(g.getAt(v))+E);return u(p,0).mod(g)},f}var c=function(){var A=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],m=function(g,E){var p={};return p.totalCount=g,p.dataCount=E,p},s={},f=function(g,E){switch(E){case o.L:return A[(g-1)*4+0];case o.M:return A[(g-1)*4+1];case o.Q:return A[(g-1)*4+2];case o.H:return A[(g-1)*4+3];default:return}};return s.getRSBlocks=function(g,E){var p=f(g,E);if(typeof p>"u")throw"bad rs block @ typeNumber:"+g+"/errorCorrectionLevel:"+E;for(var v=p.length/3,I=[],T=0;T<v;T+=1)for(var P=p[T*3+0],K=p[T*3+1],L=p[T*3+2],G=0;G<P;G+=1)I.push(m(K,L));return I},s}(),h=function(){var A=[],m=0,s={};return s.getBuffer=function(){return A},s.getAt=function(f){var g=Math.floor(f/8);return(A[g]>>>7-f%8&1)==1},s.put=function(f,g){for(var E=0;E<g;E+=1)s.putBit((f>>>g-E-1&1)==1)},s.getLengthInBits=function(){return m},s.putBit=function(f){var g=Math.floor(m/8);A.length<=g&&A.push(0),f&&(A[g]|=128>>>m%8),m+=1},s},w=function(A){var m=r.MODE_NUMBER,s=A,f={};f.getMode=function(){return m},f.getLength=function(p){return s.length},f.write=function(p){for(var v=s,I=0;I+2<v.length;)p.put(g(v.substring(I,I+3)),10),I+=3;I<v.length&&(v.length-I==1?p.put(g(v.substring(I,I+1)),4):v.length-I==2&&p.put(g(v.substring(I,I+2)),7))};var g=function(p){for(var v=0,I=0;I<p.length;I+=1)v=v*10+E(p.charAt(I));return v},E=function(p){if("0"<=p&&p<="9")return p.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+p};return f},O=function(A){var m=r.MODE_ALPHA_NUM,s=A,f={};f.getMode=function(){return m},f.getLength=function(E){return s.length},f.write=function(E){for(var p=s,v=0;v+1<p.length;)E.put(g(p.charAt(v))*45+g(p.charAt(v+1)),11),v+=2;v<p.length&&E.put(g(p.charAt(v)),6)};var g=function(E){if("0"<=E&&E<="9")return E.charCodeAt(0)-"0".charCodeAt(0);if("A"<=E&&E<="Z")return E.charCodeAt(0)-"A".charCodeAt(0)+10;switch(E){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+E}};return f},U=function(A){var m=r.MODE_8BIT_BYTE,s=n.stringToBytes(A),f={};return f.getMode=function(){return m},f.getLength=function(g){return s.length},f.write=function(g){for(var E=0;E<s.length;E+=1)g.put(s[E],8)},f},j=function(A){var m=r.MODE_KANJI,s=n.stringToBytesFuncs.SJIS;if(!s)throw"sjis not supported.";(function(E,p){var v=s(E);if(v.length!=2||(v[0]<<8|v[1])!=p)throw"sjis not supported."})("\u53CB",38726);var f=s(A),g={};return g.getMode=function(){return m},g.getLength=function(E){return~~(f.length/2)},g.write=function(E){for(var p=f,v=0;v+1<p.length;){var I=(255&p[v])<<8|255&p[v+1];if(33088<=I&&I<=40956)I-=33088;else if(57408<=I&&I<=60351)I-=49472;else throw"illegal char at "+(v+1)+"/"+I;I=(I>>>8&255)*192+(I&255),E.put(I,13),v+=2}if(v<p.length)throw"illegal char at "+(v+1)},g},V=function(){var A=[],m={};return m.writeByte=function(s){A.push(s&255)},m.writeShort=function(s){m.writeByte(s),m.writeByte(s>>>8)},m.writeBytes=function(s,f,g){f=f||0,g=g||s.length;for(var E=0;E<g;E+=1)m.writeByte(s[E+f])},m.writeString=function(s){for(var f=0;f<s.length;f+=1)m.writeByte(s.charCodeAt(f))},m.toByteArray=function(){return A},m.toString=function(){var s="";s+="[";for(var f=0;f<A.length;f+=1)f>0&&(s+=","),s+=A[f];return s+="]",s},m},Y=function(){var A=0,m=0,s=0,f="",g={},E=function(v){f+=String.fromCharCode(p(v&63))},p=function(v){if(!(v<0)){if(v<26)return 65+v;if(v<52)return 97+(v-26);if(v<62)return 48+(v-52);if(v==62)return 43;if(v==63)return 47}throw"n:"+v};return g.writeByte=function(v){for(A=A<<8|v&255,m+=8,s+=1;m>=6;)E(A>>>m-6),m-=6},g.flush=function(){if(m>0&&(E(A<<6-m),A=0,m=0),s%3!=0)for(var v=3-s%3,I=0;I<v;I+=1)f+="="},g.toString=function(){return f},g},Z=function(A){var m=A,s=0,f=0,g=0,E={};E.read=function(){for(;g<8;){if(s>=m.length){if(g==0)return-1;throw"unexpected end of file./"+g}var v=m.charAt(s);if(s+=1,v=="=")return g=0,-1;if(v.match(/^\s$/))continue;f=f<<6|p(v.charCodeAt(0)),g+=6}var I=f>>>g-8&255;return g-=8,I};var p=function(v){if(65<=v&&v<=90)return v-65;if(97<=v&&v<=122)return v-97+26;if(48<=v&&v<=57)return v-48+52;if(v==43)return 62;if(v==47)return 63;throw"c:"+v};return E},S=function(A,m){var s=A,f=m,g=new Array(A*m),E={};E.setPixel=function(T,P,K){g[P*s+T]=K},E.write=function(T){T.writeString("GIF87a"),T.writeShort(s),T.writeShort(f),T.writeByte(128),T.writeByte(0),T.writeByte(0),T.writeByte(0),T.writeByte(0),T.writeByte(0),T.writeByte(255),T.writeByte(255),T.writeByte(255),T.writeString(","),T.writeShort(0),T.writeShort(0),T.writeShort(s),T.writeShort(f),T.writeByte(0);var P=2,K=v(P);T.writeByte(P);for(var L=0;K.length-L>255;)T.writeByte(255),T.writeBytes(K,L,255),L+=255;T.writeByte(K.length-L),T.writeBytes(K,L,K.length-L),T.writeByte(0),T.writeString(";")};var p=function(T){var P=T,K=0,L=0,G={};return G.write=function(_,J){if(_>>>J!=0)throw"length over";for(;K+J>=8;)P.writeByte(255&(_<<K|L)),J-=8-K,_>>>=8-K,L=0,K=0;L=_<<K|L,K=K+J},G.flush=function(){K>0&&P.writeByte(L)},G},v=function(T){for(var P=1<<T,K=(1<<T)+1,L=T+1,G=I(),_=0;_<P;_+=1)G.add(String.fromCharCode(_));G.add(String.fromCharCode(P)),G.add(String.fromCharCode(K));var J=V(),ie=p(J);ie.write(P,L);var re=0,B=String.fromCharCode(g[re]);for(re+=1;re<g.length;){var X=String.fromCharCode(g[re]);re+=1,G.contains(B+X)?B=B+X:(ie.write(G.indexOf(B),L),G.size()<4095&&(G.size()==1<<L&&(L+=1),G.add(B+X)),B=X)}return ie.write(G.indexOf(B),L),ie.write(K,L),ie.flush(),J.toByteArray()},I=function(){var T={},P=0,K={};return K.add=function(L){if(K.contains(L))throw"dup key:"+L;T[L]=P,P+=1},K.size=function(){return P},K.indexOf=function(L){return T[L]},K.contains=function(L){return typeof T[L]<"u"},K};return E},N=function(A,m,s){for(var f=S(A,m),g=0;g<m;g+=1)for(var E=0;E<A;E+=1)f.setPixel(E,g,s(E,g));var p=V();f.write(p);for(var v=Y(),I=p.toByteArray(),T=0;T<I.length;T+=1)v.writeByte(I[T]);return v.flush(),"data:image/gif;base64,"+v};return n}();(function(){t.stringToBytesFuncs["UTF-8"]=function(n){function r(o){for(var a=[],l=0;l<o.length;l++){var d=o.charCodeAt(l);d<128?a.push(d):d<2048?a.push(192|d>>6,128|d&63):d<55296||d>=57344?a.push(224|d>>12,128|d>>6&63,128|d&63):(l++,d=65536+((d&1023)<<10|o.charCodeAt(l)&1023),a.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|d&63))}return a}return r(n)}})(),function(n){i.exports=n()}(function(){return t})})(Mi);const Pa=Mi.exports,ka=Ro({__proto__:null,default:Pa},[Mi.exports]),La=new je("QR"),Ma=(i,e)=>{const r=ka(0,"L");i.length>500&&La.warn("getQrData",'The size of the payload in the QR code is quite long and some devices might not be able to scan it anymore. To reduce the QR size, try using a shorter "name", "appUrl" and "iconUrl"');try{if(r.addData(i),r.make(),e==="svg")return r.createSvgTag();if(e==="ascii"){const o=r.getModuleCount(),a="\x1B[40m  \x1B[0m",l="\x1B[47m  \x1B[0m",d=new Array(o+3).join(l),u=new Array(o+3).join(a);let c="";c+=`${u}
`,c+=`${d}
`;for(let h=0;h<o;h++){c+=l;for(let w=0;w<o;w++)c+=r.isDark(h,w)?a:l;c+=`${l}
`}return c+=d,c+=u,c}else return r.createDataURL()}catch(o){throw console.error("error",o),o}},Xt=(i,e)=>`${i}?type=tzip10&data=${e}`,Ua=[{key:"spire_chrome",id:"gpfndedineagiepkpinficbcbbgjoenn",name:"Spire",shortName:"Spire",color:"",logo:"data:image/;base64,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",link:"https://spirewallet.com/"},{key:"temple_chrome",id:"ookjlbkiijinhpmnjffcofjonbfbgaoc",name:"Temple Wallet",shortName:"Temple",color:"",logo:"data:image/;base64,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",link:"https://templewallet.com/"}],Da=[{key:"galleon_desktop",name:"Galleon",shortName:"Galleon",color:"",logo:"data:image/;base64,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",deepLink:"galleon://"},{key:"umami_desktop",name:"Umami",shortName:"Umami",color:"",logo:"data:image/;base64,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",deepLink:"umami://"}],Ba=[{key:"kukai_web",name:"Kukai Wallet",shortName:"Kukai",color:"",logo:"data:image/;base64,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",links:{mainnet:"https://wallet.kukai.app",ghostnet:"https://ghostnet.kukai.app",mondaynet:"https://dailynet.kukai.app",delphinet:"https://testnet.kukai.app",edonet:"https://edonet.kukai.app",florencenet:"https://florencenet.kukai.app",granadanet:"https://granadanet.kukai.app",hangzhounet:"https://hangzhounet.kukai.app",ithacanet:"https://ithacanet.kukai.app",jakartanet:"https://jakartanet.kukai.app",kathmandunet:"https://kathmandunet.kukai.app"}}],Ka=[{key:"airgap_ios",name:"AirGap Wallet",shortName:"AirGap",color:"rgb(4, 235, 204)",logo:"data:image/;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAALT0lEQVR4AeXBCXiU9Z3A8e/vfd+5kskBARYIkAsCSIRyRe5AKbhQ8CqWemGpVnF1qVKPrdoSrSiW6qq0lhZXu7UrskVQSq0VpAIGwxGgHAE5RBMIgUAyk8xkMjOZ+e/zZh9cauXNTMjx7MPnI0qpRkC4PCkDEEDj8hTVuMxpXOY02om3xsfix1/jlumP4qmu48saAiHumv1TFj/2Kp7qOtqLQRsLhxp549U/8x8vvY2vth7TkUNljBwziAsdO3KCnUWl7Cwq5U+rP+KO+ddx8x3TsNtttCWDNhKNRPnjW5tZ9twqTp88xxcUIMKXiQZKKUQEf12AlxatYOVr73PPgzcyY9Z4NE2jLeiFhYULAaGVNDZGWLdqM4/8y0usXbkJf12A84J9u1Je+M/MnjSCPrqdC3Xt1okrhmRz5FA5NWdrMfnrAnz4l538Ze3HJKUkkNOvF5qm0YqUQSs5frSCdX/YxDsrN1F91ssXFARzu1L5/dFUT87FyoRvDGP85KGsX1fM8hfXcPRgGSLC58dO8eP5L/PiohVc952JzLxxAr0zu9MaDFpIKcXBfcfZvH4XG9/bzpHSMkSELyjwj8rgzK0j8YzNBEVMRISpM0czZcYoPtq4h9d/vY4dRQcQEc6eruGVF9ew/IXVDLwyi0nTRjLhG8Ppf0UGCC1iEKNoNMqxwyfYs/0TSj4uZXvRAWrO1SIimEQEUyTZSc2MQZyd9TUCmZ1AAYq4iQjjJw9l/OShfHr4BKt+/wHvrt5CrcePiHBo/2cc2v8ZL//sv+nSLZWR4/IYPmogw/IHkNm3JyJCLAya8Unp57z09Bvs3naIQH0QEeE8EcEUdTuondiXmin98Y7JQmlCE8VXqo1GiEd2bi8efvJ2Fvz4Vor+uof164rZtL4Ef10AEeFclZf31hTx3poilFIkJrkYmj+Aex+ezYC8TKwYWAjUB5k3+ym8NT5MIkITpQjmdKVubBbe8dnUDeuNEmK2xF9JgT2JBNGIh2HTKZg6nIKpw4k0RigpPsiWD3ax9cO/8enhk4gIIkK9r4GijXv4W8lh3i1eijspgYsxsFBSXIq3xocp3D0ZX34GvhG9qR2VQaiLG5SiJf4a9pF5di/9dCeCYBLAEP5BZzGY60pjhiOVC+mGTv64PPLH5fHDhXCmsprizfvYufUAO7aWcrriHD5vPTu3ljLx6hFcjIGFqsoazit7Yhq1I3rzBaW4FFXRCFVRP7FYHfSwPLkPd7q6cjHdunfmmm8XcM23C9j5cSl33fhTTGcqa7CiYcHr8XFeJMVJRyr0nSJWKalulKJJrdeHFQ0Lfl8DTaKKcKcEOtKpaJhGFLHo3CWZaDSKyVdbjxUNC746PyZRikiKk46Ub0vAQIhFUkoiIjTx+xuwomGhIRDCpOwGEYdBR+mmGSxLyiBWdrsNh9OOKRgIYcXAQsAfxKQS7CACKOI1yeZmiiOZJNFpic6aznR7KqmaTjwS3S481XUE6huwYmAhEGjA1JhoB6WIR4JovJmSxUxHKh0h0e3CU11HQ0MIKxoWQsFGTMppgFLE49dJfZjpSKWj2OwGpnAwjBUNC4H6BkzKaQNFzHJ0O7e40uhIDocdUyAQxIqGBb+/AVPEZSMeo2xuhI6V6HZiqvc3YEXDQjAQwhR12vj/xuGyYwo2hLGiYaEhEMQUddmIR3HYh6JjOZ0OTIH6IFY0LAQCQUxRp0E8jkVC/FfgHB0pIdGJKRBowIqGhXCoEZOyG8Tr7roy3gnW0FHsdgNTONSIFQMLkcYoJmVoxKteRbnO8ykFNjdTHckki855OvBdVxdcotFWdEPHFI1EsWJgQSmFKaoLLbUp7GNT2MeFbnd25p6EbrQlTdcwKYUlDQsiNNGiitY00HDR1qLRKCYRLGlY0G06JglFaE1/CnqI0rYawxFMuk3HioEFl8tBqCGMVh+iNW0J+7nec5Q7XF1wi8bFuEVnmC0BAyFefl8AU0KCEysGFpJT3XhrfOjeBlrb2qCXtUEvzemr23krNYfBRgLx8Hp8mJJTErGiYaFzWjIme5UPhA5xNBLiW55jNKKIR1VlDaa0rilY0bDQPb0LJvsJD4LQUY5GQuwO1xMrpRQV5VWYuqd3wYqGhcycHjQJNeIo99CRFLE7WX6GQH0DpozsHljRsNA/L5MmIiTuq6CjZOt2htkSiNW+kqNomoYpd1AGVjQsfG1Ef5RSmJJ2lNERsjQ7q1NyMBBitWPrAUxKKYaMyMWKgYXUzknkXpHBkYNlJG8+iqirUUJcrrYnMceZRrKmc56GIPwfAYR/lCQ6I+2J2BBiFY0qNm/YhanfwD506pyMFYNmFEwdzpGDZeg1AZI/Po53TBaxusOVxvLkTIT2U7xlL+fOeBGBgqnDaY5GM6bfMA6lFKZuK3aBEBMBFrnTEdrXG6/8GRFQSjH9hnE0R6MZmTk9GTF2ECZ30XHce08RC7do/JNmoz3tLTlM0cY9mEaMHURW33SaoxGDO+dfj1IKBHr9fCOxqFNRDjU20G4UPPfE64gISinu+sENxEIjBleNy2NUwWBMrv2n6LLuALG4p/Zz/CpKe/jjqs3s23UU0+iJgxk5dhCxMIjRQ0/MYfaUR4g0Run5/Id4x+cQTnFi5cOwj4Fn9/MtZydSRScWugiDDRffdKSgI8TCU13H80++jkk3NB4snEOsDGKU3a8Xc+6ZyWtL30H3Buiz6H2OLbkWlMJKeTTMC/VniFe+4eLdTrmkaQbNWfSjV/DW+DDddvcMsvv1IlYacZj3wCyy+/fClLzhMF3X7KWtbG8McG9tGc1Zs2IjG9Ztw5TVL515P5xFPDTiYLMbLH55PnaHDQTSn91A4qEztJXVwRrqVZSLKd37Kc8+/ltEBJvD4JmX/xW73UY8NOLUt39vHnv2TpRSSChC9v1vYT/toy2EUdSpCF+lsuIc989dQigYRinFj57+HrkDM4iXRgvMnDWB2+bNwGRU+ek3byW26npaW2/NTjfNxpdVn/Uy76anOHvag+mmO6dx3exJtIRGCz3w+C1MuXYUJntZDbnfW4HjVB2tRYBnk9IR/l5FeRVzry+k7Fglpq9PH8mDC+fQUhotJCI8/eJ9TJgyDJO9vIb+t/2O5F0niJ0CFKAAhQAacKXhZFVKNjc507jQjq0HuHXGY5Qfr8Q0umAwz/xyPpomtJTBJdANneeWL+DR+b9g/dpi9JoAOXe9SdXtV1ExbyxRm8ZXydBsrEjNZoiRgPC/BLCJAILO3wuFwvzq53/gd8vWoaIKU8HVw/nZsvux2QwuhcEl0g2dxb+cT1bfdJb/+2qUUnT97TZSNnzCyYe+jmd8DijFhZ5ypzPa5iYWWz7YzZKF/8mJz07TRGDuvddw78PfQdOES2XQCkSEeQtmkT92ED954FdUlFVhP+Eha/5q/CN6c+q+8dQN6QmKJr10O83Zt/sIv1i8ku0f7UdEMHVPT6Pw+Xnkj82jteiFhYULAaEV9OjVlRtunkxjJMKB3ceIKoX9VC2d395L8p4Kwj2SCaan8l1nGpm6g69SUnyQpx55haVPr6CivAoRQdc1bvn+NJb8ZgGZOT1pRcqglTlddn7w6M1cf9Mknn/y92x6vwQRIXH75+Rs+4zAlT2xLVsAmUlc6PSpczx89wvsLTmCiCAiKKUYN3koC35yK1l902kLBm2kT1YPXnjtIXZvP8TSZ95k9/ZDiAiu/adwVHghsxcXqjx5jn27jiIiKKUYPDyX+/5tNiPHDKItGbSxofkDeHVNIds+2s+rS9/G6/HRf1AmX9ZvQG/652XidruYe9+1jJk4hPZg0E6uGpfHVePyuJgEt4sV7z1De9O4zGlc5gxAAVEuT+p/ABopEAN9AKm/AAAAAElFTkSuQmCC",universalLink:"https://wallet.airgap.it",deepLink:"airgap-wallet://"},{key:"naan_ios",name:"Naan Wallet",shortName:"Naan",color:"rgb(129, 100, 100)",logo:"data:image/;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAZfElEQVR4Ad3Be5BeZ33Y8e/veZ5zznvd+0VaaVfWfSVLtiUbY4PBBsaUy0CCE0JDadopCdBJ2iQ0w0ynSSedyaQzzaTJtJlJ/oBShoRJS2nTlNImxNg4gSBsLNuydZdWu5J2tau9vfvezznP8yuvPLJLhtYr22khn4/8yscarpnG0mitStluiBYsJndS8GUsDRmoWsltJB2vSCYikZOO74gJGVEwIlJGoiAejw9G0IjUd6XolSiyaAyZ74giCJkJmsWCxuCcqjGqKmLwqM8QzVSjrrVOjQhWYiWFPFc6BpxxKsYjJqgYi+0mGvwGIQkaJMJqot0cjeNMS5GobadstFAvJbxLteva6tsBDVZL1XGNRdWVvJWosyJ5XhdfNQwSiwYrmW8QF61keZCcTDyR5KISdz1YFQTJrGAUcagR1oYNy3uQ9Z2xWZnE1Cdy0xhT3xwRbQ4IaT/4kiU4UAMYBIPQExACSEBsRjBNpVDLKa6JGbgurrQYU5lHhufQgUtWRy8E37+ekStO9LtE8SqpR1wQsJrnuUqwGseWTrtOREIICWnS0aTVpVhflzjpx+WtZVkLHcn7DP2dWJJiJKHUFtOxmDQzrWIQkyLQhciKqhHj1ajMH4rszNuU2ftDWLgDOlsEhO+yhhuU71I2wwAGFMhjoAzpGGygLIIBw8tU8UL5qpitz2J2HAvhtsfVbzuptqPGBBUfyL2RzJlQ7AqmXNZ2pyUmcwxKzHoJ1jttKu0Wbt2komVhsB3LUB5LppkQCmKDiisUJc86YiIrGlKh2xzAPfX3nXvm70J9F98lwv8PFppTRs5PoeffZwTUVi8qd/2+Zvd8TszAauLikGapwUVK16uLihqHNqVugjhYL2Xa7Hix9x38eVeQRExuxcuGaDkRUSvWOOlKR8RYwQWH/OXHnP3i50Vm3gXpID9ghHRQmHvQmqf/HiKp2sln1IvmWYq1ESY2SEFIsxa5dwiO3Cv2wYO/FEU4CT6VXIxEhViMFfHWS+pVMCtbhD/4A+GZj4Iv8gPPF+DiO5TTDwRue8yHcoPIY50B4+mmHXwOTmJciDHGODGSSqVUoiAFcZmVXHNJQ26cub7XyGe/Clffwg8bXXiTMZ/5qomX9ucGyTQVmxlxGkmxkGBCWwTERFEqSbGAEKRbSqRl2uKDiNX6DpHP/jE0Jvmh1dpm5LP/1bCy2wcnbRckK1YkUielUh+FomBsFNGVVDpRapzPxKgTtFkVPvcFaG/lh157i+H3vwD1PpMjziOduGtatMVbFSOFSEBE8kysqFhjxPLlX4fVg/yNsbbfyh//KyQXa1UIuSCIOCNONWCMiBgkhFQMFx+Ekx/hr0EpVkZKnoFSoBwHYqv05EFopkKtbbneNDS6htednv7bmNP/KWP/o8aAESNiFae5kUxUjLOEFBeFP/k1EYTXgQDjfZ7psZSdQzlDJY8Rvq+gioiAQq1jmFmNOLMUcaXmUOV1of7Pfi3P9z1hIpMFCRJlRu3bjn4qMV6NEETsifcbOf4xXiMjcGA85T0HW9y/o0NORkeFgQRE4GrLsjZ+gOt5QjWrMev7aN/xdhZDhXh9nv4CbO3zHNqaMj2WogrXmw5VXhORzojYgbOiW05GwWO8weV0RFB8biWKjn2C12jHYM7b97YZKXsutyNmd9zHnqOHERGe+6M/QlD2PPIeqtUSqvDof/4T3vTuBymVCtRLjmfOn+N2U6cYGXqGSoGH97d5w1SXxy8UOXc94rUwfOsTWTjyJZWAulQc4kUtAkt7hWv38ipFVnloT5s7J1JCUE7LBHsfeQ+VSpGe4ANh6iBH7t6PtQZQLp+b5fCb7qZUKhDSBtUdQ+w9vI/nvvU0924H4WUDxcCPHmpyeiniq2dKdHLh1RCuHxUWDoiZOGmswbjcYiQRZ0+/FxBehb5C4MNHG9w1keK9crayjzsfeYRKpUhPSOucPD3DXUf3Ya0BFN9Zop5njG8dADJMlAEZW+67nYnJbZxd5fuaHsv4yD11hsueV0ki98J7rcQkPhIDiYRgQWce4FUYLnk+fLTBWMXjg3KmtIcj734TRjaADmiTuSvzTG4fxNk6mtdAN5idX2fXbSOEdIV0Yx4IvMiz9wMPk/dtpdYJ9NQ7Oaq8ZLAY+PCRBhN9Oa+Ghpm35sFIFgwmSzwqLWdk4Si3aKAY+Im7mlSTgA/Ko9cKTAz3I5KTNWqktUVW11a4+uwM5SgAns7qEqo5Z791Gt1oYSIHQVk9eY50owGqiEk5+uPvZXFkmp4vLTX4xMUVvrlQ56ZCpPzYnU3Gq55bJbJ0REwzyeNMDHgxcm0X5APcgsQpjxxuUkkCPV++CNsiZeJN9wOOqFImb7X56pePs3OkgisN0BOVivzZZ/6Y5PoipS3bQCqYyJHW6pz+91+ktbiM73S5fvwZ9j74VmbbCWvtjM/vGeDHGh3SPHBTwSkfONykEgdujS8Ll6eRIMZ5h2X5MLfo4X1thsuenr+4ooyXChz40feBCEiJkOV8/avPsa1TY2DvHsABRRC41nbsPbSHFyXU5xZ49rc/Q2nLKMngALY4zvgbpimVEkr3P8w+tQwuNPjHxvBfZtb4rUtrNLs5PdUk8N6DLYxwS0SvHbZeMCE4VBenuQX7xzIOjKf0zG5A3Q6w7859lCe28iJDbXmd1fWMidE+Slu2cINEXHj0W+jqOuP3voGe9tIi/bunuOuffIzb3v8wttAPdifY3YDjO8sZXyj0ccfcBt9R5R9MlvmiBkqx46apwZwj27rcCtWlg0ENJs0zUV3ewyZFVnnbnjY9rTRwKt7JgSHLtoce5KaNi6c4/vwieyqw6wM/So+GQP3SOdaLgxy8707EWsBQHBvDxIOM3fshbDIJlAADMgxmhPv27eXJkHFxaIChZsb+uQ1+I4r4zVNLzK93yHyg5807O5RjZfNWd3fTTOz9Rz5ZjM3jPy/S3sIm3DOZsm80o+d4e4i9D9zPvgfvB7Hc1LU5Fy5ucPTuaQqDgyCCiJD0x5w4s8K9D91LUh4CuwPIgYC4YcQOg+kHIkBAClTLFT75lh9heeYiP1V1/POJAlN9CXOdnN+9vM7PtboMNDPu7k9wBmZWIzYnaObv+7SLTBCR+nY2wRq4e3uXnit10Klpdu+eAATsTtAGhEVmLtTYtXs7/XumwAwDBQgLQIF2SygWE9AuEMBsgTAPYQ3MVsACyssSen7hPR8mdGb40qd/j1+sKKVWxtpIkf5mRrko5D5weCLlL2cLtDPhlYi0txqXOxO7ZgXSPjZhz3BGJQn0rAzsZmxsgBcpICD9BE24PLfC1I4xXmRBymDGaLXBZi3ai4tAgLDIDWYrkIHWAEVDG/V1NO9w0+joVsa3T/O5sTGWp/rY4ZWP1lI+UYh4uL9AElliqxwYT9mcvBhH3X4j1AeAiE2YHk/puVpX0uooleU5XqItemYudeiPQOo1btAaN0gfy6s5w31F2svL3KBNCEuAAbMNiOgJ7Q2az38NcY7vIUOsA4dfqPN7oxU+v7XML+/o4/NXa9w0PZaxSUZCbdiEkA6xCdbAjsGcno3KBGZjjUK1yku0Rk+7sUF+fZG4WuUG7YJu0NNNqxT6qnRWV3mJ1iAsARakBAimOELljr8FOP6qr3zoUzz2s7/A9Y6llXrwgScqMTdt7cspRspmCO0BY0yjj00YLXsSp/To8HY6iwv0793DS7QJ2sWnDXyzQWd5hZeE64CnUCghxrF25Ro3qW9AuARhnpvEOJAC3ysHXWN0ZIDhsWkm3/k+HrUxX1/u8pZmRlClxwhM9OVshtCpmuBDiU0Yq3p6luoZwxNbac9fRYzhe+gKPmuTtzvE/X28zENYZGxsBOscC0s11HtAERMAD2EWXz9L6Db5/jyE6+DnQOtsHR9C+7ZzZGuVT06PYkS4aazq2RwtGkQSNmGg6Omp5Y5yKaGybYK4r4+XaJvglzHGI9Zg4piXhA6EJZK4DbbIyJvfglgLuoHvNNi4OMflP30CW6hjYsv3l4CUQdtofoFkoMjOvTv59kwXVb7HYDGwGSI+MYJ1bEI5VnokijHGEPX1oSHwooD6BkKDEHJsqUxrYYGbVFtAG/x5kvIg/eUC8/MrIBVsoZ/lZ09Rn5tHyYCM/yMziu/Wqc9eIWQ1hu+4nZ2HDnJ8xaHKS0qxshkhdKxRhM2IjNIjqhgjDB85ihgBrZG3ryHWICIYA6NHj9K3axeQ4tuLiFFelLLztiK15VUW5pZQNSBltr/9rez5ifciUuL/Lka5jdn/8ThiDC6B2971TqYOHOSkjqO8KLbKZhgTYwRhU4QbXN7B+wBBAQEEV0hYfvYUs195jJC2KESOer0FCLYQUTt/idr5S8x+5TEKSZOkuoXRcsSJ5y7SEw/dRTx4F5hBkBLgQRtA4K9ypTFu//jPYhOHiRTjYOK+e7nrkQ9wymxDlU1TVYwS2Iw0F3rGyobFxVXSTsoN0oeGmOXjL9CcX8RFgdHhPi7PLQERSD/liW089Wv/lsLQAEjO9NEjXDy1QNxqcvnyEmgdZBTMJGAhrKD5BfCnQFt8D3GI2wlEgAetYZMOLhLu/JH3c9pM0M3ZpKDGSMjZhGZq6CnGhu7KIs4I7XaXnrztGZzezdg9d7D70E6uXV+n2+ygqoAFIu755X/E0OH9IP0ICW94/09y+TvPszq7wOrKMoRlXiIxIinoBvjnydYv8bIMsRakyMs8i8f+HPEph97/Pk6mQ2xOITci2mUTVluGmzonvs1wIszNLtITVScYv/8BBg/soVweotPoMlYwnDt3lR5X2Un/vjcSlctABBJRLpe448d/ho0TJ7j4/AWajQXQNW6QhKzZYO3MBdZOncHEV0HbgII/Tb5xjNXnj5Oub/DtX/0tVJXxew9j4xZxLLzjI+9GEuEVCV2jSItNWGpYbhofjLj27HN0mh1ukCLY27HFKZA+Jg+8mYXT52iuNfA+AApmF9g7wU4BBvCMb9vC9oc/TNTY4NSJGdrNqxCWgISoMsn814+R1hvYuAS6yA1mJ65UpjK1lSuPfZO+XVO0FpZ4kQGEoaEqD77/Tl6JYJoGqnU2YaVpaWdCz0S/49qZM5TjiNXVOmgbsGB2gtnO6Pg4zbzIiEk5c3oOtAHkIEUgAQL4GfBn2blvC9UDDzFYLXPy2QvUNxbAzwLC/p/6EKNHDoEUQVMISyAVcIeJ+yZoLVynvbRMeWIcpAoyCFh64sTySpS+dQNujU0ICjOrETcNlpX8haeZv3wdtA14XqItjr7vPl74b/+d0O7SaLQgrPKyAORovgr+LLt2D2GruykXi8ycnuPKlXnA44qjmHgIMNygNdAVICZrDHDwp3+SI7/0cfJ2B4i46blnZvjT//g0ryRovOqC9q0ZyAHHKzi1GHFwPKVn//YK37m6xOCWNdI0Iy7UQIZ4UUalBGMPvRF78RRng3L03hJoFaQICD6tYyMDePDnmNyym5XyEebOPU1nvcHxa2sMlSwDsWLjhOLYGLaQoH4ZsULUvw18HXQDVyzRbLZ5/vhZXjg2w6VzGzhjeQVZO+9bd3lIGrFEDcgGeAWXViNqbUN/MZBEhmrVsXWwzPlzVzh4ewK2HzCErIXQ5q4H7+Bbf/oCkwMVZmYW2LnTgp0EBBuXqJ19jrXT55l690NktROMbXmQkZGHOXPqSUJ6meXUsdCo07k2T3txger4GJVtE/Tv3kWeWzqtBldm50nnZyltLHD7WMxjswM4Y3ll8QYhaZg82KBamWcTgsKTlxNu2lFssZ4qWatLlnUhLNFjIkdr4RrNK/P0s0G706WxusHGxgb4K4CCDFCfvcrKc6cJWU5hpATawBjDgQOjHJqusGNvBRtqDO6fIh4YoO/QNL4Yc+35F8i6TbqdDrevPMU7h1Z54LaE00tF0lzYDNX+OaNGnVELDM7A2kE24bmFhLsnuwwWA30Fy5Uzx9n50MOcPjnL4TsdaAGIMUmJZ/7lv+HOX/woV+odhsuDnD15iTvv3k/ELKCMv/FuRo4cxJUGgRLoOkgfmAmSwVXikJL3C0k1x2bXOXRkKy8rgpQ4sTLLaOM8rUx46nLC5g1cEmsxzhRVZPQ8m+QDPHq2iPKiXWaZufMzJCIsL29AuA5hCVcosvuD76G8dSvTB3dzbXWDqa3DHH/qDHmeAUrUN05heAxw3KAd0DpQALsfkZi80eLb/+K3KY4N015a4WWBnsn73sxiC75+vkgnFzZNhs85Z9WI7aKMnuYWzKxGPHs1oacQGQozT1GIHbMXrpJlOaBE1WHG7z0KJgEKHLlnP3NLGZPjgxx/8gz1RhvUgvQBMS8J1wEPUgU7RfW2Sfp3TTF4YA/FsRGQEkgVpEzPwGCVk34HL1yLuTXjp6woxpucYLac4BY9dr7AwoalZ0clcP3YY2wbG+DpJ8/ifQAixA4hpkyPiHDPvXew0u6nv1zi0unLfOOLX2H+L77B2slTvCyHcJ2etJZTnhjnvl//FNWpCSABikAMCD0hKKfmuii3RsOW57zmah+8+1MFQqlm+ObHISRsUlDhwkrEnpGMYqSMRCnnLsyzbd80585fpXP6BP3bt2Gc42UpY1unCW6A9fUVqiP9rHaFuROnmf/qnxCL0rh8hcrkGIjDFkcwrgmk2DgGHEhMjyrMzi7yh595nLXLdUSEzUuWg3/Pr2sguDiLNHVJFsL400auPsQtaKaG//BMhQ/e1WS45DlcrHH+G1+hdOB+asURvv67n2PX7gmG77yD6tQU4EFrjI6OUMkmaDKLv2awt+9nbXWK2a4jSSLWTs5io6tYm5DEEDQn7bao11dYurpEtbuGWV/hiWeVTh4hItyaiackSnziRe3Db/ilAiZDdX1cmH0btyj1wumlmPGqZ6AYGIo9ZmmG9VZG9dBR1rxj7vEnMGvLiDEUBktg+okqfZRKNcbGKwwmGVP7d5CZBBPHoErIA51Wi4vPvkB44Rj+4mkGF89w0F7HbDT4sxcSmqnj1Tn6GTE7noqNUfvAG34hCT6X3JeXnHnqZwDhFuVBOLUY0zPRn1OMhDFpoAsX6KY5fmI3jdIwXZuQq6dcApEU8ECGKxVwUYmhoUFGRvsZHRtgdGwAayA5/yT7yl1GikI5thy/mvDlkyXameHVEd/17/skEm14k6nTPAf1KoxeUt3+dZErb+NVCArfmClw7nrE2/e2mRzIGSlbRlgmtJa5cs3TvjrEeSlzrGuQSh/FaoVCKSaODWkGeZoyFAcKeRvWl6g2rrGjKPRcq1seO1fkSs3xWiiTXxMduCoh16CKM7lVNV6c8Rrkgd+x/OHbeA2WGpY/PF5hx2DOvVMddgzmGIGpfgvUgBrE3NBdD3SuB1TBWaEUG4wIN2lRuFJzPHU54fxyhCqvWeCB3zE2qISA8bG6NIrUWFX1OeT7Hjdu4hvC/Jt5jWbXHLNrFfqLgf2jGTuHM7ZWPZFVbkqcIXGG/13mhaWGZWbVcXYpYqVleb0o254I+d4/x+WaR0atWHWxQ0UjNZojUeS9ffc/Jf93XwN1vA5qbcO35xK+PZfgDAwUPQPFQDlWIqv0ZF5opcJ6x7DeNmReeP1JFty7/llB4mAwmmNVrcdJJ+CjoMbEiE8Q3XYiyBv/tei3PsXrLA+w3LQsNy3/r6m86TeN3/a8CZHiRH0IaluRGu2gVq1aE2kWcjSLlPDO30B2PMrfGJNfE33Hb4pPtJvngFHrUc1EjbiCOhWVbqreoFnuFV/MNPydj8L40/yQU8aeCeGDH8VHmVev3gY13UxtEMXkatLcabPZIojRKN1QrNU8dDTvROvB//QjysQ3+CGluuWY6scf8d2+tSzLVcVolDU0F9V2u0EnL6i9f/oTzpiEPG2KjRPEe2IMkYswlLvK9JfEtEswfzdg+OEQxNzxGfUf/LjTaj0S1OBVQlutLWq3mxE01jxLsXcf/Dnri4aiTyiQgYoaY8RaIdWAaOKtmX5Mza7HNVzdJ9Lczg8w1dFnxT3yCRPe+mkJSRYQtRLUaa4iRk3mVUxJu7HXXLtq7zryD61FiSNDKY3IrRfvIRglOKcGwYqgoXI14+gXVLc/oXhrZG07hAI/EEwz6K7/qfLwr3h9169aHZ2JcBrEahBFQ1tDMEowWgixdqJMWzbTTHN1cZqDFV0vQh5HmLxA0EwrxknikW7iCZmi0kGsDSa77Zve7/qmtxpF9spRYf6NhJmjyOLtUJ8ETfjrlUH5KrrlpMrkMyKTxzK//Um8a1sXwAbNQ6oSvJpiokkH9a6krbyr3id0krbWXa5R6snzgGvHQRPvJaqjjSoUxRB1E9qdDkkxIU0NNvKI6SNkKcZ3lDiIkyS1ZvpYnh865vO2GOvF2k5RdWWb92s7nDYmRGrjSmcU1x5CW/3QrYKWoFmEPAZ13CA5uBTKHZAmxHWkVCMU1yQUl4X+axnleTGDl0WGrvhQauKtii1q5FKiONc0bWOCaG4SIh+r913NWmhANUu7hBChcVdrLle3kdOWTH3JqxsobdN6tkLa6Uo1Q9MiqDqpypCa3FPqNggVq92QiwYrVkviQ1vFBokDquolt5mKtSKm1Ay+cC5w27mcgCMT5wwSRWR5JkE9AhgDISggCKCioAbVgAgY47DGachyvCpeHCpWjaYYa9RaJZcM52ONg9GuCSBGNU1ArHoJWiBWWp48LmspGtQNU6dJW5NGpq0oI6r0acVV9X8BXChrJiNQKxUAAAAASUVORK5CYII=",universalLink:"https://naanwallet.com",deepLink:"naan://"},{key:"autonomy-app",name:"Autonomy: Digital Art Wallet",shortName:"Autonomy",color:"",logo:"data:image/;base64,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",universalLink:"https://autonomy.io/apps/tezos",deepLink:"autonomy-tezos://"},{key:"temple_ios",name:"Temple Wallet",shortName:"Temple",color:"",logo:"data:image/;base64,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",universalLink:"https://templewallet.com",deepLink:"temple://"}];var Ye=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};let lo=Da,uo=Ua,ho=Ba,fo=Ka;const Nn=()=>lo,ja=i=>{lo=i},Yt=()=>uo,Ga=i=>{uo=i},_i=()=>ho,qa=i=>{ho=i},Zt=()=>fo,Ha=i=>{fo=i},Ut=new Ot,ci=["ookjlbkiijinhpmnjffcofjonbfbgaoc","gpfndedineagiepkpinficbcbbgjoenn"];var Et;(function(i){i[i.DESKTOP=0]="DESKTOP",i[i.IOS=1]="IOS",i[i.ANDROID=2]="ANDROID"})(Et||(Et={}));var Le;(function(i){i.IOS="ios",i.ANDROID="android",i.EXTENSION="extension",i.DESKTOP="desktop",i.WEB="web"})(Le||(Le={}));class lt{static getPlatfrom(){return Ye(this,void 0,void 0,function*(){return co(window)?Et.ANDROID:ao(window)?Et.IOS:Et.DESKTOP})}static getPairingInfo(e,t,n,r){return Ye(this,void 0,void 0,function*(){const o=r!=null?r:yield lt.getPlatfrom(),a=e.p2pSyncCode,l=e.postmessageSyncCode,d=e.preferredNetwork;switch(o){case Et.DESKTOP:return lt.getDesktopPairingAlert(a,t,l,n,d);case Et.IOS:return lt.getIOSPairingAlert(a,t,d);case Et.ANDROID:return lt.getAndroidPairingAlert(a,t,d);default:throw new Error("platform unknown")}})}static getDesktopPairingAlert(e,t,n,r,o){return Ye(this,void 0,void 0,function*(){const a=yield rn.getAvailableExtensions();a.forEach(d=>{const u=ci.indexOf(d.id);u>=0&&ci.splice(u,1)});const l=[];return Yt().length>0&&l.push({title:"Browser Extensions",type:Le.EXTENSION,wallets:[...a.map(d=>{var u,c,h,w,O;const U=Yt().find(j=>j.id===d.id);return{key:(u=U==null?void 0:U.key)!==null&&u!==void 0?u:d.id,name:(c=d.name)!==null&&c!==void 0?c:U==null?void 0:U.name,logo:(h=d.iconUrl)!==null&&h!==void 0?h:U==null?void 0:U.logo,shortName:(w=d.shortName)!==null&&w!==void 0?w:U==null?void 0:U.shortName,color:(O=d.color)!==null&&O!==void 0?O:U==null?void 0:U.color,enabled:!0,clicked:!1,clickHandler(){return Ye(this,void 0,void 0,function*(){if(!this.clicked){if(this.clicked=!0,n){const j=yield Ut.serialize(yield n()),V={target:ut.EXTENSION,payload:j,targetId:d.id};oe.postMessage(V,oe.location.origin)}t(Le.EXTENSION,this)}})}}}),...Yt().filter(d=>ci.some(u=>u===d.id)).map(d=>({key:d.key,name:d.name,shortName:d.shortName,color:d.color,logo:d.logo,enabled:!1,clickHandler:()=>{window.open(d.link,"_blank")}}))].sort((d,u)=>d.key.localeCompare(u.key))}),Nn().length>0&&l.push({title:"Desktop & Web Wallets",type:Le.DESKTOP,wallets:[...Nn().map(d=>({key:d.key,name:d.name,shortName:d.shortName,color:d.color,logo:d.logo,enabled:!0,clicked:!1,clickHandler(){return Ye(this,void 0,void 0,function*(){if(this.clicked)return;this.clicked=!0;const u=yield Ut.serialize(yield e()),c=Xt(d.deepLink,u);window.open(c,"_blank"),t(Le.DESKTOP,this,!0)})}})),...yield lt.getWebList(e,t,o)].sort((d,u)=>d.key.localeCompare(u.key))}),Zt().length>0&&l.push({title:"Mobile Wallets",type:Le.IOS,wallets:[...Zt().map(d=>({key:d.key,name:d.name,shortName:d.shortName,color:d.color,logo:d.logo,enabled:!0,clicked:!1,clickHandler(){return Ye(this,void 0,void 0,function*(){if(this.clicked)return;this.clicked=!0;const u=yield Ut.serialize(yield e());r(u),t(Le.IOS,this,!0)})}}))].sort((d,u)=>d.key.localeCompare(u.key))}),{walletLists:l,buttons:[]}})}static getIOSPairingAlert(e,t,n){return Ye(this,void 0,void 0,function*(){return{walletLists:[{title:"Mobile Wallets",type:Le.IOS,wallets:Zt().map(r=>({key:r.key,name:r.name,shortName:r.shortName,color:r.color,logo:r.logo,enabled:!0,clicked:!1,clickHandler(){var o;return Ye(this,void 0,void 0,function*(){if(this.clicked)return;this.clicked=!0;const a=yield Ut.serialize(yield e()),l=Xt((o=r.deepLink)!==null&&o!==void 0?o:r.universalLink,a),d=document.createElement("a");d.setAttribute("href",l),d.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0})),t(Le.IOS,this,!0)})}})).sort((r,o)=>r.key.localeCompare(o.key))},{title:"Web Wallets",type:Le.WEB,wallets:[...yield lt.getWebList(e,t,n)].sort((r,o)=>r.key.localeCompare(o.key))}],buttons:[]}})}static getAndroidPairingAlert(e,t,n){return Ye(this,void 0,void 0,function*(){return{walletLists:[{title:"Web Wallets",type:Le.WEB,wallets:[...yield lt.getWebList(e,t,n)].sort((r,o)=>r.key.localeCompare(o.key))}],buttons:[{title:"Mobile Wallets",text:"Connect Wallet",clickHandler:()=>Ye(this,void 0,void 0,function*(){const r=yield Ut.serialize(yield e()),o=Xt("tezos://",r);window.open(o,"_blank"),t(Le.ANDROID)})}]}})}static getWebList(e,t,n){return Ye(this,void 0,void 0,function*(){return _i().map(r=>({key:r.key,name:r.name,shortName:r.shortName,color:r.color,logo:r.logo,enabled:!0,clicked:!1,clickHandler(){if(this.clicked)return;this.clicked=!0;const o=window.open("","_blank");e().then(a=>Ut.serialize(a)).then(a=>{var l;const d=Xt((l=r.links[n])!==null&&l!==void 0?l:r.links[Ee.MAINNET],a);o?o.location.href=d:window.open(d,"_blank"),t(Le.WEB,this,!0)}).catch(a=>{console.error(a)})}})).sort((r,o)=>r.key.localeCompare(o.key))})}}const D=(i,e,t,n)=>{const r=document.createElement(i);return e.length>0&&r.classList.add(...e.filter(o=>!!o).map(o=>Nt(o))),t.forEach(o=>{r.setAttribute(Nt(o[0]),Nt(o[1]))}),typeof n=="object"&&Array.isArray(n)?n.filter(o=>!!o).forEach(o=>{r.appendChild(o)}):typeof n=="string"&&(r.innerText=n),r},xt=(i,e,t)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.length>0&&n.classList.add(...i.filter(r=>!!r)),e.forEach(r=>{n.setAttribute(Nt(r[0]),Nt(r[1]))}),typeof t=="object"&&Array.isArray(t)&&t.filter(r=>!!r).forEach(r=>{n.appendChild(r)}),n},We=i=>{const e=document.createElementNS("http://www.w3.org/2000/svg","path");return i.forEach(t=>{e.setAttribute(Nt(t[0]),Nt(t[1]))}),e},Qa=i=>{const e=document.createElementNS("http://www.w3.org/2000/svg","g");return i.filter(t=>!!t).forEach(t=>{e.appendChild(t)}),e},Fa=()=>xt(["svg-inline--fa","fa-external-link-alt","fa-w-16"],[["aria-hidden","true"],["focusable","false"],["data-prefix","fas"],["data-icon","external-link-alt"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 512 512"]],[We([["fill","currentColor"],["d","M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"]])]),Nt=i=>{const e=document.createElement("div");return e.innerText=i,e.innerHTML},Ar=i=>{i.innerHTML=""};var Ze=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const _r=new je("Alert"),br=new Ot,Va=(i,e,t)=>Ze(void 0,void 0,void 0,function*(){const n=()=>Ze(void 0,void 0,void 0,function*(){return lt.getPairingInfo(t,(f,g,E)=>Ze(void 0,void 0,void 0,function*(){E||(yield Un())}),()=>Ze(void 0,void 0,void 0,function*(){s()}))}),r=yield n(),o=e.getElementById("pairing-container");if(!o)throw new Error("container not found");const a=document.createElement("span");o.appendChild(a),r.buttons.forEach(f=>Ze(void 0,void 0,void 0,function*(){const g=yield vt(),E=D("div",["beacon-list__title"],[],f.title),p=D("button",["beacon-modal__button","connect__btn"],[],f.text),v=document.createElement("a");v.id=`button_${g}`,v.appendChild(E),v.appendChild(p),a.appendChild(v);const I=e.getElementById(v.id);I&&I.addEventListener("click",()=>Ze(void 0,void 0,void 0,function*(){f.clickHandler()}))}));const l=(f,g,E)=>{const p=`Open in ${E.name}`,v=E.key,I=E.logo?D("div",[],[],[D("img",["beacon-selection__img"],[["src",E.logo]],"")]):xt(["beacon-selection__img","svg-inline--fa","fa-wallet","fa-w-16"],[["aria-hidden","true"],["focusable","false"],["data-prefix","fas"],["data-icon","wallet"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 512 512"],["style","enable-background:new 0 0 512 512;"],["xml:space","preserve"]],[We([["d","M376.2,181H152.9c-5.2,0-9.4-4.2-9.4-9.4s4.2-9.4,9.4-9.4h225c5.2,0,9.4-4.2,9.4-9.4c0-15.5-12.6-28.1-28.1-28.1H143.5c-20.7,0-37.5,16.8-37.5,37.5v187.5c0,20.7,16.8,37.5,37.5,37.5h232.7c16.4,0,29.8-12.6,29.8-28.1v-150C406,193.6,392.7,181,376.2,181z M349.8,302.9c-10.4,0-18.8-8.4-18.8-18.8s8.4-18.8,18.8-18.8s18.8,8.4,18.8,18.8S360.1,302.9,349.8,302.9z"]])]),T=D("div",["beacon-selection__name"],[],[D("span",[],[],E.name),E.enabled?void 0:D("p",[],[],"Not installed")]),P=D("a",["beacon-selection__list",E.enabled?"":"disabled"],[["tabindex","0"],["id",`wallet_${v}`],["alt",p],["target","_blank"]],[T,I]),K=document.createElement("span");K.appendChild(P),f.appendChild(K);const L=e.getElementById(`wallet_${v}`),G=_=>Ze(void 0,void 0,void 0,function*(){if(_&&_.key!=="Enter")return;E.clickHandler();const J=e.getElementById("beacon-modal__content");J&&g!==Le.EXTENSION&&g!==Le.IOS&&(Ar(J),J.appendChild(D("p",["beacon-alert__title"],[],"Establishing Connection..")),J.appendChild(D("div",["progress-line"],[["id","beacon-toast-loader"]],"")),J.appendChild(D("div",["beacon--selected__container"],[],[...E.logo?[D("img",["beacon-selection__img"],[["src",E.logo]],""),D("img",["beacon--selection__name__lg"],[],E.name)]:[]])))});L&&(L.addEventListener("click",()=>G()),L.addEventListener("keydown",G))},d=document.createElement("span");o.appendChild(d);const u=f=>{Ar(d),f.forEach(g=>{const E=document.createElement("div");E.classList.add("beacon-list__wrapper"),d.appendChild(E),E.appendChild(D("div",["beacon-list__title"],[],g.title));const p=document.createElement("span");E.appendChild(p),g.wallets.forEach(v=>Ze(void 0,void 0,void 0,function*(){l(p,g.type,v)}))})};u(r.walletLists);const c=f=>Ze(void 0,void 0,void 0,function*(){if(f.data==="extensionsUpdated"){const g=yield n();u(g.walletLists)}});let h;h=f=>{f.data===`closeAlert-${i}`&&(oe.removeEventListener("message",c),oe.removeEventListener("message",h))},oe.addEventListener("message",c),oe.addEventListener("message",h);const w=e.getElementById("beacon--qr__container"),O=e.getElementById("beacon--qr__copy"),U=e.getElementById("beacon-title"),j=co(window)?"android":ao(window)?"ios":"desktop",V=e.getElementById("beacon-main-text"),Y=e.getElementById("pairing-container"),Z=e.getElementById("beacon--switch__container"),S=()=>Ze(void 0,void 0,void 0,function*(){const f=t?yield br.serialize(yield t.p2pSyncCode()):"";navigator.clipboard.writeText(f).then(()=>{O&&(O.innerText="Copied"),_r.log("Copying to clipboard was successful!")},g=>{_r.error("Could not copy text to clipboard: ",g)})});let N=!1;const A=f=>Ze(void 0,void 0,void 0,function*(){const g=e.getElementById("beacon-switch");if(g&&(g.innerText=f==="none"?"Pair wallet on same device":"Pair wallet on another device"),V&&Y&&Z&&O&&w&&U)switch(V.style.display="none",U.style.textAlign="center",Y.style.display="none",Z.style.display="initial",f){case"ios":Y.style.display="initial";break;case"android":Y.style.display="initial";break;case"desktop":Y.style.display="initial",U.style.textAlign="left",V.style.display="none",Z.style.display="initial";break;default:if(!N){N=!0;const E=yield br.serialize(yield t.p2pSyncCode()),p=Xt("tezos://",E),I=Ma(p,"svg").replace("<svg",'<svg class="beacon-alert__image"');w.insertAdjacentHTML("afterbegin",I),O&&O.addEventListener("click",S),w&&w.addEventListener("click",S)}V.style.display="initial"}});let m=!1;const s=()=>{A(m?"none":j),m=!m};s();{const f=e.getElementById("beacon-switch");f&&f.addEventListener("click",s)}});let vo=Rn.LIGHT;const Rr=i=>{vo=i},Ui=()=>vo,Wa=i=>D("div",["beacon-toast__base","animated","fadeIn"],[["id","beacon-toast"]],[D("div",["beacon-toast__content"],[],[D("span",[],[["id","beacon-text"]],[D("p",[],[["id","beacon-text-content"]],i),D("a",["beacon-toast__wallet__link"],[["id","beacon-open-wallet"]],[D("span",[],[],"Open"),xt(["svg-inline--fa","fa-external-link-alt","fa-w-16"],[["aria-hidden","true"],["focusable","false"],["data-prefix","fas"],["data-icon","external-link-alt"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 512 512"]],[We([["fill","currentColor"],["d","M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"]])])])]),xt(["beacon-toast__more","svg-inline--fa","fa-angle-down","fa-w-10"],[["id","beacon-toast-button-expand"],["aria-hidden","true"],["focusable","false"],["data-prefix","fas"],["data-icon","angle-down"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 320 512"]],[We([["fill","currentColor"],["d","M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"]])]),xt(["beacon-toast__more","svg-inline--fa","fa-times","fa-w-10"],[["id","beacon-toast-button-close"],["aria-hidden","true"],["focusable","false"],["data-prefix","fal"],["data-icon","times"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 320 512"]],[We([["fill","currentColor"],["d","M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"]])])]),D("div",["progress-line"],[["id","beacon-toast-loader"]],""),D("hr",["hide"],[["id","beacon-toast-loader-placeholder"]],""),D("div",["beacon-toast__more--action"],[["id","beacon-toast-list"]],"")]),Ja=()=>D("a",[],[["href","https://walletbeacon.io"],["target","_blank"]],[document.createTextNode("powered by"),xt([],[["id","f63e95a9-fd19-4487-bc1a-09eb2f066704"],["data-name","Guides"],["xmlns","http://www.w3.org/2000/svg"],["width","65"],["height","65"],["viewBox","0 0 65 65"]],[D("title",[],[],"beacon_logo"),We([["fill","currentColor"],["d","M59.66,29.52v1.06c0,.37-.18,9.07-4.11,15.88S44.16,57.75,43.84,57.93l-.91.54-1.61-.93-9.19-5.3a14.68,14.68,0,0,1-1.63-1.06h0a14.09,14.09,0,0,1-1.29-1,17.63,17.63,0,0,1-2.56-2.7,18.58,18.58,0,0,1-2.56-4.51,21.53,21.53,0,0,1-1.5-9,6.21,6.21,0,0,1,2.93-.73c.25,0,.49,0,.74,0a18.29,18.29,0,0,0,1,7.93,15.06,15.06,0,0,0,6.67,8l8.93,5.16c.2-.13.43-.3.68-.48,2.26-1.6,6.42-4.92,8.86-9.13C55.12,39.94,55.8,34,56,31.57l-3.79-2.19a23,23,0,0,0,.6-3.83Z"]]),We([["fill","currentColor"],["d","M49.22,11.43V23.89c0,.65,0,1.3-.1,1.94v0c-.06.55-.13,1.1-.24,1.63A18,18,0,0,1,47.82,31a19.11,19.11,0,0,1-2.62,4.49,21.37,21.37,0,0,1-7.07,5.8,6.08,6.08,0,0,1-2.42-2.84A18.1,18.1,0,0,0,42,33.7h0a15.12,15.12,0,0,0,3.58-9.81V13.6c-.21-.11-.47-.21-.74-.35-2.52-1.16-7.47-3.1-12.36-3.1-5.42,0-11,2.4-13.08,3.45V18a22.54,22.54,0,0,0-3.63,1.38V11.43l.92-.52c.33-.18,8-4.38,15.79-4.38s15.48,4.2,15.8,4.38Z"]]),We([["fill","currentColor"],["d","M18,26.4,9,31.55q0,.35.06.78a31.63,31.63,0,0,0,3.49,12.28c2.71,4.71,7.55,8.3,9.53,9.64l3.79-2.19a23.33,23.33,0,0,0,3,2.44l-6.88,4-.92-.54c-.31-.18-7.75-4.69-11.68-11.5S5.36,30.92,5.35,30.56V29.49L7,28.55l9.17-5.29c.57-.32,1.14-.61,1.72-.87a13.46,13.46,0,0,1,1.55-.61A17.52,17.52,0,0,1,23,20.91a19.2,19.2,0,0,1,5.19,0,21.49,21.49,0,0,1,8.55,3.24,6.29,6.29,0,0,1-1.25,3.51,17.9,17.9,0,0,0-7.3-3.06A15.14,15.14,0,0,0,18,26.4Z"]])]),document.createTextNode("Beacon")]),po=(i,e,t,n)=>D("div",["beacon-alert__base","animated","fadeIn"],[["id",`beacon-alert-modal-${i}`]],[D("div",["beacon-modal__wrapper"],[],[D("div",["beacon-modal__header"],[],[xt([],[["xmlns","http://www.w3.org/2000/svg"],["id","Guides"],["x","0"],["y","0"],["version","1.1"],["viewBox","0 0 179.2 43"],["xml:space","preserve"],["width","140"],["height","40"]],[D("style",[],[],`.st0 {
                    fill: #3880ff;
                  }
                  .st1 {
                    fill: #fff;
                  }`),We([["d","M45 19v.9c0 .3-.2 7.5-3.4 13.2-3.3 5.6-9.4 9.3-9.7 9.5l-.8.4-1.3-.8-7.6-4.4c-.5-.3-.9-.6-1.4-.9-.4-.3-.7-.5-1.1-.8-.8-.7-1.5-1.4-2.1-2.2-.9-1.1-1.6-2.4-2.1-3.7-.9-2.3-1.3-4.8-1.2-7.5.8-.4 1.6-.6 2.4-.6h.6c-.2 2.4.1 4.6.8 6.6 1 2.8 2.9 5.1 5.5 6.6l7.4 4.3c.2-.1.4-.2.6-.4 1.9-1.3 5.3-4.1 7.3-7.6 2.2-3.9 2.8-8.9 3-10.8L38.8 19c.3-1 .4-2.1.5-3.2L45 19z"],["class","st0"]]),We([["d","M36.3 4.1v10.3c0 .5 0 1.1-.1 1.6s-.1.9-.2 1.3c-.2 1-.5 2-.9 3-.5 1.3-1.3 2.6-2.2 3.7-1.5 1.9-3.5 3.6-5.9 4.8-.9-.6-1.6-1.3-2-2.4 2.1-1 3.9-2.3 5.2-4 1.9-2.3 3-5.1 3-8.1V5.9l-.6-.3c-2-1-6.1-2.6-10.1-2.6-4.5 0-9.1 2-10.9 2.9v3.6c-1 .3-2 .7-3 1.1V4.1l.8-.4C9.7 3.5 16 0 22.5 0s12.8 3.5 13.1 3.6l.7.5z"],["class","st0"]]),We([["d","M10.5 16.5l-7.4 4.3v.7c.2 2.1.9 6.5 2.9 10 2.2 3.9 6.2 6.9 7.9 8l3.1-1.8c.8.7 1.6 1.4 2.5 2L13.8 43l-.8-.5c-.3-.2-6.4-3.9-9.7-9.5C.1 27.4 0 20.2 0 19.9V19l1.3-.8L9 13.9c.5-.3.9-.5 1.4-.7.4-.2.8-.4 1.3-.5 1-.4 2-.6 3-.7 1.4-.2 2.9-.2 4.3 0 2.4.3 4.8 1.2 7.1 2.7 0 1-.4 2-1 2.9-1.9-1.3-4-2.2-6-2.5-3.1-.6-6-.1-8.6 1.4z"],["class","st0"]]),Qa([We([["d","M73.9 23c.9 1 1.3 2.3 1.3 3.7 0 1.9-.6 3.4-1.9 4.5-1.3 1.1-3.1 1.7-5.5 1.7h-8.6v-23h8.4c2.3 0 4.1.5 5.3 1.5 1.2 1 1.8 2.4 1.8 4.2 0 1.5-.4 2.7-1.2 3.6-.8.9-1.8 1.5-3.1 1.8 1.5.3 2.6 1 3.5 2zm-11.7-3h5c1.5 0 2.6-.3 3.4-1 .8-.7 1.2-1.6 1.2-2.8 0-1.2-.4-2.1-1.1-2.8-.8-.7-1.9-1-3.5-1h-4.8V20zm8.7 9.4c.9-.7 1.3-1.7 1.3-3s-.4-2.3-1.3-3c-.9-.7-2.1-1.1-3.7-1.1h-5v8.2h5c1.6-.1 2.8-.4 3.7-1.1zM95.3 24.6H81c.1 2.1.6 3.6 1.7 4.6s2.4 1.5 4 1.5c1.4 0 2.6-.4 3.6-1.1 1-.7 1.6-1.7 1.8-2.9h3.2c-.2 1.2-.7 2.4-1.5 3.3-.8 1-1.7 1.7-2.9 2.3-1.2.5-2.6.8-4.1.8-1.7 0-3.2-.4-4.6-1.1-1.3-.7-2.4-1.8-3.1-3.2-.8-1.4-1.1-3-1.1-4.9 0-1.9.4-3.5 1.1-4.9.8-1.4 1.8-2.5 3.1-3.2 1.3-.7 2.9-1.1 4.6-1.1 1.7 0 3.3.4 4.6 1.1 1.3.7 2.3 1.7 3 3 .7 1.2 1 2.6 1 4.1.1.7 0 1.2-.1 1.7zm-3.5-4.8c-.5-.9-1.2-1.6-2.1-2-.9-.4-1.8-.7-2.8-.7-1.6 0-3 .5-4.1 1.5-1.1 1-1.7 2.5-1.8 4.5h11.5c0-1.3-.2-2.4-.7-3.3zM111.2 16c1.2.9 2.1 2 2.5 3.5V15h3v18h-3v-4.6c-.5 1.5-1.3 2.6-2.5 3.5-1.2.9-2.7 1.3-4.4 1.3-1.6 0-3-.4-4.3-1.1-1.2-.7-2.2-1.8-2.9-3.2-.7-1.4-1.1-3-1.1-4.9 0-1.9.4-3.5 1.1-4.9.7-1.4 1.7-2.5 2.9-3.2 1.2-.7 2.7-1.1 4.3-1.1 1.7-.1 3.1.4 4.4 1.2zm-8 3.1c-1.1 1.2-1.7 2.8-1.7 4.8 0 2.1.5 3.7 1.7 4.8 1.1 1.2 2.6 1.8 4.4 1.8 1.2 0 2.2-.3 3.2-.8.9-.5 1.7-1.3 2.2-2.3.5-1 .8-2.1.8-3.5 0-1.3-.3-2.5-.8-3.5s-1.2-1.8-2.2-2.3c-.9-.5-2-.8-3.2-.8-1.9.1-3.3.7-4.4 1.8zM135 16.6c1.5 1.2 2.4 2.9 2.8 4.9h-3.1c-.2-1.3-.8-2.3-1.8-3-1-.7-2.2-1.1-3.6-1.1-1 0-2 .2-2.9.7-.9.5-1.6 1.2-2.1 2.2-.5 1-.8 2.2-.8 3.7s.3 2.7.8 3.7 1.2 1.7 2.1 2.2c.9.5 1.8.7 2.9.7 1.4 0 2.6-.4 3.6-1.1 1-.7 1.6-1.8 1.8-3h3.1c-.3 2.1-1.3 3.7-2.8 4.9-1.5 1.2-3.4 1.8-5.7 1.8-1.7 0-3.2-.4-4.6-1.1-1.3-.7-2.4-1.8-3.1-3.2-.8-1.4-1.1-3-1.1-4.9 0-1.9.4-3.5 1.1-4.9.8-1.4 1.8-2.5 3.1-3.2 1.3-.7 2.9-1.1 4.6-1.1 2.3-.1 4.2.6 5.7 1.8zM154.5 15.9c1.4.7 2.4 1.8 3.2 3.2.8 1.4 1.2 3 1.2 4.9 0 1.9-.4 3.5-1.2 4.9-.8 1.4-1.8 2.4-3.2 3.2-1.4.7-2.9 1.1-4.6 1.1-1.7 0-3.3-.4-4.6-1.1-1.4-.7-2.4-1.8-3.2-3.2-.8-1.4-1.2-3-1.2-4.9 0-1.9.4-3.5 1.2-4.9.8-1.4 1.9-2.5 3.2-3.2 1.4-.7 2.9-1.1 4.6-1.1 1.7-.1 3.2.3 4.6 1.1zm-7.6 2.2c-.9.5-1.6 1.2-2.2 2.2-.6 1-.8 2.2-.8 3.7 0 1.4.3 2.7.8 3.6.6 1 1.3 1.7 2.2 2.2.9.5 1.9.7 3 .7s2.1-.2 3-.7c.9-.5 1.6-1.2 2.2-2.2.6-1 .8-2.2.8-3.6 0-1.5-.3-2.7-.8-3.7-.6-1-1.3-1.7-2.2-2.2-.9-.5-1.9-.7-3-.7s-2.1.2-3 .7zM177.3 16.7c1.3 1.3 1.9 3.3 1.9 5.8v10.4h-3V22.8c0-1.8-.5-3.2-1.4-4.1-.9-1-2.2-1.4-3.7-1.4-1.6 0-2.9.5-3.9 1.6s-1.5 2.6-1.5 4.6V33h-3V15h3v4.3c.5-1.5 1.3-2.6 2.4-3.4 1.2-.8 2.5-1.2 4-1.2 2.2 0 3.9.6 5.2 2z"],["class","st1"]])])]),D("div",["beacon-modal__close__wrapper"],[["id",`beacon-alert-${i}-close`]],[D("div",["beacon-modal__close__icon"],[],[D("div",["beacon-modal__close__line1"],[],[]),D("div",["beacon-modal__close__line2"],[],[])])])]),D("div",["beacon-modal__base"],[],[D("div",[],[["id","beacon-modal__content"]],[D("div",[],[],[D("p",["beacon-alert__title"],[],e),...n,D("div",["beacon-action__container"],[],t)])])])])]),Xa=(i,e,t,n)=>po(i,e,t,[D("div",["beacon-alert__text"],[["id","beacon-main-text"]],n)]),Ya=(i,e,t,n)=>po(i,e,t,[D("span",[],[["id","pairing-container"]],""),D("div",["beacon-alert__text"],[["id","beacon-main-text"]],[D("p",["beacon-list__title"],[["id","beacon-title"]],[document.createTextNode("Scan QR code with a Beacon-compatible wallet.\xA0"),D("a",[],[["href","https://docs.walletbeacon.io/supported-wallets"],["target","_blank"]],"Learn more"),...n])]),D("div",[],[["id","beacon--switch__container"]],[D("button",["beacon-modal__button--outline"],[["id","beacon-switch"]],"")]),D("div",[],[["id","beacon--disclaimer"]],"")]);var dt=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};let bi,mt;typeof window<"u"&&typeof window.document<"u"&&(mt=window.document);const Ri={},Za=i=>typeof i=="string"?D("div",[],[["id","beacon--qr__container"]],[D("div",[],[["id","beacon--qr__copy__container"]],[D("button",["beacon-modal__button--outline"],[["id","beacon--qr__copy"]],"Copy")])]):D("span",[],[],""),za=(i,e,t,n,r)=>{const o=t,a=n.map((c,h)=>D("button",[`beacon-modal__button${c.style==="outline"?"--outline":""}`],[["id",`beacon-alert-${i}-${h}`]],c.text));let l=wr.default.css;r&&(l+=wr.pair.css);const d=D("span",[],[],o),u=r?Ya(i,[d],a,[e]):Xa(i,[d],a,[e]);return{style:l,html:u}},wn=i=>(oe.postMessage(`closeAlert-${i}`),new Promise(e=>{var t;const n=mt.getElementById(`beacon-alert-wrapper-${i}`);if(!n)return e();const r=(t=n.shadowRoot)===null||t===void 0?void 0:t.getElementById(`beacon-alert-modal-${i}`);if(r){const a=Ri[i];a&&(clearTimeout(a),Ri[i]=void 0),r.className=r.className.replace("fadeIn","fadeOut"),window.setTimeout(()=>{const l=n.parentNode;l&&l.removeChild(n),bi&&bi.focus(),e()},300)}else e()})),Un=()=>dt(void 0,void 0,void 0,function*(){return new Promise(i=>dt(void 0,void 0,void 0,function*(){const e=mt.querySelectorAll('[id^="beacon-alert-wrapper-"]');if(e.length>0){const t=[];e.forEach(n=>dt(void 0,void 0,void 0,function*(){t.push(n.id.split("-")[3])})),yield Promise.all(t.map(wn)),i()}else i()}))}),Ht=i=>dt(void 0,void 0,void 0,function*(){var e,t;const n=i.body,r=i.data,o=i.title,a=i.timer,l=i.pairingPayload,d=i.disclaimerText,u=i.closeButtonCallback;yield Un();const c=(yield vt()).split("-").join(""),h=mt.createElement("div");h.setAttribute("id",`beacon-alert-wrapper-${c}`);const w=h.attachShadow({mode:"open"}),O=mt.createElement("div");O.setAttribute("tabindex","0"),w.appendChild(O);const U=[...(t=(e=i.buttons)===null||e===void 0?void 0:e.map(f=>{var g,E;return{text:f.text,actionCallback:(g=f.actionCallback)!==null&&g!==void 0?g:()=>Promise.resolve(),style:(E=f.style)!==null&&E!==void 0?E:"outline"}}))!==null&&t!==void 0?t:[]];let j=l?Za(n):D("span",[],[],n!=null?n:"");r&&(j=D("span",[],[],[j,D("pre",[],[["style","text-align: left"]],r)]));const{style:V,html:Y}=za(c,j,o,U,!!(l!=null&&l.p2pSyncCode));O.appendChild(Y);const Z=mt.createElement("style");Z.textContent=V,w.appendChild(Z),a&&(Ri[c]=window.setTimeout(()=>dt(void 0,void 0,void 0,function*(){yield wn(c)}),a)),mt.body.prepend(h);const S=w.getElementById(`beacon-alert-${c}-close`),N=()=>dt(void 0,void 0,void 0,function*(){u&&u(),yield wn(c)});if(d){const f=w.getElementById("beacon--disclaimer");f&&(f.innerText=d)}const A=Ui(),m=w.getElementById(`beacon-alert-modal-${c}`);m&&(m.classList.add(`theme__${A}`),m.addEventListener("click",N));const s=w.querySelectorAll(".beacon-modal__wrapper");return s.length>0&&s[0].addEventListener("click",f=>{f.stopPropagation()}),bi=mt.activeElement,O.focus(),U.forEach((f,g)=>{const E=w.getElementById(`beacon-alert-${c}-${g}`);E&&E.addEventListener("click",()=>dt(void 0,void 0,void 0,function*(){yield wn(c),f.actionCallback&&(yield f.actionCallback())}))}),S&&S.addEventListener("click",()=>dt(void 0,void 0,void 0,function*(){yield N()})),window.addEventListener("keydown",f=>dt(void 0,void 0,void 0,function*(){f.key==="Escape"&&(yield N())})),l&&(yield Va(c,w,l)),c}),$a={default:{css:`:host {
  --animation-duration: 300ms;
  all: initial;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

.beacon-toast__base {
  position: fixed;
  top: 16px;
  right: 16px;
  z-index: 2147483000;
  margin: 0 auto;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1);
  flex-direction: column;
}
@media (max-width: 576px) {
  .beacon-toast__base {
    top: 8px;
    right: 8px;
    left: 8px;
  }
  .beacon-toast__wallet__outer {
    flex-wrap: wrap;
  }
  .beacon-toast__wallet__link {
    display: flex;
    margin-left: 12px !important;
  }
}

.theme__light.beacon-toast__base {
  background: #fff;
}

.theme__dark.beacon-toast__base {
  background: #27334c;
}

.theme__dark p {
  color: #6183ff;
}

a {
  text-decoration: none;
  color: #3880ff;
}

a svg {
  width: 12px;
  margin-left: 2px;
}

a:visited {
  color: #3880ff;
}

hr {
  height: 1px;
  color: rgba(0, 0, 0, 0.12);
  background-color: rgba(0, 0, 0, 0.12);
  border: none;
  width: 100%;
  margin: 0;
  display: none;
}

.show {
  display: block !important;
}

.hide {
  display: none !important;
}

#beacon-toast-list {
  display: none;
}

.beacon-toast__upside_down {
  transform: rotate(180deg);
}

.beacon-toast__content {
  justify-content: space-between;
  min-height: 56px;
  height: 0;
}

.beacon-toast__action__item,
.beacon-toast__powered a,
.beacon-toast__wallet__container,
#beacon-text,
.beacon-toast__action__item p,
.beacon-toast__wallet__outer {
  align-items: center;
}

.beacon-toast__content,
.beacon-toast__base,
.beacon-toast__action__item,
.beacon-toast__powered a,
#beacon-text,
.beacon-toast__wallet__container,
.beacon-toast__wallet__outer {
  display: flex;
}

.beacon-toast__content,
.beacon-toast__action__item,
.beacon-toast__powered a {
  padding: 0 16px;
  font-family: Roboto, Helvetica, sans-serif;
}

#beacon-text strong {
  display: contents;
}
.beacon-toast__wallet__link {
  margin-left: 8px;
}
.beacon-toast__wallet__link svg {
  margin-left: 4px;
}
.beacon-toast__powered a {
  margin: 4px 0 12px;
  font-size: 12px;
  opacity: 0.64;
}

.beacon-toast__powered svg {
  width: 20px;
  height: 20px;
  margin: 0 2px 0 4px;
}

.beacon-toast__action__item {
  font-size: 14px;
  max-width: 40ch;
}

.beacon-toast__action__item p {
  margin-right: 8px;
}

.beacon-toast__action__item__subtitle,
.beacon-toast__powered a {
  min-width: 88px;
  color: rgba(0, 0, 0, 0.54);
}

.theme__dark .beacon-toast__powered a {
  color: #7c99d6;
}

.beacon-toast__content__img {
  width: 24px;
  height: 24px;
  margin-right: 4px;
  image-rendering: -moz-crisp-edges; /* Firefox */
  image-rendering: -o-crisp-edges; /* Opera */
  image-rendering: -webkit-optimize-contrast; /* Webkit (non-standard naming) */
  image-rendering: crisp-edges;
  -ms-interpolation-mode: nearest-neighbor; /* IE (non-standard property) */
}

.beacon-toast__more {
  width: 14px;
  transition: transform 0.5s;
}

a,
.beacon-toast__more {
  cursor: pointer;
}

a:hover {
  opacity: 0.64;
}

.theme__dark .beacon-toast__more {
  color: #7c99d6;
}

.beacon-toast__more--action {
  margin: 8px 0;
}

#beacon-text {
  padding-right: 24px;
}

#beacon-text-content {
  display: flex;
  align-items: center;
}

.progress-line,
.progress-line:before {
  height: 3px;
  width: 100%;
  margin: 0;
}
.progress-line {
  background-color: #a7c4f7;
  display: -webkit-flex;
  display: flex;
}
.progress-line:before {
  background-color: #3880ff;
  content: '';
  -webkit-animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;
  animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}
@-webkit-keyframes running-progress {
  0% {
    margin-left: 0px;
    margin-right: 100%;
  }
  50% {
    margin-left: 25%;
    margin-right: 0%;
  }
  100% {
    margin-left: 100%;
    margin-right: 0;
  }
}
@keyframes running-progress {
  0% {
    margin-left: 0px;
    margin-right: 100%;
  }
  50% {
    margin-left: 25%;
    margin-right: 0%;
  }
  100% {
    margin-left: 100%;
    margin-right: 0;
  }
}
`}};var Be=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};let $e;typeof window<"u"&&typeof window.document<"u"&&($e=window.document);const go=5*1e3;let zt,In,Ke;const ec=i=>Be(void 0,void 0,void 0,function*(){const{text:e,isBold:t,actionText:n,actionLogo:r,actionCallback:o}=i,a=yield vt(),l=$e.createElement("div");l.classList.add("beacon-toast__action__item"),Ti(l);const d=u=>D("strong",[],[],u);if(o){e.length>0&&l.appendChild(D("p",[],[],e));const u=D("span",[],[],[D("span",[],[],n),r&&r==="external"?Fa():void 0]);l.appendChild(D("p",[],[],[D("a",[],[["id",a]],[t?d([u]):u])]))}else if(n){e.length>0&&l.appendChild(D("p",["beacon-toast__action__item__subtitle"],[],e));const u=D("span",[],[],n);l.appendChild(D("p",[],[],[t?d([u]):u]))}else{const u=D("p",[],[],e);l.appendChild(t?d([u]):u)}return o&&l.addEventListener("click",o),l}),Ti=i=>{for(;i.firstChild;)i.removeChild(i.firstChild)},Eo=i=>{var e,t;const n=(e=Ke==null?void 0:Ke.walletInfo)===null||e===void 0?void 0:e.icon,r=(t=Ke==null?void 0:Ke.walletInfo)===null||t===void 0?void 0:t.name;let o;const a=D("strong",[],[],r!=null?r:"Wallet");n?o=D("span",["beacon-toast__wallet__container"],[],[D("img",["beacon-toast__content__img"],[["src",n]],""),a]):o=a;const l=i.split("{{wallet}}");if(l.length===1)return[D("span",[],[],i)];{const d=[];for(let u=0;u<l.length;u++)d.push(D("span",[],[],l[u])),u<l.length-1&&d.push(o);return d}},tc=i=>{const e=i.body,t=Eo(e),n=D("span",["beacon-toast__wallet__outer"],[],t),r=Wa([n]);return{style:$a.default.css,html:r}},Ue=()=>new Promise(i=>{var e;Ke=void 0;const t=$e.getElementById("beacon-toast-wrapper");if(!t)return i();const n=(e=t.shadowRoot)===null||e===void 0?void 0:e.getElementById("beacon-toast");n?(zt&&(clearTimeout(zt),zt=void 0),n.className=n.className.replace("fadeIn","fadeOut"),window.setTimeout(()=>{const o=t.parentNode;o&&o.removeChild(t),i()},300)):i()}),li=(i,e,t)=>{const n=i.getElementById(e);return n&&n.addEventListener("click",()=>Be(void 0,void 0,void 0,function*(){yield t(n)})),n},Di=(i,e)=>{const t=i.getElementById(e);t&&(t.classList.remove("hide"),t.classList.add("show"))},Bi=(i,e)=>{const t=i.getElementById(e);t&&(t.classList.add("hide"),t.classList.remove("show"))},nc=i=>{Bi(i,"beacon-toast-loader"),Di(i,"beacon-toast-loader-placeholder")},ic=i=>{Di(i,"beacon-toast-button-expand"),Bi(i,"beacon-toast-button-close")},mo=i=>{Di(i,"beacon-toast-button-close"),Bi(i,"beacon-toast-button-expand")},yo=i=>{const e=i.getElementById("beacon-toast-button-expand"),t=i.getElementById("beacon-toast-list");e&&t&&(e.classList.remove("beacon-toast__upside_down"),t.classList.add("hide"),t.classList.remove("show"))},wo=i=>{const e=i.getElementById("beacon-toast-button-expand"),t=i.getElementById("beacon-toast-list");e&&t&&(e.classList.add("beacon-toast__upside_down"),t.classList.remove("hide"),t.classList.add("show"))},Si=i=>{const e=i.getElementById("beacon-toast-button-expand"),t=i.getElementById("beacon-toast-list");e&&t&&(e.classList.contains("beacon-toast__upside_down")?yo(i):wo(i))},Ao=(i,e,t)=>Be(void 0,void 0,void 0,function*(){const n=e.actions;if(n&&n.length>0){const r=n.map(l=>Be(void 0,void 0,void 0,function*(){return ec(l)}));(yield Promise.all(r)).forEach(l=>t.appendChild(l));const a=$e.createElement("small");a.classList.add("beacon-toast__powered"),a.appendChild(Ja()),t.appendChild(a),ic(i)}else mo(i),yo(i)}),Tr=i=>Be(void 0,void 0,void 0,function*(){Ke=i;const e=i.timer,t=$e.createElement("div");t.setAttribute("id","beacon-toast-wrapper");const n=t.attachShadow({mode:"open"}),r=$e.createElement("div"),{style:o,html:a}=tc(i);r.appendChild(a);const l=$e.createElement("style");l.textContent=o,n.appendChild(r),n.appendChild(l),e&&(zt=window.setTimeout(()=>Be(void 0,void 0,void 0,function*(){yield Ue()}),e)),$e.body.prepend(t);const d=Ui(),u=n.getElementById("beacon-toast");u&&u.classList.add(`theme__${d}`);const c=n.getElementById("beacon-toast-list");c&&(yield Ao(n,i,c));const h=n.getElementById("beacon-open-wallet");h&&(i.openWalletAction?h.addEventListener("click",()=>{i.openWalletAction&&i.openWalletAction()}):h.classList.add("hide")),Ke.state==="loading"&&(In=window.setTimeout(()=>Be(void 0,void 0,void 0,function*(){const O=n.getElementById("beacon-toast-button-expand");O&&!O.classList.contains("beacon-toast__upside_down")&&Si(n)}),go)),li(n,"beacon-toast-button-done",()=>Be(void 0,void 0,void 0,function*(){yield Ue()}));const w=li(n,"beacon-toast-button-close",()=>Be(void 0,void 0,void 0,function*(){yield Ue()}));w&&Ke.state==="loading"&&w.classList.add("hide"),li(n,"beacon-toast-button-expand",()=>Be(void 0,void 0,void 0,function*(){Si(n)}))}),rc=i=>Be(void 0,void 0,void 0,function*(){Ke=Object.assign(Object.assign({},Ke),i);const e=i.timer,t=$e.getElementById("beacon-toast-wrapper");if(!t)return;const n=t.shadowRoot;if(!n)return;const r=n.getElementById("beacon-toast-list");r&&(Ti(r),yield Ao(n,i,r)),Ke.state==="loading"&&(In=window.setTimeout(()=>Be(void 0,void 0,void 0,function*(){const d=n.getElementById("beacon-toast-button-expand");d&&!d.classList.contains("beacon-toast__upside_down")&&Si(n)}),go));const o=n.getElementById("beacon-text-content");o&&(Ti(o),o.appendChild(D("span",["beacon-toast__wallet__outer"],[],Eo(i.body))));const a=n.getElementById("beacon-open-wallet");a&&(i.openWalletAction?(a.classList.remove("hide"),a.addEventListener("click",()=>{i.openWalletAction&&i.openWalletAction()})):a.classList.add("hide")),e&&(zt=window.setTimeout(()=>Be(void 0,void 0,void 0,function*(){yield Ue()}),e));const l=n.getElementById("beacon-toast-button-done");l&&l.addEventListener("click",()=>Be(void 0,void 0,void 0,function*(){yield Ue()}))}),At=i=>Be(void 0,void 0,void 0,function*(){var e;if(In&&clearTimeout(In),$e.getElementById("beacon-toast-wrapper")?i.forceNew?(yield Ue(),yield Tr(i)):yield rc(i):yield Tr(i),Ke&&Ke.state==="finished"){const n=(e=$e.getElementById("beacon-toast-wrapper"))===null||e===void 0?void 0:e.shadowRoot;n&&(nc(n),mo(n),wo(n))}}),Dn=i=>i.length>=12?`${i.substr(0,5)}...${i.substr(-5)}`:i;var de=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const en=new je("BeaconEvents"),on=5*1e3;var k;(function(i){i.PERMISSION_REQUEST_SENT="PERMISSION_REQUEST_SENT",i.PERMISSION_REQUEST_SUCCESS="PERMISSION_REQUEST_SUCCESS",i.PERMISSION_REQUEST_ERROR="PERMISSION_REQUEST_ERROR",i.OPERATION_REQUEST_SENT="OPERATION_REQUEST_SENT",i.OPERATION_REQUEST_SUCCESS="OPERATION_REQUEST_SUCCESS",i.OPERATION_REQUEST_ERROR="OPERATION_REQUEST_ERROR",i.SIGN_REQUEST_SENT="SIGN_REQUEST_SENT",i.SIGN_REQUEST_SUCCESS="SIGN_REQUEST_SUCCESS",i.SIGN_REQUEST_ERROR="SIGN_REQUEST_ERROR",i.BROADCAST_REQUEST_SENT="BROADCAST_REQUEST_SENT",i.BROADCAST_REQUEST_SUCCESS="BROADCAST_REQUEST_SUCCESS",i.BROADCAST_REQUEST_ERROR="BROADCAST_REQUEST_ERROR",i.ACKNOWLEDGE_RECEIVED="ACKNOWLEDGE_RECEIVED",i.LOCAL_RATE_LIMIT_REACHED="LOCAL_RATE_LIMIT_REACHED",i.NO_PERMISSIONS="NO_PERMISSIONS",i.ACTIVE_ACCOUNT_SET="ACTIVE_ACCOUNT_SET",i.ACTIVE_TRANSPORT_SET="ACTIVE_TRANSPORT_SET",i.SHOW_PREPARE="SHOW_PREPARE",i.HIDE_UI="HIDE_UI",i.PAIR_INIT="PAIR_INIT",i.PAIR_SUCCESS="PAIR_SUCCESS",i.CHANNEL_CLOSED="CHANNEL_CLOSED",i.INTERNAL_ERROR="INTERNAL_ERROR",i.UNKNOWN="UNKNOWN"})(k||(k={}));const fn=i=>de(void 0,void 0,void 0,function*(){let e;const t=[];if(i.walletInfo.deeplink&&(i.walletInfo.type==="web"||i.walletInfo.type==="mobile"&&Ai(window)||i.walletInfo.type==="desktop"&&!Ai(window))){const n=i.walletInfo.deeplink;e=()=>de(void 0,void 0,void 0,function*(){const r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("target","_blank"),r.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))})}t.push({text:"No answer from your wallet received yet. Please make sure the wallet is open.",isBold:!0}),t.push({text:"Did you make a mistake?",actionText:"Cancel Request",actionCallback:()=>de(void 0,void 0,void 0,function*(){yield Ue()})}),t.push({text:"Wallet not receiving request?",actionText:"Reset Connection",actionCallback:()=>de(void 0,void 0,void 0,function*(){yield Ue();const n=i.extraInfo.resetCallback;n&&(en.log("showSentToast","resetCallback invoked"),yield n())})}),At({body:"Request sent to\xA0 {{wallet}}",walletInfo:i.walletInfo,state:"loading",actions:t,openWalletAction:e}).catch(n=>console.error(n))}),oc=i=>de(void 0,void 0,void 0,function*(){At({body:"Awaiting confirmation in\xA0 {{wallet}}",state:"acknowledge",walletInfo:i.walletInfo}).catch(e=>console.error(e))}),sc=i=>de(void 0,void 0,void 0,function*(){const e=i.walletInfo?"Preparing Request for\xA0 {{wallet}}...":"Preparing Request...";At({body:e,state:"prepare",walletInfo:i.walletInfo}).catch(t=>console.error(t))}),ac=i=>de(void 0,void 0,void 0,function*(){i?(i.includes("alert")&&Un(),i.includes("toast")&&Ue()):Ue()}),cc=()=>de(void 0,void 0,void 0,function*(){yield Ht({title:"No Permission",body:"Please allow the wallet to handle this type of request."})}),vn=(i,e)=>de(void 0,void 0,void 0,function*(){var t,n,r,o,a,l;const d=i.errorResponse.errorType?Qe.getError(i.errorResponse.errorType,i.errorResponse.errorData):new Hr,u=[{text:d.title,isBold:!0}];if(i.errorResponse.errorType===le.TRANSACTION_INVALID_ERROR&&i.errorResponse.errorData){const c=i.errorResponse.errorData,h=i.errorMessages;let w=!1;if(((t=c[0])===null||t===void 0?void 0:t.contract_handle)&&h&&(h==null?void 0:h[c[0].contract_handle])){const O=(o=(r=(n=c[1])===null||n===void 0?void 0:n.with)===null||r===void 0?void 0:r.int)!==null&&o!==void 0?o:(l=(a=c[1])===null||a===void 0?void 0:a.with)===null||l===void 0?void 0:l.string,U=h==null?void 0:h[c[0].contract_handle];O&&(U==null?void 0:U[O])&&(u.push({text:U==null?void 0:U[O],isBold:!0}),w=!0)}w||u.push({text:d.description}),u.push({text:"",actionText:"Show Details",actionCallback:()=>de(void 0,void 0,void 0,function*(){yield Ue(),yield Ht({title:d.title,body:d.fullDescription.description,data:d.fullDescription.data,buttons:e})})})}yield At({body:"{{wallet}}\xA0 has returned an error",timer:i.errorResponse.errorType===le.ABORTED_ERROR?on:void 0,state:"finished",walletInfo:i.walletInfo,actions:u})}),lc=()=>de(void 0,void 0,void 0,function*(){Ht({title:"Error",body:"Rate limit reached. Please slow down",buttons:[{text:"Done",style:"outline"}],timer:3e3}).catch(i=>console.error(i))}),dc=()=>de(void 0,void 0,void 0,function*(){yield Un()}),uc=()=>de(void 0,void 0,void 0,function*(){yield Ht({title:"Channel closed",body:"Your peer has closed the connection.",buttons:[{text:"Done",style:"outline"}],timer:1500})}),hc=i=>de(void 0,void 0,void 0,function*(){var e;const t=[...(e=i.buttons)!==null&&e!==void 0?e:[]];t.push({text:"Done",style:"outline"});const n={title:"Internal Error",body:i.text,buttons:t};yield Ht(n)}),fc=i=>de(void 0,void 0,void 0,function*(){const e={title:"Choose your preferred wallet",body:"<p></p>",pairingPayload:{p2pSyncCode:i.p2pPeerInfo,postmessageSyncCode:i.postmessagePeerInfo,preferredNetwork:i.preferredNetwork},closeButtonCallback:i.abortedHandler,disclaimerText:i.disclaimerText};yield Ht(e)}),vc=i=>de(void 0,void 0,void 0,function*(){const{output:e}=i;yield At({body:"{{wallet}}\xA0 has granted permission",timer:on,walletInfo:i.walletInfo,state:"finished",actions:[{text:"Address",actionText:Dn(e.address),isBold:!0},{text:"Network",actionText:`${e.network.type}`},{text:"Permissions",actionText:e.scopes.join(", ")}]})}),pc=i=>de(void 0,void 0,void 0,function*(){const{account:e,output:t,blockExplorer:n}=i;yield At({body:"{{wallet}}\xA0 successfully submitted operation",timer:on,state:"finished",walletInfo:i.walletInfo,actions:[{text:Dn(t.transactionHash),isBold:!0,actionText:"Open Blockexplorer",actionLogo:"external",actionCallback:()=>de(void 0,void 0,void 0,function*(){const r=yield n.getTransactionLink(t.transactionHash,e.network);window.open(r,"_blank"),yield Ue()})}]})}),gc=i=>de(void 0,void 0,void 0,function*(){const e=i.output;yield At({body:"{{wallet}}\xA0 successfully signed payload",timer:on,state:"finished",walletInfo:i.walletInfo,actions:[{text:`Signature: ${Dn(e.signature)}`,actionText:"Copy to clipboard",actionCallback:()=>de(void 0,void 0,void 0,function*(){navigator.clipboard.writeText(e.signature).then(()=>{en.log("showSignSuccessAlert","Copying to clipboard was successful!")},t=>{en.error("showSignSuccessAlert","Could not copy text to clipboard: ",t)}),yield Ue()})}]})}),Ec=i=>de(void 0,void 0,void 0,function*(){const{network:e,output:t,blockExplorer:n}=i;yield At({body:"{{wallet}}\xA0 successfully injected operation",timer:on,state:"finished",walletInfo:i.walletInfo,actions:[{text:Dn(t.transactionHash),isBold:!0,actionText:"Open Blockexplorer",actionLogo:"external",actionCallback:()=>de(void 0,void 0,void 0,function*(){const r=yield n.getTransactionLink(t.transactionHash,e);window.open(r,"_blank"),yield Ue()})}]})}),di=()=>()=>de(void 0,void 0,void 0,function*(){}),he={[k.PERMISSION_REQUEST_SENT]:fn,[k.PERMISSION_REQUEST_SUCCESS]:vc,[k.PERMISSION_REQUEST_ERROR]:vn,[k.OPERATION_REQUEST_SENT]:fn,[k.OPERATION_REQUEST_SUCCESS]:pc,[k.OPERATION_REQUEST_ERROR]:vn,[k.SIGN_REQUEST_SENT]:fn,[k.SIGN_REQUEST_SUCCESS]:gc,[k.SIGN_REQUEST_ERROR]:vn,[k.BROADCAST_REQUEST_SENT]:fn,[k.BROADCAST_REQUEST_SUCCESS]:Ec,[k.BROADCAST_REQUEST_ERROR]:vn,[k.ACKNOWLEDGE_RECEIVED]:oc,[k.LOCAL_RATE_LIMIT_REACHED]:lc,[k.NO_PERMISSIONS]:cc,[k.ACTIVE_ACCOUNT_SET]:di(),[k.ACTIVE_TRANSPORT_SET]:di(),[k.SHOW_PREPARE]:sc,[k.HIDE_UI]:ac,[k.PAIR_INIT]:fc,[k.PAIR_SUCCESS]:dc,[k.CHANNEL_CLOSED]:uc,[k.INTERNAL_ERROR]:hc,[k.UNKNOWN]:di()};class Sr{constructor(e={},t){this.callbackMap={[k.PERMISSION_REQUEST_SENT]:[he.PERMISSION_REQUEST_SENT],[k.PERMISSION_REQUEST_SUCCESS]:[he.PERMISSION_REQUEST_SUCCESS],[k.PERMISSION_REQUEST_ERROR]:[he.PERMISSION_REQUEST_ERROR],[k.OPERATION_REQUEST_SENT]:[he.OPERATION_REQUEST_SENT],[k.OPERATION_REQUEST_SUCCESS]:[he.OPERATION_REQUEST_SUCCESS],[k.OPERATION_REQUEST_ERROR]:[he.OPERATION_REQUEST_ERROR],[k.SIGN_REQUEST_SENT]:[he.SIGN_REQUEST_SENT],[k.SIGN_REQUEST_SUCCESS]:[he.SIGN_REQUEST_SUCCESS],[k.SIGN_REQUEST_ERROR]:[he.SIGN_REQUEST_ERROR],[k.BROADCAST_REQUEST_SENT]:[he.BROADCAST_REQUEST_SENT],[k.BROADCAST_REQUEST_SUCCESS]:[he.BROADCAST_REQUEST_SUCCESS],[k.BROADCAST_REQUEST_ERROR]:[he.BROADCAST_REQUEST_ERROR],[k.ACKNOWLEDGE_RECEIVED]:[he.ACKNOWLEDGE_RECEIVED],[k.LOCAL_RATE_LIMIT_REACHED]:[he.LOCAL_RATE_LIMIT_REACHED],[k.NO_PERMISSIONS]:[he.NO_PERMISSIONS],[k.ACTIVE_ACCOUNT_SET]:[he.ACTIVE_ACCOUNT_SET],[k.ACTIVE_TRANSPORT_SET]:[he.ACTIVE_TRANSPORT_SET],[k.SHOW_PREPARE]:[he.SHOW_PREPARE],[k.HIDE_UI]:[he.HIDE_UI],[k.PAIR_INIT]:[he.PAIR_INIT],[k.PAIR_SUCCESS]:[he.PAIR_SUCCESS],[k.CHANNEL_CLOSED]:[he.CHANNEL_CLOSED],[k.INTERNAL_ERROR]:[he.INTERNAL_ERROR],[k.UNKNOWN]:[he.UNKNOWN]},t&&this.setAllHandlers(),this.overrideDefaults(e)}on(e,t){return de(this,void 0,void 0,function*(){const n=this.callbackMap[e]||[];n.push(t),this.callbackMap[e]=n})}emit(e,t,n){return de(this,void 0,void 0,function*(){const r=this.callbackMap[e];r&&r.length>0&&r.forEach(o=>de(this,void 0,void 0,function*(){try{yield o(t,n)}catch(a){en.error(`error handling event ${e}`,a)}}))})}overrideDefaults(e){Object.keys(e).forEach(t=>{const n=t,r=e[n];r&&(this.callbackMap[n]=[r.handler])})}setAllHandlers(e){Object.keys(this.callbackMap).forEach(t=>{const n=t;this.callbackMap[n]=[],e?this.callbackMap[n].push(e):this.callbackMap[n].push((...r)=>{en.log(t,...r)})})}}const pn={[$.BlockchainRequest]:{sent:k.UNKNOWN,success:k.UNKNOWN,error:k.UNKNOWN},[$.BlockchainResponse]:{sent:k.UNKNOWN,success:k.UNKNOWN,error:k.UNKNOWN},[$.PermissionRequest]:{sent:k.PERMISSION_REQUEST_SENT,success:k.PERMISSION_REQUEST_SUCCESS,error:k.PERMISSION_REQUEST_ERROR},[$.PermissionResponse]:{sent:k.UNKNOWN,success:k.UNKNOWN,error:k.UNKNOWN},[$.OperationRequest]:{sent:k.OPERATION_REQUEST_SENT,success:k.OPERATION_REQUEST_SUCCESS,error:k.OPERATION_REQUEST_ERROR},[$.OperationResponse]:{sent:k.UNKNOWN,success:k.UNKNOWN,error:k.UNKNOWN},[$.SignPayloadRequest]:{sent:k.SIGN_REQUEST_SENT,success:k.SIGN_REQUEST_SUCCESS,error:k.SIGN_REQUEST_ERROR},[$.SignPayloadResponse]:{sent:k.UNKNOWN,success:k.UNKNOWN,error:k.UNKNOWN},[$.BroadcastRequest]:{sent:k.BROADCAST_REQUEST_SENT,success:k.BROADCAST_REQUEST_SUCCESS,error:k.BROADCAST_REQUEST_ERROR},[$.BroadcastResponse]:{sent:k.UNKNOWN,success:k.UNKNOWN,error:k.UNKNOWN},[$.Acknowledge]:{sent:k.UNKNOWN,success:k.UNKNOWN,error:k.UNKNOWN},[$.Disconnect]:{sent:k.UNKNOWN,success:k.UNKNOWN,error:k.UNKNOWN},[$.Error]:{sent:k.UNKNOWN,success:k.UNKNOWN,error:k.UNKNOWN}};var mc=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class yc{constructor(e){this.rpcUrls=e}getLinkForNetwork(e){return mc(this,void 0,void 0,function*(){return this.rpcUrls[e.type]})}}var xr=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};class wc extends yc{constructor(e={[Ee.MAINNET]:"https://tzkt.io",[Ee.GHOSTNET]:"https://ghostnet.tzkt.io",[Ee.MONDAYNET]:"https://mondaynet.tzkt.io",[Ee.DAILYNET]:"https://dailynet.tzkt.io",[Ee.DELPHINET]:"https://delphinet.tzkt.io",[Ee.EDONET]:"https://edonet.tzkt.io",[Ee.FLORENCENET]:"https://florencenet.tzkt.io",[Ee.GRANADANET]:"https://granadanet.tzkt.io",[Ee.HANGZHOUNET]:"https://hangzhounet.tzkt.io",[Ee.ITHACANET]:"https://ithacanet.tzkt.io",[Ee.JAKARTANET]:"https://jakartanet.tzkt.io",[Ee.KATHMANDUNET]:"https://kathmandunet.tzkt.io",[Ee.CUSTOM]:"https://kathmandunet.tzkt.io"}){super(e),this.rpcUrls=e}getAddressLink(e,t){return xr(this,void 0,void 0,function*(){return`${yield this.getLinkForNetwork(t)}/${e}`})}getTransactionLink(e,t){return xr(this,void 0,void 0,function*(){return`${yield this.getLinkForNetwork(t)}/${e}`})}}var gn=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const ui=new je("DappPostMessageTransport");class Ac extends rn{constructor(e,t,n){super(e,t,n,z.TRANSPORT_POSTMESSAGE_PEERS_DAPP)}startOpenChannelListener(){return gn(this,void 0,void 0,function*(){return this.client.listenForChannelOpening(e=>gn(this,void 0,void 0,function*(){ui.log("connect","received PostMessagePairingResponse",e),yield this.addPeer(e),this._isConnected=Je.CONNECTED,this.newPeerListener&&(this.newPeerListener(e),this.newPeerListener=void 0)}))})}listenForNewPeer(e){return gn(this,void 0,void 0,function*(){ui.log("listenForNewPeer"),this.newPeerListener=e})}stopListeningForNewPeers(){return gn(this,void 0,void 0,function*(){ui.log("stopListeningForNewPeers"),this.newPeerListener=void 0})}}var En=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const hi=new je("DappP2PTransport");class _c extends xa{constructor(e,t,n,r,o,a){super(e,t,n,r,z.TRANSPORT_P2P_PEERS_DAPP,o,a)}startOpenChannelListener(){return En(this,void 0,void 0,function*(){return this.client.listenForChannelOpening(e=>En(this,void 0,void 0,function*(){hi.log("listenForNewPeer","new publicKey",e.publicKey),yield this.addPeer(e),this._isConnected=Je.CONNECTED,this.newPeerListener&&(this.newPeerListener(e),this.newPeerListener=void 0)}))})}listenForNewPeer(e){return En(this,void 0,void 0,function*(){hi.log("listenForNewPeer"),this.newPeerListener=e})}stopListeningForNewPeers(){return En(this,void 0,void 0,function*(){hi.log("stopListeningForNewPeers"),this.newPeerListener=void 0})}}var F=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(c){try{u(n.next(c))}catch(h){a(h)}}function d(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):r(c.value).then(l,d)}u((n=n.apply(i,e||[])).next())})};const pe=new je("DAppClient");class Tc extends os{constructor(e){var t,n,r,o,a;super(Object.assign({storage:e&&e.storage?e.storage:new vs},e)),this.events=new Sr,this.openRequests=new Map,this._activeAccount=new _e,this._activePeer=new _e,this.blockchains=new Map,this.events=new Sr(e.eventHandlers,(t=e.disableDefaultEvents)!==null&&t!==void 0?t:!1),this.blockExplorer=(n=e.blockExplorer)!==null&&n!==void 0?n:new wc,this.preferredNetwork=(r=e.preferredNetwork)!==null&&r!==void 0?r:Ee.MAINNET,Rr((o=e.colorMode)!==null&&o!==void 0?o:Rn.LIGHT),this.disclaimerText=e.disclaimerText,this.errorMessages=(a=e.errorMessages)!==null&&a!==void 0?a:{},this.appMetadataManager=new ps(this.storage),this.activeAccountLoaded=this.storage.get(z.ACTIVE_ACCOUNT).then(l=>F(this,void 0,void 0,function*(){l?yield this.setActiveAccount(yield this.accountManager.getAccount(l)):yield this.setActiveAccount(void 0)})).catch(l=>F(this,void 0,void 0,function*(){yield this.setActiveAccount(void 0),console.error(l)})),this.handleResponse=(l,d)=>F(this,void 0,void 0,function*(){var u,c;const h=this.openRequests.get(l.id);if(pe.log("handleResponse","Received message",l,d),l.version==="3"){const w=l;if(h&&w.message.type===$.Acknowledge)pe.log(`acknowledge message received for ${l.id}`),console.timeLog(l.id,"acknowledge"),this.events.emit(k.ACKNOWLEDGE_RECEIVED,{message:w.message,extraInfo:{},walletInfo:yield this.getWalletInfo()}).catch(console.error);else if(h){const O=w.message.blockchainData.appMetadata;w.message.type===$.PermissionResponse&&O&&(yield this.appMetadataManager.addAppMetadata(O)),console.timeLog(w.id,"response"),console.timeEnd(w.id),w.message.type===$.Error?h.reject(w.message):h.resolve({message:l,connectionInfo:d}),this.openRequests.delete(w.id)}else if(w.message.type===$.Disconnect){const O=d.origin===ze.P2P?this.p2pTransport:(u=this.postMessageTransport)!==null&&u!==void 0?u:yield this.transport;if(O){const j=(yield O.getPeers()).find(V=>V.senderId===l.senderId);j?(yield O.removePeer(j),yield this.removeAccountsForPeers([j]),yield this.events.emit(k.CHANNEL_CLOSED)):pe.error("handleDisconnect","cannot find peer for sender ID",l.senderId)}}else pe.error("handleResponse","no request found for id ",l.id,l)}else{const w=l;if(h&&w.type===$.Acknowledge)pe.log(`acknowledge message received for ${l.id}`),console.timeLog(l.id,"acknowledge"),this.events.emit(k.ACKNOWLEDGE_RECEIVED,{message:w,extraInfo:{},walletInfo:yield this.getWalletInfo()}).catch(console.error);else if(h)w.type===$.PermissionResponse&&w.appMetadata&&(yield this.appMetadataManager.addAppMetadata(w.appMetadata)),console.timeLog(w.id,"response"),console.timeEnd(w.id),w.type===$.Error||l.errorType?h.reject(w):h.resolve({message:l,connectionInfo:d}),this.openRequests.delete(w.id);else if(w.type===$.Disconnect||l.typedMessage.type===$.Disconnect){const O=d.origin===ze.P2P?this.p2pTransport:(c=this.postMessageTransport)!==null&&c!==void 0?c:yield this.transport;if(O){const j=(yield O.getPeers()).find(V=>V.senderId===l.senderId);j?(yield O.removePeer(j),yield this.removeAccountsForPeers([j]),yield this.events.emit(k.CHANNEL_CLOSED)):pe.error("handleDisconnect","cannot find peer for sender ID",l.senderId)}}else pe.error("handleResponse","no request found for id ",l.id,l)}})}initInternalTransports(){return F(this,void 0,void 0,function*(){const e=yield this.keyPair;this.postMessageTransport||this.p2pTransport||(this.postMessageTransport=new Ac(this.name,e,this.storage),yield this.addListener(this.postMessageTransport),this.p2pTransport=new _c(this.name,e,this.storage,this.matrixNodes,this.iconUrl,this.appUrl),yield this.addListener(this.p2pTransport))})}init(e){const t=Object.create(null,{init:{get:()=>super.init}});return F(this,void 0,void 0,function*(){if(this._initPromise)return this._initPromise;try{yield this.activeAccountLoaded}catch{}return this._initPromise=new Promise(n=>F(this,void 0,void 0,function*(){if(e)yield this.addListener(e),n(yield t.init.call(this,e));else if(this._transport.isSettled())yield(yield this.transport).connect(),n(yield t.init.call(this,yield this.transport));else{const r=yield this.getActiveAccount(),o=()=>{this.postMessageTransport&&this.postMessageTransport.stopListeningForNewPeers().catch(console.error),this.p2pTransport&&this.p2pTransport.stopListeningForNewPeers().catch(console.error)};if(yield this.initInternalTransports(),!this.postMessageTransport||!this.p2pTransport)return;if(this.postMessageTransport.connect().then().catch(console.error),r&&r.origin){const a=r.origin.type;a===ze.EXTENSION?n(yield t.init.call(this,this.postMessageTransport)):a===ze.P2P&&n(yield t.init.call(this,this.p2pTransport))}else{const a=this.p2pTransport,l=this.postMessageTransport;l.listenForNewPeer(d=>{pe.log("init","postmessage transport peer connected",d),this.events.emit(k.PAIR_SUCCESS,d).catch(u=>console.warn(u)),this.setActivePeer(d).catch(console.error),this.setTransport(this.postMessageTransport).catch(console.error),o(),n(It.POST_MESSAGE)}).catch(console.error),a.listenForNewPeer(d=>{pe.log("init","p2p transport peer connected",d),this.events.emit(k.PAIR_SUCCESS,d).catch(u=>console.warn(u)),this.setActivePeer(d).catch(console.error),this.setTransport(this.p2pTransport).catch(console.error),o(),n(It.P2P)}).catch(console.error),rn.getAvailableExtensions().then(()=>F(this,void 0,void 0,function*(){this.events.emit(k.PAIR_INIT,{p2pPeerInfo:()=>(a.connect().then().catch(console.error),a.getPairingRequestInfo()),postmessagePeerInfo:()=>l.getPairingRequestInfo(),preferredNetwork:this.preferredNetwork,abortedHandler:()=>{console.log("ABORTED"),this._initPromise=void 0},disclaimerText:this.disclaimerText}).catch(d=>console.warn(d))})).catch(d=>{this._initPromise=void 0,console.error(d)})}}})),this._initPromise})}getActiveAccount(){return F(this,void 0,void 0,function*(){return this._activeAccount.promise})}setActiveAccount(e){return F(this,void 0,void 0,function*(){if(this._activeAccount.isSettled()?this._activeAccount=_e.resolve(e):this._activeAccount.resolve(e),e){const t=e.origin.type;yield this.initInternalTransports(),t===ze.EXTENSION?yield this.setTransport(this.postMessageTransport):t===ze.P2P&&(yield this.setTransport(this.p2pTransport));const n=yield this.getPeer(e);yield this.setActivePeer(n)}else yield this.setActivePeer(void 0),yield this.setTransport(void 0);yield this.storage.set(z.ACTIVE_ACCOUNT,e?e.accountIdentifier:void 0),yield this.events.emit(k.ACTIVE_ACCOUNT_SET,e)})}clearActiveAccount(){return this.setActiveAccount()}setColorMode(e){return F(this,void 0,void 0,function*(){return Rr(e)})}getColorMode(){return F(this,void 0,void 0,function*(){return Ui()})}getAppMetadata(){return F(this,void 0,void 0,function*(){return this.getOwnAppMetadata()})}showPrepare(){return F(this,void 0,void 0,function*(){const e=yield(()=>F(this,void 0,void 0,function*(){try{return yield this.getWalletInfo()}catch{return}}))();yield this.events.emit(k.SHOW_PREPARE,{walletInfo:e})})}hideUI(e){return F(this,void 0,void 0,function*(){yield this.events.emit(k.HIDE_UI,e)})}removeAccount(e){const t=Object.create(null,{removeAccount:{get:()=>super.removeAccount}});return F(this,void 0,void 0,function*(){const n=t.removeAccount.call(this,e),r=yield this.getActiveAccount();return r&&r.accountIdentifier===e&&(yield this.setActiveAccount(void 0)),n})}removeAllAccounts(){const e=Object.create(null,{removeAllAccounts:{get:()=>super.removeAllAccounts}});return F(this,void 0,void 0,function*(){yield e.removeAllAccounts.call(this),yield this.setActiveAccount(void 0)})}removePeer(e,t=!1){return F(this,void 0,void 0,function*(){const n=yield this.transport,r=n.removePeer(e);return yield this.removeAccountsForPeers([e]),t&&(yield this.sendDisconnectToPeer(e,n)),r})}removeAllPeers(e=!1){return F(this,void 0,void 0,function*(){const t=yield this.transport,n=yield t.getPeers(),r=t.removeAllPeers();if(yield this.removeAccountsForPeers(n),e){const o=n.map(a=>this.sendDisconnectToPeer(a,t));yield Promise.all(o)}return r})}subscribeToEvent(e,t){return F(this,void 0,void 0,function*(){yield this.events.on(e,t)})}checkPermissions(e){return F(this,void 0,void 0,function*(){if(e===$.PermissionRequest)return!0;const t=yield this.getActiveAccount();if(!t)throw yield this.sendInternalError("No active account set!");const n=t.scopes;switch(e){case $.OperationRequest:return n.includes(nt.OPERATION_REQUEST);case $.SignPayloadRequest:return n.includes(nt.SIGN);case $.BroadcastRequest:return!0;default:return!1}})}sendNotification(e,t,n,r){var o,a,l;return F(this,void 0,void 0,function*(){const d=yield this.getActiveAccount();if(!d||d&&!d.scopes.includes(nt.NOTIFICATION)&&!d.notification)throw new Error("notification permissions not given");if(!(!((o=d.notification)===null||o===void 0)&&o.token))throw new Error("No AccessToken");const u=(a=d.notification)===null||a===void 0?void 0:a.apiUrl;if(!u)throw new Error("No Push URL set");return this.sendNotificationWithAccessToken({url:u,recipient:d.address,title:e,body:t,payload:n,protocolIdentifier:r,accessToken:(l=d.notification)===null||l===void 0?void 0:l.token})})}addBlockchain(e){this.blockchains.set(e.identifier,e),e.getWalletLists().then(t=>{ja(t.desktopList),Ga(t.extensionList),qa(t.webList),Ha(t.iOSList)})}removeBlockchain(e){this.blockchains.delete(e)}permissionRequest(e){return F(this,void 0,void 0,function*(){console.log("PERMISSION REQUEST");const t=this.blockchains.get(e.blockchainIdentifier);if(!t)throw new Error(`Blockchain "${e.blockchainIdentifier}" not supported by dAppClient`);const n=Object.assign(Object.assign({},e),{type:$.PermissionRequest,blockchainData:Object.assign(Object.assign({},e.blockchainData),{appMetadata:yield this.getOwnAppMetadata()})});console.log("REQUESTION PERMIMISSION V3","xxx",n);const{message:r,connectionInfo:o}=yield this.makeRequestV3(n).catch(d=>F(this,void 0,void 0,function*(){throw new Error("TODO")}));console.log("RESPONSE V3",r,o);const a=yield t.getAccountInfosFromPermissionResponse(r.message),l={accountIdentifier:a[0].accountId,senderId:r.senderId,origin:{type:o.origin,id:o.id},address:a[0].address,publicKey:a[0].publicKey,scopes:r.message.blockchainData.scopes,connectedAt:new Date().getTime(),chainData:r.message.blockchainData};return yield this.accountManager.addAccount(l),yield this.setActiveAccount(l),yield t.handleResponse({request:n,account:l,output:r,blockExplorer:this.blockExplorer,connectionContext:o,walletInfo:yield this.getWalletInfo()}),yield this.notifySuccess(n,{account:l,output:{address:a[0].address,network:{type:Ee.MAINNET},scopes:[nt.OPERATION_REQUEST]},blockExplorer:this.blockExplorer,connectionContext:o,walletInfo:yield this.getWalletInfo()}),r.message})}request(e){return F(this,void 0,void 0,function*(){console.log("REQUEST",e);const t=this.blockchains.get(e.blockchainIdentifier);if(!t)throw new Error(`Blockchain "${t}" not supported by dAppClient`);yield t.validateRequest(e);const n=yield this.getActiveAccount();if(!n)throw yield this.sendInternalError("No active account!");const r=Object.assign(Object.assign({},e),{type:$.BlockchainRequest,accountId:n.accountIdentifier}),{message:o,connectionInfo:a}=yield this.makeRequestV3(r).catch(l=>F(this,void 0,void 0,function*(){throw console.error(l),new Error("TODO")}));return yield t.handleResponse({request:r,account:n,output:o,blockExplorer:this.blockExplorer,connectionContext:a,walletInfo:yield this.getWalletInfo()}),o.message})}requestPermissions(e){return F(this,void 0,void 0,function*(){const t={appMetadata:yield this.getOwnAppMetadata(),type:$.PermissionRequest,network:e&&e.network?e.network:{type:Ee.MAINNET},scopes:e&&e.scopes?e.scopes:[nt.OPERATION_REQUEST,nt.SIGN]},{message:n,connectionInfo:r}=yield this.makeRequest(t).catch(u=>F(this,void 0,void 0,function*(){throw yield this.handleRequestError(t,u)})),o=n.publicKey||n.pubkey||n.pubKey,a=yield Qo(o),l={accountIdentifier:yield Ei(a,n.network),senderId:n.senderId,origin:{type:r.origin,id:r.id},address:a,publicKey:o,network:n.network,scopes:n.scopes,threshold:n.threshold,notification:n.notification,connectedAt:new Date().getTime()};yield this.accountManager.addAccount(l),yield this.setActiveAccount(l);const d=Object.assign(Object.assign({},n),{address:a,accountInfo:l});return yield this.notifySuccess(t,{account:l,output:d,blockExplorer:this.blockExplorer,connectionContext:r,walletInfo:yield this.getWalletInfo()}),d})}requestSignPayload(e){return F(this,void 0,void 0,function*(){if(!e.payload)throw yield this.sendInternalError("Payload must be provided");const t=yield this.getActiveAccount();if(!t)throw yield this.sendInternalError("No active account!");const n=e.payload;if(typeof n!="string")throw new Error("Payload must be a string");const r=(()=>{switch(e.signingType){case gt.OPERATION:if(!n.startsWith("03"))throw new Error('When using signing type "OPERATION", the payload must start with prefix "03"');return gt.OPERATION;case gt.MICHELINE:if(!n.startsWith("05"))throw new Error('When using signing type "MICHELINE", the payload must start with prefix "05"');return gt.MICHELINE;case gt.RAW:default:return gt.RAW}})(),o={type:$.SignPayloadRequest,signingType:r,payload:n,sourceAddress:e.sourceAddress||t.address},{message:a,connectionInfo:l}=yield this.makeRequest(o).catch(d=>F(this,void 0,void 0,function*(){throw yield this.handleRequestError(o,d)}));return yield this.notifySuccess(o,{account:t,output:a,connectionContext:l,walletInfo:yield this.getWalletInfo()}),a})}requestOperation(e){return F(this,void 0,void 0,function*(){if(!e.operationDetails)throw yield this.sendInternalError("Operation details must be provided");const t=yield this.getActiveAccount();if(!t)throw yield this.sendInternalError("No active account!");const n={type:$.OperationRequest,network:t.network||{type:Ee.MAINNET},operationDetails:e.operationDetails,sourceAddress:t.address||""},{message:r,connectionInfo:o}=yield this.makeRequest(n).catch(a=>F(this,void 0,void 0,function*(){throw yield this.handleRequestError(n,a)}));return yield this.notifySuccess(n,{account:t,output:r,blockExplorer:this.blockExplorer,connectionContext:o,walletInfo:yield this.getWalletInfo()}),r})}requestBroadcast(e){return F(this,void 0,void 0,function*(){if(!e.signedTransaction)throw yield this.sendInternalError("Signed transaction must be provided");const t=e.network||{type:Ee.MAINNET},n={type:$.BroadcastRequest,network:t,signedTransaction:e.signedTransaction},{message:r,connectionInfo:o}=yield this.makeRequest(n).catch(a=>F(this,void 0,void 0,function*(){throw yield this.handleRequestError(n,a)}));return yield this.notifySuccess(n,{network:t,output:r,blockExplorer:this.blockExplorer,connectionContext:o,walletInfo:yield this.getWalletInfo()}),r})}setActivePeer(e){return F(this,void 0,void 0,function*(){this._activePeer.isSettled()?this._activePeer=_e.resolve(e):this._activePeer.resolve(e),e&&(yield this.initInternalTransports(),e.type==="postmessage-pairing-response"?yield this.setTransport(this.postMessageTransport):e.type==="p2p-pairing-response"&&(yield this.setTransport(this.p2pTransport)))})}setTransport(e){const t=Object.create(null,{setTransport:{get:()=>super.setTransport}});return F(this,void 0,void 0,function*(){e||(this._initPromise=void 0);const n=t.setTransport.call(this,e);return yield this.events.emit(k.ACTIVE_TRANSPORT_SET,e),n})}sendInternalError(e){return F(this,void 0,void 0,function*(){throw yield this.events.emit(k.INTERNAL_ERROR,{text:e}),new Error(e)})}removeAccountsForPeers(e){return F(this,void 0,void 0,function*(){const t=yield this.accountManager.getAccounts(),n=e.map(l=>l.senderId),o=t.filter(l=>n.includes(l.senderId)).map(l=>l.accountIdentifier);yield this.accountManager.removeAccounts(o);const a=yield this.getActiveAccount();a&&o.includes(a.accountIdentifier)&&(yield this.setActiveAccount(void 0))})}handleRequestError(e,t){return F(this,void 0,void 0,function*(){if(pe.error("handleRequestError","error response",t),t.errorType){const n=[];if(t.errorType===le.NO_PRIVATE_KEY_FOUND_ERROR){const a=()=>F(this,void 0,void 0,function*(){const l=e;let d;if(l.sourceAddress&&l.network){const u=yield Ei(l.sourceAddress,l.network);d=yield this.getAccount(u),d&&(yield this.removeAccount(d.accountIdentifier))}});n.push({text:"Remove account",actionCallback:a})}const r=yield this.getPeer(),o=yield this.getActiveAccount();throw e.type===$.PermissionRequest&&(yield this.getActiveAccount())===void 0&&(this._initPromise=void 0,this.postMessageTransport=void 0,this.p2pTransport=void 0,yield this.setTransport(),yield this.setActivePeer()),this.events.emit(pn[e.type].error,{errorResponse:t,walletInfo:yield this.getWalletInfo(r,o),errorMessages:this.errorMessages},n).catch(a=>pe.error("handleRequestError",a)),Qe.getError(t.errorType,t.errorData)}throw t})}notifySuccess(e,t){return F(this,void 0,void 0,function*(){this.events.emit(pn[e.type].success,t).catch(n=>console.warn(n))})}getWalletInfo(e,t){var n,r;return F(this,void 0,void 0,function*(){const o=t||(yield this.getActiveAccount()),a=e||(yield this.getPeer(o));let l;o&&(l=yield this.appMetadataManager.getAppMetadata(o.senderId));const d=a;l||(l={name:d.name,icon:d.icon});const u=(w,O)=>w&&O?w.toLowerCase()===O.toLowerCase():!1;let c,h;if(Zt().find(w=>u(w.name,l==null?void 0:l.name))?(c=Zt().find(w=>u(w.name,l==null?void 0:l.name)),h="mobile"):_i().find(w=>u(w.name,l==null?void 0:l.name))?(c=_i().find(w=>u(w.name,l==null?void 0:l.name)),h="web"):Nn().find(w=>u(w.name,l==null?void 0:l.name))?(c=Nn().find(w=>u(w.name,l==null?void 0:l.name)),h="desktop"):Yt().find(w=>u(w.name,l==null?void 0:l.name))&&(c=Yt().find(w=>u(w.name,l==null?void 0:l.name)),h="extension"),c){let w;return c.hasOwnProperty("links")?w=c.links[(n=o==null?void 0:o.network.type)!==null&&n!==void 0?n:this.preferredNetwork]:c.hasOwnProperty("deepLink")&&(w=c.deepLink),{name:l.name,icon:(r=l.icon)!==null&&r!==void 0?r:c.logo,deeplink:w,type:h}}return l})}getPeer(e){var t,n,r,o;return F(this,void 0,void 0,function*(){let a;if(e){pe.log("getPeer","We have an account",e);const l=(n=yield(t=this.postMessageTransport)===null||t===void 0?void 0:t.getPeers())!==null&&n!==void 0?n:[],d=(o=yield(r=this.p2pTransport)===null||r===void 0?void 0:r.getPeers())!==null&&o!==void 0?o:[],u=[...l,...d];pe.log("getPeer","Found peers",u,e),a=u.find(c=>c.senderId===e.senderId),a||(a=u.find(c=>c.extensionId===e.origin.id))}else a=yield this._activePeer.promise,pe.log("getPeer","Active peer",a);if(!a)throw new Error("No matching peer found.");return a})}makeRequest(e){var t;return F(this,void 0,void 0,function*(){const n=yield vt();if(console.time(n),pe.log("makeRequest","starting"),yield this.init(),console.timeLog(n,"init done"),pe.log("makeRequest","after init"),yield this.addRequestAndCheckIfRateLimited())throw this.events.emit(k.LOCAL_RATE_LIMIT_REACHED).catch(c=>console.warn(c)),new Error("rate limit reached");if(!(yield this.checkPermissions(e.type)))throw this.events.emit(k.NO_PERMISSIONS).catch(c=>console.warn(c)),new Error("No permissions to send this request to wallet!");if(!this.beaconId)throw yield this.sendInternalError("BeaconID not defined");const r=Object.assign({id:n,version:"2",senderId:yield jt(yield this.beaconId)},e),o=new _e;this.addOpenRequest(r.id,o);const a=yield new Ot().serialize(r),l=yield this.getActiveAccount(),d=yield this.getPeer(l),u=yield this.getWalletInfo(d,l);pe.log("makeRequest","sending message",r),console.timeLog(n,"sending");try{yield(yield this.transport).send(a,d)}catch(c){throw this.events.emit(k.INTERNAL_ERROR,{text:"Unable to send message. If this problem persists, please reset the connection and pair your wallet again.",buttons:[{text:"Reset Connection",actionCallback:()=>F(this,void 0,void 0,function*(){yield Ue(),this.disconnect()})}]}),console.timeLog(n,"send error"),c}return console.timeLog(n,"sent"),this.events.emit(pn[e.type].sent,{walletInfo:Object.assign(Object.assign({},u),{name:(t=u.name)!==null&&t!==void 0?t:"Wallet"}),extraInfo:{resetCallback:()=>F(this,void 0,void 0,function*(){this.disconnect()})}}).catch(c=>console.warn(c)),o.promise})}makeRequestV3(e){var t;return F(this,void 0,void 0,function*(){const n=yield vt();if(console.time(n),pe.log("makeRequest","starting"),yield this.init(),console.timeLog(n,"init done"),pe.log("makeRequest","after init"),yield this.addRequestAndCheckIfRateLimited())throw this.events.emit(k.LOCAL_RATE_LIMIT_REACHED).catch(h=>console.warn(h)),new Error("rate limit reached");if(!this.beaconId)throw yield this.sendInternalError("BeaconID not defined");const r={id:n,version:"3",senderId:yield jt(yield this.beaconId),message:e},o=new _e;this.addOpenRequest(r.id,o);const a=yield new Ot().serialize(r),l=yield this.getActiveAccount(),d=yield this.getPeer(l),u=yield this.getWalletInfo(d,l);pe.log("makeRequest","sending message",r),console.timeLog(n,"sending");try{yield(yield this.transport).send(a,d)}catch(h){throw this.events.emit(k.INTERNAL_ERROR,{text:"Unable to send message. If this problem persists, please reset the connection and pair your wallet again.",buttons:[{text:"Reset Connection",actionCallback:()=>F(this,void 0,void 0,function*(){yield Ue(),this.disconnect()})}]}),console.timeLog(n,"send error"),h}console.timeLog(n,"sent");const c=e.type;return this.events.emit(pn[c].sent,{walletInfo:Object.assign(Object.assign({},u),{name:(t=u.name)!==null&&t!==void 0?t:"Wallet"}),extraInfo:{resetCallback:()=>F(this,void 0,void 0,function*(){this.disconnect()})}}).catch(h=>console.warn(h)),o.promise})}disconnect(){return F(this,void 0,void 0,function*(){this.postMessageTransport=void 0,this.p2pTransport=void 0,yield Promise.all([this.clearActiveAccount(),(yield this.transport).disconnect()])})}addOpenRequest(e,t){pe.log("addOpenRequest",this.name,`adding request ${e} and waiting for answer`),this.openRequests.set(e,t)}sendNotificationWithAccessToken(e){return F(this,void 0,void 0,function*(){const{url:t,recipient:n,title:r,body:o,payload:a,protocolIdentifier:l,accessToken:d}=e,u=new Date().toISOString(),c=yield this.keyPair,h=c.publicKey,w=Buffer.from(new Uint8Array([13,15,37,217])),O=yt.encode(Buffer.concat([w,Buffer.from(h)])),U=["Tezos Signed Message: ",n,r,o,u,a].join(" "),j=ft(U),V="0501"+j.length.toString(16).padStart(8,"0")+j,Y=yield Wo(V,{secretKey:Buffer.from(c.secretKey)});return(yield bo.post(`${t}/send`,{recipient:n,title:r,body:o,timestamp:u,payload:a,accessToken:d,protocolIdentifier:l,sender:{name:this.name,publicKey:O,signature:Y}})).data})}}export{Rn as C,Tc as D,Ee as N,nt as P,gt as S,Hi as T};
