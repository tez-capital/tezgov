function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/RemoteSignerSession-DWk2Dks6.js","assets/main-BG0ee8p3.js","assets/main-CJpwEAG2.css","assets/SessionBase-CLBIlJ9v.js","assets/taquito.es6-CZA_0qd1.js","assets/WalletConnectCommunicationClient-CwWhMaOS.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{e as B,B as C,D,r as d,w as I,f as U,s as h,o as b,g as A,h as t,j as n,l as x,m as y,k as P,t as E,n as L,F as k,q as m,L as z,v as F,_ as N,x as H,y as K,A as T}from"./main-BG0ee8p3.js";const u=a=>(H("data-v-d6d37f2b"),a=a(),K(),a),j={class:"center"},q={class:"card z-depth-2"},M={class:"content"},O=u(()=>t("div",{class:"icon-wrap center pv-2"},[t("i",{class:"las la-3x la-cloud"})],-1)),$=u(()=>t("div",{class:"headline pv-3"},"Connect your Remote Signer",-1)),G=u(()=>t("div",{class:"pt-1 space-1"},null,-1)),J={key:0,class:"error-text pt-2"},Q=u(()=>t("div",{class:"pv-2 space-2",style:{"grid-row":"9","grid-colum":"1"}},null,-1)),W={class:"buttons pt-0 pb-2"},X=B({__name:"RemoteSignerDialog",props:{context:{}},emits:["cancel","confirm"],setup(a,{emit:S}){const o=a,_=S,f=C("Baker Address"),g=D("Remote Signer Url"),r=d(""),c=d(""),i=d(void 0),l=d(!1);let v=!1;I(()=>o.context.active,e=>{if(e)v=!1;else{l.value=!1,i.value=void 0;return}});const V=U(()=>l.value||h(f.value,e=>e(r.value)!==!0)||h(g.value,e=>e(c.value)!==!0)),w=async()=>{try{l.value=!0;const{RemoteSession:e}=await N(()=>import("./RemoteSignerSession-DWk2Dks6.js"),__vite__mapDeps([0,1,2,3,4,5])),s=await e.create(r.value,c.value,o.context.networkId,{rpc:o.context.rpc});if(v&&s){s.logout();return}typeof o.context.confirm=="function"&&o.context.confirm(s),_("confirm",s)}catch(e){i.value=`Failed to login with ledger!
Error: ${e.message}`}finally{l.value=!1}},R=()=>{v=!0,typeof o.context.cancel=="function"&&o.context.cancel(),_("cancel")};return(e,s)=>(b(),A(F,{to:"#dialog"},[t("div",{class:m(["modal",{"modal-active":e.context.active}]),key:"remoteSignerDialog"},[t("div",j,[t("div",q,[t("div",M,[O,$,n(y,{type:"text",modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=p=>r.value=p),label:"Baker PKH",hint:"PKH of your baker",rules:x(f)},null,8,["modelValue","rules"]),n(y,{type:"text",modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=p=>c.value=p),label:"Remote Signer Url",hint:"Url pointing to your signer instance",rules:x(g)},null,8,["modelValue","rules"]),G,i.value?(b(),P("div",J,E(i.value),1)):L("",!0),Q,t("div",W,[n(k,{onClick:R,label:"Cancel"}),n(k,{class:m(["confirm-btn",{disabled:V.value}]),onClick:w,label:"Connect"},null,8,["class"])])]),t("div",{class:m(["loader-wrap",{"loader-hidden":!l.value}])},[n(z,{class:"loader","is-indeterminate":!0,label:"Please confirm operation on your ledger..."})],2)])])],2)]))}}),Z=T(X,[["__scopeId","data-v-d6d37f2b"]]);export{Z as default};
