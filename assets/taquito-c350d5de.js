import{g as jt,H as ft,T as Tt,M as Dt,R as qt,l as Ft}from"./taquito.es6-a47a8eec.js";import{B as c0,g as It,v as re,V as I0,h as Yr,i as $t,j as le,s as ve,k as Ut,a as Nt,P as M0,l as Wt,p as Lt,m as me,n as Xt,o as Gt,q as Zt,X as Qt,Y as Yt,Z as Jt}from"./taquito-utils.es6-82c03c39.js";import{c as T}from"./_commonjsHelpers-6dff16f2.js";import"./index-9aada285.js";import"./index-6f227088.js";var dt;class rn extends Error{constructor(r){super(`The map type '${r}' is invalid`),this.mapType=r,this.name="InvalidMapTypeError"}}const pt=Symbol.for("taquito-michelson-map-type-symbol"),en=b=>"args"in b&&Array.isArray(b.args)&&b.args.length===2;class ge extends Error{constructor(r,e,t){super(`${t} not compliant with underlying michelson type`),this.value=r,this.type=e,this.name="MapTypecheckError"}}class s0{constructor(r){this.valueMap=new Map,this.keyMap=new Map,this[dt]=!0,r&&this.setType(r)}static isMichelsonMap(r){return r&&r[pt]===!0}setType(r){if(!en(r))throw new rn(r.toString());this.keySchema=new L0(r.args[0]),this.valueSchema=new L0(r.args[1])}removeType(){this.keySchema=void 0,this.valueSchema=void 0}static fromLiteral(r,e){const t=new s0(e);return Object.keys(r).forEach(n=>{t.set(n,r[n])}),t}typecheckKey(r){return this.keySchema?this.keySchema.Typecheck(r):!0}typecheckValue(r){return this.valueSchema?this.valueSchema.Typecheck(r):!0}assertTypecheckValue(r){if(!this.typecheckValue(r))throw new ge(r,this.valueSchema,"value")}assertTypecheckKey(r){if(!this.typecheckKey(r))throw new ge(r,this.keySchema,"key")}serializeDeterministically(r){return jt(r)}*keys(){for(const[r]of this.entries())yield r}*values(){for(const[,r]of this.entries())yield r}*entries(){for(const r of this.valueMap.keys())yield[this.keyMap.get(r),this.valueMap.get(r)]}get(r){this.assertTypecheckKey(r);const e=this.serializeDeterministically(r);return this.valueMap.get(e)}set(r,e){this.assertTypecheckKey(r),this.assertTypecheckValue(e);const t=this.serializeDeterministically(r);this.keyMap.set(t,r),this.valueMap.set(t,e)}delete(r){this.assertTypecheckKey(r),this.keyMap.delete(this.serializeDeterministically(r)),this.valueMap.delete(this.serializeDeterministically(r))}has(r){this.assertTypecheckKey(r);const e=this.serializeDeterministically(r);return this.keyMap.has(e)&&this.valueMap.has(e)}clear(){this.keyMap.clear(),this.valueMap.clear()}get size(){return this.keyMap.size}forEach(r){for(const[e,t]of this.entries())r(t,e,this)}}dt=pt;class $ extends Error{constructor(r,e,t){super(),this.value=r,this.token=e,this.name="ValidationError";const n=this.token.annot(),s=n?`[${n}] `:"";this.message=`${s}${t}`}}class Z{constructor(r,e,t){this.val=r,this.idx=e,this.fac=t,this.createToken=this.fac}typeWithoutAnnotations(){const r=t=>{if(typeof t=="object"){if(Array.isArray(t))return t.map(l=>r(l));const n=t;return n.args?{prim:n.prim,args:n.args.map(s=>r(s))}:{prim:n.prim}}return t};return(t=>t.args?{prim:t.prim,args:t.args.map(n=>r(n))}:{prim:t.prim})(this.val)}annot(){return(Array.isArray(this.val.annots)&&this.val.annots.length>0?this.val.annots[0]:String(this.idx)).replace(/(%|:)(_Liq_entry_)?/,"")}hasAnnotations(){return Array.isArray(this.val.annots)&&this.val.annots.length}get tokenVal(){return this.val}ExtractSignature(){return[[this.ExtractSchema()]]}}class X extends Z{compare(r,e){return r===e?0:r<e?-1:1}}class ye extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="BigMapValidationError"}}class i0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}get ValueSchema(){return this.createToken(this.val.args[1],0)}get KeySchema(){return this.createToken(this.val.args[0],0)}ExtractSchema(){return{big_map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:i0.prim,schema:{key:this.KeySchema.generateSchema(),value:this.ValueSchema.generateSchema()}}}isValid(r){return s0.isMichelsonMap(r)?null:new ye(r,this,"Value must be a MichelsonMap")}objLitToMichelsonMap(r){return r instanceof s0?r:typeof r=="object"?Object.keys(r).length===0?new s0:s0.fromLiteral(r):r}Encode(r){const e=this.objLitToMichelsonMap(r.pop()),t=this.isValid(e);if(t)throw t;return Array.from(e.keys()).sort((n,s)=>this.KeySchema.compare(n,s)).map(n=>({prim:"Elt",args:[this.KeySchema.EncodeObject(n),this.ValueSchema.EncodeObject(e.get(n))]}))}EncodeObject(r,e){const t=this.objLitToMichelsonMap(r),n=this.isValid(t);if(n)throw n;return e&&e[i0.prim]?e[i0.prim](t,this.val):Array.from(t.keys()).sort((s,l)=>this.KeySchema.compare(s,l)).map(s=>({prim:"Elt",args:[this.KeySchema.EncodeObject(s),this.ValueSchema.EncodeObject(t.get(s))]}))}Execute(r,e){if(e&&e[i0.prim])return e[i0.prim](r,this.val);if(Array.isArray(r)){const t=new s0(this.val);return r.forEach(n=>{t.set(this.KeySchema.ToKey(n.args[0]),this.ValueSchema.Execute(n.args[1]))}),t}else{if("int"in r)return r.int;throw new ye(r,this,`Big map is expecting either an array (Athens) or an object with an int property (Babylon). Got ${JSON.stringify(r)}`)}}findAndReturnTokens(r,e){return i0.prim===r&&e.push(this),this.KeySchema.findAndReturnTokens(r,e),this.ValueSchema.findAndReturnTokens(r,e),e}}i0.prim="big_map";class tn extends Error{constructor(r){super(r),this.message=r,this.name="OrTokenDecodingError"}}class q extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Encode(r){const e=r[r.length-1],t=this.createToken(this.val.args[0],this.idx);let n=1;t instanceof q&&(n=Object.keys(t.ExtractSchema()).length);const s=this.createToken(this.val.args[1],this.idx+n);if(String(t.annot())===String(e)&&!(t instanceof q))return r.pop(),{prim:"Left",args:[t.Encode(r)]};if(String(s.annot())===String(e)&&!(s instanceof q))return r.pop(),{prim:"Right",args:[s.Encode(r)]};if(t instanceof q){const l=t.Encode(r);if(l)return{prim:"Left",args:[l]}}if(s instanceof q){const l=s.Encode(r);if(l)return{prim:"Right",args:[l]}}return null}ExtractSignature(){const r=this.createToken(this.val.args[0],this.idx);let e=1;r instanceof q&&(e=Object.keys(r.ExtractSchema()).length);const t=this.createToken(this.val.args[1],this.idx+e),n=[];if(r instanceof q)n.push(...r.ExtractSignature());else for(const s of r.ExtractSignature())n.push([r.annot(),...s]);if(t instanceof q)n.push(...t.ExtractSignature());else for(const s of t.ExtractSignature())n.push([t.annot(),...s]);return n}EncodeObject(r,e){const t=Object.keys(r)[0],n=this.createToken(this.val.args[0],this.idx);let s=1;n instanceof q&&(s=Object.keys(n.ExtractSchema()).length);const l=this.createToken(this.val.args[1],this.idx+s);if(String(n.annot())===String(t)&&!(n instanceof q))return{prim:"Left",args:[n.EncodeObject(r[t],e)]};if(String(l.annot())===String(t)&&!(l instanceof q))return{prim:"Right",args:[l.EncodeObject(r[t],e)]};if(n instanceof q){const f=n.EncodeObject(r,e);if(f)return{prim:"Left",args:[f]}}if(l instanceof q){const f=l.EncodeObject(r,e);if(f)return{prim:"Right",args:[f]}}return null}Execute(r,e){const t=this.createToken(this.val.args[0],this.idx);let n=1;t instanceof q&&(n=Object.keys(t.ExtractSchema()).length);const s=this.createToken(this.val.args[1],this.idx+n);if(r.prim==="Right")return s instanceof q?s.Execute(r.args[0],e):{[s.annot()]:s.Execute(r.args[0],e)};if(r.prim==="Left")return t instanceof q?t.Execute(r.args[0],e):{[t.annot()]:t.Execute(r.args[0],e)};throw new tn(`Was expecting Left or Right prim but got: ${r.prim}`)}traversal(r,e,t){const n=this.createToken(this.val.args[0],this.idx);let s=1,l;n instanceof q&&!n.hasAnnotations()?(l=r(n),s=Object.keys(n.ExtractSchema()).length):l={[n.annot()]:r(n)};const f=this.createToken(this.val.args[1],this.idx+s);let v;return f instanceof q&&!f.hasAnnotations()?v=e(f):v={[f.annot()]:e(f)},t(l,v)}ExtractSchema(){return this.traversal(r=>r.ExtractSchema(),r=>r.ExtractSchema(),(r,e)=>Object.assign(Object.assign({},r),e))}generateSchema(){return{__michelsonType:q.prim,schema:this.traversal(r=>r instanceof q&&!r.hasAnnotations()?r.generateSchema().schema:r.generateSchema(),r=>r instanceof q&&!r.hasAnnotations()?r.generateSchema().schema:r.generateSchema(),(r,e)=>Object.assign(Object.assign({},r),e))}}findToken(r){const e=this.createToken(this.val.args[0],this.idx);let t=1;e instanceof q&&(t=Object.keys(e.ExtractSchema()).length);const n=this.createToken(this.val.args[1],this.idx+t);if(String(e.annot())===String(r)&&!(e instanceof q)&&e instanceof X)return e;if(String(n.annot())===String(r)&&!(n instanceof q)&&n instanceof X)return n;if(e instanceof q){const s=e.findToken(r);if(s)return s}if(n instanceof q){const s=n.findToken(r);if(s)return s}return null}compare(r,e){const t=Object.keys(r)[0],n=Object.keys(e)[0];if(t===n){const s=this.findToken(t);if(s instanceof X)return s.compare(r[t],e[t])}else{const s=JSON.stringify(this.EncodeObject(r)),l=JSON.stringify(this.EncodeObject(e));return s<l?-1:1}}ToKey(r){return this.Execute(r)}ToBigMapKey(r){return{key:this.EncodeObject(r),type:this.typeWithoutAnnotations()}}findAndReturnTokens(r,e){return q.prim===r&&e.push(this),this.traversal(t=>t.findAndReturnTokens(r,e),t=>t.findAndReturnTokens(r,e),(t,n)=>Object.assign(Object.assign({},t),n)),e}}q.prim="or";class nn extends Error{constructor(r){super(r),this.message=r,this.name="TokenArgumentValidationError"}}class sn extends Error{constructor(r,e){super(`Tokens ${r} and ${e} are not comparable`),this.val1=r,this.val2=e,this.name="TokenComparisonError"}}function Jr(b,r=G.prim){if(Array.isArray(b))return Jr({prim:r,args:b},r);if(b.args===void 0)throw new nn("Encountered an invalid PairToken with no arguments, a pair must have two or more arguments");return b.args.length>2?[b.args[0],{prim:r,args:b.args.slice(1)}]:[b.args[0],b.args[1]]}class G extends X{constructor(r,e,t){super(Array.isArray(r)?{prim:G.prim,args:r}:r.prim?r:{prim:G.prim,args:r},e,t)}args(){return Jr(this.val)}tokens(){let r=0;return this.args().map(e=>{const t=this.createToken(e,this.idx+r);return t instanceof G?r+=Object.keys(t.ExtractSchema()).length:r++,t})}Encode(r){return{prim:"Pair",args:this.tokens().map(e=>e.Encode(r))}}ExtractSignature(){const r=this.args(),e=this.createToken(r[0],this.idx);let t=1;e instanceof q&&(t=Object.keys(e.ExtractSchema()).length);const n=this.createToken(r[1],this.idx+t),s=[];for(const l of e.ExtractSignature())for(const f of n.ExtractSignature())s.push([...l,...f]);return s}ToBigMapKey(r){return{key:this.EncodeObject(r),type:this.typeWithoutAnnotations()}}ToKey(r){return this.Execute(r)}EncodeObject(r,e){const[t,n]=this.tokens();let s;t instanceof G&&!t.hasAnnotations()?s=r:s=r[t.annot()];let l;return n instanceof G&&!n.hasAnnotations()?l=r:l=r[n.annot()],{prim:"Pair",args:[t.EncodeObject(s,e),n.EncodeObject(l,e)]}}traversal(r,e){const t=this.args(),n=this.createToken(t[0],this.idx);let s=1,l;n instanceof G&&(s=Object.keys(n.ExtractSchema()).length),n instanceof G&&!n.hasAnnotations()?l=r(n):l={[n.annot()]:r(n)};const f=this.createToken(t[1],this.idx+s);let v;return f instanceof G&&!f.hasAnnotations()?v=e(f):v={[f.annot()]:e(f)},Object.assign(Object.assign({},l),v)}Execute(r,e){const t=Jr(r,"Pair");return this.traversal(n=>n.Execute(t[0],e),n=>n.Execute(t[1],e))}ExtractSchema(){return this.traversal(r=>r.ExtractSchema(),r=>r.ExtractSchema())}generateSchema(){return{__michelsonType:G.prim,schema:this.traversal(r=>r instanceof G&&!r.hasAnnotations()?r.generateSchema().schema:r.generateSchema(),r=>r instanceof G&&!r.hasAnnotations()?r.generateSchema().schema:r.generateSchema())}}compare(r,e){const[t,n]=this.tokens(),s=(l,f)=>l instanceof G&&!l.hasAnnotations()?f:f[l.annot()];if(t instanceof X&&n instanceof X){const l=t.compare(s(t,r),s(t,e));return l===0?n.compare(s(n,r),s(n,e)):l}throw new sn(r,e)}findAndReturnTokens(r,e){return G.prim===r&&e.push(this),this.tokens().map(t=>t.findAndReturnTokens(r,e)),e}}G.prim="pair";class be extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="NatValidationError"}}class h0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r){return new c0(r[Object.keys(r)[0]])}Encode(r){const e=r.pop(),t=this.isValid(e);if(t)throw t;return{int:new c0(e).toFixed()}}isValid(r){const e=new c0(r);return e.isNaN()?new be(r,this,`Value is not a number: ${r}`):e.isNegative()?new be(r,this,`Value cannot be negative: ${r}`):null}EncodeObject(r,e){const t=this.isValid(r);if(t)throw t;return e&&e[h0.prim]?e[h0.prim](r):{int:new c0(r).toFixed()}}ExtractSchema(){return h0.prim}generateSchema(){return{__michelsonType:h0.prim,schema:h0.prim}}ToBigMapKey(r){return{key:{int:String(r)},type:{prim:h0.prim}}}ToKey({int:r}){return new c0(r)}compare(r,e){const t=Number(r),n=Number(e);return t===n?0:t<n?-1:1}findAndReturnTokens(r,e){return h0.prim===r&&e.push(this),e}}h0.prim="nat";class x0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r){return r[Object.keys(r)[0]]}ExtractSchema(){return x0.prim}generateSchema(){return{__michelsonType:x0.prim,schema:x0.prim}}Encode(r){return{string:r.pop()}}EncodeObject(r,e){return e&&e[x0.prim]?e[x0.prim](r):{string:r}}ToKey({string:r}){return r}ToBigMapKey(r){return{key:{string:r},type:{prim:x0.prim}}}findAndReturnTokens(r,e){return x0.prim===r&&e.push(this),e}}x0.prim="string";class lr extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="AddressValidationError"}}class A0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}ToBigMapKey(r){return{key:{bytes:It(r)},type:{prim:"bytes"}}}isValid(r){return re(r)!==I0.VALID?new lr(r,this,`Address is not valid: ${r}`):null}Encode(r){const e=r.pop(),t=this.isValid(e);if(t)throw t;return{string:e}}EncodeObject(r,e){const t=this.isValid(r);if(t)throw t;return e&&e[A0.prim]?e[A0.prim](r):{string:r}}Execute(r){if(r.string)return r.string;if(!r.bytes)throw new lr(r,this,`cannot be missing both string and bytes: ${r}`);return Yr(r.bytes)}ExtractSchema(){return A0.prim}generateSchema(){return{__michelsonType:A0.prim,schema:A0.prim}}ToKey({bytes:r,string:e}){if(e)return e;if(!r)throw new lr({bytes:r,string:e},this,`cannot be missing both string and bytes ${{string:e,bytes:r}}`);return Yr(r)}compare(r,e){const t=l=>l.startsWith("tz"),n=t(r),s=t(e);return n&&!s?-1:s&&!n?1:super.compare(r,e)}findAndReturnTokens(r,e){return A0.prim===r&&e.push(this),e}}A0.prim="address";class an extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="MapValidationError"}}class F0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}get ValueSchema(){return this.createToken(this.val.args[1],0)}get KeySchema(){return this.createToken(this.val.args[0],0)}isValid(r){return s0.isMichelsonMap(r)?null:new an(r,this,"Value must be a MichelsonMap")}Execute(r,e){const t=new s0(this.val);return r.forEach(n=>{t.set(this.KeySchema.ToKey(n.args[0]),this.ValueSchema.Execute(n.args[1],e))}),t}objLitToMichelsonMap(r){return r instanceof s0?r:typeof r=="object"?Object.keys(r).length===0?new s0:s0.fromLiteral(r):r}Encode(r){const e=this.objLitToMichelsonMap(r.pop()),t=this.isValid(e);if(t)throw t;return Array.from(e.keys()).sort((n,s)=>this.KeySchema.compare(n,s)).map(n=>({prim:"Elt",args:[this.KeySchema.EncodeObject(n),this.ValueSchema.EncodeObject(e.get(n))]}))}EncodeObject(r,e){const t=this.objLitToMichelsonMap(r),n=this.isValid(t);if(n)throw n;return e&&e[F0.prim]?e[F0.prim](t):Array.from(t.keys()).sort((s,l)=>this.KeySchema.compare(s,l)).map(s=>({prim:"Elt",args:[this.KeySchema.EncodeObject(s),this.ValueSchema.EncodeObject(t.get(s))]}))}ExtractSchema(){return{map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:F0.prim,schema:{key:this.KeySchema.generateSchema(),value:this.ValueSchema.generateSchema()}}}findAndReturnTokens(r,e){return F0.prim===r&&e.push(this),this.KeySchema.findAndReturnTokens(r,e),this.ValueSchema.findAndReturnTokens(r,e),e}}F0.prim="map";class u0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r){return String(r.prim).toLowerCase()==="true"}Encode(r){return{prim:r.pop()?"True":"False"}}EncodeObject(r,e){return e&&e[u0.prim]?e[u0.prim](r):{prim:r?"True":"False"}}ExtractSchema(){return u0.prim}generateSchema(){return{__michelsonType:u0.prim,schema:u0.prim}}ToBigMapKey(r){return{key:this.EncodeObject(r),type:{prim:u0.prim}}}ToKey(r){return this.EncodeObject(r)}compare(r,e){return r&&e||!r&&!e?0:r?1:-1}findAndReturnTokens(r,e){return u0.prim===r&&e.push(this),e}}u0.prim="bool";class cr extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="TxRollupL2AddressValidationError"}}class B0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}ToBigMapKey(r){return{key:{bytes:$t(r)},type:{prim:"bytes"}}}isValid(r){if(re(r)!==I0.VALID)throw new cr(r,this,`tx_rollup_l2_address is not valid: ${r}`);return null}Encode(r){const e=r.pop();if(!e)throw new cr(e,this,`arg missing to encode: this -> "${e}"`);return this.isValid(e),{string:e}}EncodeObject(r,e){return this.isValid(r),e&&e[B0.prim]?e[B0.prim](r):{string:r}}Execute(r){if(r.string)return r.string;if(!r.bytes)throw new cr(r,this,`value cannot be missing string and byte value. must have one ${JSON.stringify(r)}`);return le(r.bytes)}ExtractSchema(){return B0.prim}generateSchema(){return{__michelsonType:B0.prim,schema:B0.prim}}ToKey({bytes:r,string:e}){if(e)return e;if(!r)throw new cr(r,this,`value cannot be missing string and byte value. must have one: bytes = ${r}`);return le(r)}findAndReturnTokens(r,e){return B0.prim===r&&e.push(this),e}}B0.prim="tx_rollup_l2_address";class Ee extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="ContractValidationError"}}class r0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}isValid(r){return re(r)!==I0.VALID?new Ee(r,this,"Contract address is not valid"):null}Execute(r){if(r.string)return r.string;if(!r.bytes)throw new Ee(r,this,"must contain bytes or string");return Yr(r.bytes)}Encode(r){const e=r.pop(),t=this.isValid(e);if(t)throw t;return{string:e}}EncodeObject(r,e){const t=this.isValid(r);if(t)throw t;return e&&e[r0.prim]?e[r0.prim](r):{string:r}}ExtractSchema(){return r0.prim}generateSchema(){const r=this.createToken(this.val.args[0],0);return{__michelsonType:r0.prim,schema:{parameter:this.val.args[0]?r.generateSchema():{}}}}findAndReturnTokens(r,e){return r0.prim===r&&e.push(this),e}}r0.prim="contract";class on extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="ListValidationError"}}class K0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}get valueSchema(){return this.createToken(this.val.args[0],this.idx)}isValid(r){return Array.isArray(r)?null:new on(r,this,"Value must be an array")}Encode(r){const e=r.pop(),t=this.isValid(e);if(t)throw t;const n=this.createToken(this.val.args[0],0);return e.reduce((s,l)=>[...s,n.EncodeObject(l)],[])}Execute(r,e){const t=this.createToken(this.val.args[0],0),n=this.isValid(r);if(n)throw n;return r.reduce((s,l)=>[...s,t.Execute(l,e)],[])}EncodeObject(r,e){const t=this.createToken(this.val.args[0],0),n=this.isValid(r);if(n)throw n;return e&&e[K0.prim]?e[K0.prim](r):r.reduce((s,l)=>[...s,t.EncodeObject(l)],[])}ExtractSchema(){return{[K0.prim]:this.valueSchema.ExtractSchema()}}generateSchema(){return{__michelsonType:K0.prim,schema:this.valueSchema.generateSchema()}}findAndReturnTokens(r,e){return K0.prim===r&&e.push(this),this.createToken(this.val.args[0],this.idx).findAndReturnTokens(r,e),e}}K0.prim="list";class cn extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="MutezValidationError"}}class f0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r){return new c0(r[Object.keys(r)[0]])}ExtractSchema(){return f0.prim}generateSchema(){return{__michelsonType:f0.prim,schema:f0.prim}}isValid(r){return new c0(r).isNaN()?new cn(r,this,`Value is not a number: ${r}`):null}Encode(r){const e=r.pop(),t=this.isValid(e);if(t)throw t;return{int:String(e).toString()}}EncodeObject(r,e){const t=this.isValid(r);if(t)throw t;return e&&e[f0.prim]?e[f0.prim](r):{int:String(r).toString()}}ToBigMapKey(r){return{key:{int:String(r)},type:{prim:f0.prim}}}ToKey({int:r}){return r}compare(r,e){const t=Number(r),n=Number(e);return t===n?0:t<n?-1:1}findAndReturnTokens(r,e){return f0.prim===r&&e.push(this),e}}f0.prim="mutez";class hn extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="BytesValidationError"}}class d0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}ToBigMapKey(r){return{key:{bytes:r},type:{prim:d0.prim}}}isValid(r){return typeof r=="string"&&/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0?null:new hn(r,this,`Invalid bytes: ${r}`)}convertUint8ArrayToHexString(r){return r.constructor===Uint8Array?Buffer.from(r).toString("hex"):r}Encode(r){let e=r.pop();e=ve(this.convertUint8ArrayToHexString(e));const t=this.isValid(e);if(t)throw t;return{bytes:String(e).toString()}}EncodeObject(r,e){r=this.convertUint8ArrayToHexString(r),typeof r=="string"&&(r=ve(r));const t=this.isValid(r);if(t)throw t;return e&&e[d0.prim]?e[d0.prim](r):{bytes:String(r).toString()}}Execute(r){return r.bytes}ExtractSchema(){return d0.prim}generateSchema(){return{__michelsonType:d0.prim,schema:d0.prim}}ToKey({bytes:r,string:e}){return e||r}findAndReturnTokens(r,e){return d0.prim===r&&e.push(this),e}}d0.prim="bytes";class nr extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}subToken(){return this.createToken(this.val.args[0],this.idx)}schema(){return this.createToken(this.val.args[0],0)}annot(){return Array.isArray(this.val.annots)?super.annot():this.createToken(this.val.args[0],this.idx).annot()}Encode(r){const e=r;return e==null?{prim:"None"}:Array.isArray(e)&&(e[e.length-1]===void 0||e[e.length-1]===null)?(e.pop(),{prim:"None"}):{prim:"Some",args:[this.schema().Encode(r)]}}EncodeObject(r,e){const t=r;return t==null?{prim:"None"}:{prim:"Some",args:[this.schema().EncodeObject(t,e)]}}Execute(r,e){return r.prim==="None"?null:this.schema().Execute(r.args[0],e)}ExtractSchema(){return this.schema().ExtractSchema()}generateSchema(){return{__michelsonType:nr.prim,schema:this.schema().generateSchema()}}ExtractSignature(){return[...this.schema().ExtractSignature(),[]]}get KeySchema(){return this.schema()}compare(r,e){if(r){if(!e)return 1}else return-1;return this.KeySchema.compare(r,e)}ToKey(r){return this.Execute(r)}ToBigMapKey(r){return{key:this.EncodeObject(r),type:this.typeWithoutAnnotations()}}findAndReturnTokens(r,e){return nr.prim===r&&e.push(this),this.subToken().findAndReturnTokens(r,e),e}}nr.prim="option";class p0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r){if(r.string&&/^\d+$/.test(r.string))return new Date(Number(r.string)*1e3).toISOString();if(r.string)return new Date(r.string).toISOString();if(r.int)return new Date(Number(r.int)*1e3).toISOString()}Encode(r){const e=r.pop();return typeof e=="number"?{int:String(e)}:{string:e}}EncodeObject(r,e){return e&&e[p0.prim]?e[p0.prim](r):typeof r=="number"?{int:String(r)}:{string:r}}ExtractSchema(){return p0.prim}generateSchema(){return{__michelsonType:p0.prim,schema:p0.prim}}ToKey({string:r}){return r}ToBigMapKey(r){return{key:{string:r},type:{prim:p0.prim}}}findAndReturnTokens(r,e){return p0.prim===r&&e.push(this),e}}p0.prim="timestamp";class xn extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="IntValidationError"}}class Y extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r){return new c0(r[Object.keys(r)[0]])}ExtractSchema(){return Y.prim}generateSchema(){return{__michelsonType:Y.prim,schema:Y.prim}}isValid(r){return new c0(r).isNaN()?new xn(r,this,`Value is not a number: ${r}`):null}Encode(r){const e=r.pop(),t=this.isValid(e);if(t)throw t;return{int:new c0(e).toFixed()}}EncodeObject(r,e){const t=this.isValid(r);if(t)throw t;return e&&e[Y.prim]?e[Y.prim](r):{int:new c0(r).toFixed()}}ToBigMapKey(r){return{key:{int:String(r)},type:{prim:Y.prim}}}ToKey({int:r}){return r}compare(r,e){const t=Number(r),n=Number(e);return t===n?0:t<n?-1:1}findAndReturnTokens(r,e){return Y.prim===r&&e.push(this),e}}Y.prim="int";class l0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Encode(r){return r.pop(),{prim:"Unit"}}EncodeObject(r,e){return e&&e[l0.prim]?e[l0.prim](r):{prim:"Unit"}}Execute(r){return Ce}ExtractSchema(){return l0.prim}generateSchema(){return{__michelsonType:l0.prim,schema:l0.prim}}compare(r,e){return 0}ToKey(r){return Ce}ToBigMapKey(r){return{key:{prim:"Unit"},type:{prim:l0.prim}}}findAndReturnTokens(r,e){return l0.prim===r&&e.push(this),e}}l0.prim="unit";const un=4;class fn extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="KeyValidationError"}}class v0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r){return r.string?r.string:Ut(r.bytes)}isValid(r){return Nt(r)!==I0.VALID?new fn(r,this,"Key is not valid"):null}Encode(r){const e=r.pop(),t=this.isValid(e);if(t)throw t;return{string:e}}EncodeObject(r,e){const t=this.isValid(r);if(t)throw t;return e&&e[v0.prim]?e[v0.prim](r):{string:r}}ExtractSchema(){return v0.prim}generateSchema(){return{__michelsonType:v0.prim,schema:v0.prim}}ToKey(r){return this.Execute(r)}ToBigMapKey(r){return{key:{string:r},type:{prim:v0.prim}}}compare(r,e){const t=this.getPrefix(r),n=this.getPrefix(e);if(t===M0.EDPK&&n!==M0.EDPK)return-1;if(t===M0.SPPK&&n!==M0.SPPK)return n===M0.EDPK?1:-1;if(t===M0.P2PK){if(n!==M0.P2PK)return 1;const s=this.getP256PublicKeyComparableBytes(r),l=this.getP256PublicKeyComparableBytes(e);return Buffer.compare(s,l)}return super.compare(r,e)}getPrefix(r){return r.substring(0,un)}getP256PublicKeyComparableBytes(r){return Wt(r,Lt[M0.P2PK]).slice(1)}findAndReturnTokens(r,e){return v0.prim===r&&e.push(this),e}}v0.prim="key";class dn extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="KeyHashValidationError"}}class m0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r){return r.string?r.string:me(r.bytes)}isValid(r){return Xt(r)!==I0.VALID?new dn(r,this,`KeyHash is not valid: ${r}`):null}Encode(r){const e=r.pop(),t=this.isValid(e);if(t)throw t;return{string:e}}EncodeObject(r,e){const t=this.isValid(r);if(t)throw t;return e&&e[m0.prim]?e[m0.prim](r):{string:r}}ExtractSchema(){return m0.prim}generateSchema(){return{__michelsonType:m0.prim,schema:m0.prim}}ToKey({string:r,bytes:e}){return r||me(e)}ToBigMapKey(r){return{key:{string:r},type:{prim:m0.prim}}}findAndReturnTokens(r,e){return m0.prim===r&&e.push(this),e}}m0.prim="key_hash";class pn extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="SignatureValidationError"}}class g0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r){return r.string?r.string:r.bytes}isValid(r){return Gt(r)!==I0.VALID?new pn(r,this,"Signature is not valid"):null}Encode(r){const e=r.pop(),t=this.isValid(e);if(t)throw t;return{string:e}}EncodeObject(r,e){const t=this.isValid(r);if(t)throw t;return e&&e[g0.prim]?e[g0.prim](r):{string:r}}ExtractSchema(){return g0.prim}generateSchema(){return{__michelsonType:g0.prim,schema:g0.prim}}ToKey(r){return this.Execute(r)}ToBigMapKey(r){return{key:{string:r},type:{prim:g0.prim}}}findAndReturnTokens(r,e){return g0.prim===r&&e.push(this),e}}g0.prim="signature";class j0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}get paramSchema(){return this.createToken(this.val.args[0],this.idx)}get returnSchema(){return this.createToken(this.val.args[1],this.idx+1)}Execute(r){return r.string?r.string:r}Encode(r){return r.pop()}EncodeObject(r,e){return e&&e[j0.prim]?e[j0.prim](r):r}ExtractSchema(){return{[j0.prim]:{parameters:this.paramSchema.ExtractSchema(),returns:this.returnSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:j0.prim,schema:{parameters:this.paramSchema.generateSchema(),returns:this.returnSchema.generateSchema()}}}findAndReturnTokens(r,e){return j0.prim===r&&e.push(this),this.createToken(this.val.args[0],this.idx).findAndReturnTokens(r,e),this.createToken(this.val.args[1],this.idx).findAndReturnTokens(r,e),e}}j0.prim="lambda";class _0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r){return r.string}Encode(...r){return{string:r.pop()}}EncodeObject(r,e){return e&&e[_0.prim]?e[_0.prim](r):{string:r}}ExtractSchema(){return _0.prim}generateSchema(){return{__michelsonType:_0.prim,schema:_0.prim}}findAndReturnTokens(r,e){return _0.prim===r&&e.push(this),e}}_0.prim="operation";class ln extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="SetValidationError"}}class T0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}get KeySchema(){return this.createToken(this.val.args[0],0)}isValid(r){return Array.isArray(r)?null:new ln(r,this,"Value must be an array")}Encode(r){const e=r.pop(),t=this.isValid(e);if(t)throw t;return e.sort((n,s)=>this.KeySchema.compare(n,s)).reduce((n,s)=>[...n,this.KeySchema.EncodeObject(s)],[])}Execute(r,e){return r.reduce((t,n)=>[...t,this.KeySchema.Execute(n,e)],[])}EncodeObject(r,e){const t=this.isValid(r);if(t)throw t;return e&&e[T0.prim]?e[T0.prim](r):r.sort((n,s)=>this.KeySchema.compare(n,s)).reduce((n,s)=>[...n,this.KeySchema.EncodeObject(s)],[])}ExtractSchema(){return T0.prim}generateSchema(){return{__michelsonType:T0.prim,schema:this.KeySchema.generateSchema()}}findAndReturnTokens(r,e){return T0.prim===r&&e.push(this),this.KeySchema.findAndReturnTokens(r,e),e}}T0.prim="set";class vn extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="ChainIDValidationError"}}class y0 extends X{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}isValid(r){return Zt(r)!==I0.VALID?new vn(r,this,"ChainID is not valid"):null}Execute(r){return r[Object.keys(r)[0]]}ExtractSchema(){return y0.prim}generateSchema(){return{__michelsonType:y0.prim,schema:y0.prim}}Encode(r){const e=r.pop(),t=this.isValid(e);if(t)throw t;return{string:e}}EncodeObject(r,e){const t=this.isValid(r);if(t)throw t;return e&&e[y0.prim]?e[y0.prim](r):{string:r}}ToKey({string:r}){return r}ToBigMapKey(r){return{key:{string:r},type:{prim:y0.prim}}}findAndReturnTokens(r,e){return y0.prim===r&&e.push(this),e}}y0.prim="chain_id";class Se extends Error{constructor(){super("Tickets cannot be sent to the blockchain; they are created on-chain"),this.name="TicketEncodeError"}}const mn={prim:"contract"},gn={prim:"int"};class S0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}get valueToken(){return this.createToken(this.val.args[0],this.idx)}Encode(r){throw new Se}EncodeObject(r,e){if(e&&e[S0.prim])return e[S0.prim](r,this.val);throw new Se}Execute(r,e){if(e&&e[S0.prim])return e[S0.prim](r,this.val);const t=this.createToken(mn,this.idx),n=this.valueToken,s=this.createToken(gn,this.idx);return r.args[2]===void 0&&r.args[1].args!==void 0?{ticketer:t.Execute(r.args[0],e),value:n.Execute(r.args[1].args[0],e),amount:s.Execute(r.args[1].args[1],e)}:{ticketer:t.Execute(r.args[0],e),value:n.Execute(r.args[1],e),amount:s.Execute(r.args[2],e)}}ExtractSchema(){return{ticketer:r0.prim,value:this.valueToken.ExtractSchema(),amount:Y.prim}}generateSchema(){return{__michelsonType:S0.prim,schema:{value:this.valueToken.generateSchema(),ticketer:{__michelsonType:r0.prim,schema:r0.prim},amount:{__michelsonType:Y.prim,schema:Y.prim}}}}findAndReturnTokens(r,e){return S0.prim===r&&e.push(this),this.valueToken.findAndReturnTokens(r,e),e}}S0.prim="ticket";class we extends Error{constructor(){super("Ticket_deprecated cannot be sent to the blockchain; they are created on-chain"),this.name="TicketDeprecatedEncodeError"}}const yn={prim:"contract"},bn={prim:"int"};class w0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}get valueToken(){return this.createToken(this.val.args[0],this.idx)}Encode(r){throw new we}EncodeObject(r,e){if(e&&e[w0.prim])return e[w0.prim](r,this.val);throw new we}Execute(r,e){if(e&&e[w0.prim])return e[w0.prim](r,this.val);const t=this.createToken(yn,this.idx),n=this.valueToken,s=this.createToken(bn,this.idx);return r.args[2]===void 0&&r.args[1].args!==void 0?{ticketer:t.Execute(r.args[0],e),value:n.Execute(r.args[1].args[0],e),amount:s.Execute(r.args[1].args[1],e)}:{ticketer:t.Execute(r.args[0],e),value:n.Execute(r.args[1],e),amount:s.Execute(r.args[2],e)}}ExtractSchema(){return{ticketer:r0.prim,value:this.valueToken.ExtractSchema(),amount:Y.prim}}generateSchema(){return{__michelsonType:w0.prim,schema:{value:this.valueToken.generateSchema(),ticketer:{__michelsonType:r0.prim,schema:r0.prim},amount:{__michelsonType:Y.prim,schema:Y.prim}}}}findAndReturnTokens(r,e){return w0.prim===r&&e.push(this),this.valueToken.findAndReturnTokens(r,e),e}}w0.prim="ticket_deprecated";class vr extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="NeverTokenError"}}class C0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Encode(r){const e=r.pop();throw new vr(e,this,"Assigning a value to the type never is forbidden.")}EncodeObject(r,e){if(e&&e[C0.prim])return e[C0.prim](r);throw new vr(r,this,"Assigning a value to the type never is forbidden.")}Execute(r){throw new vr(r,this,"There is no literal value for the type never.")}ExtractSchema(){return C0.prim}generateSchema(){return{__michelsonType:C0.prim,schema:C0.prim}}findAndReturnTokens(r,e){return C0.prim===r&&e.push(this),e}}C0.prim="never";class mr extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="SaplingStateValidationError"}}class b0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}isValid(r){return typeof r=="object"&&Object.keys(r).length===0}Execute(r,e){if(e&&e[b0.prim])return e[b0.prim](r,this.val);if("int"in r)return r.int;throw new mr(r,this,`Sapling state is expecting an object with an int property. Got ${JSON.stringify(r)}`)}Encode(r){const e=r.pop();if(this.isValid(e))return[];throw new mr(e,this,`Invalid sapling_state. Received: ${e} while expecting: {}`)}EncodeObject(r,e){if(e&&e[b0.prim])return e[b0.prim](r);if(this.isValid(r))return[];throw new mr(r,this,`Invalid sapling_state. Received: ${r} while expecting: {}`)}ExtractSchema(){return{[b0.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:b0.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(r,e){return b0.prim===r&&e.push(this),e}}b0.prim="sapling_state";class Ae extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="SaplingTransactionValidationError"}}class D0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r){throw new Ae(r,this,"There is no literal value for the sapling_transaction type.")}validateBytes(r){const e=/^(0x|0X)?([0-9a-fA-F]*$)/.exec(r);if(e&&e[2].length%2===0)return e[2];throw new Ae(r,this,`Invalid bytes: ${r}`)}convertUint8ArrayToHexString(r){return r.constructor===Uint8Array?Buffer.from(r).toString("hex"):r}Encode(r){let e=r.pop();return e=this.validateBytes(this.convertUint8ArrayToHexString(e)),{bytes:String(e).toString()}}EncodeObject(r,e){return r=this.validateBytes(this.convertUint8ArrayToHexString(r)),e&&e[D0.prim]?e[D0.prim](r):{bytes:String(r).toString()}}ExtractSchema(){return{[D0.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:D0.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(r,e){return D0.prim===r&&e.push(this),e}}D0.prim="sapling_transaction";class Be extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="SaplingTransactionDeprecatedValidationError"}}class q0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r){throw new Be(r,this,"There is no literal value for the sapling_transaction_deprecated type.")}validateBytes(r){const e=/^(0x|0X)?([0-9a-fA-F]*$)/.exec(r);if(e&&e[2].length%2===0)return e[2];throw new Be(r,this,`Invalid bytes: ${r}`)}convertUint8ArrayToHexString(r){return r.constructor===Uint8Array?Buffer.from(r).toString("hex"):r}Encode(r){let e=r.pop();return e=this.validateBytes(this.convertUint8ArrayToHexString(e)),{bytes:String(e).toString()}}EncodeObject(r,e){return r=this.validateBytes(this.convertUint8ArrayToHexString(r)),e&&e[q0.prim]?e[q0.prim](r):{bytes:String(r).toString()}}ExtractSchema(){return{[q0.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:q0.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(r,e){return q0.prim===r&&e.push(this),e}}q0.prim="sapling_transaction_deprecated";class En extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="Bls12381frValidationError"}}class R0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}isValid(r){return/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0?null:new En(r,this,`Invalid bytes: ${r}`)}convertUint8ArrayToHexString(r){return r.constructor===Uint8Array?Buffer.from(r).toString("hex"):r}Encode(r){let e=r.pop();if(typeof e=="number")return{int:e.toString()};{e=this.convertUint8ArrayToHexString(e);const t=this.isValid(e);if(t)throw t;return{bytes:e}}}EncodeObject(r,e){if(e&&e[R0.prim])return e[R0.prim](r);if(typeof r=="number")return{int:r.toString()};{r=this.convertUint8ArrayToHexString(r);const t=this.isValid(r);if(t)throw t;return{bytes:r}}}Execute(r){return r.bytes}ExtractSchema(){return R0.prim}generateSchema(){return{__michelsonType:R0.prim,schema:R0.prim}}findAndReturnTokens(r,e){return R0.prim===r&&e.push(this),e}}R0.prim="bls12_381_fr";class Sn extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="Bls12381g1ValidationError"}}class H0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}isValid(r){return/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0?null:new Sn(r,this,`Invalid bytes: ${r}`)}convertUint8ArrayToHexString(r){return r.constructor===Uint8Array?Buffer.from(r).toString("hex"):r}Encode(r){let e=r.pop();e=this.convertUint8ArrayToHexString(e);const t=this.isValid(e);if(t)throw t;return{bytes:e}}EncodeObject(r,e){r=this.convertUint8ArrayToHexString(r);const t=this.isValid(r);if(t)throw t;return e&&e[H0.prim]?e[H0.prim](r):{bytes:r}}Execute(r){return r.bytes}ExtractSchema(){return H0.prim}generateSchema(){return{__michelsonType:H0.prim,schema:H0.prim}}findAndReturnTokens(r,e){return H0.prim===r&&e.push(this),e}}H0.prim="bls12_381_g1";class wn extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="Bls12381g2ValidationError"}}class V0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}isValid(r){return/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0?null:new wn(r,this,`Invalid bytes: ${r}`)}convertUint8ArrayToHexString(r){return r.constructor===Uint8Array?Buffer.from(r).toString("hex"):r}Encode(r){let e=r.pop();e=this.convertUint8ArrayToHexString(e);const t=this.isValid(e);if(t)throw t;return{bytes:e}}EncodeObject(r,e){r=this.convertUint8ArrayToHexString(r);const t=this.isValid(r);if(t)throw t;return e&&e[V0.prim]?e[V0.prim](r):{bytes:r}}Execute(r){return r.bytes}ExtractSchema(){return V0.prim}generateSchema(){return{__michelsonType:V0.prim,schema:V0.prim}}findAndReturnTokens(r,e){return V0.prim===r&&e.push(this),e}}V0.prim="bls12_381_g2";class An extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="ChestValidationError"}}class k0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}isValid(r){return/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0?null:new An(r,this,`Invalid bytes: ${r}`)}convertUint8ArrayToHexString(r){return r.constructor===Uint8Array?Buffer.from(r).toString("hex"):r}Encode(r){let e=r.pop();e=this.convertUint8ArrayToHexString(e);const t=this.isValid(e);if(t)throw t;return{bytes:e}}EncodeObject(r,e){r=this.convertUint8ArrayToHexString(r);const t=this.isValid(r);if(t)throw t;return e&&e[k0.prim]?e[k0.prim](r):{bytes:r}}Execute(r){return r.bytes}ExtractSchema(){return k0.prim}generateSchema(){return{__michelsonType:k0.prim,schema:k0.prim}}findAndReturnTokens(r,e){return k0.prim===r&&e.push(this),e}}k0.prim="chest";class Bn extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="ChestKeyValidationError"}}class z0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}isValid(r){return/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0?null:new Bn(r,this,`Invalid bytes: ${r}`)}convertUint8ArrayToHexString(r){return r.constructor===Uint8Array?Buffer.from(r).toString("hex"):r}Encode(r){let e=r.pop();e=this.convertUint8ArrayToHexString(e);const t=this.isValid(e);if(t)throw t;return{bytes:e}}EncodeObject(r,e){r=this.convertUint8ArrayToHexString(r);const t=this.isValid(r);if(t)throw t;return e&&e[z0.prim]?e[z0.prim](r):{bytes:r}}Execute(r){return r.bytes}ExtractSchema(){return z0.prim}generateSchema(){return{__michelsonType:z0.prim,schema:z0.prim}}findAndReturnTokens(r,e){return z0.prim===r&&e.push(this),e}}z0.prim="chest_key";class _e extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="GlobalConstantEncodingError"}}class _n extends ${constructor(r,e,t){super(r,e,t),this.value=r,this.token=e,this.name="GlobalConstantDecodingError"}}class E0 extends Z{constructor(r,e,t){super(r,e,t),this.val=r,this.idx=e,this.fac=t}Execute(r,e){if(e&&e[E0.prim])return e[E0.prim](r,this.val);throw new _n(r,this,`Unable to decode a value represented by a globalThis constants. Please provide an expanded script to the Michelson-Encoder or semantics for the decoding. The following globalThis constant hash was encountered: ${this.val.args[0].string}.`)}Encode(r){throw new _e(r,this,`Unable to encode a script containing globalThis constants. Please provide an expanded script to the Michelson-Encoder. The following globalThis constant hash was encountered: ${this.val.args[0].string}.`)}EncodeObject(r,e){if(e&&e[E0.prim])return e[E0.prim](r);throw new _e(r,this,`Unable to encode a script containing globalThis constants. Please provide an expanded script to the Michelson-Encoder. The following globalThis constant hash was encountered: ${this.val.args[0].string}.`)}ExtractSchema(){return E0.prim}generateSchema(){return{__michelsonType:E0.prim,schema:{hash:this.val.args[0].string}}}findAndReturnTokens(r,e){return E0.prim===r&&e.push(this),e}}E0.prim="constant";const Cn=[G,h0,x0,i0,A0,B0,F0,u0,q,r0,K0,f0,d0,nr,p0,Y,l0,v0,m0,g0,j0,_0,T0,y0,S0,w0,C0,b0,D0,q0,R0,H0,V0,k0,z0,E0];class Rn extends Error{constructor(r,e){super(r),this.message=r,this.data=e,this.name="Invalid token error"}}function xr(b,r){if(Array.isArray(b))return new G(b,r,xr);const e=Cn.find(t=>t.prim===b.prim);if(!e)throw new Rn("Malformed data expected a value with a valid prim property",b);return new e(b,r,xr)}class Hn extends Error{constructor(r){super("Invalid RPC response passed as argument(s)"),this.script=r,this.name="InvalidRpcResponseError"}}class hr extends Error{constructor(r){super(r),this.message=r,this.name="InvalidBigMapSchema"}}class Vn extends Error{constructor(r){super(r),this.message=r,this.name="InvalidBigMapDiff"}}class kn extends Error{constructor(r,e){super(`Unable to encode ${r}. ${e}`),this.obj=r,this.details=e,this.name="BigMapEncodingError"}}class zn extends Error{constructor(r,e){super(`Unable to encode ${r}. ${e}`),this.obj=r,this.details=e,this.name="StorageEncodingError"}}class On extends Error{constructor(r){super(r),this.message=r,this.name="MissingArgumentError"}}var lt;const vt=Symbol.for("taquito-schema-type-symbol");function ir(b,r=G.prim){var e,t;if(Array.isArray(b))return ir({prim:r,args:b},r);const n=b;return n.prim===r&&n.args&&n.args.length>2?Object.assign(Object.assign({},n),{args:[(e=n.args)===null||e===void 0?void 0:e[0],{prim:r,args:(t=n.args)===null||t===void 0?void 0:t.slice(1)}]}):n}function mt(b,r){const e=ir(b),t=ir(r);return e.prim===t.prim&&(e.args===void 0&&t.args===void 0||e.args!==void 0&&t.args!==void 0&&e.args.length===t.args.length&&e.args.every((n,s)=>{var l,f;return mt(n,(f=(l=t.args)===null||l===void 0?void 0:l[s])!==null&&f!==void 0?f:{})}))&&(e.annots===void 0&&t.annots===void 0||e.annots!==void 0&&t.annots!==void 0&&e.annots.length===t.annots.length&&e.annots.every((n,s)=>{var l;return n===((l=t.annots)===null||l===void 0?void 0:l[s])}))}class L0{constructor(r){if(this.val=r,this[lt]=!0,this.root=xr(r,0),this.root instanceof i0)this.bigMap=this.root;else if(this.isExpressionExtended(r)&&r.prim==="pair"){const e=r.args[0];this.isExpressionExtended(e)&&e.prim==="big_map"&&(this.bigMap=new i0(e,0,xr))}}static isSchema(r){return r&&r[vt]===!0}static fromRPCResponse(r){const e=r&&r.script&&Array.isArray(r.script.code)&&r.script.code.find(t=>{if(Array.isArray(t))this.fromRPCResponse({script:{code:t,storage:r.script.storage}});else{const n=t;return n.prim?n.prim==="storage":!1}});if(!e||!Array.isArray(e.args))throw new Hn(r.script);return new L0(e.args[0])}isExpressionExtended(r){return"prim"in r&&Array.isArray(r.args)}removeTopLevelAnnotation(r){return(this.root instanceof G||this.root instanceof q)&&this.root.hasAnnotations()&&typeof r=="object"&&Object.keys(r).length===1?r[Object.keys(r)[0]]:r}Execute(r,e){const t=this.root.Execute(r,e);return this.removeTopLevelAnnotation(t)}Typecheck(r){if(this.root instanceof i0&&Number.isInteger(Number(r))||this.root instanceof S0&&r.ticketer&&r.value&&r.amount||this.root instanceof w0&&r.ticketer&&r.value&&r.amount)return!0;try{return this.root.EncodeObject(r),!0}catch{return!1}}ExecuteOnBigMapDiff(r,e){if(!this.bigMap)throw new hr("Big map schema is undefined");if(!Array.isArray(r))throw new Vn("Big map diff must be an array");const t=r.map(({key:n,value:s})=>({args:[n,s]}));return this.bigMap.Execute(t,e)}ExecuteOnBigMapValue(r,e){if(!this.bigMap)throw new hr("No big map schema");return this.bigMap.ValueSchema.Execute(r,e)}EncodeBigMapKey(r){if(!this.bigMap)throw new hr("Big map schema is undefined");try{return this.bigMap.KeySchema.ToBigMapKey(r)}catch(e){throw new kn("big map key",e)}}Encode(r,e){try{return this.root.EncodeObject(r,e)}catch(t){throw t instanceof $?t:new zn("storage object",t)}}ExtractSchema(){return this.removeTopLevelAnnotation(this.root.ExtractSchema())}generateSchema(){return this.removeTopLevelAnnotation(this.root.generateSchema())}ComputeState(r,e){if(!this.bigMap)throw new hr("Big map schema is undefined");const t=r.reduce((n,s)=>Object.assign(Object.assign({},n),this.ExecuteOnBigMapDiff(s.contents[0].metadata.operation_result.big_map_diff)),{});return Object.assign(Object.assign({},this.Execute(e)),{[this.bigMap.annot()]:t})}FindFirstInTopLevelPair(r,e){return this.findValue(this.root.val,r,e)}findValue(r,e,t){if(mt(t,r))return e;if(Array.isArray(r)||r.prim==="pair"){const n=ir(r),s=ir(e,"Pair");if(n.args===void 0||s.args===void 0)throw new On("Tokens have no arguments");if(n.args[0])return this.findValue(n.args[0],s.args[0],t)||this.findValue(n.args[1],s.args[1],t)}}findToken(r){const e=[];return this.root.findAndReturnTokens(r,e)}}lt=vt;const Ce=Symbol();var gt={exports:{}},gr={exports:{}},Re;function D(){return Re||(Re=1,function(b,r){(function(e,t){b.exports=t()})(T,function(){var e=e||function(t,n){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof Qt=="function")try{s=Yt}catch{}var l=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},f=Object.create||function(){function c(){}return function(u){var p;return c.prototype=u,p=new c,c.prototype=null,p}}(),v={},i=v.lib={},a=i.Base=function(){return{extend:function(c){var u=f(this);return c&&u.mixIn(c),(!u.hasOwnProperty("init")||this.init===u.init)&&(u.init=function(){u.$super.init.apply(this,arguments)}),u.init.prototype=u,u.$super=this,u},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var u in c)c.hasOwnProperty(u)&&(this[u]=c[u]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),y=i.WordArray=a.extend({init:function(c,u){c=this.words=c||[],u!=n?this.sigBytes=u:this.sigBytes=c.length*4},toString:function(c){return(c||x).stringify(this)},concat:function(c){var u=this.words,p=c.words,w=this.sigBytes,A=c.sigBytes;if(this.clamp(),w%4)for(var B=0;B<A;B++){var _=p[B>>>2]>>>24-B%4*8&255;u[w+B>>>2]|=_<<24-(w+B)%4*8}else for(var O=0;O<A;O+=4)u[w+O>>>2]=p[O>>>2];return this.sigBytes+=A,this},clamp:function(){var c=this.words,u=this.sigBytes;c[u>>>2]&=4294967295<<32-u%4*8,c.length=t.ceil(u/4)},clone:function(){var c=a.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var u=[],p=0;p<c;p+=4)u.push(l());return new y.init(u,c)}}),o=v.enc={},x=o.Hex={stringify:function(c){for(var u=c.words,p=c.sigBytes,w=[],A=0;A<p;A++){var B=u[A>>>2]>>>24-A%4*8&255;w.push((B>>>4).toString(16)),w.push((B&15).toString(16))}return w.join("")},parse:function(c){for(var u=c.length,p=[],w=0;w<u;w+=2)p[w>>>3]|=parseInt(c.substr(w,2),16)<<24-w%8*4;return new y.init(p,u/2)}},h=o.Latin1={stringify:function(c){for(var u=c.words,p=c.sigBytes,w=[],A=0;A<p;A++){var B=u[A>>>2]>>>24-A%4*8&255;w.push(String.fromCharCode(B))}return w.join("")},parse:function(c){for(var u=c.length,p=[],w=0;w<u;w++)p[w>>>2]|=(c.charCodeAt(w)&255)<<24-w%4*8;return new y.init(p,u)}},d=o.Utf8={stringify:function(c){try{return decodeURIComponent(escape(h.stringify(c)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(c){return h.parse(unescape(encodeURIComponent(c)))}},m=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(c){typeof c=="string"&&(c=d.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var u,p=this._data,w=p.words,A=p.sigBytes,B=this.blockSize,_=B*4,O=A/_;c?O=t.ceil(O):O=t.max((O|0)-this._minBufferSize,0);var g=O*B,E=t.min(g*4,A);if(g){for(var R=0;R<g;R+=B)this._doProcessBlock(w,R);u=w.splice(0,g),p.sigBytes-=E}return new y.init(u,E)},clone:function(){var c=a.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0});i.Hasher=m.extend({cfg:a.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){c&&this._append(c);var u=this._doFinalize();return u},blockSize:16,_createHelper:function(c){return function(u,p){return new c.init(p).finalize(u)}},_createHmacHelper:function(c){return function(u,p){return new S.HMAC.init(c,p).finalize(u)}}});var S=v.algo={};return v}(Math);return e})}(gr)),gr.exports}var yr={exports:{}},He;function ur(){return He||(He=1,function(b,r){(function(e,t){b.exports=t(D())})(T,function(e){return function(t){var n=e,s=n.lib,l=s.Base,f=s.WordArray,v=n.x64={};v.Word=l.extend({init:function(i,a){this.high=i,this.low=a}}),v.WordArray=l.extend({init:function(i,a){i=this.words=i||[],a!=t?this.sigBytes=a:this.sigBytes=i.length*8},toX32:function(){for(var i=this.words,a=i.length,y=[],o=0;o<a;o++){var x=i[o];y.push(x.high),y.push(x.low)}return f.create(y,this.sigBytes)},clone:function(){for(var i=l.clone.call(this),a=i.words=this.words.slice(0),y=a.length,o=0;o<y;o++)a[o]=a[o].clone();return i}})}(),e})}(yr)),yr.exports}var br={exports:{}},Ve;function Pn(){return Ve||(Ve=1,function(b,r){(function(e,t){b.exports=t(D())})(T,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,n=t.lib,s=n.WordArray,l=s.init,f=s.init=function(v){if(v instanceof ArrayBuffer&&(v=new Uint8Array(v)),(v instanceof Int8Array||typeof Uint8ClampedArray<"u"&&v instanceof Uint8ClampedArray||v instanceof Int16Array||v instanceof Uint16Array||v instanceof Int32Array||v instanceof Uint32Array||v instanceof Float32Array||v instanceof Float64Array)&&(v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength)),v instanceof Uint8Array){for(var i=v.byteLength,a=[],y=0;y<i;y++)a[y>>>2]|=v[y]<<24-y%4*8;l.call(this,a,i)}else l.apply(this,arguments)};f.prototype=s}}(),e.lib.WordArray})}(br)),br.exports}var Er={exports:{}},ke;function Mn(){return ke||(ke=1,function(b,r){(function(e,t){b.exports=t(D())})(T,function(e){return function(){var t=e,n=t.lib,s=n.WordArray,l=t.enc;l.Utf16=l.Utf16BE={stringify:function(v){for(var i=v.words,a=v.sigBytes,y=[],o=0;o<a;o+=2){var x=i[o>>>2]>>>16-o%4*8&65535;y.push(String.fromCharCode(x))}return y.join("")},parse:function(v){for(var i=v.length,a=[],y=0;y<i;y++)a[y>>>1]|=v.charCodeAt(y)<<16-y%2*16;return s.create(a,i*2)}},l.Utf16LE={stringify:function(v){for(var i=v.words,a=v.sigBytes,y=[],o=0;o<a;o+=2){var x=f(i[o>>>2]>>>16-o%4*8&65535);y.push(String.fromCharCode(x))}return y.join("")},parse:function(v){for(var i=v.length,a=[],y=0;y<i;y++)a[y>>>1]|=f(v.charCodeAt(y)<<16-y%2*16);return s.create(a,i*2)}};function f(v){return v<<8&4278255360|v>>>8&16711935}}(),e.enc.Utf16})}(Er)),Er.exports}var Sr={exports:{}},ze;function X0(){return ze||(ze=1,function(b,r){(function(e,t){b.exports=t(D())})(T,function(e){return function(){var t=e,n=t.lib,s=n.WordArray,l=t.enc;l.Base64={stringify:function(v){var i=v.words,a=v.sigBytes,y=this._map;v.clamp();for(var o=[],x=0;x<a;x+=3)for(var h=i[x>>>2]>>>24-x%4*8&255,d=i[x+1>>>2]>>>24-(x+1)%4*8&255,m=i[x+2>>>2]>>>24-(x+2)%4*8&255,S=h<<16|d<<8|m,c=0;c<4&&x+c*.75<a;c++)o.push(y.charAt(S>>>6*(3-c)&63));var u=y.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(v){var i=v.length,a=this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var o=0;o<a.length;o++)y[a.charCodeAt(o)]=o}var x=a.charAt(64);if(x){var h=v.indexOf(x);h!==-1&&(i=h)}return f(v,i,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function f(v,i,a){for(var y=[],o=0,x=0;x<i;x++)if(x%4){var h=a[v.charCodeAt(x-1)]<<x%4*2,d=a[v.charCodeAt(x)]>>>6-x%4*2,m=h|d;y[o>>>2]|=m<<24-o%4*8,o++}return s.create(y,o)}}(),e.enc.Base64})}(Sr)),Sr.exports}var wr={exports:{}},Oe;function Kn(){return Oe||(Oe=1,function(b,r){(function(e,t){b.exports=t(D())})(T,function(e){return function(){var t=e,n=t.lib,s=n.WordArray,l=t.enc;l.Base64url={stringify:function(v,i=!0){var a=v.words,y=v.sigBytes,o=i?this._safe_map:this._map;v.clamp();for(var x=[],h=0;h<y;h+=3)for(var d=a[h>>>2]>>>24-h%4*8&255,m=a[h+1>>>2]>>>24-(h+1)%4*8&255,S=a[h+2>>>2]>>>24-(h+2)%4*8&255,c=d<<16|m<<8|S,u=0;u<4&&h+u*.75<y;u++)x.push(o.charAt(c>>>6*(3-u)&63));var p=o.charAt(64);if(p)for(;x.length%4;)x.push(p);return x.join("")},parse:function(v,i=!0){var a=v.length,y=i?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var x=0;x<y.length;x++)o[y.charCodeAt(x)]=x}var h=y.charAt(64);if(h){var d=v.indexOf(h);d!==-1&&(a=d)}return f(v,a,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function f(v,i,a){for(var y=[],o=0,x=0;x<i;x++)if(x%4){var h=a[v.charCodeAt(x-1)]<<x%4*2,d=a[v.charCodeAt(x)]>>>6-x%4*2,m=h|d;y[o>>>2]|=m<<24-o%4*8,o++}return s.create(y,o)}}(),e.enc.Base64url})}(wr)),wr.exports}var Ar={exports:{}},Pe;function G0(){return Pe||(Pe=1,function(b,r){(function(e,t){b.exports=t(D())})(T,function(e){return function(t){var n=e,s=n.lib,l=s.WordArray,f=s.Hasher,v=n.algo,i=[];(function(){for(var d=0;d<64;d++)i[d]=t.abs(t.sin(d+1))*4294967296|0})();var a=v.MD5=f.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(d,m){for(var S=0;S<16;S++){var c=m+S,u=d[c];d[c]=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360}var p=this._hash.words,w=d[m+0],A=d[m+1],B=d[m+2],_=d[m+3],O=d[m+4],g=d[m+5],E=d[m+6],R=d[m+7],V=d[m+8],P=d[m+9],M=d[m+10],j=d[m+11],W=d[m+12],F=d[m+13],U=d[m+14],I=d[m+15],C=p[0],k=p[1],z=p[2],H=p[3];C=y(C,k,z,H,w,7,i[0]),H=y(H,C,k,z,A,12,i[1]),z=y(z,H,C,k,B,17,i[2]),k=y(k,z,H,C,_,22,i[3]),C=y(C,k,z,H,O,7,i[4]),H=y(H,C,k,z,g,12,i[5]),z=y(z,H,C,k,E,17,i[6]),k=y(k,z,H,C,R,22,i[7]),C=y(C,k,z,H,V,7,i[8]),H=y(H,C,k,z,P,12,i[9]),z=y(z,H,C,k,M,17,i[10]),k=y(k,z,H,C,j,22,i[11]),C=y(C,k,z,H,W,7,i[12]),H=y(H,C,k,z,F,12,i[13]),z=y(z,H,C,k,U,17,i[14]),k=y(k,z,H,C,I,22,i[15]),C=o(C,k,z,H,A,5,i[16]),H=o(H,C,k,z,E,9,i[17]),z=o(z,H,C,k,j,14,i[18]),k=o(k,z,H,C,w,20,i[19]),C=o(C,k,z,H,g,5,i[20]),H=o(H,C,k,z,M,9,i[21]),z=o(z,H,C,k,I,14,i[22]),k=o(k,z,H,C,O,20,i[23]),C=o(C,k,z,H,P,5,i[24]),H=o(H,C,k,z,U,9,i[25]),z=o(z,H,C,k,_,14,i[26]),k=o(k,z,H,C,V,20,i[27]),C=o(C,k,z,H,F,5,i[28]),H=o(H,C,k,z,B,9,i[29]),z=o(z,H,C,k,R,14,i[30]),k=o(k,z,H,C,W,20,i[31]),C=x(C,k,z,H,g,4,i[32]),H=x(H,C,k,z,V,11,i[33]),z=x(z,H,C,k,j,16,i[34]),k=x(k,z,H,C,U,23,i[35]),C=x(C,k,z,H,A,4,i[36]),H=x(H,C,k,z,O,11,i[37]),z=x(z,H,C,k,R,16,i[38]),k=x(k,z,H,C,M,23,i[39]),C=x(C,k,z,H,F,4,i[40]),H=x(H,C,k,z,w,11,i[41]),z=x(z,H,C,k,_,16,i[42]),k=x(k,z,H,C,E,23,i[43]),C=x(C,k,z,H,P,4,i[44]),H=x(H,C,k,z,W,11,i[45]),z=x(z,H,C,k,I,16,i[46]),k=x(k,z,H,C,B,23,i[47]),C=h(C,k,z,H,w,6,i[48]),H=h(H,C,k,z,R,10,i[49]),z=h(z,H,C,k,U,15,i[50]),k=h(k,z,H,C,g,21,i[51]),C=h(C,k,z,H,W,6,i[52]),H=h(H,C,k,z,_,10,i[53]),z=h(z,H,C,k,M,15,i[54]),k=h(k,z,H,C,A,21,i[55]),C=h(C,k,z,H,V,6,i[56]),H=h(H,C,k,z,I,10,i[57]),z=h(z,H,C,k,E,15,i[58]),k=h(k,z,H,C,F,21,i[59]),C=h(C,k,z,H,O,6,i[60]),H=h(H,C,k,z,j,10,i[61]),z=h(z,H,C,k,B,15,i[62]),k=h(k,z,H,C,P,21,i[63]),p[0]=p[0]+C|0,p[1]=p[1]+k|0,p[2]=p[2]+z|0,p[3]=p[3]+H|0},_doFinalize:function(){var d=this._data,m=d.words,S=this._nDataBytes*8,c=d.sigBytes*8;m[c>>>5]|=128<<24-c%32;var u=t.floor(S/4294967296),p=S;m[(c+64>>>9<<4)+15]=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360,m[(c+64>>>9<<4)+14]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,d.sigBytes=(m.length+1)*4,this._process();for(var w=this._hash,A=w.words,B=0;B<4;B++){var _=A[B];A[B]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}return w},clone:function(){var d=f.clone.call(this);return d._hash=this._hash.clone(),d}});function y(d,m,S,c,u,p,w){var A=d+(m&S|~m&c)+u+w;return(A<<p|A>>>32-p)+m}function o(d,m,S,c,u,p,w){var A=d+(m&c|S&~c)+u+w;return(A<<p|A>>>32-p)+m}function x(d,m,S,c,u,p,w){var A=d+(m^S^c)+u+w;return(A<<p|A>>>32-p)+m}function h(d,m,S,c,u,p,w){var A=d+(S^(m|~c))+u+w;return(A<<p|A>>>32-p)+m}n.MD5=f._createHelper(a),n.HmacMD5=f._createHmacHelper(a)}(Math),e.MD5})}(Ar)),Ar.exports}var Br={exports:{}},Me;function ee(){return Me||(Me=1,function(b,r){(function(e,t){b.exports=t(D())})(T,function(e){return function(){var t=e,n=t.lib,s=n.WordArray,l=n.Hasher,f=t.algo,v=[],i=f.SHA1=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,y){for(var o=this._hash.words,x=o[0],h=o[1],d=o[2],m=o[3],S=o[4],c=0;c<80;c++){if(c<16)v[c]=a[y+c]|0;else{var u=v[c-3]^v[c-8]^v[c-14]^v[c-16];v[c]=u<<1|u>>>31}var p=(x<<5|x>>>27)+S+v[c];c<20?p+=(h&d|~h&m)+1518500249:c<40?p+=(h^d^m)+1859775393:c<60?p+=(h&d|h&m|d&m)-1894007588:p+=(h^d^m)-899497514,S=m,m=d,d=h<<30|h>>>2,h=x,x=p}o[0]=o[0]+x|0,o[1]=o[1]+h|0,o[2]=o[2]+d|0,o[3]=o[3]+m|0,o[4]=o[4]+S|0},_doFinalize:function(){var a=this._data,y=a.words,o=this._nDataBytes*8,x=a.sigBytes*8;return y[x>>>5]|=128<<24-x%32,y[(x+64>>>9<<4)+14]=Math.floor(o/4294967296),y[(x+64>>>9<<4)+15]=o,a.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var a=l.clone.call(this);return a._hash=this._hash.clone(),a}});t.SHA1=l._createHelper(i),t.HmacSHA1=l._createHmacHelper(i)}(),e.SHA1})}(Br)),Br.exports}var _r={exports:{}},Ke;function yt(){return Ke||(Ke=1,function(b,r){(function(e,t){b.exports=t(D())})(T,function(e){return function(t){var n=e,s=n.lib,l=s.WordArray,f=s.Hasher,v=n.algo,i=[],a=[];(function(){function x(S){for(var c=t.sqrt(S),u=2;u<=c;u++)if(!(S%u))return!1;return!0}function h(S){return(S-(S|0))*4294967296|0}for(var d=2,m=0;m<64;)x(d)&&(m<8&&(i[m]=h(t.pow(d,1/2))),a[m]=h(t.pow(d,1/3)),m++),d++})();var y=[],o=v.SHA256=f.extend({_doReset:function(){this._hash=new l.init(i.slice(0))},_doProcessBlock:function(x,h){for(var d=this._hash.words,m=d[0],S=d[1],c=d[2],u=d[3],p=d[4],w=d[5],A=d[6],B=d[7],_=0;_<64;_++){if(_<16)y[_]=x[h+_]|0;else{var O=y[_-15],g=(O<<25|O>>>7)^(O<<14|O>>>18)^O>>>3,E=y[_-2],R=(E<<15|E>>>17)^(E<<13|E>>>19)^E>>>10;y[_]=g+y[_-7]+R+y[_-16]}var V=p&w^~p&A,P=m&S^m&c^S&c,M=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),j=(p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25),W=B+j+V+a[_]+y[_],F=M+P;B=A,A=w,w=p,p=u+W|0,u=c,c=S,S=m,m=W+F|0}d[0]=d[0]+m|0,d[1]=d[1]+S|0,d[2]=d[2]+c|0,d[3]=d[3]+u|0,d[4]=d[4]+p|0,d[5]=d[5]+w|0,d[6]=d[6]+A|0,d[7]=d[7]+B|0},_doFinalize:function(){var x=this._data,h=x.words,d=this._nDataBytes*8,m=x.sigBytes*8;return h[m>>>5]|=128<<24-m%32,h[(m+64>>>9<<4)+14]=t.floor(d/4294967296),h[(m+64>>>9<<4)+15]=d,x.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var x=f.clone.call(this);return x._hash=this._hash.clone(),x}});n.SHA256=f._createHelper(o),n.HmacSHA256=f._createHmacHelper(o)}(Math),e.SHA256})}(_r)),_r.exports}var Cr={exports:{}},je;function jn(){return je||(je=1,function(b,r){(function(e,t,n){b.exports=t(D(),yt())})(T,function(e){return function(){var t=e,n=t.lib,s=n.WordArray,l=t.algo,f=l.SHA256,v=l.SHA224=f.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var i=f._doFinalize.call(this);return i.sigBytes-=4,i}});t.SHA224=f._createHelper(v),t.HmacSHA224=f._createHmacHelper(v)}(),e.SHA224})}(Cr)),Cr.exports}var Rr={exports:{}},Te;function bt(){return Te||(Te=1,function(b,r){(function(e,t,n){b.exports=t(D(),ur())})(T,function(e){return function(){var t=e,n=t.lib,s=n.Hasher,l=t.x64,f=l.Word,v=l.WordArray,i=t.algo;function a(){return f.create.apply(f,arguments)}var y=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],o=[];(function(){for(var h=0;h<80;h++)o[h]=a()})();var x=i.SHA512=s.extend({_doReset:function(){this._hash=new v.init([new f.init(1779033703,4089235720),new f.init(3144134277,2227873595),new f.init(1013904242,4271175723),new f.init(2773480762,1595750129),new f.init(1359893119,2917565137),new f.init(2600822924,725511199),new f.init(528734635,4215389547),new f.init(1541459225,327033209)])},_doProcessBlock:function(h,d){for(var m=this._hash.words,S=m[0],c=m[1],u=m[2],p=m[3],w=m[4],A=m[5],B=m[6],_=m[7],O=S.high,g=S.low,E=c.high,R=c.low,V=u.high,P=u.low,M=p.high,j=p.low,W=w.high,F=w.low,U=A.high,I=A.low,C=B.high,k=B.low,z=_.high,H=_.low,L=O,N=g,J=E,K=R,Z0=V,U0=P,dr=M,Q0=j,a0=W,e0=F,sr=U,Y0=I,ar=C,J0=k,pr=z,rr=H,o0=0;o0<80;o0++){var n0,O0,or=o[o0];if(o0<16)O0=or.high=h[d+o0*2]|0,n0=or.low=h[d+o0*2+1]|0;else{var ne=o[o0-15],N0=ne.high,er=ne.low,At=(N0>>>1|er<<31)^(N0>>>8|er<<24)^N0>>>7,ie=(er>>>1|N0<<31)^(er>>>8|N0<<24)^(er>>>7|N0<<25),se=o[o0-2],W0=se.high,tr=se.low,Bt=(W0>>>19|tr<<13)^(W0<<3|tr>>>29)^W0>>>6,ae=(tr>>>19|W0<<13)^(tr<<3|W0>>>29)^(tr>>>6|W0<<26),oe=o[o0-7],_t=oe.high,Ct=oe.low,ce=o[o0-16],Rt=ce.high,he=ce.low;n0=ie+Ct,O0=At+_t+(n0>>>0<ie>>>0?1:0),n0=n0+ae,O0=O0+Bt+(n0>>>0<ae>>>0?1:0),n0=n0+he,O0=O0+Rt+(n0>>>0<he>>>0?1:0),or.high=O0,or.low=n0}var Ht=a0&sr^~a0&ar,xe=e0&Y0^~e0&J0,Vt=L&J^L&Z0^J&Z0,kt=N&K^N&U0^K&U0,zt=(L>>>28|N<<4)^(L<<30|N>>>2)^(L<<25|N>>>7),ue=(N>>>28|L<<4)^(N<<30|L>>>2)^(N<<25|L>>>7),Ot=(a0>>>14|e0<<18)^(a0>>>18|e0<<14)^(a0<<23|e0>>>9),Pt=(e0>>>14|a0<<18)^(e0>>>18|a0<<14)^(e0<<23|a0>>>9),fe=y[o0],Mt=fe.high,de=fe.low,t0=rr+Pt,P0=pr+Ot+(t0>>>0<rr>>>0?1:0),t0=t0+xe,P0=P0+Ht+(t0>>>0<xe>>>0?1:0),t0=t0+de,P0=P0+Mt+(t0>>>0<de>>>0?1:0),t0=t0+n0,P0=P0+O0+(t0>>>0<n0>>>0?1:0),pe=ue+kt,Kt=zt+Vt+(pe>>>0<ue>>>0?1:0);pr=ar,rr=J0,ar=sr,J0=Y0,sr=a0,Y0=e0,e0=Q0+t0|0,a0=dr+P0+(e0>>>0<Q0>>>0?1:0)|0,dr=Z0,Q0=U0,Z0=J,U0=K,J=L,K=N,N=t0+pe|0,L=P0+Kt+(N>>>0<t0>>>0?1:0)|0}g=S.low=g+N,S.high=O+L+(g>>>0<N>>>0?1:0),R=c.low=R+K,c.high=E+J+(R>>>0<K>>>0?1:0),P=u.low=P+U0,u.high=V+Z0+(P>>>0<U0>>>0?1:0),j=p.low=j+Q0,p.high=M+dr+(j>>>0<Q0>>>0?1:0),F=w.low=F+e0,w.high=W+a0+(F>>>0<e0>>>0?1:0),I=A.low=I+Y0,A.high=U+sr+(I>>>0<Y0>>>0?1:0),k=B.low=k+J0,B.high=C+ar+(k>>>0<J0>>>0?1:0),H=_.low=H+rr,_.high=z+pr+(H>>>0<rr>>>0?1:0)},_doFinalize:function(){var h=this._data,d=h.words,m=this._nDataBytes*8,S=h.sigBytes*8;d[S>>>5]|=128<<24-S%32,d[(S+128>>>10<<5)+30]=Math.floor(m/4294967296),d[(S+128>>>10<<5)+31]=m,h.sigBytes=d.length*4,this._process();var c=this._hash.toX32();return c},clone:function(){var h=s.clone.call(this);return h._hash=this._hash.clone(),h},blockSize:1024/32});t.SHA512=s._createHelper(x),t.HmacSHA512=s._createHmacHelper(x)}(),e.SHA512})}(Rr)),Rr.exports}var Hr={exports:{}},De;function Tn(){return De||(De=1,function(b,r){(function(e,t,n){b.exports=t(D(),ur(),bt())})(T,function(e){return function(){var t=e,n=t.x64,s=n.Word,l=n.WordArray,f=t.algo,v=f.SHA512,i=f.SHA384=v.extend({_doReset:function(){this._hash=new l.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var a=v._doFinalize.call(this);return a.sigBytes-=16,a}});t.SHA384=v._createHelper(i),t.HmacSHA384=v._createHmacHelper(i)}(),e.SHA384})}(Hr)),Hr.exports}var Vr={exports:{}},qe;function Dn(){return qe||(qe=1,function(b,r){(function(e,t,n){b.exports=t(D(),ur())})(T,function(e){return function(t){var n=e,s=n.lib,l=s.WordArray,f=s.Hasher,v=n.x64,i=v.Word,a=n.algo,y=[],o=[],x=[];(function(){for(var m=1,S=0,c=0;c<24;c++){y[m+5*S]=(c+1)*(c+2)/2%64;var u=S%5,p=(2*m+3*S)%5;m=u,S=p}for(var m=0;m<5;m++)for(var S=0;S<5;S++)o[m+5*S]=S+(2*m+3*S)%5*5;for(var w=1,A=0;A<24;A++){for(var B=0,_=0,O=0;O<7;O++){if(w&1){var g=(1<<O)-1;g<32?_^=1<<g:B^=1<<g-32}w&128?w=w<<1^113:w<<=1}x[A]=i.create(B,_)}})();var h=[];(function(){for(var m=0;m<25;m++)h[m]=i.create()})();var d=a.SHA3=f.extend({cfg:f.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],S=0;S<25;S++)m[S]=new i.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,S){for(var c=this._state,u=this.blockSize/2,p=0;p<u;p++){var w=m[S+2*p],A=m[S+2*p+1];w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360;var B=c[p];B.high^=A,B.low^=w}for(var _=0;_<24;_++){for(var O=0;O<5;O++){for(var g=0,E=0,R=0;R<5;R++){var B=c[O+5*R];g^=B.high,E^=B.low}var V=h[O];V.high=g,V.low=E}for(var O=0;O<5;O++)for(var P=h[(O+4)%5],M=h[(O+1)%5],j=M.high,W=M.low,g=P.high^(j<<1|W>>>31),E=P.low^(W<<1|j>>>31),R=0;R<5;R++){var B=c[O+5*R];B.high^=g,B.low^=E}for(var F=1;F<25;F++){var g,E,B=c[F],U=B.high,I=B.low,C=y[F];C<32?(g=U<<C|I>>>32-C,E=I<<C|U>>>32-C):(g=I<<C-32|U>>>64-C,E=U<<C-32|I>>>64-C);var k=h[o[F]];k.high=g,k.low=E}var z=h[0],H=c[0];z.high=H.high,z.low=H.low;for(var O=0;O<5;O++)for(var R=0;R<5;R++){var F=O+5*R,B=c[F],L=h[F],N=h[(O+1)%5+5*R],J=h[(O+2)%5+5*R];B.high=L.high^~N.high&J.high,B.low=L.low^~N.low&J.low}var B=c[0],K=x[_];B.high^=K.high,B.low^=K.low}},_doFinalize:function(){var m=this._data,S=m.words;this._nDataBytes*8;var c=m.sigBytes*8,u=this.blockSize*32;S[c>>>5]|=1<<24-c%32,S[(t.ceil((c+1)/u)*u>>>5)-1]|=128,m.sigBytes=S.length*4,this._process();for(var p=this._state,w=this.cfg.outputLength/8,A=w/8,B=[],_=0;_<A;_++){var O=p[_],g=O.high,E=O.low;g=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,B.push(E),B.push(g)}return new l.init(B,w)},clone:function(){for(var m=f.clone.call(this),S=m._state=this._state.slice(0),c=0;c<25;c++)S[c]=S[c].clone();return m}});n.SHA3=f._createHelper(d),n.HmacSHA3=f._createHmacHelper(d)}(Math),e.SHA3})}(Vr)),Vr.exports}var kr={exports:{}},Fe;function qn(){return Fe||(Fe=1,function(b,r){(function(e,t){b.exports=t(D())})(T,function(e){return function(t){var n=e,s=n.lib,l=s.WordArray,f=s.Hasher,v=n.algo,i=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),y=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),o=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=l.create([0,1518500249,1859775393,2400959708,2840853838]),h=l.create([1352829926,1548603684,1836072691,2053994217,0]),d=v.RIPEMD160=f.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,B){for(var _=0;_<16;_++){var O=B+_,g=A[O];A[O]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var E=this._hash.words,R=x.words,V=h.words,P=i.words,M=a.words,j=y.words,W=o.words,F,U,I,C,k,z,H,L,N,J;z=F=E[0],H=U=E[1],L=I=E[2],N=C=E[3],J=k=E[4];for(var K,_=0;_<80;_+=1)K=F+A[B+P[_]]|0,_<16?K+=m(U,I,C)+R[0]:_<32?K+=S(U,I,C)+R[1]:_<48?K+=c(U,I,C)+R[2]:_<64?K+=u(U,I,C)+R[3]:K+=p(U,I,C)+R[4],K=K|0,K=w(K,j[_]),K=K+k|0,F=k,k=C,C=w(I,10),I=U,U=K,K=z+A[B+M[_]]|0,_<16?K+=p(H,L,N)+V[0]:_<32?K+=u(H,L,N)+V[1]:_<48?K+=c(H,L,N)+V[2]:_<64?K+=S(H,L,N)+V[3]:K+=m(H,L,N)+V[4],K=K|0,K=w(K,W[_]),K=K+J|0,z=J,J=N,N=w(L,10),L=H,H=K;K=E[1]+I+N|0,E[1]=E[2]+C+J|0,E[2]=E[3]+k+z|0,E[3]=E[4]+F+H|0,E[4]=E[0]+U+L|0,E[0]=K},_doFinalize:function(){var A=this._data,B=A.words,_=this._nDataBytes*8,O=A.sigBytes*8;B[O>>>5]|=128<<24-O%32,B[(O+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,A.sigBytes=(B.length+1)*4,this._process();for(var g=this._hash,E=g.words,R=0;R<5;R++){var V=E[R];E[R]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}return g},clone:function(){var A=f.clone.call(this);return A._hash=this._hash.clone(),A}});function m(A,B,_){return A^B^_}function S(A,B,_){return A&B|~A&_}function c(A,B,_){return(A|~B)^_}function u(A,B,_){return A&_|B&~_}function p(A,B,_){return A^(B|~_)}function w(A,B){return A<<B|A>>>32-B}n.RIPEMD160=f._createHelper(d),n.HmacRIPEMD160=f._createHmacHelper(d)}(),e.RIPEMD160})}(kr)),kr.exports}var zr={exports:{}},Ie;function te(){return Ie||(Ie=1,function(b,r){(function(e,t){b.exports=t(D())})(T,function(e){(function(){var t=e,n=t.lib,s=n.Base,l=t.enc,f=l.Utf8,v=t.algo;v.HMAC=s.extend({init:function(i,a){i=this._hasher=new i.init,typeof a=="string"&&(a=f.parse(a));var y=i.blockSize,o=y*4;a.sigBytes>o&&(a=i.finalize(a)),a.clamp();for(var x=this._oKey=a.clone(),h=this._iKey=a.clone(),d=x.words,m=h.words,S=0;S<y;S++)d[S]^=1549556828,m[S]^=909522486;x.sigBytes=h.sigBytes=o,this.reset()},reset:function(){var i=this._hasher;i.reset(),i.update(this._iKey)},update:function(i){return this._hasher.update(i),this},finalize:function(i){var a=this._hasher,y=a.finalize(i);a.reset();var o=a.finalize(this._oKey.clone().concat(y));return o}})})()})}(zr)),zr.exports}var Or={exports:{}},$e;function Fn(){return $e||($e=1,function(b,r){(function(e,t,n){b.exports=t(D(),ee(),te())})(T,function(e){return function(){var t=e,n=t.lib,s=n.Base,l=n.WordArray,f=t.algo,v=f.SHA1,i=f.HMAC,a=f.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:v,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,o){for(var x=this.cfg,h=i.create(x.hasher,y),d=l.create(),m=l.create([1]),S=d.words,c=m.words,u=x.keySize,p=x.iterations;S.length<u;){var w=h.update(o).finalize(m);h.reset();for(var A=w.words,B=A.length,_=w,O=1;O<p;O++){_=h.finalize(_),h.reset();for(var g=_.words,E=0;E<B;E++)A[E]^=g[E]}d.concat(w),c[0]++}return d.sigBytes=u*4,d}});t.PBKDF2=function(y,o,x){return a.create(x).compute(y,o)}}(),e.PBKDF2})}(Or)),Or.exports}var Pr={exports:{}},Ue;function $0(){return Ue||(Ue=1,function(b,r){(function(e,t,n){b.exports=t(D(),ee(),te())})(T,function(e){return function(){var t=e,n=t.lib,s=n.Base,l=n.WordArray,f=t.algo,v=f.MD5,i=f.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:v,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,y){for(var o,x=this.cfg,h=x.hasher.create(),d=l.create(),m=d.words,S=x.keySize,c=x.iterations;m.length<S;){o&&h.update(o),o=h.update(a).finalize(y),h.reset();for(var u=1;u<c;u++)o=h.finalize(o),h.reset();d.concat(o)}return d.sigBytes=S*4,d}});t.EvpKDF=function(a,y,o){return i.create(o).compute(a,y)}}(),e.EvpKDF})}(Pr)),Pr.exports}var Mr={exports:{}},Ne;function Q(){return Ne||(Ne=1,function(b,r){(function(e,t,n){b.exports=t(D(),$0())})(T,function(e){e.lib.Cipher||function(t){var n=e,s=n.lib,l=s.Base,f=s.WordArray,v=s.BufferedBlockAlgorithm,i=n.enc;i.Utf8;var a=i.Base64,y=n.algo,o=y.EvpKDF,x=s.Cipher=v.extend({cfg:l.extend(),createEncryptor:function(g,E){return this.create(this._ENC_XFORM_MODE,g,E)},createDecryptor:function(g,E){return this.create(this._DEC_XFORM_MODE,g,E)},init:function(g,E,R){this.cfg=this.cfg.extend(R),this._xformMode=g,this._key=E,this.reset()},reset:function(){v.reset.call(this),this._doReset()},process:function(g){return this._append(g),this._process()},finalize:function(g){g&&this._append(g);var E=this._doFinalize();return E},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function g(E){return typeof E=="string"?O:A}return function(E){return{encrypt:function(R,V,P){return g(V).encrypt(E,R,V,P)},decrypt:function(R,V,P){return g(V).decrypt(E,R,V,P)}}}}()});s.StreamCipher=x.extend({_doFinalize:function(){var g=this._process(!0);return g},blockSize:1});var h=n.mode={},d=s.BlockCipherMode=l.extend({createEncryptor:function(g,E){return this.Encryptor.create(g,E)},createDecryptor:function(g,E){return this.Decryptor.create(g,E)},init:function(g,E){this._cipher=g,this._iv=E}}),m=h.CBC=function(){var g=d.extend();g.Encryptor=g.extend({processBlock:function(R,V){var P=this._cipher,M=P.blockSize;E.call(this,R,V,M),P.encryptBlock(R,V),this._prevBlock=R.slice(V,V+M)}}),g.Decryptor=g.extend({processBlock:function(R,V){var P=this._cipher,M=P.blockSize,j=R.slice(V,V+M);P.decryptBlock(R,V),E.call(this,R,V,M),this._prevBlock=j}});function E(R,V,P){var M,j=this._iv;j?(M=j,this._iv=t):M=this._prevBlock;for(var W=0;W<P;W++)R[V+W]^=M[W]}return g}(),S=n.pad={},c=S.Pkcs7={pad:function(g,E){for(var R=E*4,V=R-g.sigBytes%R,P=V<<24|V<<16|V<<8|V,M=[],j=0;j<V;j+=4)M.push(P);var W=f.create(M,V);g.concat(W)},unpad:function(g){var E=g.words[g.sigBytes-1>>>2]&255;g.sigBytes-=E}};s.BlockCipher=x.extend({cfg:x.cfg.extend({mode:m,padding:c}),reset:function(){var g;x.reset.call(this);var E=this.cfg,R=E.iv,V=E.mode;this._xformMode==this._ENC_XFORM_MODE?g=V.createEncryptor:(g=V.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==g?this._mode.init(this,R&&R.words):(this._mode=g.call(V,this,R&&R.words),this._mode.__creator=g)},_doProcessBlock:function(g,E){this._mode.processBlock(g,E)},_doFinalize:function(){var g,E=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(E.pad(this._data,this.blockSize),g=this._process(!0)):(g=this._process(!0),E.unpad(g)),g},blockSize:128/32});var u=s.CipherParams=l.extend({init:function(g){this.mixIn(g)},toString:function(g){return(g||this.formatter).stringify(this)}}),p=n.format={},w=p.OpenSSL={stringify:function(g){var E,R=g.ciphertext,V=g.salt;return V?E=f.create([1398893684,1701076831]).concat(V).concat(R):E=R,E.toString(a)},parse:function(g){var E,R=a.parse(g),V=R.words;return V[0]==1398893684&&V[1]==1701076831&&(E=f.create(V.slice(2,4)),V.splice(0,4),R.sigBytes-=16),u.create({ciphertext:R,salt:E})}},A=s.SerializableCipher=l.extend({cfg:l.extend({format:w}),encrypt:function(g,E,R,V){V=this.cfg.extend(V);var P=g.createEncryptor(R,V),M=P.finalize(E),j=P.cfg;return u.create({ciphertext:M,key:R,iv:j.iv,algorithm:g,mode:j.mode,padding:j.padding,blockSize:g.blockSize,formatter:V.format})},decrypt:function(g,E,R,V){V=this.cfg.extend(V),E=this._parse(E,V.format);var P=g.createDecryptor(R,V).finalize(E.ciphertext);return P},_parse:function(g,E){return typeof g=="string"?E.parse(g,this):g}}),B=n.kdf={},_=B.OpenSSL={execute:function(g,E,R,V){V||(V=f.random(64/8));var P=o.create({keySize:E+R}).compute(g,V),M=f.create(P.words.slice(E),R*4);return P.sigBytes=E*4,u.create({key:P,iv:M,salt:V})}},O=s.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:_}),encrypt:function(g,E,R,V){V=this.cfg.extend(V);var P=V.kdf.execute(R,g.keySize,g.ivSize);V.iv=P.iv;var M=A.encrypt.call(this,g,E,P.key,V);return M.mixIn(P),M},decrypt:function(g,E,R,V){V=this.cfg.extend(V),E=this._parse(E,V.format);var P=V.kdf.execute(R,g.keySize,g.ivSize,E.salt);V.iv=P.iv;var M=A.decrypt.call(this,g,E,P.key,V);return M}})}()})}(Mr)),Mr.exports}var Kr={exports:{}},We;function In(){return We||(We=1,function(b,r){(function(e,t,n){b.exports=t(D(),Q())})(T,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(s,l){var f=this._cipher,v=f.blockSize;n.call(this,s,l,v,f),this._prevBlock=s.slice(l,l+v)}}),t.Decryptor=t.extend({processBlock:function(s,l){var f=this._cipher,v=f.blockSize,i=s.slice(l,l+v);n.call(this,s,l,v,f),this._prevBlock=i}});function n(s,l,f,v){var i,a=this._iv;a?(i=a.slice(0),this._iv=void 0):i=this._prevBlock,v.encryptBlock(i,0);for(var y=0;y<f;y++)s[l+y]^=i[y]}return t}(),e.mode.CFB})}(Kr)),Kr.exports}var jr={exports:{}},Le;function $n(){return Le||(Le=1,function(b,r){(function(e,t,n){b.exports=t(D(),Q())})(T,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(s,l){var f=this._cipher,v=f.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0);var y=a.slice(0);f.encryptBlock(y,0),a[v-1]=a[v-1]+1|0;for(var o=0;o<v;o++)s[l+o]^=y[o]}});return t.Decryptor=n,t}(),e.mode.CTR})}(jr)),jr.exports}var Tr={exports:{}},Xe;function Un(){return Xe||(Xe=1,function(b,r){(function(e,t,n){b.exports=t(D(),Q())})(T,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(f){if((f>>24&255)===255){var v=f>>16&255,i=f>>8&255,a=f&255;v===255?(v=0,i===255?(i=0,a===255?a=0:++a):++i):++v,f=0,f+=v<<16,f+=i<<8,f+=a}else f+=1<<24;return f}function s(f){return(f[0]=n(f[0]))===0&&(f[1]=n(f[1])),f}var l=t.Encryptor=t.extend({processBlock:function(f,v){var i=this._cipher,a=i.blockSize,y=this._iv,o=this._counter;y&&(o=this._counter=y.slice(0),this._iv=void 0),s(o);var x=o.slice(0);i.encryptBlock(x,0);for(var h=0;h<a;h++)f[v+h]^=x[h]}});return t.Decryptor=l,t}(),e.mode.CTRGladman})}(Tr)),Tr.exports}var Dr={exports:{}},Ge;function Nn(){return Ge||(Ge=1,function(b,r){(function(e,t,n){b.exports=t(D(),Q())})(T,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(s,l){var f=this._cipher,v=f.blockSize,i=this._iv,a=this._keystream;i&&(a=this._keystream=i.slice(0),this._iv=void 0),f.encryptBlock(a,0);for(var y=0;y<v;y++)s[l+y]^=a[y]}});return t.Decryptor=n,t}(),e.mode.OFB})}(Dr)),Dr.exports}var qr={exports:{}},Ze;function Wn(){return Ze||(Ze=1,function(b,r){(function(e,t,n){b.exports=t(D(),Q())})(T,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(n,s){this._cipher.encryptBlock(n,s)}}),t.Decryptor=t.extend({processBlock:function(n,s){this._cipher.decryptBlock(n,s)}}),t}(),e.mode.ECB})}(qr)),qr.exports}var Fr={exports:{}},Qe;function Ln(){return Qe||(Qe=1,function(b,r){(function(e,t,n){b.exports=t(D(),Q())})(T,function(e){return e.pad.AnsiX923={pad:function(t,n){var s=t.sigBytes,l=n*4,f=l-s%l,v=s+f-1;t.clamp(),t.words[v>>>2]|=f<<24-v%4*8,t.sigBytes+=f},unpad:function(t){var n=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=n}},e.pad.Ansix923})}(Fr)),Fr.exports}var Ir={exports:{}},Ye;function Xn(){return Ye||(Ye=1,function(b,r){(function(e,t,n){b.exports=t(D(),Q())})(T,function(e){return e.pad.Iso10126={pad:function(t,n){var s=n*4,l=s-t.sigBytes%s;t.concat(e.lib.WordArray.random(l-1)).concat(e.lib.WordArray.create([l<<24],1))},unpad:function(t){var n=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=n}},e.pad.Iso10126})}(Ir)),Ir.exports}var $r={exports:{}},Je;function Gn(){return Je||(Je=1,function(b,r){(function(e,t,n){b.exports=t(D(),Q())})(T,function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})}($r)),$r.exports}var Ur={exports:{}},rt;function Zn(){return rt||(rt=1,function(b,r){(function(e,t,n){b.exports=t(D(),Q())})(T,function(e){return e.pad.ZeroPadding={pad:function(t,n){var s=n*4;t.clamp(),t.sigBytes+=s-(t.sigBytes%s||s)},unpad:function(t){for(var n=t.words,s=t.sigBytes-1,s=t.sigBytes-1;s>=0;s--)if(n[s>>>2]>>>24-s%4*8&255){t.sigBytes=s+1;break}}},e.pad.ZeroPadding})}(Ur)),Ur.exports}var Nr={exports:{}},et;function Qn(){return et||(et=1,function(b,r){(function(e,t,n){b.exports=t(D(),Q())})(T,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})}(Nr)),Nr.exports}var Wr={exports:{}},tt;function Yn(){return tt||(tt=1,function(b,r){(function(e,t,n){b.exports=t(D(),Q())})(T,function(e){return function(t){var n=e,s=n.lib,l=s.CipherParams,f=n.enc,v=f.Hex,i=n.format;i.Hex={stringify:function(a){return a.ciphertext.toString(v)},parse:function(a){var y=v.parse(a);return l.create({ciphertext:y})}}}(),e.format.Hex})}(Wr)),Wr.exports}var Lr={exports:{}},nt;function Jn(){return nt||(nt=1,function(b,r){(function(e,t,n){b.exports=t(D(),X0(),G0(),$0(),Q())})(T,function(e){return function(){var t=e,n=t.lib,s=n.BlockCipher,l=t.algo,f=[],v=[],i=[],a=[],y=[],o=[],x=[],h=[],d=[],m=[];(function(){for(var u=[],p=0;p<256;p++)p<128?u[p]=p<<1:u[p]=p<<1^283;for(var w=0,A=0,p=0;p<256;p++){var B=A^A<<1^A<<2^A<<3^A<<4;B=B>>>8^B&255^99,f[w]=B,v[B]=w;var _=u[w],O=u[_],g=u[O],E=u[B]*257^B*16843008;i[w]=E<<24|E>>>8,a[w]=E<<16|E>>>16,y[w]=E<<8|E>>>24,o[w]=E;var E=g*16843009^O*65537^_*257^w*16843008;x[B]=E<<24|E>>>8,h[B]=E<<16|E>>>16,d[B]=E<<8|E>>>24,m[B]=E,w?(w=_^u[u[u[g^_]]],A^=u[u[A]]):w=A=1}})();var S=[0,1,2,4,8,16,32,64,128,27,54],c=l.AES=s.extend({_doReset:function(){var u;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var p=this._keyPriorReset=this._key,w=p.words,A=p.sigBytes/4,B=this._nRounds=A+6,_=(B+1)*4,O=this._keySchedule=[],g=0;g<_;g++)g<A?O[g]=w[g]:(u=O[g-1],g%A?A>6&&g%A==4&&(u=f[u>>>24]<<24|f[u>>>16&255]<<16|f[u>>>8&255]<<8|f[u&255]):(u=u<<8|u>>>24,u=f[u>>>24]<<24|f[u>>>16&255]<<16|f[u>>>8&255]<<8|f[u&255],u^=S[g/A|0]<<24),O[g]=O[g-A]^u);for(var E=this._invKeySchedule=[],R=0;R<_;R++){var g=_-R;if(R%4)var u=O[g];else var u=O[g-4];R<4||g<=4?E[R]=u:E[R]=x[f[u>>>24]]^h[f[u>>>16&255]]^d[f[u>>>8&255]]^m[f[u&255]]}}},encryptBlock:function(u,p){this._doCryptBlock(u,p,this._keySchedule,i,a,y,o,f)},decryptBlock:function(u,p){var w=u[p+1];u[p+1]=u[p+3],u[p+3]=w,this._doCryptBlock(u,p,this._invKeySchedule,x,h,d,m,v);var w=u[p+1];u[p+1]=u[p+3],u[p+3]=w},_doCryptBlock:function(u,p,w,A,B,_,O,g){for(var E=this._nRounds,R=u[p]^w[0],V=u[p+1]^w[1],P=u[p+2]^w[2],M=u[p+3]^w[3],j=4,W=1;W<E;W++){var F=A[R>>>24]^B[V>>>16&255]^_[P>>>8&255]^O[M&255]^w[j++],U=A[V>>>24]^B[P>>>16&255]^_[M>>>8&255]^O[R&255]^w[j++],I=A[P>>>24]^B[M>>>16&255]^_[R>>>8&255]^O[V&255]^w[j++],C=A[M>>>24]^B[R>>>16&255]^_[V>>>8&255]^O[P&255]^w[j++];R=F,V=U,P=I,M=C}var F=(g[R>>>24]<<24|g[V>>>16&255]<<16|g[P>>>8&255]<<8|g[M&255])^w[j++],U=(g[V>>>24]<<24|g[P>>>16&255]<<16|g[M>>>8&255]<<8|g[R&255])^w[j++],I=(g[P>>>24]<<24|g[M>>>16&255]<<16|g[R>>>8&255]<<8|g[V&255])^w[j++],C=(g[M>>>24]<<24|g[R>>>16&255]<<16|g[V>>>8&255]<<8|g[P&255])^w[j++];u[p]=F,u[p+1]=U,u[p+2]=I,u[p+3]=C},keySize:256/32});t.AES=s._createHelper(c)}(),e.AES})}(Lr)),Lr.exports}var Xr={exports:{}},it;function ri(){return it||(it=1,function(b,r){(function(e,t,n){b.exports=t(D(),X0(),G0(),$0(),Q())})(T,function(e){return function(){var t=e,n=t.lib,s=n.WordArray,l=n.BlockCipher,f=t.algo,v=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],i=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],a=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],y=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],o=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=f.DES=l.extend({_doReset:function(){for(var S=this._key,c=S.words,u=[],p=0;p<56;p++){var w=v[p]-1;u[p]=c[w>>>5]>>>31-w%32&1}for(var A=this._subKeys=[],B=0;B<16;B++){for(var _=A[B]=[],O=a[B],p=0;p<24;p++)_[p/6|0]|=u[(i[p]-1+O)%28]<<31-p%6,_[4+(p/6|0)]|=u[28+(i[p+24]-1+O)%28]<<31-p%6;_[0]=_[0]<<1|_[0]>>>31;for(var p=1;p<7;p++)_[p]=_[p]>>>(p-1)*4+3;_[7]=_[7]<<5|_[7]>>>27}for(var g=this._invSubKeys=[],p=0;p<16;p++)g[p]=A[15-p]},encryptBlock:function(S,c){this._doCryptBlock(S,c,this._subKeys)},decryptBlock:function(S,c){this._doCryptBlock(S,c,this._invSubKeys)},_doCryptBlock:function(S,c,u){this._lBlock=S[c],this._rBlock=S[c+1],h.call(this,4,252645135),h.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),h.call(this,1,1431655765);for(var p=0;p<16;p++){for(var w=u[p],A=this._lBlock,B=this._rBlock,_=0,O=0;O<8;O++)_|=y[O][((B^w[O])&o[O])>>>0];this._lBlock=B,this._rBlock=A^_}var g=this._lBlock;this._lBlock=this._rBlock,this._rBlock=g,h.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),S[c]=this._lBlock,S[c+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function h(S,c){var u=(this._lBlock>>>S^this._rBlock)&c;this._rBlock^=u,this._lBlock^=u<<S}function d(S,c){var u=(this._rBlock>>>S^this._lBlock)&c;this._lBlock^=u,this._rBlock^=u<<S}t.DES=l._createHelper(x);var m=f.TripleDES=l.extend({_doReset:function(){var S=this._key,c=S.words;if(c.length!==2&&c.length!==4&&c.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var u=c.slice(0,2),p=c.length<4?c.slice(0,2):c.slice(2,4),w=c.length<6?c.slice(0,2):c.slice(4,6);this._des1=x.createEncryptor(s.create(u)),this._des2=x.createEncryptor(s.create(p)),this._des3=x.createEncryptor(s.create(w))},encryptBlock:function(S,c){this._des1.encryptBlock(S,c),this._des2.decryptBlock(S,c),this._des3.encryptBlock(S,c)},decryptBlock:function(S,c){this._des3.decryptBlock(S,c),this._des2.encryptBlock(S,c),this._des1.decryptBlock(S,c)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=l._createHelper(m)}(),e.TripleDES})}(Xr)),Xr.exports}var Gr={exports:{}},st;function ei(){return st||(st=1,function(b,r){(function(e,t,n){b.exports=t(D(),X0(),G0(),$0(),Q())})(T,function(e){return function(){var t=e,n=t.lib,s=n.StreamCipher,l=t.algo,f=l.RC4=s.extend({_doReset:function(){for(var a=this._key,y=a.words,o=a.sigBytes,x=this._S=[],h=0;h<256;h++)x[h]=h;for(var h=0,d=0;h<256;h++){var m=h%o,S=y[m>>>2]>>>24-m%4*8&255;d=(d+x[h]+S)%256;var c=x[h];x[h]=x[d],x[d]=c}this._i=this._j=0},_doProcessBlock:function(a,y){a[y]^=v.call(this)},keySize:256/32,ivSize:0});function v(){for(var a=this._S,y=this._i,o=this._j,x=0,h=0;h<4;h++){y=(y+1)%256,o=(o+a[y])%256;var d=a[y];a[y]=a[o],a[o]=d,x|=a[(a[y]+a[o])%256]<<24-h*8}return this._i=y,this._j=o,x}t.RC4=s._createHelper(f);var i=l.RC4Drop=f.extend({cfg:f.cfg.extend({drop:192}),_doReset:function(){f._doReset.call(this);for(var a=this.cfg.drop;a>0;a--)v.call(this)}});t.RC4Drop=s._createHelper(i)}(),e.RC4})}(Gr)),Gr.exports}var Zr={exports:{}},at;function ti(){return at||(at=1,function(b,r){(function(e,t,n){b.exports=t(D(),X0(),G0(),$0(),Q())})(T,function(e){return function(){var t=e,n=t.lib,s=n.StreamCipher,l=t.algo,f=[],v=[],i=[],a=l.Rabbit=s.extend({_doReset:function(){for(var o=this._key.words,x=this.cfg.iv,h=0;h<4;h++)o[h]=(o[h]<<8|o[h]>>>24)&16711935|(o[h]<<24|o[h]>>>8)&4278255360;var d=this._X=[o[0],o[3]<<16|o[2]>>>16,o[1],o[0]<<16|o[3]>>>16,o[2],o[1]<<16|o[0]>>>16,o[3],o[2]<<16|o[1]>>>16],m=this._C=[o[2]<<16|o[2]>>>16,o[0]&4294901760|o[1]&65535,o[3]<<16|o[3]>>>16,o[1]&4294901760|o[2]&65535,o[0]<<16|o[0]>>>16,o[2]&4294901760|o[3]&65535,o[1]<<16|o[1]>>>16,o[3]&4294901760|o[0]&65535];this._b=0;for(var h=0;h<4;h++)y.call(this);for(var h=0;h<8;h++)m[h]^=d[h+4&7];if(x){var S=x.words,c=S[0],u=S[1],p=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,w=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360,A=p>>>16|w&4294901760,B=w<<16|p&65535;m[0]^=p,m[1]^=A,m[2]^=w,m[3]^=B,m[4]^=p,m[5]^=A,m[6]^=w,m[7]^=B;for(var h=0;h<4;h++)y.call(this)}},_doProcessBlock:function(o,x){var h=this._X;y.call(this),f[0]=h[0]^h[5]>>>16^h[3]<<16,f[1]=h[2]^h[7]>>>16^h[5]<<16,f[2]=h[4]^h[1]>>>16^h[7]<<16,f[3]=h[6]^h[3]>>>16^h[1]<<16;for(var d=0;d<4;d++)f[d]=(f[d]<<8|f[d]>>>24)&16711935|(f[d]<<24|f[d]>>>8)&4278255360,o[x+d]^=f[d]},blockSize:128/32,ivSize:64/32});function y(){for(var o=this._X,x=this._C,h=0;h<8;h++)v[h]=x[h];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<v[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<v[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<v[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<v[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<v[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<v[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<v[6]>>>0?1:0)|0,this._b=x[7]>>>0<v[7]>>>0?1:0;for(var h=0;h<8;h++){var d=o[h]+x[h],m=d&65535,S=d>>>16,c=((m*m>>>17)+m*S>>>15)+S*S,u=((d&4294901760)*d|0)+((d&65535)*d|0);i[h]=c^u}o[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,o[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,o[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,o[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,o[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,o[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,o[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,o[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}t.Rabbit=s._createHelper(a)}(),e.Rabbit})}(Zr)),Zr.exports}var Qr={exports:{}},ot;function ni(){return ot||(ot=1,function(b,r){(function(e,t,n){b.exports=t(D(),X0(),G0(),$0(),Q())})(T,function(e){return function(){var t=e,n=t.lib,s=n.StreamCipher,l=t.algo,f=[],v=[],i=[],a=l.RabbitLegacy=s.extend({_doReset:function(){var o=this._key.words,x=this.cfg.iv,h=this._X=[o[0],o[3]<<16|o[2]>>>16,o[1],o[0]<<16|o[3]>>>16,o[2],o[1]<<16|o[0]>>>16,o[3],o[2]<<16|o[1]>>>16],d=this._C=[o[2]<<16|o[2]>>>16,o[0]&4294901760|o[1]&65535,o[3]<<16|o[3]>>>16,o[1]&4294901760|o[2]&65535,o[0]<<16|o[0]>>>16,o[2]&4294901760|o[3]&65535,o[1]<<16|o[1]>>>16,o[3]&4294901760|o[0]&65535];this._b=0;for(var m=0;m<4;m++)y.call(this);for(var m=0;m<8;m++)d[m]^=h[m+4&7];if(x){var S=x.words,c=S[0],u=S[1],p=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,w=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360,A=p>>>16|w&4294901760,B=w<<16|p&65535;d[0]^=p,d[1]^=A,d[2]^=w,d[3]^=B,d[4]^=p,d[5]^=A,d[6]^=w,d[7]^=B;for(var m=0;m<4;m++)y.call(this)}},_doProcessBlock:function(o,x){var h=this._X;y.call(this),f[0]=h[0]^h[5]>>>16^h[3]<<16,f[1]=h[2]^h[7]>>>16^h[5]<<16,f[2]=h[4]^h[1]>>>16^h[7]<<16,f[3]=h[6]^h[3]>>>16^h[1]<<16;for(var d=0;d<4;d++)f[d]=(f[d]<<8|f[d]>>>24)&16711935|(f[d]<<24|f[d]>>>8)&4278255360,o[x+d]^=f[d]},blockSize:128/32,ivSize:64/32});function y(){for(var o=this._X,x=this._C,h=0;h<8;h++)v[h]=x[h];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<v[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<v[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<v[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<v[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<v[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<v[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<v[6]>>>0?1:0)|0,this._b=x[7]>>>0<v[7]>>>0?1:0;for(var h=0;h<8;h++){var d=o[h]+x[h],m=d&65535,S=d>>>16,c=((m*m>>>17)+m*S>>>15)+S*S,u=((d&4294901760)*d|0)+((d&65535)*d|0);i[h]=c^u}o[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,o[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,o[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,o[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,o[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,o[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,o[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,o[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}t.RabbitLegacy=s._createHelper(a)}(),e.RabbitLegacy})}(Qr)),Qr.exports}(function(b,r){(function(e,t,n){b.exports=t(D(),ur(),Pn(),Mn(),X0(),Kn(),G0(),ee(),yt(),jn(),bt(),Tn(),Dn(),qn(),te(),Fn(),$0(),Q(),In(),$n(),Un(),Nn(),Wn(),Ln(),Xn(),Gn(),Zn(),Qn(),Yn(),Jn(),ri(),ei(),ti(),ni())})(T,function(e){return e})})(gt);const ct=gt.exports;function fr(b,r,e,t){function n(s){return s instanceof e?s:new e(function(l){l(s)})}return new(e||(e=Promise))(function(s,l){function f(a){try{i(t.next(a))}catch(y){l(y)}}function v(a){try{i(t.throw(a))}catch(y){l(y)}}function i(a){a.done?s(a.value):n(a.value).then(f,v)}i((t=t.apply(b,r||[])).next())})}class ht{constructor(){this.httpBackend=new ft}getMetadata(r,{protocol:e,location:t},n){return fr(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:`${e}:${decodeURIComponent(t)}`,method:"GET",headers:{"Content-Type":"text/plain; charset=utf-8"},json:!1})})}}class ii extends Error{constructor(){super("Non-compliance with the TZIP-016 standard. No big map named metadata was found in the contract storage."),this.name="BigMapMetadataNotFound"}}class si extends Error{constructor(r){super(`No metadata was found in the contract storage. ${r}`),this.info=r,this.name="MetadataNotFound"}}class Et extends Error{constructor(r){super(`Non-compliance with the TZIP-016 standard. The URI is invalid: ${r}.`),this.uri=r,this.name="InvalidUri"}}class ai extends Error{constructor(r){super(`The metadata found at the pointed ressource are not compliant with tzip16 standard: ${r}.`),this.invalidMetadata=r,this.name="InvalidMetadata"}}class oi extends Error{constructor(r){super(`The protocol found in the URI is not supported: ${r}.`),this.protocol=r,this.name="ProtocolNotSupported"}}class ci extends Error{constructor(){super("The contract does not comply with the tzip16 standard. The type of metadata should be bytes."),this.name="InvalidMetadataType"}}const xt={prim:"big_map",args:[{prim:"string"},{prim:"bytes"}],annots:["%metadata"]};class hi{constructor(){this.TEZOS_STORAGE_REGEX=/^(?:\/\/(KT1\w{33})(?:\.(.+))?\/)?([\w|%]+)$/}getMetadata(r,{location:e},t){return fr(this,void 0,void 0,function*(){const n=this.parseTezosStorageUri(e);if(!n)throw new Et(`tezos-storage:${e}`);const s=yield t.readProvider.getScript(n.contractAddress||r.address,"head"),l=L0.fromRPCResponse({script:s}).FindFirstInTopLevelPair(s.storage,xt);if(!l||!l.int)throw new ii;const f=yield t.contract.getBigMapKeyByID(l.int.toString(),n.path,new L0(xt));if(!f)throw new si(`No '${n.path}' key found in the big map %metadata of the contract ${n.contractAddress||r.address}`);if(!/^[0-9a-fA-F]*$/.test(f))throw new ci;return Jt(f)})}parseTezosStorageUri(r){const e=this.TEZOS_STORAGE_REGEX.exec(r);if(e)return{contractAddress:e[1],network:e[2],path:decodeURIComponent(e[3])}}}class xi{constructor(r){this.httpBackend=new ft,this._ipfsGateway=r||"ipfs.io"}getMetadata(r,{location:e},t){return fr(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:`https://${this._ipfsGateway}/ipfs/${e.substring(2)}/`,method:"GET",headers:{"Content-Type":"text/plain; charset=utf-8"},json:!1})})}}var ut;(function(b){b.MICHELSON_STORAGE="michelsonStorageView",b.REST_API_QUERY="restApiQuery"})(ut||(ut={}));function ui(b){return ct.SHA256(b).toString(ct.enc.Hex)}class St{constructor(r){this.handlers=r,this.PROTOCOL_REGEX=/(?:sha256:\/\/0x(.*)\/)?(https?|ipfs|tezos-storage):(.*)/}provideMetadata(r,e,t){return fr(this,void 0,void 0,function*(){const n=this.extractProtocolInfo(e);if(!n||!n.location)throw new Et(e);const s=this.handlers.get(n.protocol);if(!s)throw new oi(n.protocol);const l=yield s.getMetadata(r,n,t),f=ui(l);let v;try{v=JSON.parse(l)}catch{throw new ai(l)}return{uri:e,metadata:v,integrityCheckResult:n.sha256hash?n.sha256hash===f:void 0,sha256Hash:n.sha256hash?f:void 0}})}extractProtocolInfo(r){const e=this.PROTOCOL_REGEX.exec(r);if(e)return{sha256hash:e[1],protocol:e[2],location:e[3]}}}const wt=new Map([["http",new ht],["https",new ht],["tezos-storage",new hi],["ipfs",new xi]]);class fi{constructor(r){this._metadataProvider=r||new St(wt)}configureContext(r){Object.assign(r,{metadataProvider:this._metadataProvider})}}class di{constructor(r){this._metadataProvider=r||new St(wt)}configureContext(r){Object.assign(r,{metadataProvider:this._metadataProvider})}}const pi="https://rpc.tzbeta.net/",bi=async b=>{const r=new Tt(b??pi);return r.addExtension(new di),r.addExtension(new fi),r.setPackerProvider(new Dt),r.getFactory(qt)(),{tezos:r,forger:Ft}};export{bi as create_toolkit};
